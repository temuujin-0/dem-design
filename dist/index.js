var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __require = /* @__PURE__ */ ((x2) => typeof require !== "undefined" ? require : typeof Proxy !== "undefined" ? new Proxy(x2, {
  get: (a3, b2) => (typeof require !== "undefined" ? require : a3)[b2]
}) : x2)(function(x2) {
  if (typeof require !== "undefined") return require.apply(this, arguments);
  throw Error('Dynamic require of "' + x2 + '" is not supported');
});
var __commonJS = (cb, mod) => function __require2() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));

// src/modules/DatePicker/mn/_lib/formatDistance/index.js
var require_formatDistance = __commonJS({
  "src/modules/DatePicker/mn/_lib/formatDistance/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = formatDistance5;
    var formatDistanceLocale3 = {
      lessThanXSeconds: {
        one: "\u0441\u0435\u043A\u0443\u043D\u0434\u044D\u044D\u0441 \u0431\u0430\u0433\u0430",
        other: "{{count}} \u0441\u0435\u043A\u0443\u043D\u0434\u044D\u044D\u0441 \u0431\u0430\u0433\u0430"
      },
      xSeconds: {
        one: "1 \u0441\u0435\u043A\u0443\u043D\u0434",
        other: "{{count}} \u0441\u0435\u043A\u0443\u043D\u0434"
      },
      halfAMinute: "\u0445\u0430\u0433\u0430\u0441 \u043C\u0438\u043D\u0443\u0442",
      lessThanXMinutes: {
        one: "\u043C\u0438\u043D\u0443\u0442\u0430\u0430\u0441 \u0431\u0430\u0433\u0430",
        other: "{{count}} \u043C\u0438\u043D\u0443\u0442\u0430\u0430\u0441 \u0431\u0430\u0433\u0430"
      },
      xMinutes: {
        one: "1 \u043C\u0438\u043D\u0443\u0442",
        other: "{{count}} \u043C\u0438\u043D\u0443\u0442"
      },
      aboutXHours: {
        one: "1 \u0446\u0430\u0433 \u043E\u0440\u0447\u0438\u043C",
        other: "{{count}} \u0446\u0430\u0433 \u043E\u0440\u0447\u0438\u043C"
      },
      xHours: {
        one: "1 \u0446\u0430\u0433",
        other: "{{count}} \u0446\u0430\u0433"
      },
      xDays: {
        one: "1 \u04E9\u0434\u04E9\u0440",
        other: "{{count}} \u04E9\u0434\u04E9\u0440"
      },
      aboutXMonths: {
        one: "1 \u0441\u0430\u0440 \u043E\u0440\u0447\u0438\u043C",
        other: "{{count}} \u0441\u0430\u0440 \u043E\u0440\u0447\u0438\u043C"
      },
      xMonths: {
        one: "1 \u0441\u0430\u0440",
        other: "{{count}} \u0441\u0430\u0440"
      },
      aboutXYears: {
        one: "1 \u0436\u0438\u043B \u043E\u0440\u0447\u0438\u043C",
        other: "{{count}} \u0436\u0438\u043B \u043E\u0440\u0447\u0438\u043C"
      },
      xYears: {
        one: "1 \u0436\u0438\u043B",
        other: "{{count}} \u0436\u0438\u043B"
      },
      overXYears: {
        one: "1 \u0436\u0438\u043B \u0433\u0430\u0440\u0443\u0439",
        other: "{{count}} \u0436\u0438\u043B \u0433\u0430\u0440\u0443\u0439"
      },
      almostXYears: {
        one: "1 \u0436\u0438\u043B \u043E\u0440\u0447\u0438\u043C",
        other: "{{count}} \u0436\u0438\u043B \u043E\u0440\u0447\u0438\u043C"
      }
    };
    function formatDistance5(token, count, options) {
      options = options || {};
      var result;
      if (typeof formatDistanceLocale3[token] === "string") {
        result = formatDistanceLocale3[token];
      } else if (count === 1) {
        result = formatDistanceLocale3[token].one;
      } else {
        result = formatDistanceLocale3[token].other.replace("{{count}}", count);
      }
      if (options.addSuffix) {
        if (options.comparison > 0) {
          return result + "-\u0434";
        } else {
          return result + " \u04E9\u043C\u043D\u04E9";
        }
      }
      return result;
    }
    module2.exports = exports2.default;
  }
});

// node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js
var require_buildFormatLongFn = __commonJS({
  "node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = buildFormatLongFn2;
    function buildFormatLongFn2(args) {
      return function() {
        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
        var width = options.width ? String(options.width) : args.defaultWidth;
        var format2 = args.formats[width] || args.formats[args.defaultWidth];
        return format2;
      };
    }
    module2.exports = exports2.default;
  }
});

// src/modules/DatePicker/mn/_lib/formatLong/index.js
var require_formatLong = __commonJS({
  "src/modules/DatePicker/mn/_lib/formatLong/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _index = _interopRequireDefault(require_buildFormatLongFn());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var dateFormats3 = {
      full: "EEEE, MMMM do, y",
      long: "MMMM do, y",
      medium: "MMM d, y",
      short: "MM/dd/yyyy"
    };
    var timeFormats3 = {
      full: "h:mm:ss a zzzz",
      long: "h:mm:ss a z",
      medium: "h:mm:ss a",
      short: "h:mm a"
    };
    var dateTimeFormats3 = {
      full: "{{date}} 'at' {{time}}",
      long: "{{date}} 'at' {{time}}",
      medium: "{{date}}, {{time}}",
      short: "{{date}}, {{time}}"
    };
    var formatLong3 = {
      date: (0, _index.default)({
        formats: dateFormats3,
        defaultWidth: "full"
      }),
      time: (0, _index.default)({
        formats: timeFormats3,
        defaultWidth: "full"
      }),
      dateTime: (0, _index.default)({
        formats: dateTimeFormats3,
        defaultWidth: "full"
      })
    };
    var _default = formatLong3;
    exports2.default = _default;
    module2.exports = exports2.default;
  }
});

// src/modules/DatePicker/mn/_lib/formatRelative/index.js
var require_formatRelative = __commonJS({
  "src/modules/DatePicker/mn/_lib/formatRelative/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = formatRelative5;
    var formatRelativeLocale3 = {
      lastWeek: "'last' eeee 'at' p",
      yesterday: "'yesterday at' p",
      today: "'today at' p",
      tomorrow: "'tomorrow at' p",
      nextWeek: "eeee 'at' p",
      other: "P"
    };
    function formatRelative5(token, _date, _baseDate, _options) {
      return formatRelativeLocale3[token];
    }
    module2.exports = exports2.default;
  }
});

// node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js
var require_buildLocalizeFn = __commonJS({
  "node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = buildLocalizeFn2;
    function buildLocalizeFn2(args) {
      return function(dirtyIndex, options) {
        var context = options !== null && options !== void 0 && options.context ? String(options.context) : "standalone";
        var valuesArray;
        if (context === "formatting" && args.formattingValues) {
          var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
          var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;
          valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
        } else {
          var _defaultWidth = args.defaultWidth;
          var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;
          valuesArray = args.values[_width] || args.values[_defaultWidth];
        }
        var index2 = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;
        return valuesArray[index2];
      };
    }
    module2.exports = exports2.default;
  }
});

// src/modules/DatePicker/mn/_lib/localize/index.js
var require_localize = __commonJS({
  "src/modules/DatePicker/mn/_lib/localize/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _index = _interopRequireDefault(require_buildLocalizeFn());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var eraValues3 = {
      narrow: ["\u041C\u042D\u04E8", "\u041C\u042D"],
      abbreviated: ["\u041C\u042D\u04E8", "\u041C\u042D"],
      wide: ["\u041C\u0430\u043D\u0430\u0439 \u042D\u0440\u0438\u043D\u0438\u0439 \u04E8\u043C\u043D\u04E9\u0445", "\u041C\u0430\u043D\u0430\u0439 \u042D\u0440\u0438\u043D\u0438\u0439"]
    };
    var quarterValues3 = {
      narrow: ["1", "2", "3", "4"],
      abbreviated: ["Q1", "Q2", "Q3", "Q4"],
      wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
      // Note: in English, the names of days of the week and months are capitalized.
      // If you are making a new locale based on this one, check if the same is true for the language you're working on.
      // Generally, formatted dates should look like they are in the middle of a sentence,
      // e.g. in Spanish language the weekdays and months should be in the lowercase.
    };
    var monthValues3 = {
      narrow: ["1", "2", "3", "4", "5", "6", "7", "8", "9", "10", "11", "12"],
      abbreviated: ["1-\u0440 \u0441\u0430\u0440", "2-\u0440 \u0441\u0430\u0440", "3-\u0440 \u0441\u0430\u0440", "4-\u0440 \u0441\u0430\u0440", "5-\u0440 \u0441\u0430\u0440", "6-\u0440 \u0441\u0430\u0440", "7-\u0440 \u0441\u0430\u0440", "8-\u0440 \u0441\u0430\u0440", "9-\u0440 \u0441\u0430\u0440", "10-\u0440 \u0441\u0430\u0440", "11-\u0440 \u0441\u0430\u0440", "12-\u0440 \u0441\u0430\u0440"],
      wide: ["\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0417\u0443\u0440\u0433\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0414\u043E\u043B\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0432\u0430\u043D\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0432\u0430\u043D\u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440"]
    };
    var dayValues3 = {
      narrow: ["\u041D", "\u0414", "\u041C", "\u041B", "\u041F", "\u0411\u0430", "\u0411\u044F"],
      short: ["\u041D\u044F", "\u0414\u0430", "\u041C\u044F", "\u041B\u0445", "\u041F\u04AF", "\u0411\u0430", "\u0411\u044F"],
      abbreviated: ["\u041D\u044F\u043C", "\u0414\u0430\u0432", "\u041C\u044F\u0433", "\u041B\u0445\u0430", "\u041F\u04AF\u0440", "\u0411\u0430\u0430", "\u0411\u044F\u043C"],
      wide: ["\u041D\u044F\u043C", "\u0414\u0430\u0432\u0430\u0430", "\u041C\u044F\u0433\u043C\u0430\u0440", "\u041B\u0445\u0430\u0433\u0432\u0430", "\u041F\u04AF\u0440\u044D\u0432", "\u0411\u0430\u0430\u0441\u0430\u043D", "\u0411\u044F\u043C\u0431\u0430"]
    };
    var dayPeriodValues3 = {
      narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
      },
      abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
      },
      wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "morning",
        afternoon: "afternoon",
        evening: "evening",
        night: "night"
      }
    };
    var formattingDayPeriodValues2 = {
      narrow: {
        am: "a",
        pm: "p",
        midnight: "mi",
        noon: "n",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
      },
      abbreviated: {
        am: "AM",
        pm: "PM",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
      },
      wide: {
        am: "a.m.",
        pm: "p.m.",
        midnight: "midnight",
        noon: "noon",
        morning: "in the morning",
        afternoon: "in the afternoon",
        evening: "in the evening",
        night: "at night"
      }
    };
    function ordinalNumber5(dirtyNumber, _dirtyOptions) {
      var number = Number(dirtyNumber);
      var rem100 = number % 100;
      if (rem100 > 20 || rem100 < 10) {
        switch (rem100 % 10) {
          case 1:
            return number + "st";
          case 2:
            return number + "nd";
          case 3:
            return number + "rd";
        }
      }
      return number + "th";
    }
    var localize3 = {
      ordinalNumber: ordinalNumber5,
      era: (0, _index.default)({
        values: eraValues3,
        defaultWidth: "wide"
      }),
      quarter: (0, _index.default)({
        values: quarterValues3,
        defaultWidth: "wide",
        argumentCallback: function(quarter) {
          return Number(quarter) - 1;
        }
      }),
      month: (0, _index.default)({
        values: monthValues3,
        defaultWidth: "wide"
      }),
      day: (0, _index.default)({
        values: dayValues3,
        defaultWidth: "wide"
      }),
      dayPeriod: (0, _index.default)({
        values: dayPeriodValues3,
        defaultWidth: "wide",
        formattingValues: formattingDayPeriodValues2,
        defaultFormattingWidth: "wide"
      })
    };
    var _default = localize3;
    exports2.default = _default;
    module2.exports = exports2.default;
  }
});

// node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js
var require_buildMatchPatternFn = __commonJS({
  "node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = buildMatchPatternFn2;
    function buildMatchPatternFn2(args) {
      return function(string) {
        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        var matchResult = string.match(args.matchPattern);
        if (!matchResult) return null;
        var matchedString = matchResult[0];
        var parseResult = string.match(args.parsePattern);
        if (!parseResult) return null;
        var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
        value = options.valueCallback ? options.valueCallback(value) : value;
        var rest = string.slice(matchedString.length);
        return {
          value,
          rest
        };
      };
    }
    module2.exports = exports2.default;
  }
});

// node_modules/date-fns/locale/_lib/buildMatchFn/index.js
var require_buildMatchFn = __commonJS({
  "node_modules/date-fns/locale/_lib/buildMatchFn/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = buildMatchFn2;
    function buildMatchFn2(args) {
      return function(string) {
        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
        var width = options.width;
        var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
        var matchResult = string.match(matchPattern);
        if (!matchResult) {
          return null;
        }
        var matchedString = matchResult[0];
        var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
        var key = Array.isArray(parsePatterns) ? findIndex2(parsePatterns, function(pattern) {
          return pattern.test(matchedString);
        }) : findKey2(parsePatterns, function(pattern) {
          return pattern.test(matchedString);
        });
        var value;
        value = args.valueCallback ? args.valueCallback(key) : key;
        value = options.valueCallback ? options.valueCallback(value) : value;
        var rest = string.slice(matchedString.length);
        return {
          value,
          rest
        };
      };
    }
    function findKey2(object, predicate) {
      for (var key in object) {
        if (object.hasOwnProperty(key) && predicate(object[key])) {
          return key;
        }
      }
      return void 0;
    }
    function findIndex2(array, predicate) {
      for (var key = 0; key < array.length; key++) {
        if (predicate(array[key])) {
          return key;
        }
      }
      return void 0;
    }
    module2.exports = exports2.default;
  }
});

// src/modules/DatePicker/mn/_lib/match/index.js
var require_match = __commonJS({
  "src/modules/DatePicker/mn/_lib/match/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _index = _interopRequireDefault(require_buildMatchPatternFn());
    var _index2 = _interopRequireDefault(require_buildMatchFn());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var matchOrdinalNumberPattern3 = /^(\d+)(th|st|nd|rd)?/i;
    var parseOrdinalNumberPattern3 = /\d+/i;
    var matchEraPatterns3 = {
      narrow: /^(b|a)/i,
      abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
      wide: /^(before christ|before common era|anno domini|common era)/i
    };
    var parseEraPatterns3 = {
      any: [/^b/i, /^(a|c)/i]
    };
    var matchQuarterPatterns3 = {
      narrow: /^[1234]/i,
      abbreviated: /^q[1234]/i,
      wide: /^[1234](th|st|nd|rd)? quarter/i
    };
    var parseQuarterPatterns3 = {
      any: [/1/i, /2/i, /3/i, /4/i]
    };
    var matchMonthPatterns3 = {
      narrow: /^[jfmasond]/i,
      abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
      wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
    };
    var parseMonthPatterns3 = {
      narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
      any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
    };
    var matchDayPatterns3 = {
      narrow: /^[smtwf]/i,
      short: /^(su|mo|tu|we|th|fr|sa)/i,
      abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
      wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
    };
    var parseDayPatterns3 = {
      narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
      any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
    };
    var matchDayPeriodPatterns3 = {
      narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
      any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
    };
    var parseDayPeriodPatterns3 = {
      any: {
        am: /^a/i,
        pm: /^p/i,
        midnight: /^mi/i,
        noon: /^no/i,
        morning: /morning/i,
        afternoon: /afternoon/i,
        evening: /evening/i,
        night: /night/i
      }
    };
    var match4 = {
      ordinalNumber: (0, _index.default)({
        matchPattern: matchOrdinalNumberPattern3,
        parsePattern: parseOrdinalNumberPattern3,
        valueCallback: function(value) {
          return parseInt(value, 10);
        }
      }),
      era: (0, _index2.default)({
        matchPatterns: matchEraPatterns3,
        defaultMatchWidth: "wide",
        parsePatterns: parseEraPatterns3,
        defaultParseWidth: "any"
      }),
      quarter: (0, _index2.default)({
        matchPatterns: matchQuarterPatterns3,
        defaultMatchWidth: "wide",
        parsePatterns: parseQuarterPatterns3,
        defaultParseWidth: "any",
        valueCallback: function(index2) {
          return index2 + 1;
        }
      }),
      month: (0, _index2.default)({
        matchPatterns: matchMonthPatterns3,
        defaultMatchWidth: "wide",
        parsePatterns: parseMonthPatterns3,
        defaultParseWidth: "any"
      }),
      day: (0, _index2.default)({
        matchPatterns: matchDayPatterns3,
        defaultMatchWidth: "wide",
        parsePatterns: parseDayPatterns3,
        defaultParseWidth: "any"
      }),
      dayPeriod: (0, _index2.default)({
        matchPatterns: matchDayPeriodPatterns3,
        defaultMatchWidth: "any",
        parsePatterns: parseDayPeriodPatterns3,
        defaultParseWidth: "any"
      })
    };
    var _default = match4;
    exports2.default = _default;
    module2.exports = exports2.default;
  }
});

// src/modules/DatePicker/mn/index.js
var require_mn = __commonJS({
  "src/modules/DatePicker/mn/index.js"(exports2, module2) {
    "use strict";
    Object.defineProperty(exports2, "__esModule", {
      value: true
    });
    exports2.default = void 0;
    var _index = _interopRequireDefault(require_formatDistance());
    var _index2 = _interopRequireDefault(require_formatLong());
    var _index3 = _interopRequireDefault(require_formatRelative());
    var _index4 = _interopRequireDefault(require_localize());
    var _index5 = _interopRequireDefault(require_match());
    function _interopRequireDefault(obj) {
      return obj && obj.__esModule ? obj : { default: obj };
    }
    var locale3 = {
      code: "mn",
      formatDistance: _index.default,
      formatLong: _index2.default,
      formatRelative: _index3.default,
      localize: _index4.default,
      match: _index5.default,
      options: {
        weekStartsOn: 0,
        firstWeekContainsDate: 1
      }
    };
    var _default = locale3;
    exports2.default = _default;
    module2.exports = exports2.default;
  }
});

// node_modules/@ckeditor/ckeditor5-react/dist/ckeditor.js
var require_ckeditor = __commonJS({
  "node_modules/@ckeditor/ckeditor5-react/dist/ckeditor.js"(exports2, module2) {
    !function(t2, e2) {
      "object" == typeof exports2 && "object" == typeof module2 ? module2.exports = e2(__require("react")) : "function" == typeof define && define.amd ? define(["react"], e2) : "object" == typeof exports2 ? exports2.CKEditor = e2(__require("react")) : t2.CKEditor = e2(t2.React);
    }(self, (t2) => (() => {
      var e2 = { 703: (t3, e3, r2) => {
        "use strict";
        var o2 = r2(414);
        function n2() {
        }
        function i2() {
        }
        i2.resetWarningCache = n2, t3.exports = function() {
          function t4(t5, e5, r4, n3, i3, s3) {
            if (s3 !== o2) {
              var a3 = new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");
              throw a3.name = "Invariant Violation", a3;
            }
          }
          function e4() {
            return t4;
          }
          t4.isRequired = t4;
          var r3 = { array: t4, bigint: t4, bool: t4, func: t4, number: t4, object: t4, string: t4, symbol: t4, any: t4, arrayOf: e4, element: t4, elementType: t4, instanceOf: e4, node: t4, objectOf: e4, oneOf: e4, oneOfType: e4, shape: e4, exact: e4, checkPropTypes: i2, resetWarningCache: n2 };
          return r3.PropTypes = r3, r3;
        };
      }, 697: (t3, e3, r2) => {
        t3.exports = r2(703)();
      }, 414: (t3) => {
        "use strict";
        t3.exports = "SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";
      }, 787: (e3) => {
        "use strict";
        e3.exports = t2;
      } }, r = {};
      function o(t3) {
        var n2 = r[t3];
        if (void 0 !== n2) return n2.exports;
        var i2 = r[t3] = { exports: {} };
        return e2[t3](i2, i2.exports, o), i2.exports;
      }
      o.n = (t3) => {
        var e3 = t3 && t3.__esModule ? () => t3.default : () => t3;
        return o.d(e3, { a: e3 }), e3;
      }, o.d = (t3, e3) => {
        for (var r2 in e3) o.o(e3, r2) && !o.o(t3, r2) && Object.defineProperty(t3, r2, { enumerable: true, get: e3[r2] });
      }, o.o = (t3, e3) => Object.prototype.hasOwnProperty.call(t3, e3), o.r = (t3) => {
        "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t3, "__esModule", { value: true });
      };
      var n = {};
      return (() => {
        "use strict";
        o.r(n), o.d(n, { CKEditor: () => Ho, CKEditorContext: () => Bo });
        var t3 = o(787), e3 = o.n(t3), r2 = o(697), i2 = o.n(r2);
        const s3 = function(t4) {
          var e4 = typeof t4;
          return null != t4 && ("object" == e4 || "function" == e4);
        };
        const a3 = "object" == typeof global && global && global.Object === Object && global;
        var c2 = "object" == typeof self && self && self.Object === Object && self;
        const u2 = a3 || c2 || Function("return this")();
        const h3 = function() {
          return u2.Date.now();
        };
        var d3 = /\s/;
        const l = function(t4) {
          for (var e4 = t4.length; e4-- && d3.test(t4.charAt(e4)); ) ;
          return e4;
        };
        var p = /^\s+/;
        const f = function(t4) {
          return t4 ? t4.slice(0, l(t4) + 1).replace(p, "") : t4;
        };
        const _ = u2.Symbol;
        var y3 = Object.prototype, g = y3.hasOwnProperty, b2 = y3.toString, v = _ ? _.toStringTag : void 0;
        const m3 = function(t4) {
          var e4 = g.call(t4, v), r3 = t4[v];
          try {
            t4[v] = void 0;
            var o2 = true;
          } catch (t5) {
          }
          var n2 = b2.call(t4);
          return o2 && (e4 ? t4[v] = r3 : delete t4[v]), n2;
        };
        var j = Object.prototype.toString;
        const w2 = function(t4) {
          return j.call(t4);
        };
        var x2 = "[object Null]", E2 = "[object Undefined]", O2 = _ ? _.toStringTag : void 0;
        const C = function(t4) {
          return null == t4 ? void 0 === t4 ? E2 : x2 : O2 && O2 in Object(t4) ? m3(t4) : w2(t4);
        };
        const P = function(t4) {
          return null != t4 && "object" == typeof t4;
        };
        var A = "[object Symbol]";
        const T2 = function(t4) {
          return "symbol" == typeof t4 || P(t4) && C(t4) == A;
        };
        var S3 = NaN, W = /^[-+]0x[0-9a-f]+$/i, R2 = /^0b[01]+$/i, I2 = /^0o[0-7]+$/i, D2 = parseInt;
        const z2 = function(t4) {
          if ("number" == typeof t4) return t4;
          if (T2(t4)) return S3;
          if (s3(t4)) {
            var e4 = "function" == typeof t4.valueOf ? t4.valueOf() : t4;
            t4 = s3(e4) ? e4 + "" : e4;
          }
          if ("string" != typeof t4) return 0 === t4 ? t4 : +t4;
          t4 = f(t4);
          var r3 = R2.test(t4);
          return r3 || I2.test(t4) ? D2(t4.slice(2), r3 ? 2 : 8) : W.test(t4) ? S3 : +t4;
        };
        var M3 = "Expected a function", U = Math.max, F = Math.min;
        const N = function(t4, e4, r3) {
          var o2, n2, i3, a4, c3, u3, d4 = 0, l2 = false, p2 = false, f2 = true;
          if ("function" != typeof t4) throw new TypeError(M3);
          function _2(e5) {
            var r4 = o2, i4 = n2;
            return o2 = n2 = void 0, d4 = e5, a4 = t4.apply(i4, r4);
          }
          function y4(t5) {
            var r4 = t5 - u3;
            return void 0 === u3 || r4 >= e4 || r4 < 0 || p2 && t5 - d4 >= i3;
          }
          function g2() {
            var t5 = h3();
            if (y4(t5)) return b3(t5);
            c3 = setTimeout(g2, function(t6) {
              var r4 = e4 - (t6 - u3);
              return p2 ? F(r4, i3 - (t6 - d4)) : r4;
            }(t5));
          }
          function b3(t5) {
            return c3 = void 0, f2 && o2 ? _2(t5) : (o2 = n2 = void 0, a4);
          }
          function v2() {
            var t5 = h3(), r4 = y4(t5);
            if (o2 = arguments, n2 = this, u3 = t5, r4) {
              if (void 0 === c3) return function(t6) {
                return d4 = t6, c3 = setTimeout(g2, e4), l2 ? _2(t6) : a4;
              }(u3);
              if (p2) return clearTimeout(c3), c3 = setTimeout(g2, e4), _2(u3);
            }
            return void 0 === c3 && (c3 = setTimeout(g2, e4)), a4;
          }
          return e4 = z2(e4) || 0, s3(r3) && (l2 = !!r3.leading, i3 = (p2 = "maxWait" in r3) ? U(z2(r3.maxWait) || 0, e4) : i3, f2 = "trailing" in r3 ? !!r3.trailing : f2), v2.cancel = function() {
            void 0 !== c3 && clearTimeout(c3), d4 = 0, o2 = u3 = n2 = c3 = void 0;
          }, v2.flush = function() {
            return void 0 === c3 ? a4 : b3(h3());
          }, v2;
        };
        var q2 = "Expected a function";
        const k2 = function(t4, e4, r3) {
          var o2 = true, n2 = true;
          if ("function" != typeof t4) throw new TypeError(q2);
          return s3(r3) && (o2 = "leading" in r3 ? !!r3.leading : o2, n2 = "trailing" in r3 ? !!r3.trailing : n2), N(t4, e4, { leading: o2, maxWait: e4, trailing: n2 });
        };
        const L2 = function() {
          this.__data__ = [], this.size = 0;
        };
        const B2 = function(t4, e4) {
          return t4 === e4 || t4 != t4 && e4 != e4;
        };
        const $ = function(t4, e4) {
          for (var r3 = t4.length; r3--; ) if (B2(t4[r3][0], e4)) return r3;
          return -1;
        };
        var H3 = Array.prototype.splice;
        const V = function(t4) {
          var e4 = this.__data__, r3 = $(e4, t4);
          return !(r3 < 0) && (r3 == e4.length - 1 ? e4.pop() : H3.call(e4, r3, 1), --this.size, true);
        };
        const K2 = function(t4) {
          var e4 = this.__data__, r3 = $(e4, t4);
          return r3 < 0 ? void 0 : e4[r3][1];
        };
        const Q2 = function(t4) {
          return $(this.__data__, t4) > -1;
        };
        const G2 = function(t4, e4) {
          var r3 = this.__data__, o2 = $(r3, t4);
          return o2 < 0 ? (++this.size, r3.push([t4, e4])) : r3[o2][1] = e4, this;
        };
        function Y2(t4) {
          var e4 = -1, r3 = null == t4 ? 0 : t4.length;
          for (this.clear(); ++e4 < r3; ) {
            var o2 = t4[e4];
            this.set(o2[0], o2[1]);
          }
        }
        Y2.prototype.clear = L2, Y2.prototype.delete = V, Y2.prototype.get = K2, Y2.prototype.has = Q2, Y2.prototype.set = G2;
        const J = Y2;
        const X2 = function() {
          this.__data__ = new J(), this.size = 0;
        };
        const Z = function(t4) {
          var e4 = this.__data__, r3 = e4.delete(t4);
          return this.size = e4.size, r3;
        };
        const tt = function(t4) {
          return this.__data__.get(t4);
        };
        const et = function(t4) {
          return this.__data__.has(t4);
        };
        var rt = "[object AsyncFunction]", ot = "[object Function]", nt = "[object GeneratorFunction]", it = "[object Proxy]";
        const st = function(t4) {
          if (!s3(t4)) return false;
          var e4 = C(t4);
          return e4 == ot || e4 == nt || e4 == rt || e4 == it;
        };
        const at = u2["__core-js_shared__"];
        var ct = function() {
          var t4 = /[^.]+$/.exec(at && at.keys && at.keys.IE_PROTO || "");
          return t4 ? "Symbol(src)_1." + t4 : "";
        }();
        const ut = function(t4) {
          return !!ct && ct in t4;
        };
        var ht = Function.prototype.toString;
        const dt = function(t4) {
          if (null != t4) {
            try {
              return ht.call(t4);
            } catch (t5) {
            }
            try {
              return t4 + "";
            } catch (t5) {
            }
          }
          return "";
        };
        var lt = /^\[object .+?Constructor\]$/, pt = Function.prototype, ft = Object.prototype, _t = pt.toString, yt = ft.hasOwnProperty, gt = RegExp("^" + _t.call(yt).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        const bt = function(t4) {
          return !(!s3(t4) || ut(t4)) && (st(t4) ? gt : lt).test(dt(t4));
        };
        const vt = function(t4, e4) {
          return null == t4 ? void 0 : t4[e4];
        };
        const mt = function(t4, e4) {
          var r3 = vt(t4, e4);
          return bt(r3) ? r3 : void 0;
        };
        const jt = mt(u2, "Map");
        const wt = mt(Object, "create");
        const xt = function() {
          this.__data__ = wt ? wt(null) : {}, this.size = 0;
        };
        const Et = function(t4) {
          var e4 = this.has(t4) && delete this.__data__[t4];
          return this.size -= e4 ? 1 : 0, e4;
        };
        var Ot = "__lodash_hash_undefined__", Ct = Object.prototype.hasOwnProperty;
        const Pt = function(t4) {
          var e4 = this.__data__;
          if (wt) {
            var r3 = e4[t4];
            return r3 === Ot ? void 0 : r3;
          }
          return Ct.call(e4, t4) ? e4[t4] : void 0;
        };
        var At = Object.prototype.hasOwnProperty;
        const Tt = function(t4) {
          var e4 = this.__data__;
          return wt ? void 0 !== e4[t4] : At.call(e4, t4);
        };
        var St = "__lodash_hash_undefined__";
        const Wt = function(t4, e4) {
          var r3 = this.__data__;
          return this.size += this.has(t4) ? 0 : 1, r3[t4] = wt && void 0 === e4 ? St : e4, this;
        };
        function Rt(t4) {
          var e4 = -1, r3 = null == t4 ? 0 : t4.length;
          for (this.clear(); ++e4 < r3; ) {
            var o2 = t4[e4];
            this.set(o2[0], o2[1]);
          }
        }
        Rt.prototype.clear = xt, Rt.prototype.delete = Et, Rt.prototype.get = Pt, Rt.prototype.has = Tt, Rt.prototype.set = Wt;
        const It = Rt;
        const Dt = function() {
          this.size = 0, this.__data__ = { hash: new It(), map: new (jt || J)(), string: new It() };
        };
        const zt = function(t4) {
          var e4 = typeof t4;
          return "string" == e4 || "number" == e4 || "symbol" == e4 || "boolean" == e4 ? "__proto__" !== t4 : null === t4;
        };
        const Mt = function(t4, e4) {
          var r3 = t4.__data__;
          return zt(e4) ? r3["string" == typeof e4 ? "string" : "hash"] : r3.map;
        };
        const Ut = function(t4) {
          var e4 = Mt(this, t4).delete(t4);
          return this.size -= e4 ? 1 : 0, e4;
        };
        const Ft = function(t4) {
          return Mt(this, t4).get(t4);
        };
        const Nt = function(t4) {
          return Mt(this, t4).has(t4);
        };
        const qt = function(t4, e4) {
          var r3 = Mt(this, t4), o2 = r3.size;
          return r3.set(t4, e4), this.size += r3.size == o2 ? 0 : 1, this;
        };
        function kt(t4) {
          var e4 = -1, r3 = null == t4 ? 0 : t4.length;
          for (this.clear(); ++e4 < r3; ) {
            var o2 = t4[e4];
            this.set(o2[0], o2[1]);
          }
        }
        kt.prototype.clear = Dt, kt.prototype.delete = Ut, kt.prototype.get = Ft, kt.prototype.has = Nt, kt.prototype.set = qt;
        const Lt = kt;
        var Bt = 200;
        const $t = function(t4, e4) {
          var r3 = this.__data__;
          if (r3 instanceof J) {
            var o2 = r3.__data__;
            if (!jt || o2.length < Bt - 1) return o2.push([t4, e4]), this.size = ++r3.size, this;
            r3 = this.__data__ = new Lt(o2);
          }
          return r3.set(t4, e4), this.size = r3.size, this;
        };
        function Ht(t4) {
          var e4 = this.__data__ = new J(t4);
          this.size = e4.size;
        }
        Ht.prototype.clear = X2, Ht.prototype.delete = Z, Ht.prototype.get = tt, Ht.prototype.has = et, Ht.prototype.set = $t;
        const Vt = Ht;
        const Kt = function(t4, e4) {
          for (var r3 = -1, o2 = null == t4 ? 0 : t4.length; ++r3 < o2 && false !== e4(t4[r3], r3, t4); ) ;
          return t4;
        };
        const Qt = function() {
          try {
            var t4 = mt(Object, "defineProperty");
            return t4({}, "", {}), t4;
          } catch (t5) {
          }
        }();
        const Gt = function(t4, e4, r3) {
          "__proto__" == e4 && Qt ? Qt(t4, e4, { configurable: true, enumerable: true, value: r3, writable: true }) : t4[e4] = r3;
        };
        var Yt = Object.prototype.hasOwnProperty;
        const Jt = function(t4, e4, r3) {
          var o2 = t4[e4];
          Yt.call(t4, e4) && B2(o2, r3) && (void 0 !== r3 || e4 in t4) || Gt(t4, e4, r3);
        };
        const Xt = function(t4, e4, r3, o2) {
          var n2 = !r3;
          r3 || (r3 = {});
          for (var i3 = -1, s4 = e4.length; ++i3 < s4; ) {
            var a4 = e4[i3], c3 = o2 ? o2(r3[a4], t4[a4], a4, r3, t4) : void 0;
            void 0 === c3 && (c3 = t4[a4]), n2 ? Gt(r3, a4, c3) : Jt(r3, a4, c3);
          }
          return r3;
        };
        const Zt = function(t4, e4) {
          for (var r3 = -1, o2 = Array(t4); ++r3 < t4; ) o2[r3] = e4(r3);
          return o2;
        };
        var te = "[object Arguments]";
        const ee = function(t4) {
          return P(t4) && C(t4) == te;
        };
        var re = Object.prototype, oe = re.hasOwnProperty, ne = re.propertyIsEnumerable;
        const ie = ee(/* @__PURE__ */ function() {
          return arguments;
        }()) ? ee : function(t4) {
          return P(t4) && oe.call(t4, "callee") && !ne.call(t4, "callee");
        };
        const se = Array.isArray;
        const ae = function() {
          return false;
        };
        var ce = "object" == typeof exports2 && exports2 && !exports2.nodeType && exports2, ue = ce && "object" == typeof module2 && module2 && !module2.nodeType && module2, he = ue && ue.exports === ce ? u2.Buffer : void 0;
        const de = (he ? he.isBuffer : void 0) || ae;
        var le = 9007199254740991, pe = /^(?:0|[1-9]\d*)$/;
        const fe = function(t4, e4) {
          var r3 = typeof t4;
          return !!(e4 = null == e4 ? le : e4) && ("number" == r3 || "symbol" != r3 && pe.test(t4)) && t4 > -1 && t4 % 1 == 0 && t4 < e4;
        };
        var _e = 9007199254740991;
        const ye = function(t4) {
          return "number" == typeof t4 && t4 > -1 && t4 % 1 == 0 && t4 <= _e;
        };
        var ge = {};
        ge["[object Float32Array]"] = ge["[object Float64Array]"] = ge["[object Int8Array]"] = ge["[object Int16Array]"] = ge["[object Int32Array]"] = ge["[object Uint8Array]"] = ge["[object Uint8ClampedArray]"] = ge["[object Uint16Array]"] = ge["[object Uint32Array]"] = true, ge["[object Arguments]"] = ge["[object Array]"] = ge["[object ArrayBuffer]"] = ge["[object Boolean]"] = ge["[object DataView]"] = ge["[object Date]"] = ge["[object Error]"] = ge["[object Function]"] = ge["[object Map]"] = ge["[object Number]"] = ge["[object Object]"] = ge["[object RegExp]"] = ge["[object Set]"] = ge["[object String]"] = ge["[object WeakMap]"] = false;
        const be = function(t4) {
          return P(t4) && ye(t4.length) && !!ge[C(t4)];
        };
        const ve = function(t4) {
          return function(e4) {
            return t4(e4);
          };
        };
        var me = "object" == typeof exports2 && exports2 && !exports2.nodeType && exports2, je = me && "object" == typeof module2 && module2 && !module2.nodeType && module2, we = je && je.exports === me && a3.process;
        const xe = function() {
          try {
            var t4 = je && je.require && je.require("util").types;
            return t4 || we && we.binding && we.binding("util");
          } catch (t5) {
          }
        }();
        var Ee = xe && xe.isTypedArray;
        const Oe = Ee ? ve(Ee) : be;
        var Ce = Object.prototype.hasOwnProperty;
        const Pe = function(t4, e4) {
          var r3 = se(t4), o2 = !r3 && ie(t4), n2 = !r3 && !o2 && de(t4), i3 = !r3 && !o2 && !n2 && Oe(t4), s4 = r3 || o2 || n2 || i3, a4 = s4 ? Zt(t4.length, String) : [], c3 = a4.length;
          for (var u3 in t4) !e4 && !Ce.call(t4, u3) || s4 && ("length" == u3 || n2 && ("offset" == u3 || "parent" == u3) || i3 && ("buffer" == u3 || "byteLength" == u3 || "byteOffset" == u3) || fe(u3, c3)) || a4.push(u3);
          return a4;
        };
        var Ae = Object.prototype;
        const Te = function(t4) {
          var e4 = t4 && t4.constructor;
          return t4 === ("function" == typeof e4 && e4.prototype || Ae);
        };
        const Se = function(t4, e4) {
          return function(r3) {
            return t4(e4(r3));
          };
        };
        const We = Se(Object.keys, Object);
        var Re = Object.prototype.hasOwnProperty;
        const Ie = function(t4) {
          if (!Te(t4)) return We(t4);
          var e4 = [];
          for (var r3 in Object(t4)) Re.call(t4, r3) && "constructor" != r3 && e4.push(r3);
          return e4;
        };
        const De = function(t4) {
          return null != t4 && ye(t4.length) && !st(t4);
        };
        const ze = function(t4) {
          return De(t4) ? Pe(t4) : Ie(t4);
        };
        const Me = function(t4, e4) {
          return t4 && Xt(e4, ze(e4), t4);
        };
        const Ue = function(t4) {
          var e4 = [];
          if (null != t4) for (var r3 in Object(t4)) e4.push(r3);
          return e4;
        };
        var Fe = Object.prototype.hasOwnProperty;
        const Ne = function(t4) {
          if (!s3(t4)) return Ue(t4);
          var e4 = Te(t4), r3 = [];
          for (var o2 in t4) ("constructor" != o2 || !e4 && Fe.call(t4, o2)) && r3.push(o2);
          return r3;
        };
        const qe = function(t4) {
          return De(t4) ? Pe(t4, true) : Ne(t4);
        };
        const ke = function(t4, e4) {
          return t4 && Xt(e4, qe(e4), t4);
        };
        var Le = "object" == typeof exports2 && exports2 && !exports2.nodeType && exports2, Be = Le && "object" == typeof module2 && module2 && !module2.nodeType && module2, $e = Be && Be.exports === Le ? u2.Buffer : void 0, He = $e ? $e.allocUnsafe : void 0;
        const Ve = function(t4, e4) {
          if (e4) return t4.slice();
          var r3 = t4.length, o2 = He ? He(r3) : new t4.constructor(r3);
          return t4.copy(o2), o2;
        };
        const Ke = function(t4, e4) {
          var r3 = -1, o2 = t4.length;
          for (e4 || (e4 = Array(o2)); ++r3 < o2; ) e4[r3] = t4[r3];
          return e4;
        };
        const Qe = function(t4, e4) {
          for (var r3 = -1, o2 = null == t4 ? 0 : t4.length, n2 = 0, i3 = []; ++r3 < o2; ) {
            var s4 = t4[r3];
            e4(s4, r3, t4) && (i3[n2++] = s4);
          }
          return i3;
        };
        const Ge = function() {
          return [];
        };
        var Ye = Object.prototype.propertyIsEnumerable, Je = Object.getOwnPropertySymbols;
        const Xe = Je ? function(t4) {
          return null == t4 ? [] : (t4 = Object(t4), Qe(Je(t4), function(e4) {
            return Ye.call(t4, e4);
          }));
        } : Ge;
        const Ze = function(t4, e4) {
          return Xt(t4, Xe(t4), e4);
        };
        const tr = function(t4, e4) {
          for (var r3 = -1, o2 = e4.length, n2 = t4.length; ++r3 < o2; ) t4[n2 + r3] = e4[r3];
          return t4;
        };
        const er = Se(Object.getPrototypeOf, Object);
        const rr = Object.getOwnPropertySymbols ? function(t4) {
          for (var e4 = []; t4; ) tr(e4, Xe(t4)), t4 = er(t4);
          return e4;
        } : Ge;
        const or = function(t4, e4) {
          return Xt(t4, rr(t4), e4);
        };
        const nr = function(t4, e4, r3) {
          var o2 = e4(t4);
          return se(t4) ? o2 : tr(o2, r3(t4));
        };
        const ir = function(t4) {
          return nr(t4, ze, Xe);
        };
        const sr = function(t4) {
          return nr(t4, qe, rr);
        };
        const ar = mt(u2, "DataView");
        const cr = mt(u2, "Promise");
        const ur = mt(u2, "Set");
        const hr = mt(u2, "WeakMap");
        var dr = "[object Map]", lr = "[object Promise]", pr = "[object Set]", fr = "[object WeakMap]", _r = "[object DataView]", yr = dt(ar), gr = dt(jt), br = dt(cr), vr = dt(ur), mr = dt(hr), jr = C;
        (ar && jr(new ar(new ArrayBuffer(1))) != _r || jt && jr(new jt()) != dr || cr && jr(cr.resolve()) != lr || ur && jr(new ur()) != pr || hr && jr(new hr()) != fr) && (jr = function(t4) {
          var e4 = C(t4), r3 = "[object Object]" == e4 ? t4.constructor : void 0, o2 = r3 ? dt(r3) : "";
          if (o2) switch (o2) {
            case yr:
              return _r;
            case gr:
              return dr;
            case br:
              return lr;
            case vr:
              return pr;
            case mr:
              return fr;
          }
          return e4;
        });
        const wr = jr;
        var xr = Object.prototype.hasOwnProperty;
        const Er = function(t4) {
          var e4 = t4.length, r3 = new t4.constructor(e4);
          return e4 && "string" == typeof t4[0] && xr.call(t4, "index") && (r3.index = t4.index, r3.input = t4.input), r3;
        };
        const Or = u2.Uint8Array;
        const Cr = function(t4) {
          var e4 = new t4.constructor(t4.byteLength);
          return new Or(e4).set(new Or(t4)), e4;
        };
        const Pr = function(t4, e4) {
          var r3 = e4 ? Cr(t4.buffer) : t4.buffer;
          return new t4.constructor(r3, t4.byteOffset, t4.byteLength);
        };
        var Ar = /\w*$/;
        const Tr = function(t4) {
          var e4 = new t4.constructor(t4.source, Ar.exec(t4));
          return e4.lastIndex = t4.lastIndex, e4;
        };
        var Sr = _ ? _.prototype : void 0, Wr = Sr ? Sr.valueOf : void 0;
        const Rr = function(t4) {
          return Wr ? Object(Wr.call(t4)) : {};
        };
        const Ir = function(t4, e4) {
          var r3 = e4 ? Cr(t4.buffer) : t4.buffer;
          return new t4.constructor(r3, t4.byteOffset, t4.length);
        };
        var Dr = "[object Boolean]", zr = "[object Date]", Mr = "[object Map]", Ur = "[object Number]", Fr = "[object RegExp]", Nr = "[object Set]", qr = "[object String]", kr = "[object Symbol]", Lr = "[object ArrayBuffer]", Br = "[object DataView]", $r = "[object Float32Array]", Hr = "[object Float64Array]", Vr = "[object Int8Array]", Kr = "[object Int16Array]", Qr = "[object Int32Array]", Gr = "[object Uint8Array]", Yr = "[object Uint8ClampedArray]", Jr = "[object Uint16Array]", Xr = "[object Uint32Array]";
        const Zr = function(t4, e4, r3) {
          var o2 = t4.constructor;
          switch (e4) {
            case Lr:
              return Cr(t4);
            case Dr:
            case zr:
              return new o2(+t4);
            case Br:
              return Pr(t4, r3);
            case $r:
            case Hr:
            case Vr:
            case Kr:
            case Qr:
            case Gr:
            case Yr:
            case Jr:
            case Xr:
              return Ir(t4, r3);
            case Mr:
              return new o2();
            case Ur:
            case qr:
              return new o2(t4);
            case Fr:
              return Tr(t4);
            case Nr:
              return new o2();
            case kr:
              return Rr(t4);
          }
        };
        var to = Object.create;
        const eo = /* @__PURE__ */ function() {
          function t4() {
          }
          return function(e4) {
            if (!s3(e4)) return {};
            if (to) return to(e4);
            t4.prototype = e4;
            var r3 = new t4();
            return t4.prototype = void 0, r3;
          };
        }();
        const ro = function(t4) {
          return "function" != typeof t4.constructor || Te(t4) ? {} : eo(er(t4));
        };
        var oo = "[object Map]";
        const no = function(t4) {
          return P(t4) && wr(t4) == oo;
        };
        var io = xe && xe.isMap;
        const so = io ? ve(io) : no;
        var ao = "[object Set]";
        const co = function(t4) {
          return P(t4) && wr(t4) == ao;
        };
        var uo = xe && xe.isSet;
        const ho = uo ? ve(uo) : co;
        var lo = 1, po = 2, fo = 4, _o = "[object Arguments]", yo = "[object Function]", go = "[object GeneratorFunction]", bo = "[object Object]", vo = {};
        vo[_o] = vo["[object Array]"] = vo["[object ArrayBuffer]"] = vo["[object DataView]"] = vo["[object Boolean]"] = vo["[object Date]"] = vo["[object Float32Array]"] = vo["[object Float64Array]"] = vo["[object Int8Array]"] = vo["[object Int16Array]"] = vo["[object Int32Array]"] = vo["[object Map]"] = vo["[object Number]"] = vo[bo] = vo["[object RegExp]"] = vo["[object Set]"] = vo["[object String]"] = vo["[object Symbol]"] = vo["[object Uint8Array]"] = vo["[object Uint8ClampedArray]"] = vo["[object Uint16Array]"] = vo["[object Uint32Array]"] = true, vo["[object Error]"] = vo[yo] = vo["[object WeakMap]"] = false;
        const mo = function t4(e4, r3, o2, n2, i3, a4) {
          var c3, u3 = r3 & lo, h4 = r3 & po, d4 = r3 & fo;
          if (o2 && (c3 = i3 ? o2(e4, n2, i3, a4) : o2(e4)), void 0 !== c3) return c3;
          if (!s3(e4)) return e4;
          var l2 = se(e4);
          if (l2) {
            if (c3 = Er(e4), !u3) return Ke(e4, c3);
          } else {
            var p2 = wr(e4), f2 = p2 == yo || p2 == go;
            if (de(e4)) return Ve(e4, u3);
            if (p2 == bo || p2 == _o || f2 && !i3) {
              if (c3 = h4 || f2 ? {} : ro(e4), !u3) return h4 ? or(e4, ke(c3, e4)) : Ze(e4, Me(c3, e4));
            } else {
              if (!vo[p2]) return i3 ? e4 : {};
              c3 = Zr(e4, p2, u3);
            }
          }
          a4 || (a4 = new Vt());
          var _2 = a4.get(e4);
          if (_2) return _2;
          a4.set(e4, c3), ho(e4) ? e4.forEach(function(n3) {
            c3.add(t4(n3, r3, o2, n3, e4, a4));
          }) : so(e4) && e4.forEach(function(n3, i4) {
            c3.set(i4, t4(n3, r3, o2, i4, e4, a4));
          });
          var y4 = l2 ? void 0 : (d4 ? h4 ? sr : ir : h4 ? qe : ze)(e4);
          return Kt(y4 || e4, function(n3, i4) {
            y4 && (n3 = e4[i4 = n3]), Jt(c3, i4, t4(n3, r3, o2, i4, e4, a4));
          }), c3;
        };
        var jo = 1, wo = 4;
        const xo = function(t4, e4) {
          return mo(t4, jo | wo, e4 = "function" == typeof e4 ? e4 : void 0);
        };
        var Eo = "[object Object]", Oo = Function.prototype, Co = Object.prototype, Po = Oo.toString, Ao = Co.hasOwnProperty, To = Po.call(Object);
        const So = function(t4) {
          if (!P(t4) || C(t4) != Eo) return false;
          var e4 = er(t4);
          if (null === e4) return true;
          var r3 = Ao.call(e4, "constructor") && e4.constructor;
          return "function" == typeof r3 && r3 instanceof r3 && Po.call(r3) == To;
        };
        const Wo = function(t4) {
          return P(t4) && 1 === t4.nodeType && !So(t4);
        };
        function Ro(t4, e4 = /* @__PURE__ */ new Set()) {
          const r3 = [t4], o2 = /* @__PURE__ */ new Set();
          let n2 = 0;
          for (; r3.length > n2; ) {
            const t5 = r3[n2++];
            if (!(o2.has(t5) || Io(t5) || e4.has(t5))) if (o2.add(t5), t5[Symbol.iterator]) try {
              for (const e5 of t5) r3.push(e5);
            } catch (t6) {
            }
            else for (const e5 in t5) "defaultValue" !== e5 && r3.push(t5[e5]);
          }
          return o2;
        }
        function Io(t4) {
          const e4 = Object.prototype.toString.call(t4), r3 = typeof t4;
          return "number" === r3 || "boolean" === r3 || "string" === r3 || "symbol" === r3 || "function" === r3 || "[object Date]" === e4 || "[object RegExp]" === e4 || "[object Module]" === e4 || null == t4 || true === t4._watchdogExcluded || t4 instanceof EventTarget || t4 instanceof Event;
        }
        function Do(t4, e4, r3 = /* @__PURE__ */ new Set()) {
          if (t4 === e4 && ("object" == typeof (o2 = t4) && null !== o2)) return true;
          var o2;
          const n2 = Ro(t4, r3), i3 = Ro(e4, r3);
          for (const t5 of n2) if (i3.has(t5)) return true;
          return false;
        }
        class zo {
          constructor(t4) {
            if (this.crashes = [], this.state = "initializing", this._crashNumberLimit = "number" == typeof t4.crashNumberLimit ? t4.crashNumberLimit : 3, this._now = Date.now, this._minimumNonErrorTimePeriod = "number" == typeof t4.minimumNonErrorTimePeriod ? t4.minimumNonErrorTimePeriod : 5e3, this._boundErrorHandler = (t5) => {
              const e4 = t5.error || t5.reason;
              e4 instanceof Error && this._handleError(e4, t5);
            }, this._listeners = {}, !this._restart) throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.");
          }
          setCreator(t4) {
            this._creator = t4;
          }
          setDestructor(t4) {
            this._destructor = t4;
          }
          destroy() {
            this._stopErrorHandling(), this._listeners = {};
          }
          on(t4, e4) {
            this._listeners[t4] || (this._listeners[t4] = []), this._listeners[t4].push(e4);
          }
          off(t4, e4) {
            this._listeners[t4] = this._listeners[t4].filter((t5) => t5 !== e4);
          }
          _fire(t4, ...e4) {
            const r3 = this._listeners[t4] || [];
            for (const t5 of r3) t5.apply(this, [null, ...e4]);
          }
          _startErrorHandling() {
            window.addEventListener("error", this._boundErrorHandler), window.addEventListener("unhandledrejection", this._boundErrorHandler);
          }
          _stopErrorHandling() {
            window.removeEventListener("error", this._boundErrorHandler), window.removeEventListener("unhandledrejection", this._boundErrorHandler);
          }
          _handleError(t4, e4) {
            if (this._shouldReactToError(t4)) {
              this.crashes.push({ message: t4.message, stack: t4.stack, filename: e4.filename, lineno: e4.lineno, colno: e4.colno, date: this._now() });
              const r3 = this._shouldRestart();
              this.state = "crashed", this._fire("stateChange"), this._fire("error", { error: t4, causesRestart: r3 }), r3 ? this._restart() : (this.state = "crashedPermanently", this._fire("stateChange"));
            }
          }
          _shouldReactToError(t4) {
            return t4.is && t4.is("CKEditorError") && void 0 !== t4.context && null !== t4.context && "ready" === this.state && this._isErrorComingFromThisItem(t4);
          }
          _shouldRestart() {
            if (this.crashes.length <= this._crashNumberLimit) return true;
            return (this.crashes[this.crashes.length - 1].date - this.crashes[this.crashes.length - 1 - this._crashNumberLimit].date) / this._crashNumberLimit > this._minimumNonErrorTimePeriod;
          }
        }
        class Mo extends zo {
          constructor(t4, e4 = {}) {
            super(e4), this._editor = null, this._throttledSave = k2(this._save.bind(this), "number" == typeof e4.saveInterval ? e4.saveInterval : 5e3), this._creator = (e5, r3) => t4.create(e5, r3), this._destructor = (t5) => t5.destroy();
          }
          get editor() {
            return this._editor;
          }
          get _item() {
            return this._editor;
          }
          _restart() {
            return Promise.resolve().then(() => (this.state = "initializing", this._fire("stateChange"), this._destroy())).catch((t4) => {
              console.error("An error happened during the editor destroying.", t4);
            }).then(() => {
              if ("string" == typeof this._elementOrData) return this.create(this._data, this._config, this._config.context);
              {
                const t4 = Object.assign({}, this._config, { initialData: this._data });
                return this.create(this._elementOrData, t4, t4.context);
              }
            }).then(() => {
              this._fire("restart");
            });
          }
          create(t4 = this._elementOrData, e4 = this._config, r3) {
            return Promise.resolve().then(() => (super._startErrorHandling(), this._elementOrData = t4, this._config = this._cloneEditorConfiguration(e4) || {}, this._config.context = r3, this._creator(t4, this._config))).then((t5) => {
              this._editor = t5, t5.model.document.on("change:data", this._throttledSave), this._lastDocumentVersion = t5.model.document.version, this._data = this._getData(), this.state = "ready", this._fire("stateChange");
            });
          }
          destroy() {
            return Promise.resolve().then(() => (this.state = "destroyed", this._fire("stateChange"), super.destroy(), this._destroy()));
          }
          _destroy() {
            return Promise.resolve().then(() => {
              this._stopErrorHandling(), this._throttledSave.flush();
              const t4 = this._editor;
              return this._editor = null, t4.model.document.off("change:data", this._throttledSave), this._destructor(t4);
            });
          }
          _save() {
            const t4 = this._editor.model.document.version;
            try {
              this._data = this._getData(), this._lastDocumentVersion = t4;
            } catch (t5) {
              console.error(t5, "An error happened during restoring editor data. Editor will be restored from the previously saved data.");
            }
          }
          _setExcludedProperties(t4) {
            this._excludedProps = t4;
          }
          _getData() {
            const t4 = {};
            for (const e4 of this._editor.model.document.getRootNames()) t4[e4] = this._editor.data.get({ rootName: e4 });
            return t4;
          }
          _isErrorComingFromThisItem(t4) {
            return Do(this._editor, t4.context, this._excludedProps);
          }
          _cloneEditorConfiguration(t4) {
            return xo(t4, (t5, e4) => Wo(t5) || "context" === e4 ? t5 : void 0);
          }
        }
        const Uo = new Array(256).fill("").map((t4, e4) => ("0" + e4.toString(16)).slice(-2));
        const Fo = Symbol("MainQueueId");
        class No extends zo {
          constructor(t4, e4 = {}) {
            super(e4), this._watchdogs = /* @__PURE__ */ new Map(), this._watchdogConfig = e4, this._context = null, this._contextProps = /* @__PURE__ */ new Set(), this._actionQueues = new qo(), this._creator = (e5) => t4.create(e5), this._destructor = (t5) => t5.destroy(), this._actionQueues.onEmpty(() => {
              "initializing" === this.state && (this.state = "ready", this._fire("stateChange"));
            });
          }
          get context() {
            return this._context;
          }
          create(t4 = {}) {
            return this._actionQueues.enqueue(Fo, () => (this._contextConfig = t4, this._create()));
          }
          getItem(t4) {
            return this._getWatchdog(t4)._item;
          }
          getItemState(t4) {
            return this._getWatchdog(t4).state;
          }
          add(t4) {
            const e4 = ko(t4);
            return Promise.all(e4.map((t5) => this._actionQueues.enqueue(t5.id, () => {
              if ("destroyed" === this.state) throw new Error("Cannot add items to destroyed watchdog.");
              if (!this._context) throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");
              let e5;
              if (this._watchdogs.has(t5.id)) throw new Error(`Item with the given id is already added: '${t5.id}'.`);
              if ("editor" === t5.type) return e5 = new Mo(this._watchdogConfig), e5.setCreator(t5.creator), e5._setExcludedProperties(this._contextProps), t5.destructor && e5.setDestructor(t5.destructor), this._watchdogs.set(t5.id, e5), e5.on("error", (r3, { error: o2, causesRestart: n2 }) => {
                this._fire("itemError", { itemId: t5.id, error: o2 }), n2 && this._actionQueues.enqueue(t5.id, () => new Promise((r4) => {
                  e5.on("restart", function o3() {
                    e5.off("restart", o3), this._fire("itemRestart", { itemId: t5.id }), r4();
                  }.bind(this));
                }));
              }), e5.create(t5.sourceElementOrData, t5.config, this._context);
              throw new Error(`Not supported item type: '${t5.type}'.`);
            })));
          }
          remove(t4) {
            const e4 = ko(t4);
            return Promise.all(e4.map((t5) => this._actionQueues.enqueue(t5, () => {
              const e5 = this._getWatchdog(t5);
              return this._watchdogs.delete(t5), e5.destroy();
            })));
          }
          destroy() {
            return this._actionQueues.enqueue(Fo, () => (this.state = "destroyed", this._fire("stateChange"), super.destroy(), this._destroy()));
          }
          _restart() {
            return this._actionQueues.enqueue(Fo, () => (this.state = "initializing", this._fire("stateChange"), this._destroy().catch((t4) => {
              console.error("An error happened during destroying the context or items.", t4);
            }).then(() => this._create()).then(() => this._fire("restart"))));
          }
          _create() {
            return Promise.resolve().then(() => (this._startErrorHandling(), this._creator(this._contextConfig))).then((t4) => (this._context = t4, this._contextProps = Ro(this._context), Promise.all(Array.from(this._watchdogs.values()).map((t5) => (t5._setExcludedProperties(this._contextProps), t5.create(void 0, void 0, this._context))))));
          }
          _destroy() {
            return Promise.resolve().then(() => {
              this._stopErrorHandling();
              const t4 = this._context;
              return this._context = null, this._contextProps = /* @__PURE__ */ new Set(), Promise.all(Array.from(this._watchdogs.values()).map((t5) => t5.destroy())).then(() => this._destructor(t4));
            });
          }
          _getWatchdog(t4) {
            const e4 = this._watchdogs.get(t4);
            if (!e4) throw new Error(`Item with the given id was not registered: ${t4}.`);
            return e4;
          }
          _isErrorComingFromThisItem(t4) {
            for (const e4 of this._watchdogs.values()) if (e4._isErrorComingFromThisItem(t4)) return false;
            return Do(this._context, t4.context);
          }
        }
        class qo {
          constructor() {
            this._onEmptyCallbacks = [], this._queues = /* @__PURE__ */ new Map(), this._actions = /* @__PURE__ */ new WeakMap(), this._lastActionId = 0, this._activeActions = 0;
          }
          onEmpty(t4) {
            this._onEmptyCallbacks.push(t4);
          }
          enqueue(t4, e4) {
            const r3 = t4 === Fo;
            this._activeActions++, this._queues.get(t4) || this._queues.set(t4, Promise.resolve());
            const o2 = (r3 ? Promise.all(this._queues.values()) : Promise.all([this._queues.get(Fo), this._queues.get(t4)])).then(e4), n2 = o2.catch(() => {
            });
            return this._queues.set(t4, n2), o2.finally(() => {
              this._activeActions--, this._queues.get(t4) === n2 && 0 === this._activeActions && this._onEmptyCallbacks.forEach((t5) => t5());
            });
          }
        }
        function ko(t4) {
          return Array.isArray(t4) ? t4 : [t4];
        }
        const Lo = e3().createContext("contextWatchdog");
        class Bo extends e3().Component {
          constructor(t4, e4) {
            super(t4, e4), this.contextWatchdog = null, this.props.isLayoutReady && this._initializeContextWatchdog(this.props.config);
          }
          async shouldComponentUpdate(t4) {
            return t4.id !== this.props.id && (this.contextWatchdog && await this.contextWatchdog.destroy(), await this._initializeContextWatchdog(t4.config)), t4.isLayoutReady && !this.contextWatchdog ? (await this._initializeContextWatchdog(t4.config), true) : this.props.children !== t4.children;
          }
          render() {
            return e3().createElement(Lo.Provider, { value: this.contextWatchdog }, this.props.children);
          }
          async componentWillUnmount() {
            await this._destroyContext();
          }
          async _initializeContextWatchdog(t4) {
            this.contextWatchdog = new No(this.props.context, this.props.watchdogConfig), this.contextWatchdog.on("error", (t5, e4) => {
              this.props.onError(e4.error, { phase: "runtime", willContextRestart: e4.causesRestart });
            }), this.contextWatchdog.on("stateChange", () => {
              "ready" === this.contextWatchdog.state && this.props.onReady && this.props.onReady(this.contextWatchdog.context);
            }), await this.contextWatchdog.create(t4).catch((t5) => {
              this.props.onError(t5, { phase: "initialization", willContextRestart: false });
            });
          }
          async _destroyContext() {
            this.contextWatchdog && (await this.contextWatchdog.destroy(), this.contextWatchdog = null);
          }
        }
        Bo.defaultProps = { isLayoutReady: true, onError: (t4, e4) => console.error(t4, e4) }, Bo.propTypes = { id: i2().string, isLayoutReady: i2().bool, context: i2().func, watchdogConfig: i2().object, config: i2().object, onReady: i2().func, onError: i2().func };
        const $o = "Lock from React integration (@ckeditor/ckeditor5-react)";
        class Ho extends e3().Component {
          constructor(t4) {
            super(t4), this.editorDestructionInProgress = null, this.domContainer = e3().createRef(), this.watchdog = null;
            const { CKEDITOR_VERSION: r3 } = window;
            if (r3) {
              const [t5] = r3.split(".").map(Number);
              t5 < 34 && console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.");
            } else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.');
          }
          get editor() {
            return this.watchdog ? this.watchdog.editor : null;
          }
          shouldComponentUpdate(t4) {
            return !!this.editor && (t4.id !== this.props.id || (this._shouldUpdateEditor(t4) && this.editor.setData(t4.data), "disabled" in t4 && (t4.disabled ? this.editor.enableReadOnlyMode($o) : this.editor.disableReadOnlyMode($o)), false));
          }
          async componentDidMount() {
            await this._initializeEditor();
          }
          async componentDidUpdate() {
            await this._destroyEditor(), await this._initializeEditor();
          }
          async componentWillUnmount() {
            await this._destroyEditor();
          }
          render() {
            return e3().createElement("div", { ref: this.domContainer });
          }
          async _initializeEditor() {
            await this.editorDestructionInProgress, this.watchdog || (this.context instanceof No ? this.watchdog = new Vo(this.context) : this.watchdog = new Ho._EditorWatchdog(this.props.editor, this.props.watchdogConfig), this.watchdog.setCreator((t4, e4) => this._createEditor(t4, e4)), this.watchdog.on("error", (t4, { error: e4, causesRestart: r3 }) => {
              this.props.onError(e4, { phase: "runtime", willEditorRestart: r3 });
            }), await this.watchdog.create(this.domContainer.current, this._getConfig()).catch((t4) => this.props.onError(t4, { phase: "initialization", willEditorRestart: false })));
          }
          _createEditor(t4, e4) {
            return this.props.editor.create(t4, e4).then((t5) => {
              "disabled" in this.props && this.props.disabled && t5.enableReadOnlyMode($o);
              const e5 = t5.model.document, r3 = t5.editing.view.document;
              return e5.on("change:data", (e6) => {
                this.props.onChange && this.props.onChange(e6, t5);
              }), r3.on("focus", (e6) => {
                this.props.onFocus && this.props.onFocus(e6, t5);
              }), r3.on("blur", (e6) => {
                this.props.onBlur && this.props.onBlur(e6, t5);
              }), setTimeout(() => {
                this.props.onReady && this.props.onReady(t5);
              }), t5;
            });
          }
          async _destroyEditor() {
            this.editorDestructionInProgress = new Promise((t4) => {
              setTimeout(() => {
                this.watchdog ? this.watchdog.destroy().then(() => {
                  this.watchdog = null, t4();
                }) : t4();
              });
            });
          }
          _shouldUpdateEditor(t4) {
            return this.props.data !== t4.data && this.editor.getData() !== t4.data;
          }
          _getConfig() {
            return this.props.data && this.props.config.initialData && console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."), { ...this.props.config, initialData: this.props.config.initialData || this.props.data || "" };
          }
        }
        class Vo {
          constructor(t4) {
            this._contextWatchdog = t4, this._id = function() {
              const t5 = 4294967296 * Math.random() >>> 0, e4 = 4294967296 * Math.random() >>> 0, r3 = 4294967296 * Math.random() >>> 0, o2 = 4294967296 * Math.random() >>> 0;
              return "e" + Uo[t5 >> 0 & 255] + Uo[t5 >> 8 & 255] + Uo[t5 >> 16 & 255] + Uo[t5 >> 24 & 255] + Uo[e4 >> 0 & 255] + Uo[e4 >> 8 & 255] + Uo[e4 >> 16 & 255] + Uo[e4 >> 24 & 255] + Uo[r3 >> 0 & 255] + Uo[r3 >> 8 & 255] + Uo[r3 >> 16 & 255] + Uo[r3 >> 24 & 255] + Uo[o2 >> 0 & 255] + Uo[o2 >> 8 & 255] + Uo[o2 >> 16 & 255] + Uo[o2 >> 24 & 255];
            }();
          }
          setCreator(t4) {
            this._creator = t4;
          }
          create(t4, e4) {
            return this._contextWatchdog.add({ sourceElementOrData: t4, config: e4, creator: this._creator, id: this._id, type: "editor" });
          }
          on(t4, e4) {
            this._contextWatchdog.on("itemError", (t5, { itemId: r3, causesRestart: o2, error: n2 }) => {
              r3 === this._id && e4(null, { error: n2, causesRestart: o2 });
            });
          }
          destroy() {
            return "ready" === this._contextWatchdog.state ? this._contextWatchdog.remove(this._id) : Promise.resolve();
          }
          get editor() {
            return this._contextWatchdog.getItem(this._id);
          }
        }
        Ho.contextType = Lo, Ho.propTypes = { editor: i2().func.isRequired, data: i2().string, config: i2().object, watchdogConfig: i2().object, onChange: i2().func, onReady: i2().func, onFocus: i2().func, onBlur: i2().func, onError: i2().func, disabled: i2().bool, onInit: (t4, e4) => {
          if (t4[e4]) return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.');
        } }, Ho.defaultProps = { config: {}, onError: (t4, e4) => console.error(t4, e4) }, Ho._EditorWatchdog = Mo;
      })(), n;
    })());
  }
});

// node_modules/ckeditor5-build-classic-mathtype/build/ckeditor.js
var require_ckeditor2 = __commonJS({
  "node_modules/ckeditor5-build-classic-mathtype/build/ckeditor.js"(exports, module) {
    !function(t2) {
      const e2 = t2.en = t2.en || {};
      e2.dictionary = Object.assign(e2.dictionary || {}, { "%0 of %1": "%0 of %1", "Block quote": "Block quote", Bold: "Bold", "Bulleted List": "Bulleted List", Cancel: "Cancel", "Cannot upload file:": "Cannot upload file:", "Centered image": "Centered image", "Change image text alternative": "Change image text alternative", "Choose heading": "Choose heading", Column: "Column", "Could not insert image at the current position.": "Could not insert image at the current position.", "Could not obtain resized image URL.": "Could not obtain resized image URL.", "Decrease indent": "Decrease indent", "Delete column": "Delete column", "Delete row": "Delete row", Downloadable: "Downloadable", "Dropdown toolbar": "Dropdown toolbar", "Edit link": "Edit link", "Editor toolbar": "Editor toolbar", "Enter image caption": "Enter image caption", "Full size image": "Full size image", "Header column": "Header column", "Header row": "Header row", Heading: "Heading", "Heading 1": "Heading 1", "Heading 2": "Heading 2", "Heading 3": "Heading 3", "Heading 4": "Heading 4", "Heading 5": "Heading 5", "Heading 6": "Heading 6", "Image toolbar": "Image toolbar", "image widget": "image widget", "Increase indent": "Increase indent", "Insert column left": "Insert column left", "Insert column right": "Insert column right", "Insert image": "Insert image", "Insert image or file": "Insert image or file", "Insert media": "Insert media", "Insert row above": "Insert row above", "Insert row below": "Insert row below", "Insert table": "Insert table", "Inserting image failed": "Inserting image failed", Italic: "Italic", "Left aligned image": "Left aligned image", Link: "Link", "Link URL": "Link URL", "Media URL": "Media URL", "media widget": "media widget", "Merge cell down": "Merge cell down", "Merge cell left": "Merge cell left", "Merge cell right": "Merge cell right", "Merge cell up": "Merge cell up", "Merge cells": "Merge cells", Next: "Next", "Numbered List": "Numbered List", "Open in a new tab": "Open in a new tab", "Open link in new tab": "Open link in new tab", Paragraph: "Paragraph", "Paste the media URL in the input.": "Paste the media URL in the input.", Previous: "Previous", Redo: "Redo", "Rich Text Editor": "Rich Text Editor", "Rich Text Editor, %0": "Rich Text Editor, %0", "Right aligned image": "Right aligned image", Row: "Row", Save: "Save", "Select column": "Select column", "Select row": "Select row", "Selecting resized image failed": "Selecting resized image failed", "Show more items": "Show more items", "Side image": "Side image", "Split cell horizontally": "Split cell horizontally", "Split cell vertically": "Split cell vertically", "Table toolbar": "Table toolbar", "Text alternative": "Text alternative", "The URL must not be empty.": "The URL must not be empty.", "This link has no URL": "This link has no URL", "This media URL is not supported.": "This media URL is not supported.", "Tip: Paste the URL into the content to embed faster.": "Tip: Paste the URL into the content to embed faster.", Undo: "Undo", Unlink: "Unlink", "Upload failed": "Upload failed", "Upload in progress": "Upload in progress", "Widget toolbar": "Widget toolbar" });
    }(window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {})), function(t2, e2) {
      "object" == typeof exports && "object" == typeof module ? module.exports = e2() : "function" == typeof define && define.amd ? define([], e2) : "object" == typeof exports ? exports.ClassicEditor = e2() : t2.ClassicEditor = e2();
    }(window, function() {
      return function(t2) {
        var e2 = {};
        function i2(n) {
          if (e2[n]) return e2[n].exports;
          var o = e2[n] = { i: n, l: false, exports: {} };
          return t2[n].call(o.exports, o, o.exports, i2), o.l = true, o.exports;
        }
        return i2.m = t2, i2.c = e2, i2.d = function(t3, e3, n) {
          i2.o(t3, e3) || Object.defineProperty(t3, e3, { enumerable: true, get: n });
        }, i2.r = function(t3) {
          "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t3, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t3, "__esModule", { value: true });
        }, i2.t = function(t3, e3) {
          if (1 & e3 && (t3 = i2(t3)), 8 & e3) return t3;
          if (4 & e3 && "object" == typeof t3 && t3 && t3.__esModule) return t3;
          var n = /* @__PURE__ */ Object.create(null);
          if (i2.r(n), Object.defineProperty(n, "default", { enumerable: true, value: t3 }), 2 & e3 && "string" != typeof t3) for (var o in t3) i2.d(n, o, function(e4) {
            return t3[e4];
          }.bind(null, o));
          return n;
        }, i2.n = function(t3) {
          var e3 = t3 && t3.__esModule ? function() {
            return t3.default;
          } : function() {
            return t3;
          };
          return i2.d(e3, "a", e3), e3;
        }, i2.o = function(t3, e3) {
          return Object.prototype.hasOwnProperty.call(t3, e3);
        }, i2.p = "", i2(i2.s = 98);
      }([function(t2, e2, i2) {
        "use strict";
        i2.d(e2, "b", function() {
          return n;
        }), i2.d(e2, "a", function() {
          return o;
        });
        class n extends Error {
          constructor(t3, e3, i3) {
            t3 = o(t3), i3 && (t3 += " " + JSON.stringify(i3)), super(t3), this.name = "CKEditorError", this.context = e3, this.data = i3;
          }
          is(t3) {
            return "CKEditorError" === t3;
          }
          static rethrowUnexpectedError(t3, e3) {
            if (t3.is && t3.is("CKEditorError")) throw t3;
            const i3 = new n(t3.message, e3);
            throw i3.stack = t3.stack, i3;
          }
        }
        function o(t3) {
          const e3 = t3.match(/^([^:]+):/);
          return e3 ? t3 + ` Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-${e3[1]}
` : t3;
        }
      }, function(t2, e2, i2) {
        "use strict";
        var n, o = function() {
          return void 0 === n && (n = Boolean(window && document && document.all && !window.atob)), n;
        }, r = /* @__PURE__ */ function() {
          var t3 = {};
          return function(e3) {
            if (void 0 === t3[e3]) {
              var i3 = document.querySelector(e3);
              if (window.HTMLIFrameElement && i3 instanceof window.HTMLIFrameElement) try {
                i3 = i3.contentDocument.head;
              } catch (t4) {
                i3 = null;
              }
              t3[e3] = i3;
            }
            return t3[e3];
          };
        }(), s3 = [];
        function a3(t3) {
          for (var e3 = -1, i3 = 0; i3 < s3.length; i3++) if (s3[i3].identifier === t3) {
            e3 = i3;
            break;
          }
          return e3;
        }
        function l(t3, e3) {
          for (var i3 = {}, n2 = [], o2 = 0; o2 < t3.length; o2++) {
            var r2 = t3[o2], l2 = e3.base ? r2[0] + e3.base : r2[0], c3 = i3[l2] || 0, d4 = "".concat(l2, " ").concat(c3);
            i3[l2] = c3 + 1;
            var h4 = a3(d4), u3 = { css: r2[1], media: r2[2], sourceMap: r2[3] };
            -1 !== h4 ? (s3[h4].references++, s3[h4].updater(u3)) : s3.push({ identifier: d4, updater: p(u3, e3), references: 1 }), n2.push(d4);
          }
          return n2;
        }
        function c2(t3) {
          var e3 = document.createElement("style"), n2 = t3.attributes || {};
          if (void 0 === n2.nonce) {
            var o2 = i2.nc;
            o2 && (n2.nonce = o2);
          }
          if (Object.keys(n2).forEach(function(t4) {
            e3.setAttribute(t4, n2[t4]);
          }), "function" == typeof t3.insert) t3.insert(e3);
          else {
            var s4 = r(t3.insert || "head");
            if (!s4) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
            s4.appendChild(e3);
          }
          return e3;
        }
        var d3, h3 = (d3 = [], function(t3, e3) {
          return d3[t3] = e3, d3.filter(Boolean).join("\n");
        });
        function u2(t3, e3, i3, n2) {
          var o2 = i3 ? "" : n2.media ? "@media ".concat(n2.media, " {").concat(n2.css, "}") : n2.css;
          if (t3.styleSheet) t3.styleSheet.cssText = h3(e3, o2);
          else {
            var r2 = document.createTextNode(o2), s4 = t3.childNodes;
            s4[e3] && t3.removeChild(s4[e3]), s4.length ? t3.insertBefore(r2, s4[e3]) : t3.appendChild(r2);
          }
        }
        function m3(t3, e3, i3) {
          var n2 = i3.css, o2 = i3.media, r2 = i3.sourceMap;
          if (o2 ? t3.setAttribute("media", o2) : t3.removeAttribute("media"), r2 && btoa && (n2 += "\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r2)))), " */")), t3.styleSheet) t3.styleSheet.cssText = n2;
          else {
            for (; t3.firstChild; ) t3.removeChild(t3.firstChild);
            t3.appendChild(document.createTextNode(n2));
          }
        }
        var g = null, f = 0;
        function p(t3, e3) {
          var i3, n2, o2;
          if (e3.singleton) {
            var r2 = f++;
            i3 = g || (g = c2(e3)), n2 = u2.bind(null, i3, r2, false), o2 = u2.bind(null, i3, r2, true);
          } else i3 = c2(e3), n2 = m3.bind(null, i3, e3), o2 = function() {
            !function(t4) {
              if (null === t4.parentNode) return false;
              t4.parentNode.removeChild(t4);
            }(i3);
          };
          return n2(t3), function(e4) {
            if (e4) {
              if (e4.css === t3.css && e4.media === t3.media && e4.sourceMap === t3.sourceMap) return;
              n2(t3 = e4);
            } else o2();
          };
        }
        t2.exports = function(t3, e3) {
          (e3 = e3 || {}).singleton || "boolean" == typeof e3.singleton || (e3.singleton = o());
          var i3 = l(t3 = t3 || [], e3);
          return function(t4) {
            if (t4 = t4 || [], "[object Array]" === Object.prototype.toString.call(t4)) {
              for (var n2 = 0; n2 < i3.length; n2++) {
                var o2 = a3(i3[n2]);
                s3[o2].references--;
              }
              for (var r2 = l(t4, e3), c3 = 0; c3 < i3.length; c3++) {
                var d4 = a3(i3[c3]);
                0 === s3[d4].references && (s3[d4].updater(), s3.splice(d4, 1));
              }
              i3 = r2;
            }
          };
        };
      }, , function(t2, e2, i2) {
        "use strict";
        var n = i2(7), o = "object" == typeof self && self && self.Object === Object && self, r = n.a || o || Function("return this")();
        e2.a = r;
      }, function(t2, e2, i2) {
        "use strict";
        (function(t3) {
          var n = i2(3), o = i2(12), r = "object" == typeof exports && exports && !exports.nodeType && exports, s3 = r && "object" == typeof t3 && t3 && !t3.nodeType && t3, a3 = s3 && s3.exports === r ? n.a.Buffer : void 0, l = (a3 ? a3.isBuffer : void 0) || o.a;
          e2.a = l;
        }).call(this, i2(9)(t2));
      }, function(t2, e2, i2) {
        "use strict";
        (function(t3) {
          var n = i2(7), o = "object" == typeof exports && exports && !exports.nodeType && exports, r = o && "object" == typeof t3 && t3 && !t3.nodeType && t3, s3 = r && r.exports === o && n.a.process, a3 = function() {
            try {
              var t4 = r && r.require && r.require("util").types;
              return t4 || s3 && s3.binding && s3.binding("util");
            } catch (t5) {
            }
          }();
          e2.a = a3;
        }).call(this, i2(9)(t2));
      }, function(t2, e2, i2) {
        "use strict";
        (function(t3) {
          var e3 = i2(0);
          const n = "object" == typeof window ? window : t3;
          if (n.CKEDITOR_VERSION) throw new e3.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.", null);
          n.CKEDITOR_VERSION = "19.0.0";
        }).call(this, i2(10));
      }, function(t2, e2, i2) {
        "use strict";
        (function(t3) {
          var i3 = "object" == typeof t3 && t3 && t3.Object === Object && t3;
          e2.a = i3;
        }).call(this, i2(10));
      }, function(t2, e2, i2) {
        "use strict";
        (function(t3) {
          var n = i2(3), o = "object" == typeof exports && exports && !exports.nodeType && exports, r = o && "object" == typeof t3 && t3 && !t3.nodeType && t3, s3 = r && r.exports === o ? n.a.Buffer : void 0, a3 = s3 ? s3.allocUnsafe : void 0;
          e2.a = function(t4, e3) {
            if (e3) return t4.slice();
            var i3 = t4.length, n2 = a3 ? a3(i3) : new t4.constructor(i3);
            return t4.copy(n2), n2;
          };
        }).call(this, i2(9)(t2));
      }, function(t2, e2) {
        t2.exports = function(t3) {
          if (!t3.webpackPolyfill) {
            var e3 = Object.create(t3);
            e3.children || (e3.children = []), Object.defineProperty(e3, "loaded", { enumerable: true, get: function() {
              return e3.l;
            } }), Object.defineProperty(e3, "id", { enumerable: true, get: function() {
              return e3.i;
            } }), Object.defineProperty(e3, "exports", { enumerable: true }), e3.webpackPolyfill = 1;
          }
          return e3;
        };
      }, function(t2, e2) {
        var i2;
        i2 = /* @__PURE__ */ function() {
          return this;
        }();
        try {
          i2 = i2 || new Function("return this")();
        } catch (t3) {
          "object" == typeof window && (i2 = window);
        }
        t2.exports = i2;
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(70);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2, i2) {
        "use strict";
        e2.a = function() {
          return false;
        };
      }, function(t2) {
        t2.exports = JSON.parse('{"ar":{"latex":"LaTeX","cancel":"\u0625\u0644\u063A\u0627\u0621","accept":"\u0645\u0648\u0627\uFFFD?\u0642","manual":"\u0627\u0644\u062F\u0644\u064A\u0644","insert_math":"\u0625\u062F\u0631\u0627\u062C \u0635\u064A\u063A\u0629 \u0631\u064A\u0627\u0636\u064A\u0629 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ca":{"latex":"LaTeX","cancel":"Cancel\xB7lar","accept":"Acceptar","manual":"Manual","insert_math":"Inserir f\xF3rmula matem\xE0tica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"cs":{"latex":"LaTeX","cancel":"Storno","accept":"OK","manual":"P\u0159\xEDru\uFFFD?ka","insert_math":"Vlo\u017Eit matematick\xFD vzorec - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"da":{"latex":"LaTeX","cancel":"Annuller","accept":"OK","manual":"Brugervejledning","insert_math":"Inds\xE6t matematisk formel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"de":{"latex":"LaTeX","cancel":"Abbrechen","accept":"OK","manual":"Handbuch","insert_math":"Mathematische Formel einf\xFCgen - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"en":{"latex":"LaTeX","cancel":"Cancel","accept":"OK","manual":"Manual","insert_math":"Insert a math equation - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"es":{"latex":"LaTeX","cancel":"Cancelar","accept":"Aceptar","manual":"Manual","insert_math":"Insertar f\xF3rmula matem\xE1tica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"et":{"latex":"LaTeX","cancel":"Loobu","accept":"OK","manual":"K\xE4siraamat","insert_math":"Lisa matemaatiline valem \u2013 WIRIS","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"eu":{"latex":"LaTeX","cancel":"Ezeztatu","accept":"Onartu","manual":"Gida","insert_math":"Txertatu matematikako formula - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"fi":{"latex":"LaTeX","cancel":"Peruuta","accept":"OK","manual":"Manual","insert_math":"Liit\xE4 matemaattinen kaava - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"fr":{"latex":"LaTeX","cancel":"Annuler","accept":"OK","manual":"Manuel","insert_math":"Ins\xE9rer une formule math\xE9matique - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"gl":{"latex":"LaTeX","cancel":"Cancelar","accept":"Aceptar","manual":"Manual","insert_math":"Inserir f\xF3rmula matem\xE1tica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"he":{"latex":"LaTeX","cancel":"\u05D1\u05D9\u05D8\u05D5\u05DC","accept":"\uFFFD?\u05D9\u05E9\u05D5\u05E8","manual":"\u05DE\u05D3\u05E8\u05D9\u05DA","insert_math":"\u05D4\u05D5\u05E1\u05E3 \u05E0\u05D5\u05E1\u05D7\u05D4 \u05DE\u05EA\u05DE\u05D8\u05D9\u05EA - MathType","insert_chem":"\u05D4\u05D5\u05E1\u05E4\u05EA \u05DB\u05EA\u05D9\u05D1\u05D4 \u05DB\u05D9\u05DE\u05D9\u05EA - ChemType","minimize":"\u05DE\u05D6\u05E2\u05E8\u05D9","maximize":"\u05DE\u05E8\u05D1\u05D9","fullscreen":"\u05DE\u05E1\u05DA \u05DE\u05DC\uFFFD?","exit_fullscreen":"\u05D9\u05E6\u05D9\uFFFD?\u05D4 \u05DE\u05DE\u05E6\u05D1 \u05DE\u05E1\u05DA \u05DE\u05DC\uFFFD?","close":"\u05E1\u05D2\u05D9\u05E8\u05D4","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"\u05D4\uFFFD?\uFFFD? \u05DC\u05E6\uFFFD?\u05EA? \u05E9\u05D9\u05E0\u05D5\u05D9\u05D9\uFFFD? \uFFFD?\u05E9\u05E8 \u05D1\u05D5\u05E6\u05E2\u05D5 \u05D9\u05DE\u05D7\u05E7\u05D5.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" \uFFFD?\u05D9\u05E0\u05E0\u05D4 \u05E4\u05D5\u05E0\u05E7\u05E6\u05D9\u05D4","exception_invalid_date_format":"\u05EA\u05E1\u05D3\u05D9\u05E8 \u05EA\uFFFD?\u05E8\u05D9\u05DA \uFFFD?\u05D9\u05E0\u05D5 \u05EA\u05E7\u05D9\u05DF : ","exception_casting":"\u05DC\uFFFD? \u05E0\u05D9\u05EA\u05DF \u05DC\u05D4\u05DE\u05D9\u05E8 ","exception_casting_to":" \u05DC "},"hr":{"latex":"LaTeX","cancel":"Poni\u0161ti","accept":"U redu","manual":"Priru\uFFFD?nik","insert_math":"Umetnite matemati\uFFFD?ku formulu - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"hu":{"latex":"LaTeX","cancel":"M\xE9gsem","accept":"OK","manual":"K\xE9zik\xF6nyv","insert_math":"Matematikai k\xE9plet besz\xFAr\xE1sa - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"it":{"latex":"LaTeX","cancel":"Annulla","accept":"Accetta","manual":"Manuale","insert_math":"Inserisci una formula matematica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ja":{"latex":"LaTeX","cancel":"\u30AD\u30E3\u30F3\u30BB\u30EB","accept":"OK","manual":"\u30DE\u30CB\u30E5\u30A2\u30EB","insert_math":"\u6570\uFFFD?\u3092\u633F\u5165 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ko":{"latex":"LaTeX","cancel":"\uCDE8\uC18C","accept":"\uC2B9\uFFFD?\uFFFD","manual":"\uC124\uBA85\uC11C","insert_math":"\uC218\uD559 \uACF5\uFFFD? \uC0BD\uC785 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"nl":{"latex":"LaTeX","cancel":"Annuleren","accept":"OK","manual":"Handleiding","insert_math":"Wiskundige formule invoegen - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"no":{"latex":"LaTeX","cancel":"Avbryt","accept":"OK","manual":"H\xE5ndbok","insert_math":"Sett inn matematikkformel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pl":{"latex":"LaTeX","cancel":"Anuluj","accept":"OK","manual":"Instrukcja","insert_math":"Wstaw formu\u0142\u0119 matematyczn\u0105 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pt":{"latex":"LaTeX","cancel":"Cancelar","accept":"OK","manual":"Manual","insert_math":"Inserir f\xF3rmula matem\xE1tica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"pt_br":{"latex":"LaTeX","cancel":"Cancelar","accept":"OK","manual":"Manual","insert_math":"Inserir f\xF3rmula matem\xE1tica - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"ru":{"latex":"LaTeX","cancel":"\u043E\u0442\u043C\u0435\u043D\u0430","accept":"OK","manual":"\u0432\u0440\u0443\u0447\u043D\u0443\u044E","insert_math":"\u0412\uFFFD?\u0442\u0430\u0432\u0438\u0442\u044C \u043C\u0430\u0442\u0435\u043C\u0430\u0442\u0438\u0447\u0435\uFFFD?\u043A\u0443\u044E \u0444\u043E\u0440\u043C\u0443\u043B\u0443: WIRIS","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"sv":{"latex":"LaTeX","cancel":"Avbryt","accept":"OK","manual":"Bruksanvisning","insert_math":"Infoga matematisk formel - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"tr":{"latex":"LaTeX","cancel":"Vazge\xE7","accept":"Tamam","manual":"K\u0131lavuz","insert_math":"Matematik form\xFCl\xFC ekle - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"zh":{"latex":"LaTeX","cancel":"\uFFFD?\uFFFD\u6D88","accept":"\u786E\u5B9A","manual":"\u624B\u518C","insert_math":"\uFFFD?\uFFFD\u5165\u6570\u5B66\u516C\uFFFD? - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"el":{"latex":"LaTeX","cancel":"\u0386\u03BA\u03C5\uFFFD?\u03BF","accept":"\u039F\u039A","manual":"\u03A7\u03B5\u03B9\uFFFD?\u03BF\u03BA\u03AF\u03BD\u03B7\u03C4\u03B1","insert_math":"\u0395\u03B9\u03C3\u03B1\u03B3\u03C9\u03B3\u03AE \u03BC\u03B1\u03B8\u03B7\u03BC\u03B1\u03C4\u03B9\u03BA\u03BF\uFFFD? \u03C4\uFFFD?\u03C0\u03BF\u03C5 - MathType","insert_chem":"Insert a chemistry formula - ChemType","minimize":"Minimize","maximize":"Maximize","fullscreen":"Full-screen","exit_fullscreen":"Exit full-screen","close":"Close","mathtype":"MathType","title_modalwindow":"MathType modal window","close_modal_warning":"Are you sure you want to leave? The changes you made will be lost.","latex_name_label":"Latex Formula","browser_no_compatible":"Your browser is not compatible with AJAX technology. Please, use the latest version of Mozilla Firefox.","error_convert_accessibility":"Error converting from MathML to accessible text.","exception_cross_site":"Cross site scripting is only allowed for HTTP.","exception_high_surrogate":"High surrogate not followed by low surrogate in fixedCharCodeAt()","exception_string_length":"Invalid string. Length must be a multiple of 4","exception_key_nonobject":"Object.keys called on non-object","exception_null_or_undefined":" this is null or not defined","exception_not_function":" is not a function","exception_invalid_date_format":"Invalid date format : ","exception_casting":"Cannot cast ","exception_casting_to":" to "},"":{}}');
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(15);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(17);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#1f89e5;--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(19);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(21);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(23);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(25);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(27);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(29);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = '.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}';
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(31);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(33);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(35);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(37);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(39);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(41);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(43);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(45);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(47);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(49);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(51);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(53);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(55);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(57);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}';
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(59);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(61);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(63);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(65);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(67);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = '.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}';
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(69);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = '.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}';
      }, function(t2, e2) {
        t2.exports = ".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(72);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(74);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(76);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(78);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(80);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = '.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}';
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(82);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(84);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(86);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(88);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(90);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}";
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(92);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}';
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(94);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}";
      }, function(module, __webpack_exports__, __webpack_require__) {
        "use strict";
        var md5, _unused_webpack_default_export = md5;
        !function() {
          var HxOverrides = function() {
          };
          HxOverrides.__name__ = true, HxOverrides.dateStr = function(t2) {
            var e2 = t2.getMonth() + 1, i2 = t2.getDate(), n = t2.getHours(), o = t2.getMinutes(), r = t2.getSeconds();
            return t2.getFullYear() + "-" + (e2 < 10 ? "0" + e2 : "" + e2) + "-" + (i2 < 10 ? "0" + i2 : "" + i2) + " " + (n < 10 ? "0" + n : "" + n) + ":" + (o < 10 ? "0" + o : "" + o) + ":" + (r < 10 ? "0" + r : "" + r);
          }, HxOverrides.strDate = function(t2) {
            switch (t2.length) {
              case 8:
                var e2 = t2.split(":"), i2 = /* @__PURE__ */ new Date();
                return i2.setTime(0), i2.setUTCHours(e2[0]), i2.setUTCMinutes(e2[1]), i2.setUTCSeconds(e2[2]), i2;
              case 10:
                e2 = t2.split("-");
                return new Date(e2[0], e2[1] - 1, e2[2], 0, 0, 0);
              case 19:
                var n = (e2 = t2.split(" "))[0].split("-"), o = e2[1].split(":");
                return new Date(n[0], n[1] - 1, n[2], o[0], o[1], o[2]);
              default:
                throw "Invalid date format : " + t2;
            }
          }, HxOverrides.cca = function(t2, e2) {
            var i2 = t2.charCodeAt(e2);
            if (i2 == i2) return i2;
          }, HxOverrides.substr = function(t2, e2, i2) {
            return null != e2 && 0 != e2 && null != i2 && i2 < 0 ? "" : (null == i2 && (i2 = t2.length), e2 < 0 ? (e2 = t2.length + e2) < 0 && (e2 = 0) : i2 < 0 && (i2 = t2.length + i2 - e2), t2.substr(e2, i2));
          }, HxOverrides.remove = function(t2, e2) {
            for (var i2 = 0, n = t2.length; i2 < n; ) {
              if (t2[i2] == e2) return t2.splice(i2, 1), true;
              i2++;
            }
            return false;
          }, HxOverrides.iter = function(t2) {
            return { cur: 0, arr: t2, hasNext: function() {
              return this.cur < this.arr.length;
            }, next: function() {
              return this.arr[this.cur++];
            } };
          };
          var IntIter = function(t2, e2) {
            this.min = t2, this.max = e2;
          };
          IntIter.__name__ = true, IntIter.prototype = { next: function() {
            return this.min++;
          }, hasNext: function() {
            return this.min < this.max;
          }, __class__: IntIter };
          var Std = function() {
          };
          Std.__name__ = true, Std.is = function(t2, e2) {
            return js.Boot.__instanceof(t2, e2);
          }, Std.string = function(t2) {
            return js.Boot.__string_rec(t2, "");
          }, Std.int = function(t2) {
            return 0 | t2;
          }, Std.parseInt = function(t2) {
            var e2 = parseInt(t2, 10);
            return 0 != e2 || 120 != HxOverrides.cca(t2, 1) && 88 != HxOverrides.cca(t2, 1) || (e2 = parseInt(t2)), isNaN(e2) ? null : e2;
          }, Std.parseFloat = function(t2) {
            return parseFloat(t2);
          }, Std.random = function(t2) {
            return Math.floor(Math.random() * t2);
          };
          var com = com || {};
          com.wiris || (com.wiris = {}), com.wiris.js || (com.wiris.js = {}), com.wiris.js.JsPluginTools = function() {
            this.tryReady();
          }, com.wiris.js.JsPluginTools.__name__ = true, com.wiris.js.JsPluginTools.main = function() {
            var t2;
            t2 = com.wiris.js.JsPluginTools.getInstance(), haxe.Timer.delay($bind(t2, t2.tryReady), 100);
          }, com.wiris.js.JsPluginTools.getInstance = function() {
            return null == com.wiris.js.JsPluginTools.instance && (com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools()), com.wiris.js.JsPluginTools.instance;
          }, com.wiris.js.JsPluginTools.bypassEncapsulation = function() {
            null == window.com && (window.com = {}), null == window.com.wiris && (window.com.wiris = {}), null == window.com.wiris.js && (window.com.wiris.js = {}), null == window.com.wiris.js.JsPluginTools && (window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance());
          }, com.wiris.js.JsPluginTools.prototype = { md5encode: function(t2) {
            return haxe.Md5.encode(t2);
          }, doLoad: function() {
            this.ready = true, com.wiris.js.JsPluginTools.instance = this, com.wiris.js.JsPluginTools.bypassEncapsulation();
          }, tryReady: function() {
            this.ready = false, js.Lib.document.readyState && (this.doLoad(), this.ready = true), this.ready || haxe.Timer.delay($bind(this, this.tryReady), 100);
          }, __class__: com.wiris.js.JsPluginTools };
          var haxe = haxe || {};
          haxe.Log = function() {
          }, haxe.Log.__name__ = true, haxe.Log.trace = function(t2, e2) {
            js.Boot.__trace(t2, e2);
          }, haxe.Log.clear = function() {
            js.Boot.__clear_trace();
          }, haxe.Md5 = function() {
          }, haxe.Md5.__name__ = true, haxe.Md5.encode = function(t2) {
            return new haxe.Md5().doEncode(t2);
          }, haxe.Md5.prototype = { doEncode: function(t2) {
            for (var e2 = this.str2blks(t2), i2 = 1732584193, n = -271733879, o = -1732584194, r = 271733878, s3 = 0; s3 < e2.length; ) {
              var a3 = i2, l = n, c2 = o, d3 = r;
              0, i2 = this.ff(i2, n, o, r, e2[s3], 7, -680876936), r = this.ff(r, i2, n, o, e2[s3 + 1], 12, -389564586), o = this.ff(o, r, i2, n, e2[s3 + 2], 17, 606105819), n = this.ff(n, o, r, i2, e2[s3 + 3], 22, -1044525330), i2 = this.ff(i2, n, o, r, e2[s3 + 4], 7, -176418897), r = this.ff(r, i2, n, o, e2[s3 + 5], 12, 1200080426), o = this.ff(o, r, i2, n, e2[s3 + 6], 17, -1473231341), n = this.ff(n, o, r, i2, e2[s3 + 7], 22, -45705983), i2 = this.ff(i2, n, o, r, e2[s3 + 8], 7, 1770035416), r = this.ff(r, i2, n, o, e2[s3 + 9], 12, -1958414417), o = this.ff(o, r, i2, n, e2[s3 + 10], 17, -42063), n = this.ff(n, o, r, i2, e2[s3 + 11], 22, -1990404162), i2 = this.ff(i2, n, o, r, e2[s3 + 12], 7, 1804603682), r = this.ff(r, i2, n, o, e2[s3 + 13], 12, -40341101), o = this.ff(o, r, i2, n, e2[s3 + 14], 17, -1502002290), n = this.ff(n, o, r, i2, e2[s3 + 15], 22, 1236535329), i2 = this.gg(i2, n, o, r, e2[s3 + 1], 5, -165796510), r = this.gg(r, i2, n, o, e2[s3 + 6], 9, -1069501632), o = this.gg(o, r, i2, n, e2[s3 + 11], 14, 643717713), n = this.gg(n, o, r, i2, e2[s3], 20, -373897302), i2 = this.gg(i2, n, o, r, e2[s3 + 5], 5, -701558691), r = this.gg(r, i2, n, o, e2[s3 + 10], 9, 38016083), o = this.gg(o, r, i2, n, e2[s3 + 15], 14, -660478335), n = this.gg(n, o, r, i2, e2[s3 + 4], 20, -405537848), i2 = this.gg(i2, n, o, r, e2[s3 + 9], 5, 568446438), r = this.gg(r, i2, n, o, e2[s3 + 14], 9, -1019803690), o = this.gg(o, r, i2, n, e2[s3 + 3], 14, -187363961), n = this.gg(n, o, r, i2, e2[s3 + 8], 20, 1163531501), i2 = this.gg(i2, n, o, r, e2[s3 + 13], 5, -1444681467), r = this.gg(r, i2, n, o, e2[s3 + 2], 9, -51403784), o = this.gg(o, r, i2, n, e2[s3 + 7], 14, 1735328473), n = this.gg(n, o, r, i2, e2[s3 + 12], 20, -1926607734), i2 = this.hh(i2, n, o, r, e2[s3 + 5], 4, -378558), r = this.hh(r, i2, n, o, e2[s3 + 8], 11, -2022574463), o = this.hh(o, r, i2, n, e2[s3 + 11], 16, 1839030562), n = this.hh(n, o, r, i2, e2[s3 + 14], 23, -35309556), i2 = this.hh(i2, n, o, r, e2[s3 + 1], 4, -1530992060), r = this.hh(r, i2, n, o, e2[s3 + 4], 11, 1272893353), o = this.hh(o, r, i2, n, e2[s3 + 7], 16, -155497632), n = this.hh(n, o, r, i2, e2[s3 + 10], 23, -1094730640), i2 = this.hh(i2, n, o, r, e2[s3 + 13], 4, 681279174), r = this.hh(r, i2, n, o, e2[s3], 11, -358537222), o = this.hh(o, r, i2, n, e2[s3 + 3], 16, -722521979), n = this.hh(n, o, r, i2, e2[s3 + 6], 23, 76029189), i2 = this.hh(i2, n, o, r, e2[s3 + 9], 4, -640364487), r = this.hh(r, i2, n, o, e2[s3 + 12], 11, -421815835), o = this.hh(o, r, i2, n, e2[s3 + 15], 16, 530742520), n = this.hh(n, o, r, i2, e2[s3 + 2], 23, -995338651), i2 = this.ii(i2, n, o, r, e2[s3], 6, -198630844), r = this.ii(r, i2, n, o, e2[s3 + 7], 10, 1126891415), o = this.ii(o, r, i2, n, e2[s3 + 14], 15, -1416354905), n = this.ii(n, o, r, i2, e2[s3 + 5], 21, -57434055), i2 = this.ii(i2, n, o, r, e2[s3 + 12], 6, 1700485571), r = this.ii(r, i2, n, o, e2[s3 + 3], 10, -1894986606), o = this.ii(o, r, i2, n, e2[s3 + 10], 15, -1051523), n = this.ii(n, o, r, i2, e2[s3 + 1], 21, -2054922799), i2 = this.ii(i2, n, o, r, e2[s3 + 8], 6, 1873313359), r = this.ii(r, i2, n, o, e2[s3 + 15], 10, -30611744), o = this.ii(o, r, i2, n, e2[s3 + 6], 15, -1560198380), n = this.ii(n, o, r, i2, e2[s3 + 13], 21, 1309151649), i2 = this.ii(i2, n, o, r, e2[s3 + 4], 6, -145523070), r = this.ii(r, i2, n, o, e2[s3 + 11], 10, -1120210379), o = this.ii(o, r, i2, n, e2[s3 + 2], 15, 718787259), n = this.ii(n, o, r, i2, e2[s3 + 9], 21, -343485551), i2 = this.addme(i2, a3), n = this.addme(n, l), o = this.addme(o, c2), r = this.addme(r, d3), s3 += 16;
            }
            return this.rhex(i2) + this.rhex(n) + this.rhex(o) + this.rhex(r);
          }, ii: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitXOR(i2, this.bitOR(e2, ~n)), t2, e2, o, r, s3);
          }, hh: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitXOR(this.bitXOR(e2, i2), n), t2, e2, o, r, s3);
          }, gg: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitOR(this.bitAND(e2, n), this.bitAND(i2, ~n)), t2, e2, o, r, s3);
          }, ff: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitOR(this.bitAND(e2, i2), this.bitAND(~e2, n)), t2, e2, o, r, s3);
          }, cmn: function(t2, e2, i2, n, o, r) {
            return this.addme(this.rol(this.addme(this.addme(e2, t2), this.addme(n, r)), o), i2);
          }, rol: function(t2, e2) {
            return t2 << e2 | t2 >>> 32 - e2;
          }, str2blks: function(t2) {
            for (var e2 = 1 + (t2.length + 8 >> 6), i2 = new Array(), n = 0, o = 16 * e2; n < o; ) {
              i2[r = n++] = 0;
            }
            for (var r = 0; r < t2.length; ) i2[r >> 2] |= HxOverrides.cca(t2, r) << (8 * t2.length + r) % 4 * 8, r++;
            i2[r >> 2] |= 128 << (8 * t2.length + r) % 4 * 8;
            var s3 = 8 * t2.length, a3 = 16 * e2 - 2;
            return i2[a3] = 255 & s3, i2[a3] |= (s3 >>> 8 & 255) << 8, i2[a3] |= (s3 >>> 16 & 255) << 16, i2[a3] |= (s3 >>> 24 & 255) << 24, i2;
          }, rhex: function(t2) {
            for (var e2 = "", i2 = 0; i2 < 4; ) {
              var n = i2++;
              e2 += "0123456789abcdef".charAt(t2 >> 8 * n + 4 & 15) + "0123456789abcdef".charAt(t2 >> 8 * n & 15);
            }
            return e2;
          }, addme: function(t2, e2) {
            var i2 = (65535 & t2) + (65535 & e2);
            return (t2 >> 16) + (e2 >> 16) + (i2 >> 16) << 16 | 65535 & i2;
          }, bitAND: function(t2, e2) {
            return (t2 >>> 1 & e2 >>> 1) << 1 | 1 & t2 & e2;
          }, bitXOR: function(t2, e2) {
            return (t2 >>> 1 ^ e2 >>> 1) << 1 | 1 & t2 ^ 1 & e2;
          }, bitOR: function(t2, e2) {
            return (t2 >>> 1 | e2 >>> 1) << 1 | (1 & t2 | 1 & e2);
          }, __class__: haxe.Md5 }, haxe.Timer = function(t2) {
            var e2 = this;
            this.id = window.setInterval(function() {
              e2.run();
            }, t2);
          }, haxe.Timer.__name__ = true, haxe.Timer.delay = function(t2, e2) {
            var i2 = new haxe.Timer(e2);
            return i2.run = function() {
              i2.stop(), t2();
            }, i2;
          }, haxe.Timer.measure = function(t2, e2) {
            var i2 = haxe.Timer.stamp(), n = t2();
            return haxe.Log.trace(haxe.Timer.stamp() - i2 + "s", e2), n;
          }, haxe.Timer.stamp = function() {
            return (/* @__PURE__ */ new Date()).getTime() / 1e3;
          }, haxe.Timer.prototype = { run: function() {
          }, stop: function() {
            null != this.id && (window.clearInterval(this.id), this.id = null);
          }, __class__: haxe.Timer };
          var js = js || {}, $_;
          function $bind(t2, e2) {
            var i2 = function() {
              return i2.method.apply(i2.scope, arguments);
            };
            return i2.scope = t2, i2.method = e2, i2;
          }
          js.Boot = function() {
          }, js.Boot.__name__ = true, js.Boot.__unhtml = function(t2) {
            return t2.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
          }, js.Boot.__trace = function(t2, e2) {
            var i2, n = null != e2 ? e2.fileName + ":" + e2.lineNumber + ": " : "";
            n += js.Boot.__string_rec(t2, ""), "undefined" != typeof document && null != (i2 = document.getElementById("haxe:trace")) ? i2.innerHTML += js.Boot.__unhtml(n) + "<br/>" : "undefined" != typeof console && null != console.log && console.log(n);
          }, js.Boot.__clear_trace = function() {
            var t2 = document.getElementById("haxe:trace");
            null != t2 && (t2.innerHTML = "");
          }, js.Boot.isClass = function(t2) {
            return t2.__name__;
          }, js.Boot.isEnum = function(t2) {
            return t2.__ename__;
          }, js.Boot.getClass = function(t2) {
            return t2.__class__;
          }, js.Boot.__string_rec = function(t2, e2) {
            if (null == t2) return "null";
            if (e2.length >= 5) return "<...>";
            var i2 = typeof t2;
            switch ("function" == i2 && (t2.__name__ || t2.__ename__) && (i2 = "object"), i2) {
              case "object":
                if (t2 instanceof Array) {
                  if (t2.__enum__) {
                    if (2 == t2.length) return t2[0];
                    var n = t2[0] + "(";
                    e2 += "	";
                    for (var o = 2, r = t2.length; o < r; ) {
                      n += 2 != (s3 = o++) ? "," + js.Boot.__string_rec(t2[s3], e2) : js.Boot.__string_rec(t2[s3], e2);
                    }
                    return n + ")";
                  }
                  var s3, a3 = t2.length;
                  n = "[";
                  e2 += "	";
                  for (r = 0; r < a3; ) {
                    var l = r++;
                    n += (l > 0 ? "," : "") + js.Boot.__string_rec(t2[l], e2);
                  }
                  return n += "]";
                }
                var c2;
                try {
                  c2 = t2.toString;
                } catch (t3) {
                  return "???";
                }
                if (null != c2 && c2 != Object.toString) {
                  var d3 = t2.toString();
                  if ("[object Object]" != d3) return d3;
                }
                var h3 = null;
                n = "{\n";
                e2 += "	";
                var u2 = null != t2.hasOwnProperty;
                for (var h3 in t2) u2 && !t2.hasOwnProperty(h3) || "prototype" != h3 && "__class__" != h3 && "__super__" != h3 && "__interfaces__" != h3 && "__properties__" != h3 && (2 != n.length && (n += ", \n"), n += e2 + h3 + " : " + js.Boot.__string_rec(t2[h3], e2));
                return n += "\n" + (e2 = e2.substring(1)) + "}";
              case "function":
                return "<function>";
              case "string":
                return t2;
              default:
                return String(t2);
            }
          }, js.Boot.__interfLoop = function(t2, e2) {
            if (null == t2) return false;
            if (t2 == e2) return true;
            var i2 = t2.__interfaces__;
            if (null != i2) for (var n = 0, o = i2.length; n < o; ) {
              var r = i2[n++];
              if (r == e2 || js.Boot.__interfLoop(r, e2)) return true;
            }
            return js.Boot.__interfLoop(t2.__super__, e2);
          }, js.Boot.__instanceof = function(t2, e2) {
            try {
              if (t2 instanceof e2) return e2 != Array || null == t2.__enum__;
              if (js.Boot.__interfLoop(t2.__class__, e2)) return true;
            } catch (t3) {
              if (null == e2) return false;
            }
            switch (e2) {
              case Int:
                return Math.ceil(t2 % 2147483648) === t2;
              case Float:
                return "number" == typeof t2;
              case Bool:
                return true === t2 || false === t2;
              case String:
                return "string" == typeof t2;
              case Dynamic:
                return true;
              default:
                return null != t2 && (e2 == Class && null != t2.__name__ || (e2 == Enum && null != t2.__ename__ || t2.__enum__ == e2));
            }
          }, js.Boot.__cast = function(t2, e2) {
            if (js.Boot.__instanceof(t2, e2)) return t2;
            throw "Cannot cast " + Std.string(t2) + " to " + Std.string(e2);
          }, js.Lib = function() {
          }, js.Lib.__name__ = true, js.Lib.debug = function() {
          }, js.Lib.alert = function(t2) {
            alert(js.Boot.__string_rec(t2, ""));
          }, js.Lib.eval = function(code) {
            return eval(code);
          }, js.Lib.setErrorHandler = function(t2) {
            js.Lib.onerror = t2;
          }, Array.prototype.indexOf && (HxOverrides.remove = function(t2, e2) {
            var i2 = t2.indexOf(e2);
            return -1 != i2 && (t2.splice(i2, 1), true);
          }), Math.__name__ = ["Math"], Math.NaN = Number.NaN, Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY, Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY, Math.isFinite = function(t2) {
            return isFinite(t2);
          }, Math.isNaN = function(t2) {
            return isNaN(t2);
          }, String.prototype.__class__ = String, String.__name__ = true, Array.prototype.__class__ = Array, Array.__name__ = true, Date.prototype.__class__ = Date, Date.__name__ = ["Date"];
          var Int = { __name__: ["Int"] }, Dynamic = { __name__: ["Dynamic"] }, Float = Number;
          Float.__name__ = ["Float"];
          var Bool = Boolean;
          Bool.__ename__ = ["Bool"];
          var Class = { __name__: ["Class"] }, Enum = {}, Void = { __ename__: ["Void"] };
          "undefined" != typeof document && (js.Lib.document = document), "undefined" != typeof window && (js.Lib.window = window, js.Lib.window.onerror = function(t2, e2, i2) {
            var n = js.Lib.onerror;
            return null != n && n(t2, [e2 + ":" + i2]);
          }), com.wiris.js.JsPluginTools.main(), delete Array.prototype.__class__;
        }(), function() {
          var HxOverrides = function() {
          };
          HxOverrides.__name__ = true, HxOverrides.dateStr = function(t2) {
            var e2 = t2.getMonth() + 1, i2 = t2.getDate(), n = t2.getHours(), o = t2.getMinutes(), r = t2.getSeconds();
            return t2.getFullYear() + "-" + (e2 < 10 ? "0" + e2 : "" + e2) + "-" + (i2 < 10 ? "0" + i2 : "" + i2) + " " + (n < 10 ? "0" + n : "" + n) + ":" + (o < 10 ? "0" + o : "" + o) + ":" + (r < 10 ? "0" + r : "" + r);
          }, HxOverrides.strDate = function(t2) {
            switch (t2.length) {
              case 8:
                var e2 = t2.split(":"), i2 = /* @__PURE__ */ new Date();
                return i2.setTime(0), i2.setUTCHours(e2[0]), i2.setUTCMinutes(e2[1]), i2.setUTCSeconds(e2[2]), i2;
              case 10:
                e2 = t2.split("-");
                return new Date(e2[0], e2[1] - 1, e2[2], 0, 0, 0);
              case 19:
                var n = (e2 = t2.split(" "))[0].split("-"), o = e2[1].split(":");
                return new Date(n[0], n[1] - 1, n[2], o[0], o[1], o[2]);
              default:
                throw "Invalid date format : " + t2;
            }
          }, HxOverrides.cca = function(t2, e2) {
            var i2 = t2.charCodeAt(e2);
            if (i2 == i2) return i2;
          }, HxOverrides.substr = function(t2, e2, i2) {
            return null != e2 && 0 != e2 && null != i2 && i2 < 0 ? "" : (null == i2 && (i2 = t2.length), e2 < 0 ? (e2 = t2.length + e2) < 0 && (e2 = 0) : i2 < 0 && (i2 = t2.length + i2 - e2), t2.substr(e2, i2));
          }, HxOverrides.remove = function(t2, e2) {
            for (var i2 = 0, n = t2.length; i2 < n; ) {
              if (t2[i2] == e2) return t2.splice(i2, 1), true;
              i2++;
            }
            return false;
          }, HxOverrides.iter = function(t2) {
            return { cur: 0, arr: t2, hasNext: function() {
              return this.cur < this.arr.length;
            }, next: function() {
              return this.arr[this.cur++];
            } };
          };
          var IntIter = function(t2, e2) {
            this.min = t2, this.max = e2;
          };
          IntIter.__name__ = true, IntIter.prototype = { next: function() {
            return this.min++;
          }, hasNext: function() {
            return this.min < this.max;
          }, __class__: IntIter };
          var Std = function() {
          };
          Std.__name__ = true, Std.is = function(t2, e2) {
            return js.Boot.__instanceof(t2, e2);
          }, Std.string = function(t2) {
            return js.Boot.__string_rec(t2, "");
          }, Std.int = function(t2) {
            return 0 | t2;
          }, Std.parseInt = function(t2) {
            var e2 = parseInt(t2, 10);
            return 0 != e2 || 120 != HxOverrides.cca(t2, 1) && 88 != HxOverrides.cca(t2, 1) || (e2 = parseInt(t2)), isNaN(e2) ? null : e2;
          }, Std.parseFloat = function(t2) {
            return parseFloat(t2);
          }, Std.random = function(t2) {
            return Math.floor(Math.random() * t2);
          };
          var com = com || {};
          com.wiris || (com.wiris = {}), com.wiris.js || (com.wiris.js = {}), com.wiris.js.JsPluginTools = function() {
            this.tryReady();
          }, com.wiris.js.JsPluginTools.__name__ = true, com.wiris.js.JsPluginTools.main = function() {
            var t2;
            t2 = com.wiris.js.JsPluginTools.getInstance(), haxe.Timer.delay($bind(t2, t2.tryReady), 100);
          }, com.wiris.js.JsPluginTools.getInstance = function() {
            return null == com.wiris.js.JsPluginTools.instance && (com.wiris.js.JsPluginTools.instance = new com.wiris.js.JsPluginTools()), com.wiris.js.JsPluginTools.instance;
          }, com.wiris.js.JsPluginTools.bypassEncapsulation = function() {
            null == window.com && (window.com = {}), null == window.com.wiris && (window.com.wiris = {}), null == window.com.wiris.js && (window.com.wiris.js = {}), null == window.com.wiris.js.JsPluginTools && (window.com.wiris.js.JsPluginTools = com.wiris.js.JsPluginTools.getInstance());
          }, com.wiris.js.JsPluginTools.prototype = { md5encode: function(t2) {
            return haxe.Md5.encode(t2);
          }, doLoad: function() {
            this.ready = true, com.wiris.js.JsPluginTools.instance = this, com.wiris.js.JsPluginTools.bypassEncapsulation();
          }, tryReady: function() {
            this.ready = false, js.Lib.document.readyState && (this.doLoad(), this.ready = true), this.ready || haxe.Timer.delay($bind(this, this.tryReady), 100);
          }, __class__: com.wiris.js.JsPluginTools };
          var haxe = haxe || {};
          haxe.Log = function() {
          }, haxe.Log.__name__ = true, haxe.Log.trace = function(t2, e2) {
            js.Boot.__trace(t2, e2);
          }, haxe.Log.clear = function() {
            js.Boot.__clear_trace();
          }, haxe.Md5 = function() {
          }, haxe.Md5.__name__ = true, haxe.Md5.encode = function(t2) {
            return new haxe.Md5().doEncode(t2);
          }, haxe.Md5.prototype = { doEncode: function(t2) {
            for (var e2 = this.str2blks(t2), i2 = 1732584193, n = -271733879, o = -1732584194, r = 271733878, s3 = 0; s3 < e2.length; ) {
              var a3 = i2, l = n, c2 = o, d3 = r;
              0, i2 = this.ff(i2, n, o, r, e2[s3], 7, -680876936), r = this.ff(r, i2, n, o, e2[s3 + 1], 12, -389564586), o = this.ff(o, r, i2, n, e2[s3 + 2], 17, 606105819), n = this.ff(n, o, r, i2, e2[s3 + 3], 22, -1044525330), i2 = this.ff(i2, n, o, r, e2[s3 + 4], 7, -176418897), r = this.ff(r, i2, n, o, e2[s3 + 5], 12, 1200080426), o = this.ff(o, r, i2, n, e2[s3 + 6], 17, -1473231341), n = this.ff(n, o, r, i2, e2[s3 + 7], 22, -45705983), i2 = this.ff(i2, n, o, r, e2[s3 + 8], 7, 1770035416), r = this.ff(r, i2, n, o, e2[s3 + 9], 12, -1958414417), o = this.ff(o, r, i2, n, e2[s3 + 10], 17, -42063), n = this.ff(n, o, r, i2, e2[s3 + 11], 22, -1990404162), i2 = this.ff(i2, n, o, r, e2[s3 + 12], 7, 1804603682), r = this.ff(r, i2, n, o, e2[s3 + 13], 12, -40341101), o = this.ff(o, r, i2, n, e2[s3 + 14], 17, -1502002290), n = this.ff(n, o, r, i2, e2[s3 + 15], 22, 1236535329), i2 = this.gg(i2, n, o, r, e2[s3 + 1], 5, -165796510), r = this.gg(r, i2, n, o, e2[s3 + 6], 9, -1069501632), o = this.gg(o, r, i2, n, e2[s3 + 11], 14, 643717713), n = this.gg(n, o, r, i2, e2[s3], 20, -373897302), i2 = this.gg(i2, n, o, r, e2[s3 + 5], 5, -701558691), r = this.gg(r, i2, n, o, e2[s3 + 10], 9, 38016083), o = this.gg(o, r, i2, n, e2[s3 + 15], 14, -660478335), n = this.gg(n, o, r, i2, e2[s3 + 4], 20, -405537848), i2 = this.gg(i2, n, o, r, e2[s3 + 9], 5, 568446438), r = this.gg(r, i2, n, o, e2[s3 + 14], 9, -1019803690), o = this.gg(o, r, i2, n, e2[s3 + 3], 14, -187363961), n = this.gg(n, o, r, i2, e2[s3 + 8], 20, 1163531501), i2 = this.gg(i2, n, o, r, e2[s3 + 13], 5, -1444681467), r = this.gg(r, i2, n, o, e2[s3 + 2], 9, -51403784), o = this.gg(o, r, i2, n, e2[s3 + 7], 14, 1735328473), n = this.gg(n, o, r, i2, e2[s3 + 12], 20, -1926607734), i2 = this.hh(i2, n, o, r, e2[s3 + 5], 4, -378558), r = this.hh(r, i2, n, o, e2[s3 + 8], 11, -2022574463), o = this.hh(o, r, i2, n, e2[s3 + 11], 16, 1839030562), n = this.hh(n, o, r, i2, e2[s3 + 14], 23, -35309556), i2 = this.hh(i2, n, o, r, e2[s3 + 1], 4, -1530992060), r = this.hh(r, i2, n, o, e2[s3 + 4], 11, 1272893353), o = this.hh(o, r, i2, n, e2[s3 + 7], 16, -155497632), n = this.hh(n, o, r, i2, e2[s3 + 10], 23, -1094730640), i2 = this.hh(i2, n, o, r, e2[s3 + 13], 4, 681279174), r = this.hh(r, i2, n, o, e2[s3], 11, -358537222), o = this.hh(o, r, i2, n, e2[s3 + 3], 16, -722521979), n = this.hh(n, o, r, i2, e2[s3 + 6], 23, 76029189), i2 = this.hh(i2, n, o, r, e2[s3 + 9], 4, -640364487), r = this.hh(r, i2, n, o, e2[s3 + 12], 11, -421815835), o = this.hh(o, r, i2, n, e2[s3 + 15], 16, 530742520), n = this.hh(n, o, r, i2, e2[s3 + 2], 23, -995338651), i2 = this.ii(i2, n, o, r, e2[s3], 6, -198630844), r = this.ii(r, i2, n, o, e2[s3 + 7], 10, 1126891415), o = this.ii(o, r, i2, n, e2[s3 + 14], 15, -1416354905), n = this.ii(n, o, r, i2, e2[s3 + 5], 21, -57434055), i2 = this.ii(i2, n, o, r, e2[s3 + 12], 6, 1700485571), r = this.ii(r, i2, n, o, e2[s3 + 3], 10, -1894986606), o = this.ii(o, r, i2, n, e2[s3 + 10], 15, -1051523), n = this.ii(n, o, r, i2, e2[s3 + 1], 21, -2054922799), i2 = this.ii(i2, n, o, r, e2[s3 + 8], 6, 1873313359), r = this.ii(r, i2, n, o, e2[s3 + 15], 10, -30611744), o = this.ii(o, r, i2, n, e2[s3 + 6], 15, -1560198380), n = this.ii(n, o, r, i2, e2[s3 + 13], 21, 1309151649), i2 = this.ii(i2, n, o, r, e2[s3 + 4], 6, -145523070), r = this.ii(r, i2, n, o, e2[s3 + 11], 10, -1120210379), o = this.ii(o, r, i2, n, e2[s3 + 2], 15, 718787259), n = this.ii(n, o, r, i2, e2[s3 + 9], 21, -343485551), i2 = this.addme(i2, a3), n = this.addme(n, l), o = this.addme(o, c2), r = this.addme(r, d3), s3 += 16;
            }
            return this.rhex(i2) + this.rhex(n) + this.rhex(o) + this.rhex(r);
          }, ii: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitXOR(i2, this.bitOR(e2, ~n)), t2, e2, o, r, s3);
          }, hh: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitXOR(this.bitXOR(e2, i2), n), t2, e2, o, r, s3);
          }, gg: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitOR(this.bitAND(e2, n), this.bitAND(i2, ~n)), t2, e2, o, r, s3);
          }, ff: function(t2, e2, i2, n, o, r, s3) {
            return this.cmn(this.bitOR(this.bitAND(e2, i2), this.bitAND(~e2, n)), t2, e2, o, r, s3);
          }, cmn: function(t2, e2, i2, n, o, r) {
            return this.addme(this.rol(this.addme(this.addme(e2, t2), this.addme(n, r)), o), i2);
          }, rol: function(t2, e2) {
            return t2 << e2 | t2 >>> 32 - e2;
          }, str2blks: function(t2) {
            for (var e2 = 1 + (t2.length + 8 >> 6), i2 = new Array(), n = 0, o = 16 * e2; n < o; ) {
              i2[r = n++] = 0;
            }
            for (var r = 0; r < t2.length; ) i2[r >> 2] |= HxOverrides.cca(t2, r) << (8 * t2.length + r) % 4 * 8, r++;
            i2[r >> 2] |= 128 << (8 * t2.length + r) % 4 * 8;
            var s3 = 8 * t2.length, a3 = 16 * e2 - 2;
            return i2[a3] = 255 & s3, i2[a3] |= (s3 >>> 8 & 255) << 8, i2[a3] |= (s3 >>> 16 & 255) << 16, i2[a3] |= (s3 >>> 24 & 255) << 24, i2;
          }, rhex: function(t2) {
            for (var e2 = "", i2 = 0; i2 < 4; ) {
              var n = i2++;
              e2 += "0123456789abcdef".charAt(t2 >> 8 * n + 4 & 15) + "0123456789abcdef".charAt(t2 >> 8 * n & 15);
            }
            return e2;
          }, addme: function(t2, e2) {
            var i2 = (65535 & t2) + (65535 & e2);
            return (t2 >> 16) + (e2 >> 16) + (i2 >> 16) << 16 | 65535 & i2;
          }, bitAND: function(t2, e2) {
            return (t2 >>> 1 & e2 >>> 1) << 1 | 1 & t2 & e2;
          }, bitXOR: function(t2, e2) {
            return (t2 >>> 1 ^ e2 >>> 1) << 1 | 1 & t2 ^ 1 & e2;
          }, bitOR: function(t2, e2) {
            return (t2 >>> 1 | e2 >>> 1) << 1 | (1 & t2 | 1 & e2);
          }, __class__: haxe.Md5 }, haxe.Timer = function(t2) {
            var e2 = this;
            this.id = window.setInterval(function() {
              e2.run();
            }, t2);
          }, haxe.Timer.__name__ = true, haxe.Timer.delay = function(t2, e2) {
            var i2 = new haxe.Timer(e2);
            return i2.run = function() {
              i2.stop(), t2();
            }, i2;
          }, haxe.Timer.measure = function(t2, e2) {
            var i2 = haxe.Timer.stamp(), n = t2();
            return haxe.Log.trace(haxe.Timer.stamp() - i2 + "s", e2), n;
          }, haxe.Timer.stamp = function() {
            return (/* @__PURE__ */ new Date()).getTime() / 1e3;
          }, haxe.Timer.prototype = { run: function() {
          }, stop: function() {
            null != this.id && (window.clearInterval(this.id), this.id = null);
          }, __class__: haxe.Timer };
          var js = js || {}, $_;
          function $bind(t2, e2) {
            var i2 = function() {
              return i2.method.apply(i2.scope, arguments);
            };
            return i2.scope = t2, i2.method = e2, i2;
          }
          js.Boot = function() {
          }, js.Boot.__name__ = true, js.Boot.__unhtml = function(t2) {
            return t2.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;");
          }, js.Boot.__trace = function(t2, e2) {
            var i2, n = null != e2 ? e2.fileName + ":" + e2.lineNumber + ": " : "";
            n += js.Boot.__string_rec(t2, ""), "undefined" != typeof document && null != (i2 = document.getElementById("haxe:trace")) ? i2.innerHTML += js.Boot.__unhtml(n) + "<br/>" : "undefined" != typeof console && null != console.log && console.log(n);
          }, js.Boot.__clear_trace = function() {
            var t2 = document.getElementById("haxe:trace");
            null != t2 && (t2.innerHTML = "");
          }, js.Boot.isClass = function(t2) {
            return t2.__name__;
          }, js.Boot.isEnum = function(t2) {
            return t2.__ename__;
          }, js.Boot.getClass = function(t2) {
            return t2.__class__;
          }, js.Boot.__string_rec = function(t2, e2) {
            if (null == t2) return "null";
            if (e2.length >= 5) return "<...>";
            var i2 = typeof t2;
            switch ("function" == i2 && (t2.__name__ || t2.__ename__) && (i2 = "object"), i2) {
              case "object":
                if (t2 instanceof Array) {
                  if (t2.__enum__) {
                    if (2 == t2.length) return t2[0];
                    var n = t2[0] + "(";
                    e2 += "	";
                    for (var o = 2, r = t2.length; o < r; ) {
                      n += 2 != (s3 = o++) ? "," + js.Boot.__string_rec(t2[s3], e2) : js.Boot.__string_rec(t2[s3], e2);
                    }
                    return n + ")";
                  }
                  var s3, a3 = t2.length;
                  n = "[";
                  e2 += "	";
                  for (r = 0; r < a3; ) {
                    var l = r++;
                    n += (l > 0 ? "," : "") + js.Boot.__string_rec(t2[l], e2);
                  }
                  return n += "]";
                }
                var c2;
                try {
                  c2 = t2.toString;
                } catch (t3) {
                  return "???";
                }
                if (null != c2 && c2 != Object.toString) {
                  var d3 = t2.toString();
                  if ("[object Object]" != d3) return d3;
                }
                var h3 = null;
                n = "{\n";
                e2 += "	";
                var u2 = null != t2.hasOwnProperty;
                for (var h3 in t2) u2 && !t2.hasOwnProperty(h3) || "prototype" != h3 && "__class__" != h3 && "__super__" != h3 && "__interfaces__" != h3 && "__properties__" != h3 && (2 != n.length && (n += ", \n"), n += e2 + h3 + " : " + js.Boot.__string_rec(t2[h3], e2));
                return n += "\n" + (e2 = e2.substring(1)) + "}";
              case "function":
                return "<function>";
              case "string":
                return t2;
              default:
                return String(t2);
            }
          }, js.Boot.__interfLoop = function(t2, e2) {
            if (null == t2) return false;
            if (t2 == e2) return true;
            var i2 = t2.__interfaces__;
            if (null != i2) for (var n = 0, o = i2.length; n < o; ) {
              var r = i2[n++];
              if (r == e2 || js.Boot.__interfLoop(r, e2)) return true;
            }
            return js.Boot.__interfLoop(t2.__super__, e2);
          }, js.Boot.__instanceof = function(t2, e2) {
            try {
              if (t2 instanceof e2) return e2 != Array || null == t2.__enum__;
              if (js.Boot.__interfLoop(t2.__class__, e2)) return true;
            } catch (t3) {
              if (null == e2) return false;
            }
            switch (e2) {
              case Int:
                return Math.ceil(t2 % 2147483648) === t2;
              case Float:
                return "number" == typeof t2;
              case Bool:
                return true === t2 || false === t2;
              case String:
                return "string" == typeof t2;
              case Dynamic:
                return true;
              default:
                return null != t2 && (e2 == Class && null != t2.__name__ || (e2 == Enum && null != t2.__ename__ || t2.__enum__ == e2));
            }
          }, js.Boot.__cast = function(t2, e2) {
            if (js.Boot.__instanceof(t2, e2)) return t2;
            throw "Cannot cast " + Std.string(t2) + " to " + Std.string(e2);
          }, js.Lib = function() {
          }, js.Lib.__name__ = true, js.Lib.debug = function() {
          }, js.Lib.alert = function(t2) {
            alert(js.Boot.__string_rec(t2, ""));
          }, js.Lib.eval = function(code) {
            return eval(code);
          }, js.Lib.setErrorHandler = function(t2) {
            js.Lib.onerror = t2;
          }, Array.prototype.indexOf && (HxOverrides.remove = function(t2, e2) {
            var i2 = t2.indexOf(e2);
            return -1 != i2 && (t2.splice(i2, 1), true);
          }), Math.__name__ = ["Math"], Math.NaN = Number.NaN, Math.NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY, Math.POSITIVE_INFINITY = Number.POSITIVE_INFINITY, Math.isFinite = function(t2) {
            return isFinite(t2);
          }, Math.isNaN = function(t2) {
            return isNaN(t2);
          }, String.prototype.__class__ = String, String.__name__ = true, Array.prototype.__class__ = Array, Array.__name__ = true, Date.prototype.__class__ = Date, Date.__name__ = ["Date"];
          var Int = { __name__: ["Int"] }, Dynamic = { __name__: ["Dynamic"] }, Float = Number;
          Float.__name__ = ["Float"];
          var Bool = Boolean;
          Bool.__ename__ = ["Bool"];
          var Class = { __name__: ["Class"] }, Enum = {}, Void = { __ename__: ["Void"] };
          "undefined" != typeof document && (js.Lib.document = document), "undefined" != typeof window && (js.Lib.window = window, js.Lib.window.onerror = function(t2, e2, i2) {
            var n = js.Lib.onerror;
            return null != n && n(t2, [e2 + ":" + i2]);
          }), com.wiris.js.JsPluginTools.main();
        }(), delete Array.prototype.__class__;
      }, function(t2, e2, i2) {
        var n = i2(1), o = i2(97);
        "string" == typeof (o = o.__esModule ? o.default : o) && (o = [[t2.i, o, ""]]);
        var r = { injectType: "singletonStyleTag", attributes: { "data-cke": true }, insert: "head", singleton: true };
        n(o, r);
        t2.exports = o.locals || {};
      }, function(t2, e2) {
        t2.exports = ".wrs_modal_overlay{position:fixed;font-family:arial,sans-serif;top:0;right:0;left:0;bottom:0;background:rgba(0,0,0,.8);z-index:999998;opacity:.65;pointer-events:auto}.wrs_modal_overlay.wrs_modal_android,.wrs_modal_overlay.wrs_modal_ios{visibility:hidden;display:none}.wrs_modal_overlay.wrs_modal_ios.moodle{position:fixed}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack{background:transparent;display:none}.wrs_modal_overlay.wrs_modal_desktop.wrs_maximized{background:rgba(0,0,0,.8)}.wrs_modal_overlay.wrs_modal_desktop.wrs_closed,.wrs_modal_overlay.wrs_modal_desktop.wrs_minimized{background:transparent;display:none}.wrs_modal_title{color:#fff;padding:5px 0 5px 10px;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;text-align:left}.wrs_modal_close_button{background-repeat:no-repeat}.wrs_modal_close_button,.wrs_modal_minimize_button{float:right;cursor:pointer;color:#fff;padding:5px 10px 5px 0;margin:10px 7px 0 0}.wrs_modal_minimize_button{top:inherit}.wrs_modal_stack_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_stack_button.wrs_minimized,.wrs_modal_stack_button.wrs_stack{visibility:hidden;margin:0;padding:0}.wrs_modal_maximize_button{float:right;cursor:pointer;color:#fff;margin:10px 7px 0 0;padding:5px 10px 5px 0;top:inherit}.wrs_modal_maximize_button.wrs_maximized{visibility:hidden;margin:0;padding:0}.wrs_modal_wrapper{display:block}.wrs_modal_title_bar{display:block;background-color:#778e9a}.wrs_modal_dialogContainer{border:none;background:#fafafa;z-index:999999}.wrs_modal_dialogContainer.wrs_modal_desktop{font-size:14px}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_maximized{position:fixed}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_minimized{position:fixed;top:inherit;margin:0 10px 0 0}.wrs_modal_dialogContainer.wrs_closed{visibility:hidden;display:none;opacity:0}.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_stack{position:fixed;bottom:0;right:0;box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_drag,.wrs_modal_dialogContainer.wrs_modal_desktop.wrs_drag{box-shadow:0 2px 8px rgba(0,0,0,.5)}.wrs_modal_dialogContainer.wrs_modal_android{width:99%;height:99%}.wrs_modal_dialogContainer.wrs_modal_android,.wrs_modal_dialogContainer.wrs_modal_ios{margin:auto;overflow:hidden;transform:translate(50%,-50%);top:50%;right:50%!important;position:fixed}.wrs_modal_dialogContainer.wrs_modal_ios{width:100%;height:100%}.wrs_content_container.wrs_minimized{display:none}.wrs_content_container.wrs_modal_android{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_content_container.wrs_modal_android>div:first-child,.wrs_content_container.wrs_modal_desktop>div:first-child,.wrs_content_container.wrs_modal_ios>div:first-child{flex-grow:1}.wrs_modal_wrapper.wrs_modal_android{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_content_container.wrs_modal_desktop,.wrs_content_container.wrs_modal_ios{width:100%;flex-grow:1;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_ios{margin:auto;display:flex;flex-direction:column;height:100%;width:100%}.wrs_virtual_keyboard{height:100%;width:100%;top:0;left:50%;transform:translate(-50%)}@media (orientation:portrait){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}@media (orientation:landscape){.wrs_modal_dialogContainer.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto;border-width:0}.wrs_modal_wrapper.wrs_modal_mobile{width:100vmin;height:100vmin;margin:auto}}.wrs_modal_dialogContainer.wrs_modal_badStock,.wrs_modal_wrapper.wrs_modal_badStock{width:100%;height:280px;margin:0 auto;border-width:0}.wrs_noselect{-khtml-user-select:none}.wrs_bottom_right_resizer,.wrs_noselect{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.wrs_bottom_right_resizer{width:10px;height:10px;color:#778e9a;position:absolute;right:4px;bottom:8px;cursor:se-resize}.wrs_bottom_left_resizer{width:15px;height:15px;color:#778e9a;position:absolute;left:0;top:0;cursor:se-resize}.wrs_modal_controls{height:42px;margin:3px 0;overflow:hidden;line-height:normal}.wrs_modal_links{margin:10px auto 0;font-family:arial,sans-serif;padding:6px;display:inline;float:right;text-align:right}.wrs_modal_links>a{text-decoration:none;color:#778e9a;font-size:16px}.wrs_modal_button_cancel,.wrs_modal_button_cancel:active,.wrs_modal_button_cancel:focus,.wrs_modal_button_cancel:hover,.wrs_modal_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;height:32px}.wrs_modal_button_accept,.wrs_modal_button_accept:active,.wrs_modal_button_accept:focus,.wrs_modal_button_accept:hover,.wrs_modal_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor_vertical_bar{height:20px;float:right;background:none;width:20px;cursor:pointer}.wrs_modal_buttons_container{display:inline;float:left}.wrs_modal_buttons_container.wrs_modalAndroid{padding-left:6px}.wrs_modal_buttons_container.wrs_modalDesktop{padding-left:0}.wrs_modal_buttons_container>button{line-height:normal;background-image:none}.wrs_modal_wrapper{margin:6px;display:flex;flex-direction:column}.wrs_modal_wrapper.wrs_modal_desktop.wrs_minimized{display:none}@media only screen and (max-device-width:480px) and (orientation:portrait){#wrs_modal_wrapper{width:140%}}.wrs_popupmessage_overlay_envolture{display:none;width:100%}.wrs_popupmessage_overlay{position:absolute;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);z-index:4;cursor:pointer}.wrs_popupmessage_panel{top:50%;left:50%;transform:translate(-50%,-50%);position:absolute;background:#fff;max-width:500px;width:75%;border-radius:2px;padding:20px;font-family:sans-serif;font-size:15px;text-align:left;color:#2e2e2e;z-index:5;max-height:75%;overflow:auto}.wrs_popupmessage_button_area{margin:10px 0 0}.wrs_panelContainer *{border:0}.wrs_button_cancel,.wrs_button_cancel:active,.wrs_button_cancel:focus,.wrs_button_cancel:hover,.wrs_button_cancel:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px auto 0 5px;cursor:pointer;font-family:arial,sans-serif;background-color:#ddd;background-image:none;height:32px}.wrs_button_accept,.wrs_button_accept:active,.wrs_button_accept:focus,.wrs_button_accept:hover,.wrs_button_accept:visited{min-width:80px;font-size:14px;border-radius:3px;border:1px solid #778e9a;padding:6px 8px;margin:10px 5px 0 auto;color:#fff;background:#778e9a;cursor:pointer;font-family:arial,sans-serif;height:32px}.wrs_editor button{box-shadow:none}.wrs_editor .wrs_header button{border-bottom:none;border-bottom-left-radius:0;border-bottom-right-radius:0}.wrs_modal_overlay.wrs_modal_desktop.wrs_stack.wrs_overlay_active{display:block}.wrs_toolbar tr:focus,.wrs_toolbar tr:hover{background:none}.wrs_modal_rtl .wrs_modal_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_modal_button_accept{margin-right:0;margin-left:5px}.wrs_modal_rtl .wrs_button_cancel{margin-right:5px;margin-left:0}.wrs_modal_rtl .wrs_button_accept{margin-right:0;margin-left:5px}";
      }, function(t2, e2, i2) {
        "use strict";
        i2.r(e2), i2.d(e2, "default", function() {
          return vb;
        });
        var n = i2(3), o = n.a.Symbol, r = Object.prototype, s3 = r.hasOwnProperty, a3 = r.toString, l = o ? o.toStringTag : void 0;
        var c2 = function(t3) {
          var e3 = s3.call(t3, l), i3 = t3[l];
          try {
            t3[l] = void 0;
            var n2 = true;
          } catch (t4) {
          }
          var o2 = a3.call(t3);
          return n2 && (e3 ? t3[l] = i3 : delete t3[l]), o2;
        }, d3 = Object.prototype.toString;
        var h3 = function(t3) {
          return d3.call(t3);
        }, u2 = o ? o.toStringTag : void 0;
        var m3 = function(t3) {
          return null == t3 ? void 0 === t3 ? "[object Undefined]" : "[object Null]" : u2 && u2 in Object(t3) ? c2(t3) : h3(t3);
        };
        var g = function(t3, e3) {
          return function(i3) {
            return t3(e3(i3));
          };
        }, f = g(Object.getPrototypeOf, Object);
        var p = function(t3) {
          return null != t3 && "object" == typeof t3;
        }, b2 = Function.prototype, w2 = Object.prototype, _ = b2.toString, k2 = w2.hasOwnProperty, v = _.call(Object);
        var y3 = function(t3) {
          if (!p(t3) || "[object Object]" != m3(t3)) return false;
          var e3 = f(t3);
          if (null === e3) return true;
          var i3 = k2.call(e3, "constructor") && e3.constructor;
          return "function" == typeof i3 && i3 instanceof i3 && _.call(i3) == v;
        };
        var x2 = function() {
          this.__data__ = [], this.size = 0;
        };
        var A = function(t3, e3) {
          return t3 === e3 || t3 != t3 && e3 != e3;
        };
        var C = function(t3, e3) {
          for (var i3 = t3.length; i3--; ) if (A(t3[i3][0], e3)) return i3;
          return -1;
        }, T2 = Array.prototype.splice;
        var M3 = function(t3) {
          var e3 = this.__data__, i3 = C(e3, t3);
          return !(i3 < 0) && (i3 == e3.length - 1 ? e3.pop() : T2.call(e3, i3, 1), --this.size, true);
        };
        var E2 = function(t3) {
          var e3 = this.__data__, i3 = C(e3, t3);
          return i3 < 0 ? void 0 : e3[i3][1];
        };
        var P = function(t3) {
          return C(this.__data__, t3) > -1;
        };
        var S3 = function(t3, e3) {
          var i3 = this.__data__, n2 = C(i3, t3);
          return n2 < 0 ? (++this.size, i3.push([t3, e3])) : i3[n2][1] = e3, this;
        };
        function I2(t3) {
          var e3 = -1, i3 = null == t3 ? 0 : t3.length;
          for (this.clear(); ++e3 < i3; ) {
            var n2 = t3[e3];
            this.set(n2[0], n2[1]);
          }
        }
        I2.prototype.clear = x2, I2.prototype.delete = M3, I2.prototype.get = E2, I2.prototype.has = P, I2.prototype.set = S3;
        var O2 = I2;
        var N = function() {
          this.__data__ = new O2(), this.size = 0;
        };
        var R2 = function(t3) {
          var e3 = this.__data__, i3 = e3.delete(t3);
          return this.size = e3.size, i3;
        };
        var L2 = function(t3) {
          return this.__data__.get(t3);
        };
        var j = function(t3) {
          return this.__data__.has(t3);
        };
        var D2 = function(t3) {
          var e3 = typeof t3;
          return null != t3 && ("object" == e3 || "function" == e3);
        };
        var z2, B2 = function(t3) {
          if (!D2(t3)) return false;
          var e3 = m3(t3);
          return "[object Function]" == e3 || "[object GeneratorFunction]" == e3 || "[object AsyncFunction]" == e3 || "[object Proxy]" == e3;
        }, V = n.a["__core-js_shared__"], F = (z2 = /[^.]+$/.exec(V && V.keys && V.keys.IE_PROTO || "")) ? "Symbol(src)_1." + z2 : "";
        var H3 = function(t3) {
          return !!F && F in t3;
        }, U = Function.prototype.toString;
        var W = function(t3) {
          if (null != t3) {
            try {
              return U.call(t3);
            } catch (t4) {
            }
            try {
              return t3 + "";
            } catch (t4) {
            }
          }
          return "";
        }, q2 = /^\[object .+?Constructor\]$/, Y2 = Function.prototype, $ = Object.prototype, J = Y2.toString, G2 = $.hasOwnProperty, Q2 = RegExp("^" + J.call(G2).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$");
        var X2 = function(t3) {
          return !(!D2(t3) || H3(t3)) && (B2(t3) ? Q2 : q2).test(W(t3));
        };
        var K2 = function(t3, e3) {
          return null == t3 ? void 0 : t3[e3];
        };
        var Z = function(t3, e3) {
          var i3 = K2(t3, e3);
          return X2(i3) ? i3 : void 0;
        }, tt = Z(n.a, "Map"), et = Z(Object, "create");
        var it = function() {
          this.__data__ = et ? et(null) : {}, this.size = 0;
        };
        var nt = function(t3) {
          var e3 = this.has(t3) && delete this.__data__[t3];
          return this.size -= e3 ? 1 : 0, e3;
        }, ot = Object.prototype.hasOwnProperty;
        var rt = function(t3) {
          var e3 = this.__data__;
          if (et) {
            var i3 = e3[t3];
            return "__lodash_hash_undefined__" === i3 ? void 0 : i3;
          }
          return ot.call(e3, t3) ? e3[t3] : void 0;
        }, st = Object.prototype.hasOwnProperty;
        var at = function(t3) {
          var e3 = this.__data__;
          return et ? void 0 !== e3[t3] : st.call(e3, t3);
        };
        var lt = function(t3, e3) {
          var i3 = this.__data__;
          return this.size += this.has(t3) ? 0 : 1, i3[t3] = et && void 0 === e3 ? "__lodash_hash_undefined__" : e3, this;
        };
        function ct(t3) {
          var e3 = -1, i3 = null == t3 ? 0 : t3.length;
          for (this.clear(); ++e3 < i3; ) {
            var n2 = t3[e3];
            this.set(n2[0], n2[1]);
          }
        }
        ct.prototype.clear = it, ct.prototype.delete = nt, ct.prototype.get = rt, ct.prototype.has = at, ct.prototype.set = lt;
        var dt = ct;
        var ht = function() {
          this.size = 0, this.__data__ = { hash: new dt(), map: new (tt || O2)(), string: new dt() };
        };
        var ut = function(t3) {
          var e3 = typeof t3;
          return "string" == e3 || "number" == e3 || "symbol" == e3 || "boolean" == e3 ? "__proto__" !== t3 : null === t3;
        };
        var mt = function(t3, e3) {
          var i3 = t3.__data__;
          return ut(e3) ? i3["string" == typeof e3 ? "string" : "hash"] : i3.map;
        };
        var gt = function(t3) {
          var e3 = mt(this, t3).delete(t3);
          return this.size -= e3 ? 1 : 0, e3;
        };
        var ft = function(t3) {
          return mt(this, t3).get(t3);
        };
        var pt = function(t3) {
          return mt(this, t3).has(t3);
        };
        var bt = function(t3, e3) {
          var i3 = mt(this, t3), n2 = i3.size;
          return i3.set(t3, e3), this.size += i3.size == n2 ? 0 : 1, this;
        };
        function wt(t3) {
          var e3 = -1, i3 = null == t3 ? 0 : t3.length;
          for (this.clear(); ++e3 < i3; ) {
            var n2 = t3[e3];
            this.set(n2[0], n2[1]);
          }
        }
        wt.prototype.clear = ht, wt.prototype.delete = gt, wt.prototype.get = ft, wt.prototype.has = pt, wt.prototype.set = bt;
        var _t = wt;
        var kt = function(t3, e3) {
          var i3 = this.__data__;
          if (i3 instanceof O2) {
            var n2 = i3.__data__;
            if (!tt || n2.length < 199) return n2.push([t3, e3]), this.size = ++i3.size, this;
            i3 = this.__data__ = new _t(n2);
          }
          return i3.set(t3, e3), this.size = i3.size, this;
        };
        function vt(t3) {
          var e3 = this.__data__ = new O2(t3);
          this.size = e3.size;
        }
        vt.prototype.clear = N, vt.prototype.delete = R2, vt.prototype.get = L2, vt.prototype.has = j, vt.prototype.set = kt;
        var yt = vt;
        var xt = function(t3, e3) {
          for (var i3 = -1, n2 = null == t3 ? 0 : t3.length; ++i3 < n2 && false !== e3(t3[i3], i3, t3); ) ;
          return t3;
        }, At = function() {
          try {
            var t3 = Z(Object, "defineProperty");
            return t3({}, "", {}), t3;
          } catch (t4) {
          }
        }();
        var Ct = function(t3, e3, i3) {
          "__proto__" == e3 && At ? At(t3, e3, { configurable: true, enumerable: true, value: i3, writable: true }) : t3[e3] = i3;
        }, Tt = Object.prototype.hasOwnProperty;
        var Mt = function(t3, e3, i3) {
          var n2 = t3[e3];
          Tt.call(t3, e3) && A(n2, i3) && (void 0 !== i3 || e3 in t3) || Ct(t3, e3, i3);
        };
        var Et = function(t3, e3, i3, n2) {
          var o2 = !i3;
          i3 || (i3 = {});
          for (var r2 = -1, s4 = e3.length; ++r2 < s4; ) {
            var a4 = e3[r2], l2 = n2 ? n2(i3[a4], t3[a4], a4, i3, t3) : void 0;
            void 0 === l2 && (l2 = t3[a4]), o2 ? Ct(i3, a4, l2) : Mt(i3, a4, l2);
          }
          return i3;
        };
        var Pt = function(t3, e3) {
          for (var i3 = -1, n2 = Array(t3); ++i3 < t3; ) n2[i3] = e3(i3);
          return n2;
        };
        var St = function(t3) {
          return p(t3) && "[object Arguments]" == m3(t3);
        }, It = Object.prototype, Ot = It.hasOwnProperty, Nt = It.propertyIsEnumerable, Rt = St(/* @__PURE__ */ function() {
          return arguments;
        }()) ? St : function(t3) {
          return p(t3) && Ot.call(t3, "callee") && !Nt.call(t3, "callee");
        }, Lt = Array.isArray, jt = i2(4), Dt = /^(?:0|[1-9]\d*)$/;
        var zt = function(t3, e3) {
          var i3 = typeof t3;
          return !!(e3 = null == e3 ? 9007199254740991 : e3) && ("number" == i3 || "symbol" != i3 && Dt.test(t3)) && t3 > -1 && t3 % 1 == 0 && t3 < e3;
        };
        var Bt = function(t3) {
          return "number" == typeof t3 && t3 > -1 && t3 % 1 == 0 && t3 <= 9007199254740991;
        }, Vt = {};
        Vt["[object Float32Array]"] = Vt["[object Float64Array]"] = Vt["[object Int8Array]"] = Vt["[object Int16Array]"] = Vt["[object Int32Array]"] = Vt["[object Uint8Array]"] = Vt["[object Uint8ClampedArray]"] = Vt["[object Uint16Array]"] = Vt["[object Uint32Array]"] = true, Vt["[object Arguments]"] = Vt["[object Array]"] = Vt["[object ArrayBuffer]"] = Vt["[object Boolean]"] = Vt["[object DataView]"] = Vt["[object Date]"] = Vt["[object Error]"] = Vt["[object Function]"] = Vt["[object Map]"] = Vt["[object Number]"] = Vt["[object Object]"] = Vt["[object RegExp]"] = Vt["[object Set]"] = Vt["[object String]"] = Vt["[object WeakMap]"] = false;
        var Ft = function(t3) {
          return p(t3) && Bt(t3.length) && !!Vt[m3(t3)];
        };
        var Ht = function(t3) {
          return function(e3) {
            return t3(e3);
          };
        }, Ut = i2(5), Wt = Ut.a && Ut.a.isTypedArray, qt = Wt ? Ht(Wt) : Ft, Yt = Object.prototype.hasOwnProperty;
        var $t = function(t3, e3) {
          var i3 = Lt(t3), n2 = !i3 && Rt(t3), o2 = !i3 && !n2 && Object(jt.a)(t3), r2 = !i3 && !n2 && !o2 && qt(t3), s4 = i3 || n2 || o2 || r2, a4 = s4 ? Pt(t3.length, String) : [], l2 = a4.length;
          for (var c3 in t3) !e3 && !Yt.call(t3, c3) || s4 && ("length" == c3 || o2 && ("offset" == c3 || "parent" == c3) || r2 && ("buffer" == c3 || "byteLength" == c3 || "byteOffset" == c3) || zt(c3, l2)) || a4.push(c3);
          return a4;
        }, Jt = Object.prototype;
        var Gt = function(t3) {
          var e3 = t3 && t3.constructor;
          return t3 === ("function" == typeof e3 && e3.prototype || Jt);
        }, Qt = g(Object.keys, Object), Xt = Object.prototype.hasOwnProperty;
        var Kt = function(t3) {
          if (!Gt(t3)) return Qt(t3);
          var e3 = [];
          for (var i3 in Object(t3)) Xt.call(t3, i3) && "constructor" != i3 && e3.push(i3);
          return e3;
        };
        var Zt = function(t3) {
          return null != t3 && Bt(t3.length) && !B2(t3);
        };
        var te = function(t3) {
          return Zt(t3) ? $t(t3) : Kt(t3);
        };
        var ee = function(t3, e3) {
          return t3 && Et(e3, te(e3), t3);
        };
        var ie = function(t3) {
          var e3 = [];
          if (null != t3) for (var i3 in Object(t3)) e3.push(i3);
          return e3;
        }, ne = Object.prototype.hasOwnProperty;
        var oe = function(t3) {
          if (!D2(t3)) return ie(t3);
          var e3 = Gt(t3), i3 = [];
          for (var n2 in t3) ("constructor" != n2 || !e3 && ne.call(t3, n2)) && i3.push(n2);
          return i3;
        };
        var re = function(t3) {
          return Zt(t3) ? $t(t3, true) : oe(t3);
        };
        var se = function(t3, e3) {
          return t3 && Et(e3, re(e3), t3);
        }, ae = i2(8);
        var le = function(t3, e3) {
          var i3 = -1, n2 = t3.length;
          for (e3 || (e3 = Array(n2)); ++i3 < n2; ) e3[i3] = t3[i3];
          return e3;
        };
        var ce = function(t3, e3) {
          for (var i3 = -1, n2 = null == t3 ? 0 : t3.length, o2 = 0, r2 = []; ++i3 < n2; ) {
            var s4 = t3[i3];
            e3(s4, i3, t3) && (r2[o2++] = s4);
          }
          return r2;
        };
        var de = function() {
          return [];
        }, he = Object.prototype.propertyIsEnumerable, ue = Object.getOwnPropertySymbols, me = ue ? function(t3) {
          return null == t3 ? [] : (t3 = Object(t3), ce(ue(t3), function(e3) {
            return he.call(t3, e3);
          }));
        } : de;
        var ge = function(t3, e3) {
          return Et(t3, me(t3), e3);
        };
        var fe = function(t3, e3) {
          for (var i3 = -1, n2 = e3.length, o2 = t3.length; ++i3 < n2; ) t3[o2 + i3] = e3[i3];
          return t3;
        }, pe = Object.getOwnPropertySymbols ? function(t3) {
          for (var e3 = []; t3; ) fe(e3, me(t3)), t3 = f(t3);
          return e3;
        } : de;
        var be = function(t3, e3) {
          return Et(t3, pe(t3), e3);
        };
        var we = function(t3, e3, i3) {
          var n2 = e3(t3);
          return Lt(t3) ? n2 : fe(n2, i3(t3));
        };
        var _e = function(t3) {
          return we(t3, te, me);
        };
        var ke = function(t3) {
          return we(t3, re, pe);
        }, ve = Z(n.a, "DataView"), ye = Z(n.a, "Promise"), xe = Z(n.a, "Set"), Ae = Z(n.a, "WeakMap"), Ce = W(ve), Te = W(tt), Me = W(ye), Ee = W(xe), Pe = W(Ae), Se = m3;
        (ve && "[object DataView]" != Se(new ve(new ArrayBuffer(1))) || tt && "[object Map]" != Se(new tt()) || ye && "[object Promise]" != Se(ye.resolve()) || xe && "[object Set]" != Se(new xe()) || Ae && "[object WeakMap]" != Se(new Ae())) && (Se = function(t3) {
          var e3 = m3(t3), i3 = "[object Object]" == e3 ? t3.constructor : void 0, n2 = i3 ? W(i3) : "";
          if (n2) switch (n2) {
            case Ce:
              return "[object DataView]";
            case Te:
              return "[object Map]";
            case Me:
              return "[object Promise]";
            case Ee:
              return "[object Set]";
            case Pe:
              return "[object WeakMap]";
          }
          return e3;
        });
        var Ie = Se, Oe = Object.prototype.hasOwnProperty;
        var Ne = function(t3) {
          var e3 = t3.length, i3 = new t3.constructor(e3);
          return e3 && "string" == typeof t3[0] && Oe.call(t3, "index") && (i3.index = t3.index, i3.input = t3.input), i3;
        }, Re = n.a.Uint8Array;
        var Le = function(t3) {
          var e3 = new t3.constructor(t3.byteLength);
          return new Re(e3).set(new Re(t3)), e3;
        };
        var je = function(t3, e3) {
          var i3 = e3 ? Le(t3.buffer) : t3.buffer;
          return new t3.constructor(i3, t3.byteOffset, t3.byteLength);
        }, De = /\w*$/;
        var ze = function(t3) {
          var e3 = new t3.constructor(t3.source, De.exec(t3));
          return e3.lastIndex = t3.lastIndex, e3;
        }, Be = o ? o.prototype : void 0, Ve = Be ? Be.valueOf : void 0;
        var Fe = function(t3) {
          return Ve ? Object(Ve.call(t3)) : {};
        };
        var He = function(t3, e3) {
          var i3 = e3 ? Le(t3.buffer) : t3.buffer;
          return new t3.constructor(i3, t3.byteOffset, t3.length);
        };
        var Ue = function(t3, e3, i3) {
          var n2 = t3.constructor;
          switch (e3) {
            case "[object ArrayBuffer]":
              return Le(t3);
            case "[object Boolean]":
            case "[object Date]":
              return new n2(+t3);
            case "[object DataView]":
              return je(t3, i3);
            case "[object Float32Array]":
            case "[object Float64Array]":
            case "[object Int8Array]":
            case "[object Int16Array]":
            case "[object Int32Array]":
            case "[object Uint8Array]":
            case "[object Uint8ClampedArray]":
            case "[object Uint16Array]":
            case "[object Uint32Array]":
              return He(t3, i3);
            case "[object Map]":
              return new n2();
            case "[object Number]":
            case "[object String]":
              return new n2(t3);
            case "[object RegExp]":
              return ze(t3);
            case "[object Set]":
              return new n2();
            case "[object Symbol]":
              return Fe(t3);
          }
        }, We = Object.create, qe = /* @__PURE__ */ function() {
          function t3() {
          }
          return function(e3) {
            if (!D2(e3)) return {};
            if (We) return We(e3);
            t3.prototype = e3;
            var i3 = new t3();
            return t3.prototype = void 0, i3;
          };
        }();
        var Ye = function(t3) {
          return "function" != typeof t3.constructor || Gt(t3) ? {} : qe(f(t3));
        };
        var $e = function(t3) {
          return p(t3) && "[object Map]" == Ie(t3);
        }, Je = Ut.a && Ut.a.isMap, Ge = Je ? Ht(Je) : $e;
        var Qe = function(t3) {
          return p(t3) && "[object Set]" == Ie(t3);
        }, Xe = Ut.a && Ut.a.isSet, Ke = Xe ? Ht(Xe) : Qe, Ze = {};
        Ze["[object Arguments]"] = Ze["[object Array]"] = Ze["[object ArrayBuffer]"] = Ze["[object DataView]"] = Ze["[object Boolean]"] = Ze["[object Date]"] = Ze["[object Float32Array]"] = Ze["[object Float64Array]"] = Ze["[object Int8Array]"] = Ze["[object Int16Array]"] = Ze["[object Int32Array]"] = Ze["[object Map]"] = Ze["[object Number]"] = Ze["[object Object]"] = Ze["[object RegExp]"] = Ze["[object Set]"] = Ze["[object String]"] = Ze["[object Symbol]"] = Ze["[object Uint8Array]"] = Ze["[object Uint8ClampedArray]"] = Ze["[object Uint16Array]"] = Ze["[object Uint32Array]"] = true, Ze["[object Error]"] = Ze["[object Function]"] = Ze["[object WeakMap]"] = false;
        var ti = function t3(e3, i3, n2, o2, r2, s4) {
          var a4, l2 = 1 & i3, c3 = 2 & i3, d4 = 4 & i3;
          if (n2 && (a4 = r2 ? n2(e3, o2, r2, s4) : n2(e3)), void 0 !== a4) return a4;
          if (!D2(e3)) return e3;
          var h4 = Lt(e3);
          if (h4) {
            if (a4 = Ne(e3), !l2) return le(e3, a4);
          } else {
            var u3 = Ie(e3), m4 = "[object Function]" == u3 || "[object GeneratorFunction]" == u3;
            if (Object(jt.a)(e3)) return Object(ae.a)(e3, l2);
            if ("[object Object]" == u3 || "[object Arguments]" == u3 || m4 && !r2) {
              if (a4 = c3 || m4 ? {} : Ye(e3), !l2) return c3 ? be(e3, se(a4, e3)) : ge(e3, ee(a4, e3));
            } else {
              if (!Ze[u3]) return r2 ? e3 : {};
              a4 = Ue(e3, u3, l2);
            }
          }
          s4 || (s4 = new yt());
          var g2 = s4.get(e3);
          if (g2) return g2;
          s4.set(e3, a4), Ke(e3) ? e3.forEach(function(o3) {
            a4.add(t3(o3, i3, n2, o3, e3, s4));
          }) : Ge(e3) && e3.forEach(function(o3, r3) {
            a4.set(r3, t3(o3, i3, n2, r3, e3, s4));
          });
          var f2 = d4 ? c3 ? ke : _e : c3 ? keysIn : te, p2 = h4 ? void 0 : f2(e3);
          return xt(p2 || e3, function(o3, r3) {
            p2 && (o3 = e3[r3 = o3]), Mt(a4, r3, t3(o3, i3, n2, r3, e3, s4));
          }), a4;
        };
        var ei = function(t3, e3) {
          return ti(t3, 5, e3 = "function" == typeof e3 ? e3 : void 0);
        };
        var ii = function(t3) {
          return p(t3) && 1 === t3.nodeType && !y3(t3);
        };
        class ni {
          constructor(t3, e3) {
            this._config = {}, e3 && this.define(oi(e3)), t3 && this._setObjectToTarget(this._config, t3);
          }
          set(t3, e3) {
            this._setToTarget(this._config, t3, e3);
          }
          define(t3, e3) {
            this._setToTarget(this._config, t3, e3, true);
          }
          get(t3) {
            return this._getFromSource(this._config, t3);
          }
          *names() {
            for (const t3 of Object.keys(this._config)) yield t3;
          }
          _setToTarget(t3, e3, i3, n2 = false) {
            if (y3(e3)) return void this._setObjectToTarget(t3, e3, n2);
            const o2 = e3.split(".");
            e3 = o2.pop();
            for (const e4 of o2) y3(t3[e4]) || (t3[e4] = {}), t3 = t3[e4];
            if (y3(i3)) return y3(t3[e3]) || (t3[e3] = {}), t3 = t3[e3], void this._setObjectToTarget(t3, i3, n2);
            n2 && void 0 !== t3[e3] || (t3[e3] = i3);
          }
          _getFromSource(t3, e3) {
            const i3 = e3.split(".");
            e3 = i3.pop();
            for (const e4 of i3) {
              if (!y3(t3[e4])) {
                t3 = null;
                break;
              }
              t3 = t3[e4];
            }
            return t3 ? oi(t3[e3]) : void 0;
          }
          _setObjectToTarget(t3, e3, i3) {
            Object.keys(e3).forEach((n2) => {
              this._setToTarget(t3, n2, e3[n2], i3);
            });
          }
        }
        function oi(t3) {
          return ei(t3, ri);
        }
        function ri(t3) {
          return ii(t3) ? t3 : void 0;
        }
        var si = function() {
          return function t3() {
            t3.called = true;
          };
        };
        class ai {
          constructor(t3, e3) {
            this.source = t3, this.name = e3, this.path = [], this.stop = si(), this.off = si();
          }
        }
        const li = new Array(256).fill().map((t3, e3) => ("0" + e3.toString(16)).slice(-2));
        function ci() {
          const t3 = 4294967296 * Math.random() >>> 0, e3 = 4294967296 * Math.random() >>> 0, i3 = 4294967296 * Math.random() >>> 0, n2 = 4294967296 * Math.random() >>> 0;
          return "e" + li[t3 >> 0 & 255] + li[t3 >> 8 & 255] + li[t3 >> 16 & 255] + li[t3 >> 24 & 255] + li[e3 >> 0 & 255] + li[e3 >> 8 & 255] + li[e3 >> 16 & 255] + li[e3 >> 24 & 255] + li[i3 >> 0 & 255] + li[i3 >> 8 & 255] + li[i3 >> 16 & 255] + li[i3 >> 24 & 255] + li[n2 >> 0 & 255] + li[n2 >> 8 & 255] + li[n2 >> 16 & 255] + li[n2 >> 24 & 255];
        }
        var di = { get(t3) {
          return "number" != typeof t3 ? this[t3] || this.normal : t3;
        }, highest: 1e5, high: 1e3, normal: 0, low: -1e3, lowest: -1e5 }, hi = (i2(6), i2(0));
        const ui = Symbol("listeningTo"), mi = Symbol("emitterId");
        var gi = { on(t3, e3, i3 = {}) {
          this.listenTo(this, t3, e3, i3);
        }, once(t3, e3, i3) {
          let n2 = false;
          this.listenTo(this, t3, function(t4, ...i4) {
            n2 || (n2 = true, t4.off(), e3.call(this, t4, ...i4));
          }, i3);
        }, off(t3, e3) {
          this.stopListening(this, t3, e3);
        }, listenTo(t3, e3, i3, n2 = {}) {
          let o2, r2;
          this[ui] || (this[ui] = {});
          const s4 = this[ui];
          pi(t3) || fi(t3);
          const a4 = pi(t3);
          (o2 = s4[a4]) || (o2 = s4[a4] = { emitter: t3, callbacks: {} }), (r2 = o2.callbacks[e3]) || (r2 = o2.callbacks[e3] = []), r2.push(i3), function(t4, e4) {
            const i4 = bi(t4);
            if (i4[e4]) return;
            let n3 = e4, o3 = null;
            const r3 = [];
            for (; "" !== n3 && !i4[n3]; ) i4[n3] = { callbacks: [], childEvents: [] }, r3.push(i4[n3]), o3 && i4[n3].childEvents.push(o3), o3 = n3, n3 = n3.substr(0, n3.lastIndexOf(":"));
            if ("" !== n3) {
              for (const t5 of r3) t5.callbacks = i4[n3].callbacks.slice();
              i4[n3].childEvents.push(o3);
            }
          }(t3, e3);
          const l2 = wi(t3, e3), c3 = di.get(n2.priority), d4 = { callback: i3, priority: c3 };
          for (const t4 of l2) {
            let e4 = false;
            for (let i4 = 0; i4 < t4.length; i4++) if (t4[i4].priority < c3) {
              t4.splice(i4, 0, d4), e4 = true;
              break;
            }
            e4 || t4.push(d4);
          }
        }, stopListening(t3, e3, i3) {
          const n2 = this[ui];
          let o2 = t3 && pi(t3);
          const r2 = n2 && o2 && n2[o2], s4 = r2 && e3 && r2.callbacks[e3];
          if (!(!n2 || t3 && !r2 || e3 && !s4)) if (i3) ki(t3, e3, i3);
          else if (s4) {
            for (; i3 = s4.pop(); ) ki(t3, e3, i3);
            delete r2.callbacks[e3];
          } else if (r2) {
            for (e3 in r2.callbacks) this.stopListening(t3, e3);
            delete n2[o2];
          } else {
            for (o2 in n2) this.stopListening(n2[o2].emitter);
            delete this[ui];
          }
        }, fire(t3, ...e3) {
          try {
            const i3 = t3 instanceof ai ? t3 : new ai(this, t3), n2 = i3.name;
            let o2 = function t4(e4, i4) {
              let n3;
              if (!e4._events || !(n3 = e4._events[i4]) || !n3.callbacks.length) return i4.indexOf(":") > -1 ? t4(e4, i4.substr(0, i4.lastIndexOf(":"))) : null;
              return n3.callbacks;
            }(this, n2);
            if (i3.path.push(this), o2) {
              const t4 = [i3, ...e3];
              o2 = Array.from(o2);
              for (let e4 = 0; e4 < o2.length && (o2[e4].callback.apply(this, t4), i3.off.called && (delete i3.off.called, ki(this, n2, o2[e4].callback)), !i3.stop.called); e4++) ;
            }
            if (this._delegations) {
              const t4 = this._delegations.get(n2), o3 = this._delegations.get("*");
              t4 && _i(t4, i3, e3), o3 && _i(o3, i3, e3);
            }
            return i3.return;
          } catch (t4) {
            hi.b.rethrowUnexpectedError(t4, this);
          }
        }, delegate(...t3) {
          return { to: (e3, i3) => {
            this._delegations || (this._delegations = /* @__PURE__ */ new Map()), t3.forEach((t4) => {
              const n2 = this._delegations.get(t4);
              n2 ? n2.set(e3, i3) : this._delegations.set(t4, /* @__PURE__ */ new Map([[e3, i3]]));
            });
          } };
        }, stopDelegating(t3, e3) {
          if (this._delegations) if (t3) if (e3) {
            const i3 = this._delegations.get(t3);
            i3 && i3.delete(e3);
          } else this._delegations.delete(t3);
          else this._delegations.clear();
        } };
        function fi(t3, e3) {
          t3[mi] || (t3[mi] = e3 || ci());
        }
        function pi(t3) {
          return t3[mi];
        }
        function bi(t3) {
          return t3._events || Object.defineProperty(t3, "_events", { value: {} }), t3._events;
        }
        function wi(t3, e3) {
          const i3 = bi(t3)[e3];
          if (!i3) return [];
          let n2 = [i3.callbacks];
          for (let e4 = 0; e4 < i3.childEvents.length; e4++) {
            const o2 = wi(t3, i3.childEvents[e4]);
            n2 = n2.concat(o2);
          }
          return n2;
        }
        function _i(t3, e3, i3) {
          for (let [n2, o2] of t3) {
            o2 ? "function" == typeof o2 && (o2 = o2(e3.name)) : o2 = e3.name;
            const t4 = new ai(e3.source, o2);
            t4.path = [...e3.path], n2.fire(t4, ...i3);
          }
        }
        function ki(t3, e3, i3) {
          const n2 = wi(t3, e3);
          for (const t4 of n2) for (let e4 = 0; e4 < t4.length; e4++) t4[e4].callback == i3 && (t4.splice(e4, 1), e4--);
        }
        function vi(t3) {
          return !(!t3 || !t3[Symbol.iterator]);
        }
        function yi(t3, ...e3) {
          e3.forEach((e4) => {
            Object.getOwnPropertyNames(e4).concat(Object.getOwnPropertySymbols(e4)).forEach((i3) => {
              if (i3 in t3.prototype) return;
              const n2 = Object.getOwnPropertyDescriptor(e4, i3);
              n2.enumerable = false, Object.defineProperty(t3.prototype, i3, n2);
            });
          });
        }
        class xi {
          constructor(t3 = {}, e3 = {}) {
            const i3 = vi(t3);
            if (i3 || (e3 = t3), this._items = [], this._itemMap = /* @__PURE__ */ new Map(), this._idProperty = e3.idProperty || "id", this._bindToExternalToInternalMap = /* @__PURE__ */ new WeakMap(), this._bindToInternalToExternalMap = /* @__PURE__ */ new WeakMap(), this._skippedIndexesFromExternal = [], i3) for (const e4 of t3) this._items.push(e4), this._itemMap.set(this._getItemIdBeforeAdding(e4), e4);
          }
          get length() {
            return this._items.length;
          }
          get first() {
            return this._items[0] || null;
          }
          get last() {
            return this._items[this.length - 1] || null;
          }
          add(t3, e3) {
            const i3 = this._getItemIdBeforeAdding(t3);
            if (void 0 === e3) e3 = this._items.length;
            else if (e3 > this._items.length || e3 < 0) throw new hi.b("collection-add-item-invalid-index", this);
            return this._items.splice(e3, 0, t3), this._itemMap.set(i3, t3), this.fire("add", t3, e3), this;
          }
          get(t3) {
            let e3;
            if ("string" == typeof t3) e3 = this._itemMap.get(t3);
            else {
              if ("number" != typeof t3) throw new hi.b("collection-get-invalid-arg: Index or id must be given.", this);
              e3 = this._items[t3];
            }
            return e3 || null;
          }
          has(t3) {
            if ("string" == typeof t3) return this._itemMap.has(t3);
            {
              const e3 = t3[this._idProperty];
              return this._itemMap.has(e3);
            }
          }
          getIndex(t3) {
            let e3;
            return e3 = "string" == typeof t3 ? this._itemMap.get(t3) : t3, this._items.indexOf(e3);
          }
          remove(t3) {
            let e3, i3, n2, o2 = false;
            const r2 = this._idProperty;
            if ("string" == typeof t3 ? (i3 = t3, n2 = this._itemMap.get(i3), o2 = !n2, n2 && (e3 = this._items.indexOf(n2))) : "number" == typeof t3 ? (e3 = t3, n2 = this._items[e3], o2 = !n2, n2 && (i3 = n2[r2])) : (n2 = t3, i3 = n2[r2], e3 = this._items.indexOf(n2), o2 = -1 == e3 || !this._itemMap.get(i3)), o2) throw new hi.b("collection-remove-404: Item not found.", this);
            this._items.splice(e3, 1), this._itemMap.delete(i3);
            const s4 = this._bindToInternalToExternalMap.get(n2);
            return this._bindToInternalToExternalMap.delete(n2), this._bindToExternalToInternalMap.delete(s4), this.fire("remove", n2, e3), n2;
          }
          map(t3, e3) {
            return this._items.map(t3, e3);
          }
          find(t3, e3) {
            return this._items.find(t3, e3);
          }
          filter(t3, e3) {
            return this._items.filter(t3, e3);
          }
          clear() {
            for (this._bindToCollection && (this.stopListening(this._bindToCollection), this._bindToCollection = null); this.length; ) this.remove(0);
          }
          bindTo(t3) {
            if (this._bindToCollection) throw new hi.b("collection-bind-to-rebind: The collection cannot be bound more than once.", this);
            return this._bindToCollection = t3, { as: (t4) => {
              this._setUpBindToBinding((e3) => new t4(e3));
            }, using: (t4) => {
              "function" == typeof t4 ? this._setUpBindToBinding((e3) => t4(e3)) : this._setUpBindToBinding((e3) => e3[t4]);
            } };
          }
          _setUpBindToBinding(t3) {
            const e3 = this._bindToCollection, i3 = (i4, n2, o2) => {
              const r2 = e3._bindToCollection == this, s4 = e3._bindToInternalToExternalMap.get(n2);
              if (r2 && s4) this._bindToExternalToInternalMap.set(n2, s4), this._bindToInternalToExternalMap.set(s4, n2);
              else {
                const i5 = t3(n2);
                if (!i5) return void this._skippedIndexesFromExternal.push(o2);
                let r3 = o2;
                for (const t4 of this._skippedIndexesFromExternal) o2 > t4 && r3--;
                for (const t4 of e3._skippedIndexesFromExternal) r3 >= t4 && r3++;
                this._bindToExternalToInternalMap.set(n2, i5), this._bindToInternalToExternalMap.set(i5, n2), this.add(i5, r3);
                for (let t4 = 0; t4 < e3._skippedIndexesFromExternal.length; t4++) r3 <= e3._skippedIndexesFromExternal[t4] && e3._skippedIndexesFromExternal[t4]++;
              }
            };
            for (const t4 of e3) i3(0, t4, e3.getIndex(t4));
            this.listenTo(e3, "add", i3), this.listenTo(e3, "remove", (t4, e4, i4) => {
              const n2 = this._bindToExternalToInternalMap.get(e4);
              n2 && this.remove(n2), this._skippedIndexesFromExternal = this._skippedIndexesFromExternal.reduce((t5, e5) => (i4 < e5 && t5.push(e5 - 1), i4 > e5 && t5.push(e5), t5), []);
            });
          }
          _getItemIdBeforeAdding(t3) {
            const e3 = this._idProperty;
            let i3;
            if (e3 in t3) {
              if (i3 = t3[e3], "string" != typeof i3) throw new hi.b("collection-add-invalid-id", this);
              if (this.get(i3)) throw new hi.b("collection-add-item-already-exists", this);
            } else t3[e3] = i3 = ci();
            return i3;
          }
          [Symbol.iterator]() {
            return this._items[Symbol.iterator]();
          }
        }
        yi(xi, gi);
        class Ai {
          constructor(t3, e3 = [], i3 = []) {
            this._context = t3, this._plugins = /* @__PURE__ */ new Map(), this._availablePlugins = /* @__PURE__ */ new Map();
            for (const t4 of e3) t4.pluginName && this._availablePlugins.set(t4.pluginName, t4);
            this._contextPlugins = /* @__PURE__ */ new Map();
            for (const [t4, e4] of i3) this._contextPlugins.set(t4, e4), this._contextPlugins.set(e4, t4), t4.pluginName && this._availablePlugins.set(t4.pluginName, t4);
          }
          *[Symbol.iterator]() {
            for (const t3 of this._plugins) "function" == typeof t3[0] && (yield t3);
          }
          get(t3) {
            const e3 = this._plugins.get(t3);
            if (!e3) {
              const e4 = "plugincollection-plugin-not-loaded: The requested plugin is not loaded.";
              let i3 = t3;
              throw "function" == typeof t3 && (i3 = t3.pluginName || t3.name), new hi.b(e4, this._context, { plugin: i3 });
            }
            return e3;
          }
          has(t3) {
            return this._plugins.has(t3);
          }
          init(t3, e3 = []) {
            const i3 = this, n2 = this._context, o2 = /* @__PURE__ */ new Set(), r2 = [], s4 = u3(t3), a4 = u3(e3), l2 = function(t4) {
              const e4 = [];
              for (const i4 of t4) h4(i4) || e4.push(i4);
              return e4.length ? e4 : null;
            }(t3);
            if (l2) {
              const t4 = "plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";
              return console.error(Object(hi.a)(t4), { plugins: l2 }), Promise.reject(new hi.b(t4, n2, { plugins: l2 }));
            }
            return Promise.all(s4.map(c3)).then(() => d4(r2, "init")).then(() => d4(r2, "afterInit")).then(() => r2);
            function c3(t4) {
              if (!a4.includes(t4) && !i3._plugins.has(t4) && !o2.has(t4)) return function(t5) {
                return new Promise((s5) => {
                  o2.add(t5), t5.requires && t5.requires.forEach((i4) => {
                    const o3 = h4(i4);
                    if (t5.isContextPlugin && !o3.isContextPlugin) throw new hi.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin", null, { plugin: o3.name, requiredBy: t5.name });
                    if (e3.includes(o3)) throw new hi.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.", n2, { plugin: o3.name, requiredBy: t5.name });
                    c3(o3);
                  });
                  const a5 = i3._contextPlugins.get(t5) || new t5(n2);
                  i3._add(t5, a5), r2.push(a5), s5();
                });
              }(t4).catch((e4) => {
                throw console.error(Object(hi.a)("plugincollection-load: It was not possible to load the plugin."), { plugin: t4 }), e4;
              });
            }
            function d4(t4, e4) {
              return t4.reduce((t5, n3) => n3[e4] ? i3._contextPlugins.has(n3) ? t5 : t5.then(n3[e4].bind(n3)) : t5, Promise.resolve());
            }
            function h4(t4) {
              return "function" == typeof t4 ? t4 : i3._availablePlugins.get(t4);
            }
            function u3(t4) {
              return t4.map((t5) => h4(t5)).filter((t5) => !!t5);
            }
          }
          destroy() {
            const t3 = [];
            for (const [, e3] of this) "function" != typeof e3.destroy || this._contextPlugins.has(e3) || t3.push(e3.destroy());
            return Promise.all(t3);
          }
          _add(t3, e3) {
            this._plugins.set(t3, e3);
            const i3 = t3.pluginName;
            if (i3) {
              if (this._plugins.has(i3)) throw new hi.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.", null, { pluginName: i3, plugin1: this._plugins.get(i3).constructor, plugin2: t3 });
              this._plugins.set(i3, e3);
            }
          }
        }
        function Ci(t3, e3, i3 = 1) {
          if ("number" != typeof i3) throw new hi.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.", null, { quantity: i3 });
          const n2 = Object.keys(window.CKEDITOR_TRANSLATIONS).length;
          1 === n2 && (t3 = Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);
          const o2 = e3.id || e3.string;
          if (0 === n2 || !function(t4, e4) {
            return !!window.CKEDITOR_TRANSLATIONS[t4] && !!window.CKEDITOR_TRANSLATIONS[t4].dictionary[e4];
          }(t3, o2)) return 1 !== i3 ? e3.plural : e3.string;
          const r2 = window.CKEDITOR_TRANSLATIONS[t3].dictionary, s4 = window.CKEDITOR_TRANSLATIONS[t3].getPluralForm || ((t4) => 1 === t4 ? 0 : 1);
          if ("string" == typeof r2[o2]) return r2[o2];
          const a4 = Number(s4(i3));
          return r2[o2][a4];
        }
        yi(Ai, gi), window.CKEDITOR_TRANSLATIONS || (window.CKEDITOR_TRANSLATIONS = {});
        const Ti = ["ar", "fa", "he", "ku", "ug"];
        class Mi {
          constructor(t3 = {}) {
            this.uiLanguage = t3.uiLanguage || "en", this.contentLanguage = t3.contentLanguage || this.uiLanguage, this.uiLanguageDirection = Ei(this.uiLanguage), this.contentLanguageDirection = Ei(this.contentLanguage), this.t = (t4, e3) => this._t(t4, e3);
          }
          get language() {
            return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."), this.uiLanguage;
          }
          _t(t3, e3 = []) {
            Array.isArray(e3) || (e3 = [e3]), "string" == typeof t3 && (t3 = { string: t3 });
            const i3 = !!t3.plural ? e3[0] : 1;
            return function(t4, e4) {
              return t4.replace(/%(\d+)/g, (t5, i4) => i4 < e4.length ? e4[i4] : t5);
            }(Ci(this.uiLanguage, t3, i3), e3);
          }
        }
        function Ei(t3) {
          return Ti.includes(t3) ? "rtl" : "ltr";
        }
        class Pi {
          constructor(t3) {
            this.config = new ni(t3, this.constructor.defaultConfig);
            const e3 = this.constructor.builtinPlugins;
            this.config.define("plugins", e3), this.plugins = new Ai(this, e3);
            const i3 = this.config.get("language") || {};
            this.locale = new Mi({ uiLanguage: "string" == typeof i3 ? i3 : i3.ui, contentLanguage: this.config.get("language.content") }), this.t = this.locale.t, this.editors = new xi(), this._contextOwner = null;
          }
          initPlugins() {
            const t3 = this.config.get("plugins") || [];
            for (const e3 of t3) {
              if ("function" != typeof e3) throw new hi.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.", null, { Plugin: e3 });
              if (true !== e3.isContextPlugin) throw new hi.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.", null, { Plugin: e3 });
            }
            return this.plugins.init(t3);
          }
          destroy() {
            return Promise.all(Array.from(this.editors, (t3) => t3.destroy())).then(() => this.plugins.destroy());
          }
          _addEditor(t3, e3) {
            if (this._contextOwner) throw new hi.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");
            this.editors.add(t3), e3 && (this._contextOwner = t3);
          }
          _removeEditor(t3) {
            return this.editors.has(t3) && this.editors.remove(t3), this._contextOwner === t3 ? this.destroy() : Promise.resolve();
          }
          _getEditorConfig() {
            const t3 = {};
            for (const e3 of this.config.names()) ["plugins", "removePlugins", "extraPlugins"].includes(e3) || (t3[e3] = this.config.get(e3));
            return t3;
          }
          static create(t3) {
            return new Promise((e3) => {
              const i3 = new this(t3);
              e3(i3.initPlugins().then(() => i3));
            });
          }
        }
        function Si(t3, e3) {
          const i3 = Math.min(t3.length, e3.length);
          for (let n2 = 0; n2 < i3; n2++) if (t3[n2] != e3[n2]) return n2;
          return t3.length == e3.length ? "same" : t3.length < e3.length ? "prefix" : "extension";
        }
        var Ii = function(t3) {
          return ti(t3, 4);
        };
        class Oi {
          constructor(t3) {
            this.document = t3, this.parent = null;
          }
          get index() {
            let t3;
            if (!this.parent) return null;
            if (-1 == (t3 = this.parent.getChildIndex(this))) throw new hi.b("view-node-not-found-in-parent: The node's parent does not contain this node.", this);
            return t3;
          }
          get nextSibling() {
            const t3 = this.index;
            return null !== t3 && this.parent.getChild(t3 + 1) || null;
          }
          get previousSibling() {
            const t3 = this.index;
            return null !== t3 && this.parent.getChild(t3 - 1) || null;
          }
          get root() {
            let t3 = this;
            for (; t3.parent; ) t3 = t3.parent;
            return t3;
          }
          isAttached() {
            return this.root.is("rootElement");
          }
          getPath() {
            const t3 = [];
            let e3 = this;
            for (; e3.parent; ) t3.unshift(e3.index), e3 = e3.parent;
            return t3;
          }
          getAncestors(t3 = { includeSelf: false, parentFirst: false }) {
            const e3 = [];
            let i3 = t3.includeSelf ? this : this.parent;
            for (; i3; ) e3[t3.parentFirst ? "push" : "unshift"](i3), i3 = i3.parent;
            return e3;
          }
          getCommonAncestor(t3, e3 = {}) {
            const i3 = this.getAncestors(e3), n2 = t3.getAncestors(e3);
            let o2 = 0;
            for (; i3[o2] == n2[o2] && i3[o2]; ) o2++;
            return 0 === o2 ? null : i3[o2 - 1];
          }
          isBefore(t3) {
            if (this == t3) return false;
            if (this.root !== t3.root) return false;
            const e3 = this.getPath(), i3 = t3.getPath(), n2 = Si(e3, i3);
            switch (n2) {
              case "prefix":
                return true;
              case "extension":
                return false;
              default:
                return e3[n2] < i3[n2];
            }
          }
          isAfter(t3) {
            return this != t3 && (this.root === t3.root && !this.isBefore(t3));
          }
          _remove() {
            this.parent._removeChildren(this.index);
          }
          _fireChange(t3, e3) {
            this.fire("change:" + t3, e3), this.parent && this.parent._fireChange(t3, e3);
          }
          toJSON() {
            const t3 = Ii(this);
            return delete t3.parent, t3;
          }
          is(t3) {
            return "node" === t3 || "view:node" === t3;
          }
        }
        yi(Oi, gi);
        class Ni extends Oi {
          constructor(t3, e3) {
            super(t3), this._textData = e3;
          }
          is(t3) {
            return "text" === t3 || "view:text" === t3 || "node" === t3 || "view:node" === t3;
          }
          get data() {
            return this._textData;
          }
          get _data() {
            return this.data;
          }
          set _data(t3) {
            this._fireChange("text", this), this._textData = t3;
          }
          isSimilar(t3) {
            return t3 instanceof Ni && (this === t3 || this.data === t3.data);
          }
          _clone() {
            return new Ni(this.document, this.data);
          }
        }
        class Ri {
          constructor(t3, e3, i3) {
            if (this.textNode = t3, e3 < 0 || e3 > t3.data.length) throw new hi.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
            if (i3 < 0 || e3 + i3 > t3.data.length) throw new hi.b("view-textproxy-wrong-length: Given length value is incorrect.", this);
            this.data = t3.data.substring(e3, e3 + i3), this.offsetInText = e3;
          }
          get offsetSize() {
            return this.data.length;
          }
          get isPartial() {
            return this.data.length !== this.textNode.data.length;
          }
          get parent() {
            return this.textNode.parent;
          }
          get root() {
            return this.textNode.root;
          }
          get document() {
            return this.textNode.document;
          }
          is(t3) {
            return "textProxy" === t3 || "view:textProxy" === t3;
          }
          getAncestors(t3 = { includeSelf: false, parentFirst: false }) {
            const e3 = [];
            let i3 = t3.includeSelf ? this.textNode : this.parent;
            for (; null !== i3; ) e3[t3.parentFirst ? "push" : "unshift"](i3), i3 = i3.parent;
            return e3;
          }
        }
        function Li(t3) {
          return vi(t3) ? new Map(t3) : function(t4) {
            const e3 = /* @__PURE__ */ new Map();
            for (const i3 in t4) e3.set(i3, t4[i3]);
            return e3;
          }(t3);
        }
        class ji {
          constructor(...t3) {
            this._patterns = [], this.add(...t3);
          }
          add(...t3) {
            for (let e3 of t3) ("string" == typeof e3 || e3 instanceof RegExp) && (e3 = { name: e3 }), e3.classes && ("string" == typeof e3.classes || e3.classes instanceof RegExp) && (e3.classes = [e3.classes]), this._patterns.push(e3);
          }
          match(...t3) {
            for (const e3 of t3) for (const t4 of this._patterns) {
              const i3 = Di(e3, t4);
              if (i3) return { element: e3, pattern: t4, match: i3 };
            }
            return null;
          }
          matchAll(...t3) {
            const e3 = [];
            for (const i3 of t3) for (const t4 of this._patterns) {
              const n2 = Di(i3, t4);
              n2 && e3.push({ element: i3, pattern: t4, match: n2 });
            }
            return e3.length > 0 ? e3 : null;
          }
          getElementName() {
            if (1 !== this._patterns.length) return null;
            const t3 = this._patterns[0], e3 = t3.name;
            return "function" == typeof t3 || !e3 || e3 instanceof RegExp ? null : e3;
          }
        }
        function Di(t3, e3) {
          if ("function" == typeof e3) return e3(t3);
          const i3 = {};
          return e3.name && (i3.name = function(t4, e4) {
            if (t4 instanceof RegExp) return t4.test(e4);
            return t4 === e4;
          }(e3.name, t3.name), !i3.name) || e3.attributes && (i3.attributes = function(t4, e4) {
            const i4 = [];
            for (const n2 in t4) {
              const o2 = t4[n2];
              if (!e4.hasAttribute(n2)) return null;
              {
                const t5 = e4.getAttribute(n2);
                if (true === o2) i4.push(n2);
                else if (o2 instanceof RegExp) {
                  if (!o2.test(t5)) return null;
                  i4.push(n2);
                } else {
                  if (t5 !== o2) return null;
                  i4.push(n2);
                }
              }
            }
            return i4;
          }(e3.attributes, t3), !i3.attributes) ? null : !(e3.classes && (i3.classes = function(t4, e4) {
            const i4 = [];
            for (const n2 of t4) if (n2 instanceof RegExp) {
              const t5 = e4.getClassNames();
              for (const e5 of t5) n2.test(e5) && i4.push(e5);
              if (0 === i4.length) return null;
            } else {
              if (!e4.hasClass(n2)) return null;
              i4.push(n2);
            }
            return i4;
          }(e3.classes, t3), !i3.classes)) && (!(e3.styles && (i3.styles = function(t4, e4) {
            const i4 = [];
            for (const n2 in t4) {
              const o2 = t4[n2];
              if (!e4.hasStyle(n2)) return null;
              {
                const t5 = e4.getStyle(n2);
                if (o2 instanceof RegExp) {
                  if (!o2.test(t5)) return null;
                  i4.push(n2);
                } else {
                  if (t5 !== o2) return null;
                  i4.push(n2);
                }
              }
            }
            return i4;
          }(e3.styles, t3), !i3.styles)) && i3);
        }
        var zi = function(t3) {
          return "symbol" == typeof t3 || p(t3) && "[object Symbol]" == m3(t3);
        }, Bi = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/, Vi = /^\w*$/;
        var Fi = function(t3, e3) {
          if (Lt(t3)) return false;
          var i3 = typeof t3;
          return !("number" != i3 && "symbol" != i3 && "boolean" != i3 && null != t3 && !zi(t3)) || (Vi.test(t3) || !Bi.test(t3) || null != e3 && t3 in Object(e3));
        };
        function Hi(t3, e3) {
          if ("function" != typeof t3 || null != e3 && "function" != typeof e3) throw new TypeError("Expected a function");
          var i3 = function() {
            var n2 = arguments, o2 = e3 ? e3.apply(this, n2) : n2[0], r2 = i3.cache;
            if (r2.has(o2)) return r2.get(o2);
            var s4 = t3.apply(this, n2);
            return i3.cache = r2.set(o2, s4) || r2, s4;
          };
          return i3.cache = new (Hi.Cache || _t)(), i3;
        }
        Hi.Cache = _t;
        var Ui = Hi;
        var Wi = /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g, qi = /\\(\\)?/g, Yi = function(t3) {
          var e3 = Ui(t3, function(t4) {
            return 500 === i3.size && i3.clear(), t4;
          }), i3 = e3.cache;
          return e3;
        }(function(t3) {
          var e3 = [];
          return 46 === t3.charCodeAt(0) && e3.push(""), t3.replace(Wi, function(t4, i3, n2, o2) {
            e3.push(n2 ? o2.replace(qi, "$1") : i3 || t4);
          }), e3;
        });
        var $i = function(t3, e3) {
          for (var i3 = -1, n2 = null == t3 ? 0 : t3.length, o2 = Array(n2); ++i3 < n2; ) o2[i3] = e3(t3[i3], i3, t3);
          return o2;
        }, Ji = o ? o.prototype : void 0, Gi = Ji ? Ji.toString : void 0;
        var Qi = function t3(e3) {
          if ("string" == typeof e3) return e3;
          if (Lt(e3)) return $i(e3, t3) + "";
          if (zi(e3)) return Gi ? Gi.call(e3) : "";
          var i3 = e3 + "";
          return "0" == i3 && 1 / e3 == -1 / 0 ? "-0" : i3;
        };
        var Xi = function(t3) {
          return null == t3 ? "" : Qi(t3);
        };
        var Ki = function(t3, e3) {
          return Lt(t3) ? t3 : Fi(t3, e3) ? [t3] : Yi(Xi(t3));
        };
        var Zi = function(t3) {
          var e3 = null == t3 ? 0 : t3.length;
          return e3 ? t3[e3 - 1] : void 0;
        };
        var tn = function(t3) {
          if ("string" == typeof t3 || zi(t3)) return t3;
          var e3 = t3 + "";
          return "0" == e3 && 1 / t3 == -1 / 0 ? "-0" : e3;
        };
        var en = function(t3, e3) {
          for (var i3 = 0, n2 = (e3 = Ki(e3, t3)).length; null != t3 && i3 < n2; ) t3 = t3[tn(e3[i3++])];
          return i3 && i3 == n2 ? t3 : void 0;
        };
        var nn = function(t3, e3, i3) {
          var n2 = -1, o2 = t3.length;
          e3 < 0 && (e3 = -e3 > o2 ? 0 : o2 + e3), (i3 = i3 > o2 ? o2 : i3) < 0 && (i3 += o2), o2 = e3 > i3 ? 0 : i3 - e3 >>> 0, e3 >>>= 0;
          for (var r2 = Array(o2); ++n2 < o2; ) r2[n2] = t3[n2 + e3];
          return r2;
        };
        var on = function(t3, e3) {
          return e3.length < 2 ? t3 : en(t3, nn(e3, 0, -1));
        };
        var rn = function(t3, e3) {
          return e3 = Ki(e3, t3), null == (t3 = on(t3, e3)) || delete t3[tn(Zi(e3))];
        };
        var sn = function(t3, e3) {
          return null == t3 || rn(t3, e3);
        };
        var an = function(t3, e3, i3) {
          var n2 = null == t3 ? void 0 : en(t3, e3);
          return void 0 === n2 ? i3 : n2;
        };
        var ln = function(t3, e3, i3) {
          (void 0 !== i3 && !A(t3[e3], i3) || void 0 === i3 && !(e3 in t3)) && Ct(t3, e3, i3);
        };
        var cn = /* @__PURE__ */ function(t3) {
          return function(e3, i3, n2) {
            for (var o2 = -1, r2 = Object(e3), s4 = n2(e3), a4 = s4.length; a4--; ) {
              var l2 = s4[t3 ? a4 : ++o2];
              if (false === i3(r2[l2], l2, r2)) break;
            }
            return e3;
          };
        }();
        var dn = function(t3) {
          return p(t3) && Zt(t3);
        };
        var hn = function(t3, e3) {
          if (("constructor" !== e3 || "function" != typeof t3[e3]) && "__proto__" != e3) return t3[e3];
        };
        var un = function(t3) {
          return Et(t3, re(t3));
        };
        var mn3 = function(t3, e3, i3, n2, o2, r2, s4) {
          var a4 = hn(t3, i3), l2 = hn(e3, i3), c3 = s4.get(l2);
          if (c3) ln(t3, i3, c3);
          else {
            var d4 = r2 ? r2(a4, l2, i3 + "", t3, e3, s4) : void 0, h4 = void 0 === d4;
            if (h4) {
              var u3 = Lt(l2), m4 = !u3 && Object(jt.a)(l2), g2 = !u3 && !m4 && qt(l2);
              d4 = l2, u3 || m4 || g2 ? Lt(a4) ? d4 = a4 : dn(a4) ? d4 = le(a4) : m4 ? (h4 = false, d4 = Object(ae.a)(l2, true)) : g2 ? (h4 = false, d4 = He(l2, true)) : d4 = [] : y3(l2) || Rt(l2) ? (d4 = a4, Rt(a4) ? d4 = un(a4) : D2(a4) && !B2(a4) || (d4 = Ye(l2))) : h4 = false;
            }
            h4 && (s4.set(l2, d4), o2(d4, l2, n2, r2, s4), s4.delete(l2)), ln(t3, i3, d4);
          }
        };
        var gn = function t3(e3, i3, n2, o2, r2) {
          e3 !== i3 && cn(i3, function(s4, a4) {
            if (r2 || (r2 = new yt()), D2(s4)) mn3(e3, i3, a4, n2, t3, o2, r2);
            else {
              var l2 = o2 ? o2(hn(e3, a4), s4, a4 + "", e3, i3, r2) : void 0;
              void 0 === l2 && (l2 = s4), ln(e3, a4, l2);
            }
          }, re);
        };
        var fn = function(t3) {
          return t3;
        };
        var pn = function(t3, e3, i3) {
          switch (i3.length) {
            case 0:
              return t3.call(e3);
            case 1:
              return t3.call(e3, i3[0]);
            case 2:
              return t3.call(e3, i3[0], i3[1]);
            case 3:
              return t3.call(e3, i3[0], i3[1], i3[2]);
          }
          return t3.apply(e3, i3);
        }, bn = Math.max;
        var wn = function(t3, e3, i3) {
          return e3 = bn(void 0 === e3 ? t3.length - 1 : e3, 0), function() {
            for (var n2 = arguments, o2 = -1, r2 = bn(n2.length - e3, 0), s4 = Array(r2); ++o2 < r2; ) s4[o2] = n2[e3 + o2];
            o2 = -1;
            for (var a4 = Array(e3 + 1); ++o2 < e3; ) a4[o2] = n2[o2];
            return a4[e3] = i3(s4), pn(t3, this, a4);
          };
        };
        var _n = function(t3) {
          return function() {
            return t3;
          };
        }, kn = At ? function(t3, e3) {
          return At(t3, "toString", { configurable: true, enumerable: false, value: _n(e3), writable: true });
        } : fn, vn = Date.now;
        var yn = /* @__PURE__ */ function(t3) {
          var e3 = 0, i3 = 0;
          return function() {
            var n2 = vn(), o2 = 16 - (n2 - i3);
            if (i3 = n2, o2 > 0) {
              if (++e3 >= 800) return arguments[0];
            } else e3 = 0;
            return t3.apply(void 0, arguments);
          };
        }(kn);
        var xn = function(t3, e3) {
          return yn(wn(t3, e3, fn), t3 + "");
        };
        var An = function(t3, e3, i3) {
          if (!D2(i3)) return false;
          var n2 = typeof e3;
          return !!("number" == n2 ? Zt(i3) && zt(e3, i3.length) : "string" == n2 && e3 in i3) && A(i3[e3], t3);
        };
        var Cn = function(t3) {
          return xn(function(e3, i3) {
            var n2 = -1, o2 = i3.length, r2 = o2 > 1 ? i3[o2 - 1] : void 0, s4 = o2 > 2 ? i3[2] : void 0;
            for (r2 = t3.length > 3 && "function" == typeof r2 ? (o2--, r2) : void 0, s4 && An(i3[0], i3[1], s4) && (r2 = o2 < 3 ? void 0 : r2, o2 = 1), e3 = Object(e3); ++n2 < o2; ) {
              var a4 = i3[n2];
              a4 && t3(e3, a4, n2, r2);
            }
            return e3;
          });
        }, Tn = Cn(function(t3, e3, i3) {
          gn(t3, e3, i3);
        });
        var Mn = function(t3, e3, i3, n2) {
          if (!D2(t3)) return t3;
          for (var o2 = -1, r2 = (e3 = Ki(e3, t3)).length, s4 = r2 - 1, a4 = t3; null != a4 && ++o2 < r2; ) {
            var l2 = tn(e3[o2]), c3 = i3;
            if (o2 != s4) {
              var d4 = a4[l2];
              void 0 === (c3 = n2 ? n2(d4, l2, a4) : void 0) && (c3 = D2(d4) ? d4 : zt(e3[o2 + 1]) ? [] : {});
            }
            Mt(a4, l2, c3), a4 = a4[l2];
          }
          return t3;
        };
        var En = function(t3, e3, i3) {
          return null == t3 ? t3 : Mn(t3, e3, i3);
        };
        class Pn {
          constructor(t3) {
            this._styles = {}, this._styleProcessor = t3;
          }
          get isEmpty() {
            const t3 = Object.entries(this._styles);
            return !Array.from(t3).length;
          }
          get size() {
            return this.isEmpty ? 0 : this.getStyleNames().length;
          }
          setTo(t3) {
            this.clear();
            const e3 = Array.from(function(t4) {
              let e4 = null, i3 = 0, n2 = 0, o2 = null;
              const r2 = /* @__PURE__ */ new Map();
              if ("" === t4) return r2;
              ";" != t4.charAt(t4.length - 1) && (t4 += ";");
              for (let s4 = 0; s4 < t4.length; s4++) {
                const a4 = t4.charAt(s4);
                if (null === e4) switch (a4) {
                  case ":":
                    o2 || (o2 = t4.substr(i3, s4 - i3), n2 = s4 + 1);
                    break;
                  case '"':
                  case "'":
                    e4 = a4;
                    break;
                  case ";": {
                    const e5 = t4.substr(n2, s4 - n2);
                    o2 && r2.set(o2.trim(), e5.trim()), o2 = null, i3 = s4 + 1;
                    break;
                  }
                }
                else a4 === e4 && (e4 = null);
              }
              return r2;
            }(t3).entries());
            for (const [t4, i3] of e3) this._styleProcessor.toNormalizedForm(t4, i3, this._styles);
          }
          has(t3) {
            if (this.isEmpty) return false;
            const e3 = this._styleProcessor.getReducedForm(t3, this._styles).find(([e4]) => e4 === t3);
            return Array.isArray(e3);
          }
          set(t3, e3) {
            if (D2(t3)) for (const [e4, i3] of Object.entries(t3)) this._styleProcessor.toNormalizedForm(e4, i3, this._styles);
            else this._styleProcessor.toNormalizedForm(t3, e3, this._styles);
          }
          remove(t3) {
            const e3 = In(t3);
            sn(this._styles, e3), delete this._styles[t3], this._cleanEmptyObjectsOnPath(e3);
          }
          getNormalized(t3) {
            return this._styleProcessor.getNormalized(t3, this._styles);
          }
          toString() {
            return this.isEmpty ? "" : this._getStylesEntries().map((t3) => t3.join(":")).sort().join(";") + ";";
          }
          getAsString(t3) {
            if (this.isEmpty) return;
            if (this._styles[t3] && !D2(this._styles[t3])) return this._styles[t3];
            const e3 = this._styleProcessor.getReducedForm(t3, this._styles).find(([e4]) => e4 === t3);
            return Array.isArray(e3) ? e3[1] : void 0;
          }
          getStyleNames() {
            if (this.isEmpty) return [];
            return this._getStylesEntries().map(([t3]) => t3);
          }
          clear() {
            this._styles = {};
          }
          _getStylesEntries() {
            const t3 = [], e3 = Object.keys(this._styles);
            for (const i3 of e3) t3.push(...this._styleProcessor.getReducedForm(i3, this._styles));
            return t3;
          }
          _cleanEmptyObjectsOnPath(t3) {
            const e3 = t3.split(".");
            if (!(e3.length > 1)) return;
            const i3 = e3.splice(0, e3.length - 1).join("."), n2 = an(this._styles, i3);
            if (!n2) return;
            !Array.from(Object.keys(n2)).length && this.remove(i3);
          }
        }
        class Sn {
          constructor() {
            this._normalizers = /* @__PURE__ */ new Map(), this._extractors = /* @__PURE__ */ new Map(), this._reducers = /* @__PURE__ */ new Map(), this._consumables = /* @__PURE__ */ new Map();
          }
          toNormalizedForm(t3, e3, i3) {
            if (D2(e3)) On(i3, In(t3), e3);
            else if (this._normalizers.has(t3)) {
              const n2 = this._normalizers.get(t3), { path: o2, value: r2 } = n2(e3);
              On(i3, o2, r2);
            } else On(i3, t3, e3);
          }
          getNormalized(t3, e3) {
            if (!t3) return Tn({}, e3);
            if (void 0 !== e3[t3]) return e3[t3];
            if (this._extractors.has(t3)) {
              const i3 = this._extractors.get(t3);
              if ("string" == typeof i3) return an(e3, i3);
              const n2 = i3(t3, e3);
              if (n2) return n2;
            }
            return an(e3, In(t3));
          }
          getReducedForm(t3, e3) {
            const i3 = this.getNormalized(t3, e3);
            if (void 0 === i3) return [];
            if (this._reducers.has(t3)) {
              return this._reducers.get(t3)(i3);
            }
            return [[t3, i3]];
          }
          getRelatedStyles(t3) {
            return this._consumables.get(t3) || [];
          }
          setNormalizer(t3, e3) {
            this._normalizers.set(t3, e3);
          }
          setExtractor(t3, e3) {
            this._extractors.set(t3, e3);
          }
          setReducer(t3, e3) {
            this._reducers.set(t3, e3);
          }
          setStyleRelation(t3, e3) {
            this._mapStyleNames(t3, e3);
            for (const i3 of e3) this._mapStyleNames(i3, [t3]);
          }
          _mapStyleNames(t3, e3) {
            this._consumables.has(t3) || this._consumables.set(t3, []), this._consumables.get(t3).push(...e3);
          }
        }
        function In(t3) {
          return t3.replace("-", ".");
        }
        function On(t3, e3, i3) {
          let n2 = i3;
          D2(i3) && (n2 = Tn({}, an(t3, e3), i3)), En(t3, e3, n2);
        }
        class Nn extends Oi {
          constructor(t3, e3, i3, n2) {
            if (super(t3), this.name = e3, this._attrs = function(t4) {
              t4 = Li(t4);
              for (const [e4, i4] of t4) null === i4 ? t4.delete(e4) : "string" != typeof i4 && t4.set(e4, String(i4));
              return t4;
            }(i3), this._children = [], n2 && this._insertChild(0, n2), this._classes = /* @__PURE__ */ new Set(), this._attrs.has("class")) {
              const t4 = this._attrs.get("class");
              Rn(this._classes, t4), this._attrs.delete("class");
            }
            this._styles = new Pn(this.document.stylesProcessor), this._attrs.has("style") && (this._styles.setTo(this._attrs.get("style")), this._attrs.delete("style")), this._customProperties = /* @__PURE__ */ new Map();
          }
          get childCount() {
            return this._children.length;
          }
          get isEmpty() {
            return 0 === this._children.length;
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("element" === t3 || "view:element" === t3) : t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          getChild(t3) {
            return this._children[t3];
          }
          getChildIndex(t3) {
            return this._children.indexOf(t3);
          }
          getChildren() {
            return this._children[Symbol.iterator]();
          }
          *getAttributeKeys() {
            this._classes.size > 0 && (yield "class"), this._styles.isEmpty || (yield "style"), yield* this._attrs.keys();
          }
          *getAttributes() {
            yield* this._attrs.entries(), this._classes.size > 0 && (yield ["class", this.getAttribute("class")]), this._styles.isEmpty || (yield ["style", this.getAttribute("style")]);
          }
          getAttribute(t3) {
            if ("class" == t3) return this._classes.size > 0 ? [...this._classes].join(" ") : void 0;
            if ("style" == t3) {
              const t4 = this._styles.toString();
              return "" == t4 ? void 0 : t4;
            }
            return this._attrs.get(t3);
          }
          hasAttribute(t3) {
            return "class" == t3 ? this._classes.size > 0 : "style" == t3 ? !this._styles.isEmpty : this._attrs.has(t3);
          }
          isSimilar(t3) {
            if (!(t3 instanceof Nn)) return false;
            if (this === t3) return true;
            if (this.name != t3.name) return false;
            if (this._attrs.size !== t3._attrs.size || this._classes.size !== t3._classes.size || this._styles.size !== t3._styles.size) return false;
            for (const [e3, i3] of this._attrs) if (!t3._attrs.has(e3) || t3._attrs.get(e3) !== i3) return false;
            for (const e3 of this._classes) if (!t3._classes.has(e3)) return false;
            for (const e3 of this._styles.getStyleNames()) if (!t3._styles.has(e3) || t3._styles.getAsString(e3) !== this._styles.getAsString(e3)) return false;
            return true;
          }
          hasClass(...t3) {
            for (const e3 of t3) if (!this._classes.has(e3)) return false;
            return true;
          }
          getClassNames() {
            return this._classes.keys();
          }
          getStyle(t3) {
            return this._styles.getAsString(t3);
          }
          getNormalizedStyle(t3) {
            return this._styles.getNormalized(t3);
          }
          getStyleNames() {
            return this._styles.getStyleNames();
          }
          hasStyle(...t3) {
            for (const e3 of t3) if (!this._styles.has(e3)) return false;
            return true;
          }
          findAncestor(...t3) {
            const e3 = new ji(...t3);
            let i3 = this.parent;
            for (; i3; ) {
              if (e3.match(i3)) return i3;
              i3 = i3.parent;
            }
            return null;
          }
          getCustomProperty(t3) {
            return this._customProperties.get(t3);
          }
          *getCustomProperties() {
            yield* this._customProperties.entries();
          }
          getIdentity() {
            const t3 = Array.from(this._classes).sort().join(","), e3 = this._styles.toString(), i3 = Array.from(this._attrs).map((t4) => `${t4[0]}="${t4[1]}"`).sort().join(" ");
            return this.name + ("" == t3 ? "" : ` class="${t3}"`) + (e3 ? ` style="${e3}"` : "") + ("" == i3 ? "" : " " + i3);
          }
          _clone(t3 = false) {
            const e3 = [];
            if (t3) for (const i4 of this.getChildren()) e3.push(i4._clone(t3));
            const i3 = new this.constructor(this.document, this.name, this._attrs, e3);
            return i3._classes = new Set(this._classes), i3._styles.set(this._styles.getNormalized()), i3._customProperties = new Map(this._customProperties), i3.getFillerOffset = this.getFillerOffset, i3;
          }
          _appendChild(t3) {
            return this._insertChild(this.childCount, t3);
          }
          _insertChild(t3, e3) {
            this._fireChange("children", this);
            let i3 = 0;
            const n2 = function(t4, e4) {
              if ("string" == typeof e4) return [new Ni(t4, e4)];
              vi(e4) || (e4 = [e4]);
              return Array.from(e4).map((e5) => "string" == typeof e5 ? new Ni(t4, e5) : e5 instanceof Ri ? new Ni(t4, e5.data) : e5);
            }(this.document, e3);
            for (const e4 of n2) null !== e4.parent && e4._remove(), e4.parent = this, e4.document = this.document, this._children.splice(t3, 0, e4), t3++, i3++;
            return i3;
          }
          _removeChildren(t3, e3 = 1) {
            this._fireChange("children", this);
            for (let i3 = t3; i3 < t3 + e3; i3++) this._children[i3].parent = null;
            return this._children.splice(t3, e3);
          }
          _setAttribute(t3, e3) {
            e3 = String(e3), this._fireChange("attributes", this), "class" == t3 ? Rn(this._classes, e3) : "style" == t3 ? this._styles.setTo(e3) : this._attrs.set(t3, e3);
          }
          _removeAttribute(t3) {
            return this._fireChange("attributes", this), "class" == t3 ? this._classes.size > 0 && (this._classes.clear(), true) : "style" == t3 ? !this._styles.isEmpty && (this._styles.clear(), true) : this._attrs.delete(t3);
          }
          _addClass(t3) {
            this._fireChange("attributes", this), (t3 = Array.isArray(t3) ? t3 : [t3]).forEach((t4) => this._classes.add(t4));
          }
          _removeClass(t3) {
            this._fireChange("attributes", this), (t3 = Array.isArray(t3) ? t3 : [t3]).forEach((t4) => this._classes.delete(t4));
          }
          _setStyle(t3, e3) {
            this._fireChange("attributes", this), this._styles.set(t3, e3);
          }
          _removeStyle(t3) {
            this._fireChange("attributes", this), (t3 = Array.isArray(t3) ? t3 : [t3]).forEach((t4) => this._styles.remove(t4));
          }
          _setCustomProperty(t3, e3) {
            this._customProperties.set(t3, e3);
          }
          _removeCustomProperty(t3) {
            return this._customProperties.delete(t3);
          }
        }
        function Rn(t3, e3) {
          const i3 = e3.split(/\s+/);
          t3.clear(), i3.forEach((e4) => t3.add(e4));
        }
        class Ln extends Nn {
          constructor(t3, e3, i3, n2) {
            super(t3, e3, i3, n2), this.getFillerOffset = jn;
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("containerElement" === t3 || "view:containerElement" === t3 || "element" === t3 || "view:element" === t3) : "containerElement" === t3 || "view:containerElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
        }
        function jn() {
          const t3 = [...this.getChildren()], e3 = t3[this.childCount - 1];
          if (e3 && e3.is("element", "br")) return this.childCount;
          for (const e4 of t3) if (!e4.is("uiElement")) return null;
          return this.childCount;
        }
        var Dn = Cn(function(t3, e3) {
          Et(e3, re(e3), t3);
        });
        const zn = Symbol("observableProperties"), Bn = Symbol("boundObservables"), Vn = Symbol("boundProperties"), Fn = { set(t3, e3) {
          if (D2(t3)) return void Object.keys(t3).forEach((e4) => {
            this.set(e4, t3[e4]);
          }, this);
          Un(this);
          const i3 = this[zn];
          if (t3 in this && !i3.has(t3)) throw new hi.b("observable-set-cannot-override: Cannot override an existing property.", this);
          Object.defineProperty(this, t3, { enumerable: true, configurable: true, get: () => i3.get(t3), set(e4) {
            const n2 = i3.get(t3);
            let o2 = this.fire("set:" + t3, t3, e4, n2);
            void 0 === o2 && (o2 = e4), n2 === o2 && i3.has(t3) || (i3.set(t3, o2), this.fire("change:" + t3, t3, o2, n2));
          } }), this[t3] = e3;
        }, bind(...t3) {
          if (!t3.length || !Yn(t3)) throw new hi.b("observable-bind-wrong-properties: All properties must be strings.", this);
          if (new Set(t3).size !== t3.length) throw new hi.b("observable-bind-duplicate-properties: Properties must be unique.", this);
          Un(this);
          const e3 = this[Vn];
          t3.forEach((t4) => {
            if (e3.has(t4)) throw new hi.b("observable-bind-rebind: Cannot bind the same property more than once.", this);
          });
          const i3 = /* @__PURE__ */ new Map();
          return t3.forEach((t4) => {
            const n2 = { property: t4, to: [] };
            e3.set(t4, n2), i3.set(t4, n2);
          }), { to: Wn, toMany: qn, _observable: this, _bindProperties: t3, _to: [], _bindings: i3 };
        }, unbind(...t3) {
          if (!this[zn]) return;
          const e3 = this[Vn], i3 = this[Bn];
          if (t3.length) {
            if (!Yn(t3)) throw new hi.b("observable-unbind-wrong-properties: Properties must be strings.", this);
            t3.forEach((t4) => {
              const n2 = e3.get(t4);
              if (!n2) return;
              let o2, r2, s4, a4;
              n2.to.forEach((t5) => {
                o2 = t5[0], r2 = t5[1], s4 = i3.get(o2), a4 = s4[r2], a4.delete(n2), a4.size || delete s4[r2], Object.keys(s4).length || (i3.delete(o2), this.stopListening(o2, "change"));
              }), e3.delete(t4);
            });
          } else i3.forEach((t4, e4) => {
            this.stopListening(e4, "change");
          }), i3.clear(), e3.clear();
        }, decorate(t3) {
          const e3 = this[t3];
          if (!e3) throw new hi.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.", this, { object: this, methodName: t3 });
          this.on(t3, (t4, i3) => {
            t4.return = e3.apply(this, i3);
          }), this[t3] = function(...e4) {
            return this.fire(t3, e4);
          };
        } };
        Dn(Fn, gi);
        var Hn = Fn;
        function Un(t3) {
          t3[zn] || (Object.defineProperty(t3, zn, { value: /* @__PURE__ */ new Map() }), Object.defineProperty(t3, Bn, { value: /* @__PURE__ */ new Map() }), Object.defineProperty(t3, Vn, { value: /* @__PURE__ */ new Map() }));
        }
        function Wn(...t3) {
          const e3 = function(...t4) {
            if (!t4.length) throw new hi.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
            const e4 = { to: [] };
            let i4;
            "function" == typeof t4[t4.length - 1] && (e4.callback = t4.pop());
            return t4.forEach((t5) => {
              if ("string" == typeof t5) i4.properties.push(t5);
              else {
                if ("object" != typeof t5) throw new hi.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.", null);
                i4 = { observable: t5, properties: [] }, e4.to.push(i4);
              }
            }), e4;
          }(...t3), i3 = Array.from(this._bindings.keys()), n2 = i3.length;
          if (!e3.callback && e3.to.length > 1) throw new hi.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.", this);
          if (n2 > 1 && e3.callback) throw new hi.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.", this);
          var o2;
          e3.to.forEach((t4) => {
            if (t4.properties.length && t4.properties.length !== n2) throw new hi.b("observable-bind-to-properties-length: The number of properties must match.", this);
            t4.properties.length || (t4.properties = this._bindProperties);
          }), this._to = e3.to, e3.callback && (this._bindings.get(i3[0]).callback = e3.callback), o2 = this._observable, this._to.forEach((t4) => {
            const e4 = o2[Bn];
            let i4;
            e4.get(t4.observable) || o2.listenTo(t4.observable, "change", (n3, r2) => {
              i4 = e4.get(t4.observable)[r2], i4 && i4.forEach((t5) => {
                $n(o2, t5.property);
              });
            });
          }), function(t4) {
            let e4;
            t4._bindings.forEach((i4, n3) => {
              t4._to.forEach((o3) => {
                e4 = o3.properties[i4.callback ? 0 : t4._bindProperties.indexOf(n3)], i4.to.push([o3.observable, e4]), function(t5, e5, i5, n4) {
                  const o4 = t5[Bn], r2 = o4.get(i5), s4 = r2 || {};
                  s4[n4] || (s4[n4] = /* @__PURE__ */ new Set());
                  s4[n4].add(e5), r2 || o4.set(i5, s4);
                }(t4._observable, i4, o3.observable, e4);
              });
            });
          }(this), this._bindProperties.forEach((t4) => {
            $n(this._observable, t4);
          });
        }
        function qn(t3, e3, i3) {
          if (this._bindings.size > 1) throw new hi.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().", this);
          this.to(...function(t4, e4) {
            const i4 = t4.map((t5) => [t5, e4]);
            return Array.prototype.concat.apply([], i4);
          }(t3, e3), i3);
        }
        function Yn(t3) {
          return t3.every((t4) => "string" == typeof t4);
        }
        function $n(t3, e3) {
          const i3 = t3[Vn].get(e3);
          let n2;
          i3.callback ? n2 = i3.callback.apply(t3, i3.to.map((t4) => t4[0][t4[1]])) : (n2 = i3.to[0], n2 = n2[0][n2[1]]), t3.hasOwnProperty(e3) ? t3[e3] = n2 : t3.set(e3, n2);
        }
        class Jn extends Ln {
          constructor(t3, e3, i3, n2) {
            super(t3, e3, i3, n2), this.set("isReadOnly", false), this.set("isFocused", false), this.bind("isReadOnly").to(t3), this.bind("isFocused").to(t3, "isFocused", (e4) => e4 && t3.selection.editableElement == this), this.listenTo(t3.selection, "change", () => {
              this.isFocused = t3.isFocused && t3.selection.editableElement == this;
            });
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("editableElement" === t3 || "view:editableElement" === t3 || "containerElement" === t3 || "view:containerElement" === t3 || "element" === t3 || "view:element" === t3) : "editableElement" === t3 || "view:editableElement" === t3 || "containerElement" === t3 || "view:containerElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          destroy() {
            this.stopListening();
          }
        }
        yi(Jn, Hn);
        const Gn = Symbol("rootName");
        class Qn extends Jn {
          constructor(t3, e3) {
            super(t3, e3), this.rootName = "main";
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("rootElement" === t3 || "view:rootElement" === t3 || "editableElement" === t3 || "view:editableElement" === t3 || "containerElement" === t3 || "view:containerElement" === t3 || "element" === t3 || "view:element" === t3) : "rootElement" === t3 || "view:rootElement" === t3 || "editableElement" === t3 || "view:editableElement" === t3 || "containerElement" === t3 || "view:containerElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          get rootName() {
            return this.getCustomProperty(Gn);
          }
          set rootName(t3) {
            this._setCustomProperty(Gn, t3);
          }
          set _name(t3) {
            this.name = t3;
          }
        }
        class Xn {
          constructor(t3 = {}) {
            if (!t3.boundaries && !t3.startPosition) throw new hi.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
            if (t3.direction && "forward" != t3.direction && "backward" != t3.direction) throw new hi.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t3.startPosition, { direction: t3.direction });
            this.boundaries = t3.boundaries || null, t3.startPosition ? this.position = Kn._createAt(t3.startPosition) : this.position = Kn._createAt(t3.boundaries["backward" == t3.direction ? "end" : "start"]), this.direction = t3.direction || "forward", this.singleCharacters = !!t3.singleCharacters, this.shallow = !!t3.shallow, this.ignoreElementEnd = !!t3.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null;
          }
          [Symbol.iterator]() {
            return this;
          }
          skip(t3) {
            let e3, i3, n2;
            do {
              n2 = this.position, { done: e3, value: i3 } = this.next();
            } while (!e3 && t3(i3));
            e3 || (this.position = n2);
          }
          next() {
            return "forward" == this.direction ? this._next() : this._previous();
          }
          _next() {
            let t3 = this.position.clone();
            const e3 = this.position, i3 = t3.parent;
            if (null === i3.parent && t3.offset === i3.childCount) return { done: true };
            if (i3 === this._boundaryEndParent && t3.offset == this.boundaries.end.offset) return { done: true };
            let n2;
            if (i3 instanceof Ni) {
              if (t3.isAtEnd) return this.position = Kn._createAfter(i3), this._next();
              n2 = i3.data[t3.offset];
            } else n2 = i3.getChild(t3.offset);
            if (n2 instanceof Nn) return this.shallow ? t3.offset++ : t3 = new Kn(n2, 0), this.position = t3, this._formatReturnValue("elementStart", n2, e3, t3, 1);
            if (n2 instanceof Ni) {
              if (this.singleCharacters) return t3 = new Kn(n2, 0), this.position = t3, this._next();
              {
                let i4, o2 = n2.data.length;
                return n2 == this._boundaryEndParent ? (o2 = this.boundaries.end.offset, i4 = new Ri(n2, 0, o2), t3 = Kn._createAfter(i4)) : (i4 = new Ri(n2, 0, n2.data.length), t3.offset++), this.position = t3, this._formatReturnValue("text", i4, e3, t3, o2);
              }
            }
            if ("string" == typeof n2) {
              let n3;
              if (this.singleCharacters) n3 = 1;
              else {
                n3 = (i3 === this._boundaryEndParent ? this.boundaries.end.offset : i3.data.length) - t3.offset;
              }
              const o2 = new Ri(i3, t3.offset, n3);
              return t3.offset += n3, this.position = t3, this._formatReturnValue("text", o2, e3, t3, n3);
            }
            return t3 = Kn._createAfter(i3), this.position = t3, this.ignoreElementEnd ? this._next() : this._formatReturnValue("elementEnd", i3, e3, t3);
          }
          _previous() {
            let t3 = this.position.clone();
            const e3 = this.position, i3 = t3.parent;
            if (null === i3.parent && 0 === t3.offset) return { done: true };
            if (i3 == this._boundaryStartParent && t3.offset == this.boundaries.start.offset) return { done: true };
            let n2;
            if (i3 instanceof Ni) {
              if (t3.isAtStart) return this.position = Kn._createBefore(i3), this._previous();
              n2 = i3.data[t3.offset - 1];
            } else n2 = i3.getChild(t3.offset - 1);
            if (n2 instanceof Nn) return this.shallow ? (t3.offset--, this.position = t3, this._formatReturnValue("elementStart", n2, e3, t3, 1)) : (t3 = new Kn(n2, n2.childCount), this.position = t3, this.ignoreElementEnd ? this._previous() : this._formatReturnValue("elementEnd", n2, e3, t3));
            if (n2 instanceof Ni) {
              if (this.singleCharacters) return t3 = new Kn(n2, n2.data.length), this.position = t3, this._previous();
              {
                let i4, o2 = n2.data.length;
                if (n2 == this._boundaryStartParent) {
                  const e4 = this.boundaries.start.offset;
                  i4 = new Ri(n2, e4, n2.data.length - e4), o2 = i4.data.length, t3 = Kn._createBefore(i4);
                } else i4 = new Ri(n2, 0, n2.data.length), t3.offset--;
                return this.position = t3, this._formatReturnValue("text", i4, e3, t3, o2);
              }
            }
            if ("string" == typeof n2) {
              let n3;
              if (this.singleCharacters) n3 = 1;
              else {
                const e4 = i3 === this._boundaryStartParent ? this.boundaries.start.offset : 0;
                n3 = t3.offset - e4;
              }
              t3.offset -= n3;
              const o2 = new Ri(i3, t3.offset, n3);
              return this.position = t3, this._formatReturnValue("text", o2, e3, t3, n3);
            }
            return t3 = Kn._createBefore(i3), this.position = t3, this._formatReturnValue("elementStart", i3, e3, t3, 1);
          }
          _formatReturnValue(t3, e3, i3, n2, o2) {
            return e3 instanceof Ri && (e3.offsetInText + e3.data.length == e3.textNode.data.length && ("forward" != this.direction || this.boundaries && this.boundaries.end.isEqual(this.position) ? i3 = Kn._createAfter(e3.textNode) : (n2 = Kn._createAfter(e3.textNode), this.position = n2)), 0 === e3.offsetInText && ("backward" != this.direction || this.boundaries && this.boundaries.start.isEqual(this.position) ? i3 = Kn._createBefore(e3.textNode) : (n2 = Kn._createBefore(e3.textNode), this.position = n2))), { done: false, value: { type: t3, item: e3, previousPosition: i3, nextPosition: n2, length: o2 } };
          }
        }
        class Kn {
          constructor(t3, e3) {
            this.parent = t3, this.offset = e3;
          }
          get nodeAfter() {
            return this.parent.is("text") ? null : this.parent.getChild(this.offset) || null;
          }
          get nodeBefore() {
            return this.parent.is("text") ? null : this.parent.getChild(this.offset - 1) || null;
          }
          get isAtStart() {
            return 0 === this.offset;
          }
          get isAtEnd() {
            const t3 = this.parent.is("text") ? this.parent.data.length : this.parent.childCount;
            return this.offset === t3;
          }
          get root() {
            return this.parent.root;
          }
          get editableElement() {
            let t3 = this.parent;
            for (; !(t3 instanceof Jn); ) {
              if (!t3.parent) return null;
              t3 = t3.parent;
            }
            return t3;
          }
          getShiftedBy(t3) {
            const e3 = Kn._createAt(this), i3 = e3.offset + t3;
            return e3.offset = i3 < 0 ? 0 : i3, e3;
          }
          getLastMatchingPosition(t3, e3 = {}) {
            e3.startPosition = this;
            const i3 = new Xn(e3);
            return i3.skip(t3), i3.position;
          }
          getAncestors() {
            return this.parent.is("documentFragment") ? [this.parent] : this.parent.getAncestors({ includeSelf: true });
          }
          getCommonAncestor(t3) {
            const e3 = this.getAncestors(), i3 = t3.getAncestors();
            let n2 = 0;
            for (; e3[n2] == i3[n2] && e3[n2]; ) n2++;
            return 0 === n2 ? null : e3[n2 - 1];
          }
          is(t3) {
            return "position" === t3 || "view:position" === t3;
          }
          isEqual(t3) {
            return this.parent == t3.parent && this.offset == t3.offset;
          }
          isBefore(t3) {
            return "before" == this.compareWith(t3);
          }
          isAfter(t3) {
            return "after" == this.compareWith(t3);
          }
          compareWith(t3) {
            if (this.root !== t3.root) return "different";
            if (this.isEqual(t3)) return "same";
            const e3 = this.parent.is("node") ? this.parent.getPath() : [], i3 = t3.parent.is("node") ? t3.parent.getPath() : [];
            e3.push(this.offset), i3.push(t3.offset);
            const n2 = Si(e3, i3);
            switch (n2) {
              case "prefix":
                return "before";
              case "extension":
                return "after";
              default:
                return e3[n2] < i3[n2] ? "before" : "after";
            }
          }
          getWalker(t3 = {}) {
            return t3.startPosition = this, new Xn(t3);
          }
          clone() {
            return new Kn(this.parent, this.offset);
          }
          static _createAt(t3, e3) {
            if (t3 instanceof Kn) return new this(t3.parent, t3.offset);
            {
              const i3 = t3;
              if ("end" == e3) e3 = i3.is("text") ? i3.data.length : i3.childCount;
              else {
                if ("before" == e3) return this._createBefore(i3);
                if ("after" == e3) return this._createAfter(i3);
                if (0 !== e3 && !e3) throw new hi.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.", i3);
              }
              return new Kn(i3, e3);
            }
          }
          static _createAfter(t3) {
            if (t3.is("textProxy")) return new Kn(t3.textNode, t3.offsetInText + t3.data.length);
            if (!t3.parent) throw new hi.b("view-position-after-root: You can not make position after root.", t3, { root: t3 });
            return new Kn(t3.parent, t3.index + 1);
          }
          static _createBefore(t3) {
            if (t3.is("textProxy")) return new Kn(t3.textNode, t3.offsetInText);
            if (!t3.parent) throw new hi.b("view-position-before-root: You can not make position before root.", t3, { root: t3 });
            return new Kn(t3.parent, t3.index);
          }
        }
        class Zn {
          constructor(t3, e3 = null) {
            this.start = t3.clone(), this.end = e3 ? e3.clone() : t3.clone();
          }
          *[Symbol.iterator]() {
            yield* new Xn({ boundaries: this, ignoreElementEnd: true });
          }
          get isCollapsed() {
            return this.start.isEqual(this.end);
          }
          get isFlat() {
            return this.start.parent === this.end.parent;
          }
          get root() {
            return this.start.root;
          }
          getEnlarged() {
            let t3 = this.start.getLastMatchingPosition(to, { direction: "backward" }), e3 = this.end.getLastMatchingPosition(to);
            return t3.parent.is("text") && t3.isAtStart && (t3 = Kn._createBefore(t3.parent)), e3.parent.is("text") && e3.isAtEnd && (e3 = Kn._createAfter(e3.parent)), new Zn(t3, e3);
          }
          getTrimmed() {
            let t3 = this.start.getLastMatchingPosition(to);
            if (t3.isAfter(this.end) || t3.isEqual(this.end)) return new Zn(t3, t3);
            let e3 = this.end.getLastMatchingPosition(to, { direction: "backward" });
            const i3 = t3.nodeAfter, n2 = e3.nodeBefore;
            return i3 && i3.is("text") && (t3 = new Kn(i3, 0)), n2 && n2.is("text") && (e3 = new Kn(n2, n2.data.length)), new Zn(t3, e3);
          }
          isEqual(t3) {
            return this == t3 || this.start.isEqual(t3.start) && this.end.isEqual(t3.end);
          }
          containsPosition(t3) {
            return t3.isAfter(this.start) && t3.isBefore(this.end);
          }
          containsRange(t3, e3 = false) {
            t3.isCollapsed && (e3 = false);
            const i3 = this.containsPosition(t3.start) || e3 && this.start.isEqual(t3.start), n2 = this.containsPosition(t3.end) || e3 && this.end.isEqual(t3.end);
            return i3 && n2;
          }
          getDifference(t3) {
            const e3 = [];
            return this.isIntersecting(t3) ? (this.containsPosition(t3.start) && e3.push(new Zn(this.start, t3.start)), this.containsPosition(t3.end) && e3.push(new Zn(t3.end, this.end))) : e3.push(this.clone()), e3;
          }
          getIntersection(t3) {
            if (this.isIntersecting(t3)) {
              let e3 = this.start, i3 = this.end;
              return this.containsPosition(t3.start) && (e3 = t3.start), this.containsPosition(t3.end) && (i3 = t3.end), new Zn(e3, i3);
            }
            return null;
          }
          getWalker(t3 = {}) {
            return t3.boundaries = this, new Xn(t3);
          }
          getCommonAncestor() {
            return this.start.getCommonAncestor(this.end);
          }
          getContainedElement() {
            if (this.isCollapsed) return null;
            let t3 = this.start.nodeAfter, e3 = this.end.nodeBefore;
            return this.start.parent.is("text") && this.start.isAtEnd && this.start.parent.nextSibling && (t3 = this.start.parent.nextSibling), this.end.parent.is("text") && this.end.isAtStart && this.end.parent.previousSibling && (e3 = this.end.parent.previousSibling), t3 && t3.is("element") && t3 === e3 ? t3 : null;
          }
          clone() {
            return new Zn(this.start, this.end);
          }
          *getItems(t3 = {}) {
            t3.boundaries = this, t3.ignoreElementEnd = true;
            const e3 = new Xn(t3);
            for (const t4 of e3) yield t4.item;
          }
          *getPositions(t3 = {}) {
            t3.boundaries = this;
            const e3 = new Xn(t3);
            yield e3.position;
            for (const t4 of e3) yield t4.nextPosition;
          }
          is(t3) {
            return "range" === t3 || "view:range" === t3;
          }
          isIntersecting(t3) {
            return this.start.isBefore(t3.end) && this.end.isAfter(t3.start);
          }
          static _createFromParentsAndOffsets(t3, e3, i3, n2) {
            return new this(new Kn(t3, e3), new Kn(i3, n2));
          }
          static _createFromPositionAndShift(t3, e3) {
            const i3 = t3, n2 = t3.getShiftedBy(e3);
            return e3 > 0 ? new this(i3, n2) : new this(n2, i3);
          }
          static _createIn(t3) {
            return this._createFromParentsAndOffsets(t3, 0, t3, t3.childCount);
          }
          static _createOn(t3) {
            const e3 = t3.is("textProxy") ? t3.offsetSize : 1;
            return this._createFromPositionAndShift(Kn._createBefore(t3), e3);
          }
        }
        function to(t3) {
          return !(!t3.item.is("attributeElement") && !t3.item.is("uiElement"));
        }
        function eo(t3) {
          let e3 = 0;
          for (const i3 of t3) e3++;
          return e3;
        }
        class io {
          constructor(t3 = null, e3, i3) {
            this._ranges = [], this._lastRangeBackward = false, this._isFake = false, this._fakeSelectionLabel = "", this.setTo(t3, e3, i3);
          }
          get isFake() {
            return this._isFake;
          }
          get fakeSelectionLabel() {
            return this._fakeSelectionLabel;
          }
          get anchor() {
            if (!this._ranges.length) return null;
            const t3 = this._ranges[this._ranges.length - 1];
            return (this._lastRangeBackward ? t3.end : t3.start).clone();
          }
          get focus() {
            if (!this._ranges.length) return null;
            const t3 = this._ranges[this._ranges.length - 1];
            return (this._lastRangeBackward ? t3.start : t3.end).clone();
          }
          get isCollapsed() {
            return 1 === this.rangeCount && this._ranges[0].isCollapsed;
          }
          get rangeCount() {
            return this._ranges.length;
          }
          get isBackward() {
            return !this.isCollapsed && this._lastRangeBackward;
          }
          get editableElement() {
            return this.anchor ? this.anchor.editableElement : null;
          }
          *getRanges() {
            for (const t3 of this._ranges) yield t3.clone();
          }
          getFirstRange() {
            let t3 = null;
            for (const e3 of this._ranges) t3 && !e3.start.isBefore(t3.start) || (t3 = e3);
            return t3 ? t3.clone() : null;
          }
          getLastRange() {
            let t3 = null;
            for (const e3 of this._ranges) t3 && !e3.end.isAfter(t3.end) || (t3 = e3);
            return t3 ? t3.clone() : null;
          }
          getFirstPosition() {
            const t3 = this.getFirstRange();
            return t3 ? t3.start.clone() : null;
          }
          getLastPosition() {
            const t3 = this.getLastRange();
            return t3 ? t3.end.clone() : null;
          }
          isEqual(t3) {
            if (this.isFake != t3.isFake) return false;
            if (this.isFake && this.fakeSelectionLabel != t3.fakeSelectionLabel) return false;
            if (this.rangeCount != t3.rangeCount) return false;
            if (0 === this.rangeCount) return true;
            if (!this.anchor.isEqual(t3.anchor) || !this.focus.isEqual(t3.focus)) return false;
            for (const e3 of this._ranges) {
              let i3 = false;
              for (const n2 of t3._ranges) if (e3.isEqual(n2)) {
                i3 = true;
                break;
              }
              if (!i3) return false;
            }
            return true;
          }
          isSimilar(t3) {
            if (this.isBackward != t3.isBackward) return false;
            const e3 = eo(this.getRanges());
            if (e3 != eo(t3.getRanges())) return false;
            if (0 == e3) return true;
            for (let e4 of this.getRanges()) {
              e4 = e4.getTrimmed();
              let i3 = false;
              for (let n2 of t3.getRanges()) if (n2 = n2.getTrimmed(), e4.start.isEqual(n2.start) && e4.end.isEqual(n2.end)) {
                i3 = true;
                break;
              }
              if (!i3) return false;
            }
            return true;
          }
          getSelectedElement() {
            return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
          }
          setTo(t3, e3, i3) {
            if (null === t3) this._setRanges([]), this._setFakeOptions(e3);
            else if (t3 instanceof io || t3 instanceof no) this._setRanges(t3.getRanges(), t3.isBackward), this._setFakeOptions({ fake: t3.isFake, label: t3.fakeSelectionLabel });
            else if (t3 instanceof Zn) this._setRanges([t3], e3 && e3.backward), this._setFakeOptions(e3);
            else if (t3 instanceof Kn) this._setRanges([new Zn(t3)]), this._setFakeOptions(e3);
            else if (t3 instanceof Oi) {
              const n2 = !!i3 && !!i3.backward;
              let o2;
              if (void 0 === e3) throw new hi.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", this);
              o2 = "in" == e3 ? Zn._createIn(t3) : "on" == e3 ? Zn._createOn(t3) : new Zn(Kn._createAt(t3, e3)), this._setRanges([o2], n2), this._setFakeOptions(i3);
            } else {
              if (!vi(t3)) throw new hi.b("view-selection-setTo-not-selectable: Cannot set selection to given place.", this);
              this._setRanges(t3, e3 && e3.backward), this._setFakeOptions(e3);
            }
            this.fire("change");
          }
          setFocus(t3, e3) {
            if (null === this.anchor) throw new hi.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", this);
            const i3 = Kn._createAt(t3, e3);
            if ("same" == i3.compareWith(this.focus)) return;
            const n2 = this.anchor;
            this._ranges.pop(), "before" == i3.compareWith(n2) ? this._addRange(new Zn(i3, n2), true) : this._addRange(new Zn(n2, i3)), this.fire("change");
          }
          is(t3) {
            return "selection" === t3 || "view:selection" === t3;
          }
          _setRanges(t3, e3 = false) {
            t3 = Array.from(t3), this._ranges = [];
            for (const e4 of t3) this._addRange(e4);
            this._lastRangeBackward = !!e3;
          }
          _setFakeOptions(t3 = {}) {
            this._isFake = !!t3.fake, this._fakeSelectionLabel = t3.fake && t3.label || "";
          }
          _addRange(t3, e3 = false) {
            if (!(t3 instanceof Zn)) throw new hi.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range", this);
            this._pushRange(t3), this._lastRangeBackward = !!e3;
          }
          _pushRange(t3) {
            for (const e3 of this._ranges) if (t3.isIntersecting(e3)) throw new hi.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.", this, { addedRange: t3, intersectingRange: e3 });
            this._ranges.push(new Zn(t3.start, t3.end));
          }
        }
        yi(io, gi);
        class no {
          constructor(t3 = null, e3, i3) {
            this._selection = new io(), this._selection.delegate("change").to(this), this._selection.setTo(t3, e3, i3);
          }
          get isFake() {
            return this._selection.isFake;
          }
          get fakeSelectionLabel() {
            return this._selection.fakeSelectionLabel;
          }
          get anchor() {
            return this._selection.anchor;
          }
          get focus() {
            return this._selection.focus;
          }
          get isCollapsed() {
            return this._selection.isCollapsed;
          }
          get rangeCount() {
            return this._selection.rangeCount;
          }
          get isBackward() {
            return this._selection.isBackward;
          }
          get editableElement() {
            return this._selection.editableElement;
          }
          get _ranges() {
            return this._selection._ranges;
          }
          *getRanges() {
            yield* this._selection.getRanges();
          }
          getFirstRange() {
            return this._selection.getFirstRange();
          }
          getLastRange() {
            return this._selection.getLastRange();
          }
          getFirstPosition() {
            return this._selection.getFirstPosition();
          }
          getLastPosition() {
            return this._selection.getLastPosition();
          }
          getSelectedElement() {
            return this._selection.getSelectedElement();
          }
          isEqual(t3) {
            return this._selection.isEqual(t3);
          }
          isSimilar(t3) {
            return this._selection.isSimilar(t3);
          }
          is(t3) {
            return "selection" === t3 || "documentSelection" == t3 || "view:selection" == t3 || "view:documentSelection" == t3;
          }
          _setTo(t3, e3, i3) {
            this._selection.setTo(t3, e3, i3);
          }
          _setFocus(t3, e3) {
            this._selection.setFocus(t3, e3);
          }
        }
        yi(no, gi);
        class oo {
          constructor(t3) {
            this.selection = new no(), this.roots = new xi({ idProperty: "rootName" }), this.stylesProcessor = t3, this.set("isReadOnly", false), this.set("isFocused", false), this.set("isComposing", false), this._postFixers = /* @__PURE__ */ new Set();
          }
          getRoot(t3 = "main") {
            return this.roots.get(t3);
          }
          registerPostFixer(t3) {
            this._postFixers.add(t3);
          }
          destroy() {
            this.roots.map((t3) => t3.destroy()), this.stopListening();
          }
          _callPostFixers(t3) {
            let e3 = false;
            do {
              for (const i3 of this._postFixers) if (e3 = i3(t3), e3) break;
            } while (e3);
          }
        }
        yi(oo, Hn);
        class ro extends Nn {
          constructor(t3, e3, i3, n2) {
            super(t3, e3, i3, n2), this.getFillerOffset = so, this._priority = 10, this._id = null, this._clonesGroup = null;
          }
          get priority() {
            return this._priority;
          }
          get id() {
            return this._id;
          }
          getElementsWithSameId() {
            if (null === this.id) throw new hi.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.", this);
            return new Set(this._clonesGroup);
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("attributeElement" === t3 || "view:attributeElement" === t3 || "element" === t3 || "view:element" === t3) : "attributeElement" === t3 || "view:attributeElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          isSimilar(t3) {
            return null !== this.id || null !== t3.id ? this.id === t3.id : super.isSimilar(t3) && this.priority == t3.priority;
          }
          _clone(t3) {
            const e3 = super._clone(t3);
            return e3._priority = this._priority, e3._id = this._id, e3;
          }
        }
        function so() {
          if (ao(this)) return null;
          let t3 = this.parent;
          for (; t3 && t3.is("attributeElement"); ) {
            if (ao(t3) > 1) return null;
            t3 = t3.parent;
          }
          return !t3 || ao(t3) > 1 ? null : this.childCount;
        }
        function ao(t3) {
          return Array.from(t3.getChildren()).filter((t4) => !t4.is("uiElement")).length;
        }
        ro.DEFAULT_PRIORITY = 10;
        class lo extends Nn {
          constructor(t3, e3, i3, n2) {
            super(t3, e3, i3, n2), this.getFillerOffset = co;
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("emptyElement" === t3 || "view:emptyElement" === t3 || "element" === t3 || "view:element" === t3) : "emptyElement" === t3 || "view:emptyElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          _insertChild(t3, e3) {
            if (e3 && (e3 instanceof Oi || Array.from(e3).length > 0)) throw new hi.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.", [this, e3]);
          }
        }
        function co() {
          return null;
        }
        const ho = navigator.userAgent.toLowerCase();
        var uo = { isMac: function(t3) {
          return t3.indexOf("macintosh") > -1;
        }(ho), isGecko: function(t3) {
          return !!t3.match(/gecko\/\d+/);
        }(ho), isSafari: function(t3) {
          return t3.indexOf(" applewebkit/") > -1 && -1 === t3.indexOf("chrome");
        }(ho), isAndroid: function(t3) {
          return t3.indexOf("android") > -1;
        }(ho), features: { isRegExpUnicodePropertySupported: function() {
          let t3 = false;
          try {
            t3 = 0 === "\u0107".search(new RegExp("[\\p{L}]", "u"));
          } catch (t4) {
          }
          return t3;
        }() } };
        const mo = { "\u2318": "ctrl", "\u21E7": "shift", "\u2325": "alt" }, go = { ctrl: "\u2318", shift: "\u21E7", alt: "\u2325" }, fo = function() {
          const t3 = { arrowleft: 37, arrowup: 38, arrowright: 39, arrowdown: 40, backspace: 8, delete: 46, enter: 13, space: 32, esc: 27, tab: 9, ctrl: 1114112, cmd: 1114112, shift: 2228224, alt: 4456448 };
          for (let e3 = 65; e3 <= 90; e3++) {
            const i3 = String.fromCharCode(e3);
            t3[i3.toLowerCase()] = e3;
          }
          for (let e3 = 48; e3 <= 57; e3++) t3[e3 - 48] = e3;
          for (let e3 = 112; e3 <= 123; e3++) t3["f" + (e3 - 111)] = e3;
          return t3;
        }();
        function po(t3) {
          let e3;
          if ("string" == typeof t3) {
            if (e3 = fo[t3.toLowerCase()], !e3) throw new hi.b("keyboard-unknown-key: Unknown key name.", null, { key: t3 });
          } else e3 = t3.keyCode + (t3.altKey ? fo.alt : 0) + (t3.ctrlKey ? fo.ctrl : 0) + (t3.shiftKey ? fo.shift : 0);
          return e3;
        }
        function bo(t3) {
          return "string" == typeof t3 && (t3 = _o(t3)), t3.map((t4) => "string" == typeof t4 ? po(t4) : t4).reduce((t4, e3) => e3 + t4, 0);
        }
        function wo(t3) {
          return uo.isMac ? _o(t3).map((t4) => go[t4.toLowerCase()] || t4).reduce((t4, e3) => t4.slice(-1) in mo ? t4 + e3 : t4 + "+" + e3) : t3;
        }
        function _o(t3) {
          return t3.split(/\s*\+\s*/);
        }
        class ko extends Nn {
          constructor(t3, e3, i3, n2) {
            super(t3, e3, i3, n2), this.getFillerOffset = yo;
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("uiElement" === t3 || "view:uiElement" === t3 || "element" === t3 || "view:element" === t3) : "uiElement" === t3 || "view:uiElement" === t3 || t3 === this.name || t3 === "view:" + this.name || "element" === t3 || "view:element" === t3 || "node" === t3 || "view:node" === t3;
          }
          _insertChild(t3, e3) {
            if (e3 && (e3 instanceof Oi || Array.from(e3).length > 0)) throw new hi.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.", this);
          }
          render(t3) {
            return this.toDomElement(t3);
          }
          toDomElement(t3) {
            const e3 = t3.createElement(this.name);
            for (const t4 of this.getAttributeKeys()) e3.setAttribute(t4, this.getAttribute(t4));
            return e3;
          }
        }
        function vo(t3) {
          t3.document.on("keydown", (e3, i3) => function(t4, e4, i4) {
            if (e4.keyCode == fo.arrowright) {
              const t5 = e4.domTarget.ownerDocument.defaultView.getSelection(), n2 = 1 == t5.rangeCount && t5.getRangeAt(0).collapsed;
              if (n2 || e4.shiftKey) {
                const e5 = t5.focusNode, o2 = t5.focusOffset, r2 = i4.domPositionToView(e5, o2);
                if (null === r2) return;
                let s4 = false;
                const a4 = r2.getLastMatchingPosition((t6) => (t6.item.is("uiElement") && (s4 = true), !(!t6.item.is("uiElement") && !t6.item.is("attributeElement"))));
                if (s4) {
                  const e6 = i4.viewPositionToDom(a4);
                  n2 ? t5.collapse(e6.parent, e6.offset) : t5.extend(e6.parent, e6.offset);
                }
              }
            }
          }(0, i3, t3.domConverter));
        }
        function yo() {
          return null;
        }
        class xo {
          constructor(t3, e3) {
            this.document = t3, this._children = [], e3 && this._insertChild(0, e3);
          }
          [Symbol.iterator]() {
            return this._children[Symbol.iterator]();
          }
          get childCount() {
            return this._children.length;
          }
          get isEmpty() {
            return 0 === this.childCount;
          }
          get root() {
            return this;
          }
          get parent() {
            return null;
          }
          is(t3) {
            return "documentFragment" === t3 || "view:documentFragment" === t3;
          }
          _appendChild(t3) {
            return this._insertChild(this.childCount, t3);
          }
          getChild(t3) {
            return this._children[t3];
          }
          getChildIndex(t3) {
            return this._children.indexOf(t3);
          }
          getChildren() {
            return this._children[Symbol.iterator]();
          }
          _insertChild(t3, e3) {
            this._fireChange("children", this);
            let i3 = 0;
            const n2 = function(t4, e4) {
              if ("string" == typeof e4) return [new Ni(t4, e4)];
              vi(e4) || (e4 = [e4]);
              return Array.from(e4).map((e5) => "string" == typeof e5 ? new Ni(t4, e5) : e5 instanceof Ri ? new Ni(t4, e5.data) : e5);
            }(this.document, e3);
            for (const e4 of n2) null !== e4.parent && e4._remove(), e4.parent = this, this._children.splice(t3, 0, e4), t3++, i3++;
            return i3;
          }
          _removeChildren(t3, e3 = 1) {
            this._fireChange("children", this);
            for (let i3 = t3; i3 < t3 + e3; i3++) this._children[i3].parent = null;
            return this._children.splice(t3, e3);
          }
          _fireChange(t3, e3) {
            this.fire("change:" + t3, e3);
          }
        }
        yi(xo, gi);
        class Ao {
          constructor(t3) {
            this.document = t3, this._cloneGroups = /* @__PURE__ */ new Map();
          }
          setSelection(t3, e3, i3) {
            this.document.selection._setTo(t3, e3, i3);
          }
          setSelectionFocus(t3, e3) {
            this.document.selection._setFocus(t3, e3);
          }
          createText(t3) {
            return new Ni(this.document, t3);
          }
          createAttributeElement(t3, e3, i3 = {}) {
            const n2 = new ro(this.document, t3, e3);
            return i3.priority && (n2._priority = i3.priority), i3.id && (n2._id = i3.id), n2;
          }
          createContainerElement(t3, e3) {
            return new Ln(this.document, t3, e3);
          }
          createEditableElement(t3, e3) {
            const i3 = new Jn(this.document, t3, e3);
            return i3._document = this.document, i3;
          }
          createEmptyElement(t3, e3) {
            return new lo(this.document, t3, e3);
          }
          createUIElement(t3, e3, i3) {
            const n2 = new ko(this.document, t3, e3);
            return i3 && (n2.render = i3), n2;
          }
          setAttribute(t3, e3, i3) {
            i3._setAttribute(t3, e3);
          }
          removeAttribute(t3, e3) {
            e3._removeAttribute(t3);
          }
          addClass(t3, e3) {
            e3._addClass(t3);
          }
          removeClass(t3, e3) {
            e3._removeClass(t3);
          }
          setStyle(t3, e3, i3) {
            y3(t3) && void 0 === i3 && (i3 = e3), i3._setStyle(t3, e3);
          }
          removeStyle(t3, e3) {
            e3._removeStyle(t3);
          }
          setCustomProperty(t3, e3, i3) {
            i3._setCustomProperty(t3, e3);
          }
          removeCustomProperty(t3, e3) {
            return e3._removeCustomProperty(t3);
          }
          breakAttributes(t3) {
            return t3 instanceof Kn ? this._breakAttributes(t3) : this._breakAttributesRange(t3);
          }
          breakContainer(t3) {
            const e3 = t3.parent;
            if (!e3.is("containerElement")) throw new hi.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.", this.document);
            if (!e3.parent) throw new hi.b("view-writer-break-root: Trying to break root element.", this.document);
            if (t3.isAtStart) return Kn._createBefore(e3);
            if (!t3.isAtEnd) {
              const i3 = e3._clone(false);
              this.insert(Kn._createAfter(e3), i3);
              const n2 = new Zn(t3, Kn._createAt(e3, "end")), o2 = new Kn(i3, 0);
              this.move(n2, o2);
            }
            return Kn._createAfter(e3);
          }
          mergeAttributes(t3) {
            const e3 = t3.offset, i3 = t3.parent;
            if (i3.is("text")) return t3;
            if (i3.is("attributeElement") && 0 === i3.childCount) {
              const t4 = i3.parent, e4 = i3.index;
              return i3._remove(), this._removeFromClonedElementsGroup(i3), this.mergeAttributes(new Kn(t4, e4));
            }
            const n2 = i3.getChild(e3 - 1), o2 = i3.getChild(e3);
            if (!n2 || !o2) return t3;
            if (n2.is("text") && o2.is("text")) return Po(n2, o2);
            if (n2.is("attributeElement") && o2.is("attributeElement") && n2.isSimilar(o2)) {
              const t4 = n2.childCount;
              return n2._appendChild(o2.getChildren()), o2._remove(), this._removeFromClonedElementsGroup(o2), this.mergeAttributes(new Kn(n2, t4));
            }
            return t3;
          }
          mergeContainers(t3) {
            const e3 = t3.nodeBefore, i3 = t3.nodeAfter;
            if (!(e3 && i3 && e3.is("containerElement") && i3.is("containerElement"))) throw new hi.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.", this.document);
            const n2 = e3.getChild(e3.childCount - 1), o2 = n2 instanceof Ni ? Kn._createAt(n2, "end") : Kn._createAt(e3, "end");
            return this.move(Zn._createIn(i3), Kn._createAt(e3, "end")), this.remove(Zn._createOn(i3)), o2;
          }
          insert(t3, e3) {
            (function t4(e4, i4) {
              for (const n3 of e4) {
                if (!So.some((t5) => n3 instanceof t5)) throw new hi.b("view-writer-insert-invalid-node", i4);
                n3.is("text") || t4(n3.getChildren(), i4);
              }
            })(e3 = vi(e3) ? [...e3] : [e3], this.document);
            const i3 = Co(t3);
            if (!i3) throw new hi.b("view-writer-invalid-position-container", this.document);
            const n2 = this._breakAttributes(t3, true), o2 = i3._insertChild(n2.offset, e3);
            for (const t4 of e3) this._addToClonedElementsGroup(t4);
            const r2 = n2.getShiftedBy(o2), s4 = this.mergeAttributes(n2);
            if (0 === o2) return new Zn(s4, s4);
            {
              s4.isEqual(n2) || r2.offset--;
              const t4 = this.mergeAttributes(r2);
              return new Zn(s4, t4);
            }
          }
          remove(t3) {
            const e3 = t3 instanceof Zn ? t3 : Zn._createOn(t3);
            if (Oo(e3, this.document), e3.isCollapsed) return new xo(this.document);
            const { start: i3, end: n2 } = this._breakAttributesRange(e3, true), o2 = i3.parent, r2 = n2.offset - i3.offset, s4 = o2._removeChildren(i3.offset, r2);
            for (const t4 of s4) this._removeFromClonedElementsGroup(t4);
            const a4 = this.mergeAttributes(i3);
            return e3.start = a4, e3.end = a4.clone(), new xo(this.document, s4);
          }
          clear(t3, e3) {
            Oo(t3, this.document);
            const i3 = t3.getWalker({ direction: "backward", ignoreElementEnd: true });
            for (const n2 of i3) {
              const i4 = n2.item;
              let o2;
              if (i4.is("element") && e3.isSimilar(i4)) o2 = Zn._createOn(i4);
              else if (!n2.nextPosition.isAfter(t3.start) && i4.is("textProxy")) {
                const t4 = i4.getAncestors().find((t5) => t5.is("element") && e3.isSimilar(t5));
                t4 && (o2 = Zn._createIn(t4));
              }
              o2 && (o2.end.isAfter(t3.end) && (o2.end = t3.end), o2.start.isBefore(t3.start) && (o2.start = t3.start), this.remove(o2));
            }
          }
          move(t3, e3) {
            let i3;
            if (e3.isAfter(t3.end)) {
              const n2 = (e3 = this._breakAttributes(e3, true)).parent, o2 = n2.childCount;
              t3 = this._breakAttributesRange(t3, true), i3 = this.remove(t3), e3.offset += n2.childCount - o2;
            } else i3 = this.remove(t3);
            return this.insert(e3, i3);
          }
          wrap(t3, e3) {
            if (!(e3 instanceof ro)) throw new hi.b("view-writer-wrap-invalid-attribute", this.document);
            if (Oo(t3, this.document), t3.isCollapsed) {
              let n2 = t3.start;
              n2.parent.is("element") && (i3 = n2.parent, !Array.from(i3.getChildren()).some((t4) => !t4.is("uiElement"))) && (n2 = n2.getLastMatchingPosition((t4) => t4.item.is("uiElement"))), n2 = this._wrapPosition(n2, e3);
              const o2 = this.document.selection;
              return o2.isCollapsed && o2.getFirstPosition().isEqual(t3.start) && this.setSelection(n2), new Zn(n2);
            }
            return this._wrapRange(t3, e3);
            var i3;
          }
          unwrap(t3, e3) {
            if (!(e3 instanceof ro)) throw new hi.b("view-writer-unwrap-invalid-attribute", this.document);
            if (Oo(t3, this.document), t3.isCollapsed) return t3;
            const { start: i3, end: n2 } = this._breakAttributesRange(t3, true), o2 = i3.parent, r2 = this._unwrapChildren(o2, i3.offset, n2.offset, e3), s4 = this.mergeAttributes(r2.start);
            s4.isEqual(r2.start) || r2.end.offset--;
            const a4 = this.mergeAttributes(r2.end);
            return new Zn(s4, a4);
          }
          rename(t3, e3) {
            const i3 = new Ln(this.document, t3, e3.getAttributes());
            return this.insert(Kn._createAfter(e3), i3), this.move(Zn._createIn(e3), Kn._createAt(i3, 0)), this.remove(Zn._createOn(e3)), i3;
          }
          clearClonedElementsGroup(t3) {
            this._cloneGroups.delete(t3);
          }
          createPositionAt(t3, e3) {
            return Kn._createAt(t3, e3);
          }
          createPositionAfter(t3) {
            return Kn._createAfter(t3);
          }
          createPositionBefore(t3) {
            return Kn._createBefore(t3);
          }
          createRange(t3, e3) {
            return new Zn(t3, e3);
          }
          createRangeOn(t3) {
            return Zn._createOn(t3);
          }
          createRangeIn(t3) {
            return Zn._createIn(t3);
          }
          createSelection(t3, e3, i3) {
            return new io(t3, e3, i3);
          }
          _wrapChildren(t3, e3, i3, n2) {
            let o2 = e3;
            const r2 = [];
            for (; o2 < i3; ) {
              const e4 = t3.getChild(o2), i4 = e4.is("text"), s5 = e4.is("attributeElement"), a4 = e4.is("emptyElement"), l2 = e4.is("uiElement");
              if (s5 && this._wrapAttributeElement(n2, e4)) r2.push(new Kn(t3, o2));
              else if (i4 || a4 || l2 || s5 && To(n2, e4)) {
                const i5 = n2._clone();
                e4._remove(), i5._appendChild(e4), t3._insertChild(o2, i5), this._addToClonedElementsGroup(i5), r2.push(new Kn(t3, o2));
              } else s5 && this._wrapChildren(e4, 0, e4.childCount, n2);
              o2++;
            }
            let s4 = 0;
            for (const t4 of r2) {
              if (t4.offset -= s4, t4.offset == e3) continue;
              this.mergeAttributes(t4).isEqual(t4) || (s4++, i3--);
            }
            return Zn._createFromParentsAndOffsets(t3, e3, t3, i3);
          }
          _unwrapChildren(t3, e3, i3, n2) {
            let o2 = e3;
            const r2 = [];
            for (; o2 < i3; ) {
              const e4 = t3.getChild(o2);
              if (e4.is("attributeElement")) if (e4.isSimilar(n2)) {
                const n3 = e4.getChildren(), s5 = e4.childCount;
                e4._remove(), t3._insertChild(o2, n3), this._removeFromClonedElementsGroup(e4), r2.push(new Kn(t3, o2), new Kn(t3, o2 + s5)), o2 += s5, i3 += s5 - 1;
              } else this._unwrapAttributeElement(n2, e4) ? (r2.push(new Kn(t3, o2), new Kn(t3, o2 + 1)), o2++) : (this._unwrapChildren(e4, 0, e4.childCount, n2), o2++);
              else o2++;
            }
            let s4 = 0;
            for (const t4 of r2) {
              if (t4.offset -= s4, t4.offset == e3 || t4.offset == i3) continue;
              this.mergeAttributes(t4).isEqual(t4) || (s4++, i3--);
            }
            return Zn._createFromParentsAndOffsets(t3, e3, t3, i3);
          }
          _wrapRange(t3, e3) {
            const { start: i3, end: n2 } = this._breakAttributesRange(t3, true), o2 = i3.parent, r2 = this._wrapChildren(o2, i3.offset, n2.offset, e3), s4 = this.mergeAttributes(r2.start);
            s4.isEqual(r2.start) || r2.end.offset--;
            const a4 = this.mergeAttributes(r2.end);
            return new Zn(s4, a4);
          }
          _wrapPosition(t3, e3) {
            if (e3.isSimilar(t3.parent)) return Mo(t3.clone());
            t3.parent.is("text") && (t3 = Eo(t3));
            const i3 = this.createAttributeElement();
            i3._priority = Number.POSITIVE_INFINITY, i3.isSimilar = () => false, t3.parent._insertChild(t3.offset, i3);
            const n2 = new Zn(t3, t3.getShiftedBy(1));
            this.wrap(n2, e3);
            const o2 = new Kn(i3.parent, i3.index);
            i3._remove();
            const r2 = o2.nodeBefore, s4 = o2.nodeAfter;
            return r2 instanceof Ni && s4 instanceof Ni ? Po(r2, s4) : Mo(o2);
          }
          _wrapAttributeElement(t3, e3) {
            if (!No(t3, e3)) return false;
            if (t3.name !== e3.name || t3.priority !== e3.priority) return false;
            for (const i3 of t3.getAttributeKeys()) if ("class" !== i3 && "style" !== i3 && e3.hasAttribute(i3) && e3.getAttribute(i3) !== t3.getAttribute(i3)) return false;
            for (const i3 of t3.getStyleNames()) if (e3.hasStyle(i3) && e3.getStyle(i3) !== t3.getStyle(i3)) return false;
            for (const i3 of t3.getAttributeKeys()) "class" !== i3 && "style" !== i3 && (e3.hasAttribute(i3) || this.setAttribute(i3, t3.getAttribute(i3), e3));
            for (const i3 of t3.getStyleNames()) e3.hasStyle(i3) || this.setStyle(i3, t3.getStyle(i3), e3);
            for (const i3 of t3.getClassNames()) e3.hasClass(i3) || this.addClass(i3, e3);
            return true;
          }
          _unwrapAttributeElement(t3, e3) {
            if (!No(t3, e3)) return false;
            if (t3.name !== e3.name || t3.priority !== e3.priority) return false;
            for (const i3 of t3.getAttributeKeys()) if ("class" !== i3 && "style" !== i3 && (!e3.hasAttribute(i3) || e3.getAttribute(i3) !== t3.getAttribute(i3))) return false;
            if (!e3.hasClass(...t3.getClassNames())) return false;
            for (const i3 of t3.getStyleNames()) if (!e3.hasStyle(i3) || e3.getStyle(i3) !== t3.getStyle(i3)) return false;
            for (const i3 of t3.getAttributeKeys()) "class" !== i3 && "style" !== i3 && this.removeAttribute(i3, e3);
            return this.removeClass(Array.from(t3.getClassNames()), e3), this.removeStyle(Array.from(t3.getStyleNames()), e3), true;
          }
          _breakAttributesRange(t3, e3 = false) {
            const i3 = t3.start, n2 = t3.end;
            if (Oo(t3, this.document), t3.isCollapsed) {
              const i4 = this._breakAttributes(t3.start, e3);
              return new Zn(i4, i4);
            }
            const o2 = this._breakAttributes(n2, e3), r2 = o2.parent.childCount, s4 = this._breakAttributes(i3, e3);
            return o2.offset += o2.parent.childCount - r2, new Zn(s4, o2);
          }
          _breakAttributes(t3, e3 = false) {
            const i3 = t3.offset, n2 = t3.parent;
            if (t3.parent.is("emptyElement")) throw new hi.b("view-writer-cannot-break-empty-element", this.document);
            if (t3.parent.is("uiElement")) throw new hi.b("view-writer-cannot-break-ui-element", this.document);
            if (!e3 && n2.is("text") && Io(n2.parent)) return t3.clone();
            if (Io(n2)) return t3.clone();
            if (n2.is("text")) return this._breakAttributes(Eo(t3), e3);
            if (i3 == n2.childCount) {
              const t4 = new Kn(n2.parent, n2.index + 1);
              return this._breakAttributes(t4, e3);
            }
            if (0 === i3) {
              const t4 = new Kn(n2.parent, n2.index);
              return this._breakAttributes(t4, e3);
            }
            {
              const t4 = n2.index + 1, o2 = n2._clone();
              n2.parent._insertChild(t4, o2), this._addToClonedElementsGroup(o2);
              const r2 = n2.childCount - i3, s4 = n2._removeChildren(i3, r2);
              o2._appendChild(s4);
              const a4 = new Kn(n2.parent, t4);
              return this._breakAttributes(a4, e3);
            }
          }
          _addToClonedElementsGroup(t3) {
            if (!t3.root.is("rootElement")) return;
            if (t3.is("element")) for (const e4 of t3.getChildren()) this._addToClonedElementsGroup(e4);
            const e3 = t3.id;
            if (!e3) return;
            let i3 = this._cloneGroups.get(e3);
            i3 || (i3 = /* @__PURE__ */ new Set(), this._cloneGroups.set(e3, i3)), i3.add(t3), t3._clonesGroup = i3;
          }
          _removeFromClonedElementsGroup(t3) {
            if (t3.is("element")) for (const e4 of t3.getChildren()) this._removeFromClonedElementsGroup(e4);
            const e3 = t3.id;
            if (!e3) return;
            const i3 = this._cloneGroups.get(e3);
            i3 && i3.delete(t3);
          }
        }
        function Co(t3) {
          let e3 = t3.parent;
          for (; !Io(e3); ) {
            if (!e3) return;
            e3 = e3.parent;
          }
          return e3;
        }
        function To(t3, e3) {
          return t3.priority < e3.priority || !(t3.priority > e3.priority) && t3.getIdentity() < e3.getIdentity();
        }
        function Mo(t3) {
          const e3 = t3.nodeBefore;
          if (e3 && e3.is("text")) return new Kn(e3, e3.data.length);
          const i3 = t3.nodeAfter;
          return i3 && i3.is("text") ? new Kn(i3, 0) : t3;
        }
        function Eo(t3) {
          if (t3.offset == t3.parent.data.length) return new Kn(t3.parent.parent, t3.parent.index + 1);
          if (0 === t3.offset) return new Kn(t3.parent.parent, t3.parent.index);
          const e3 = t3.parent.data.slice(t3.offset);
          return t3.parent._data = t3.parent.data.slice(0, t3.offset), t3.parent.parent._insertChild(t3.parent.index + 1, new Ni(t3.root.document, e3)), new Kn(t3.parent.parent, t3.parent.index + 1);
        }
        function Po(t3, e3) {
          const i3 = t3.data.length;
          return t3._data += e3.data, e3._remove(), new Kn(t3, i3);
        }
        const So = [Ni, ro, Ln, lo, ko];
        function Io(t3) {
          return t3 && (t3.is("containerElement") || t3.is("documentFragment"));
        }
        function Oo(t3, e3) {
          const i3 = Co(t3.start), n2 = Co(t3.end);
          if (!i3 || !n2 || i3 !== n2) throw new hi.b("view-writer-invalid-range-container", e3);
        }
        function No(t3, e3) {
          return null === t3.id && null === e3.id;
        }
        function Ro(t3) {
          return "[object Text]" == Object.prototype.toString.call(t3);
        }
        const Lo = (t3) => t3.createTextNode("\xA0"), jo = (t3) => {
          const e3 = t3.createElement("br");
          return e3.dataset.ckeFiller = true, e3;
        }, Do = (() => {
          let t3 = "";
          for (let e3 = 0; e3 < 7; e3++) t3 += "\u200B";
          return t3;
        })();
        function zo(t3) {
          return Ro(t3) && t3.data.substr(0, 7) === Do;
        }
        function Bo(t3) {
          return 7 == t3.data.length && zo(t3);
        }
        function Vo(t3) {
          return zo(t3) ? t3.data.slice(7) : t3.data;
        }
        function Fo(t3, e3) {
          if (e3.keyCode == fo.arrowleft) {
            const t4 = e3.domTarget.ownerDocument.defaultView.getSelection();
            if (1 == t4.rangeCount && t4.getRangeAt(0).collapsed) {
              const e4 = t4.getRangeAt(0).startContainer, i3 = t4.getRangeAt(0).startOffset;
              zo(e4) && i3 <= 7 && t4.collapse(e4, 0);
            }
          }
        }
        function Ho(t3, e3, i3, n2 = false) {
          i3 = i3 || function(t4, e4) {
            return t4 === e4;
          }, Array.isArray(t3) || (t3 = Array.prototype.slice.call(t3)), Array.isArray(e3) || (e3 = Array.prototype.slice.call(e3));
          const o2 = function(t4, e4, i4) {
            const n3 = Uo(t4, e4, i4);
            if (-1 === n3) return { firstIndex: -1, lastIndexOld: -1, lastIndexNew: -1 };
            const o3 = Wo(t4, n3), r2 = Wo(e4, n3), s4 = Uo(o3, r2, i4), a4 = t4.length - s4, l2 = e4.length - s4;
            return { firstIndex: n3, lastIndexOld: a4, lastIndexNew: l2 };
          }(t3, e3, i3);
          return n2 ? function(t4, e4) {
            const { firstIndex: i4, lastIndexOld: n3, lastIndexNew: o3 } = t4;
            if (-1 === i4) return Array(e4).fill("equal");
            let r2 = [];
            i4 > 0 && (r2 = r2.concat(Array(i4).fill("equal")));
            o3 - i4 > 0 && (r2 = r2.concat(Array(o3 - i4).fill("insert")));
            n3 - i4 > 0 && (r2 = r2.concat(Array(n3 - i4).fill("delete")));
            o3 < e4 && (r2 = r2.concat(Array(e4 - o3).fill("equal")));
            return r2;
          }(o2, e3.length) : function(t4, e4) {
            const i4 = [], { firstIndex: n3, lastIndexOld: o3, lastIndexNew: r2 } = e4;
            r2 - n3 > 0 && i4.push({ index: n3, type: "insert", values: t4.slice(n3, r2) });
            o3 - n3 > 0 && i4.push({ index: n3 + (r2 - n3), type: "delete", howMany: o3 - n3 });
            return i4;
          }(e3, o2);
        }
        function Uo(t3, e3, i3) {
          for (let n2 = 0; n2 < Math.max(t3.length, e3.length); n2++) if (void 0 === t3[n2] || void 0 === e3[n2] || !i3(t3[n2], e3[n2])) return n2;
          return -1;
        }
        function Wo(t3, e3) {
          return t3.slice(e3).reverse();
        }
        function qo(t3, e3, i3) {
          i3 = i3 || function(t4, e4) {
            return t4 === e4;
          };
          const n2 = t3.length, o2 = e3.length;
          if (n2 > 200 || o2 > 200 || n2 + o2 > 300) return qo.fastDiff(t3, e3, i3, true);
          let r2, s4;
          if (o2 < n2) {
            const i4 = t3;
            t3 = e3, e3 = i4, r2 = "delete", s4 = "insert";
          } else r2 = "insert", s4 = "delete";
          const a4 = t3.length, l2 = e3.length, c3 = l2 - a4, d4 = {}, h4 = {};
          function u3(n3) {
            const o3 = (void 0 !== h4[n3 - 1] ? h4[n3 - 1] : -1) + 1, c4 = void 0 !== h4[n3 + 1] ? h4[n3 + 1] : -1, u4 = o3 > c4 ? -1 : 1;
            d4[n3 + u4] && (d4[n3] = d4[n3 + u4].slice(0)), d4[n3] || (d4[n3] = []), d4[n3].push(o3 > c4 ? r2 : s4);
            let m5 = Math.max(o3, c4), g3 = m5 - n3;
            for (; g3 < a4 && m5 < l2 && i3(t3[g3], e3[m5]); ) g3++, m5++, d4[n3].push("equal");
            return m5;
          }
          let m4, g2 = 0;
          do {
            for (m4 = -g2; m4 < c3; m4++) h4[m4] = u3(m4);
            for (m4 = c3 + g2; m4 > c3; m4--) h4[m4] = u3(m4);
            h4[c3] = u3(c3), g2++;
          } while (h4[c3] !== l2);
          return d4[c3].slice(1);
        }
        function Yo(t3, e3, i3) {
          t3.insertBefore(i3, t3.childNodes[e3] || null);
        }
        function $o(t3) {
          const e3 = t3.parentNode;
          e3 && e3.removeChild(t3);
        }
        function Jo(t3) {
          if (t3) {
            if (t3.defaultView) return t3 instanceof t3.defaultView.Document;
            if (t3.ownerDocument && t3.ownerDocument.defaultView) return t3 instanceof t3.ownerDocument.defaultView.Node;
          }
          return false;
        }
        qo.fastDiff = Ho;
        class Go {
          constructor(t3, e3) {
            this.domDocuments = /* @__PURE__ */ new Set(), this.domConverter = t3, this.markedAttributes = /* @__PURE__ */ new Set(), this.markedChildren = /* @__PURE__ */ new Set(), this.markedTexts = /* @__PURE__ */ new Set(), this.selection = e3, this.isFocused = false, this._inlineFiller = null, this._fakeSelectionContainer = null;
          }
          markToSync(t3, e3) {
            if ("text" === t3) this.domConverter.mapViewToDom(e3.parent) && this.markedTexts.add(e3);
            else {
              if (!this.domConverter.mapViewToDom(e3)) return;
              if ("attributes" === t3) this.markedAttributes.add(e3);
              else {
                if ("children" !== t3) throw new hi.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.", this);
                this.markedChildren.add(e3);
              }
            }
          }
          render() {
            let t3;
            for (const t4 of this.markedChildren) this._updateChildrenMappings(t4);
            this._inlineFiller && !this._isSelectionInInlineFiller() && this._removeInlineFiller(), this._inlineFiller ? t3 = this._getInlineFillerPosition() : this._needsInlineFillerAtSelection() && (t3 = this.selection.getFirstPosition(), this.markedChildren.add(t3.parent));
            for (const t4 of this.markedAttributes) this._updateAttrs(t4);
            for (const e3 of this.markedChildren) this._updateChildren(e3, { inlineFillerPosition: t3 });
            for (const e3 of this.markedTexts) !this.markedChildren.has(e3.parent) && this.domConverter.mapViewToDom(e3.parent) && this._updateText(e3, { inlineFillerPosition: t3 });
            if (t3) {
              const e3 = this.domConverter.viewPositionToDom(t3), i3 = e3.parent.ownerDocument;
              zo(e3.parent) ? this._inlineFiller = e3.parent : this._inlineFiller = Qo(i3, e3.parent, e3.offset);
            } else this._inlineFiller = null;
            this._updateSelection(), this._updateFocus(), this.markedTexts.clear(), this.markedAttributes.clear(), this.markedChildren.clear();
          }
          _updateChildrenMappings(t3) {
            const e3 = this.domConverter.mapViewToDom(t3);
            if (!e3) return;
            const i3 = this.domConverter.mapViewToDom(t3).childNodes, n2 = Array.from(this.domConverter.viewChildrenToDom(t3, e3.ownerDocument, { withChildren: false })), o2 = this._diffNodeLists(i3, n2), r2 = this._findReplaceActions(o2, i3, n2);
            if (-1 !== r2.indexOf("replace")) {
              const e4 = { equal: 0, insert: 0, delete: 0 };
              for (const o3 of r2) if ("replace" === o3) {
                const o4 = e4.equal + e4.insert, r3 = e4.equal + e4.delete, s4 = t3.getChild(o4);
                s4 && !s4.is("uiElement") && this._updateElementMappings(s4, i3[r3]), $o(n2[o4]), e4.equal++;
              } else e4[o3]++;
            }
          }
          _updateElementMappings(t3, e3) {
            this.domConverter.unbindDomElement(e3), this.domConverter.bindElements(e3, t3), this.markedChildren.add(t3), this.markedAttributes.add(t3);
          }
          _getInlineFillerPosition() {
            const t3 = this.selection.getFirstPosition();
            return t3.parent.is("text") ? Kn._createBefore(this.selection.getFirstPosition().parent) : t3;
          }
          _isSelectionInInlineFiller() {
            if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return false;
            const t3 = this.selection.getFirstPosition(), e3 = this.domConverter.viewPositionToDom(t3);
            return !!(e3 && Ro(e3.parent) && zo(e3.parent));
          }
          _removeInlineFiller() {
            const t3 = this._inlineFiller;
            if (!zo(t3)) throw new hi.b("view-renderer-filler-was-lost: The inline filler node was lost.", this);
            Bo(t3) ? t3.parentNode.removeChild(t3) : t3.data = t3.data.substr(7), this._inlineFiller = null;
          }
          _needsInlineFillerAtSelection() {
            if (1 != this.selection.rangeCount || !this.selection.isCollapsed) return false;
            const t3 = this.selection.getFirstPosition(), e3 = t3.parent, i3 = t3.offset;
            if (!this.domConverter.mapViewToDom(e3.root)) return false;
            if (!e3.is("element")) return false;
            if (!function(t4) {
              if ("false" == t4.getAttribute("contenteditable")) return false;
              const e4 = t4.findAncestor((t5) => t5.hasAttribute("contenteditable"));
              return !e4 || "true" == e4.getAttribute("contenteditable");
            }(e3)) return false;
            if (i3 === e3.getFillerOffset()) return false;
            const n2 = t3.nodeBefore, o2 = t3.nodeAfter;
            return !(n2 instanceof Ni || o2 instanceof Ni);
          }
          _updateText(t3, e3) {
            const i3 = this.domConverter.findCorrespondingDomText(t3), n2 = this.domConverter.viewToDom(t3, i3.ownerDocument), o2 = i3.data;
            let r2 = n2.data;
            const s4 = e3.inlineFillerPosition;
            if (s4 && s4.parent == t3.parent && s4.offset == t3.index && (r2 = Do + r2), o2 != r2) {
              const t4 = Ho(o2, r2);
              for (const e4 of t4) "insert" === e4.type ? i3.insertData(e4.index, e4.values.join("")) : i3.deleteData(e4.index, e4.howMany);
            }
          }
          _updateAttrs(t3) {
            const e3 = this.domConverter.mapViewToDom(t3);
            if (!e3) return;
            const i3 = Array.from(e3.attributes).map((t4) => t4.name), n2 = t3.getAttributeKeys();
            for (const i4 of n2) e3.setAttribute(i4, t3.getAttribute(i4));
            for (const n3 of i3) t3.hasAttribute(n3) || e3.removeAttribute(n3);
          }
          _updateChildren(t3, e3) {
            const i3 = this.domConverter.mapViewToDom(t3);
            if (!i3) return;
            const n2 = e3.inlineFillerPosition, o2 = this.domConverter.mapViewToDom(t3).childNodes, r2 = Array.from(this.domConverter.viewChildrenToDom(t3, i3.ownerDocument, { bind: true, inlineFillerPosition: n2 }));
            n2 && n2.parent === t3 && Qo(i3.ownerDocument, r2, n2.offset);
            const s4 = this._diffNodeLists(o2, r2);
            let a4 = 0;
            const l2 = /* @__PURE__ */ new Set();
            for (const t4 of s4) "delete" === t4 ? (l2.add(o2[a4]), $o(o2[a4])) : "equal" === t4 && a4++;
            a4 = 0;
            for (const t4 of s4) "insert" === t4 ? (Yo(i3, a4, r2[a4]), a4++) : "equal" === t4 && (this._markDescendantTextToSync(this.domConverter.domToView(r2[a4])), a4++);
            for (const t4 of l2) t4.parentNode || this.domConverter.unbindDomElement(t4);
          }
          _diffNodeLists(t3, e3) {
            return qo(t3 = function(t4, e4) {
              const i3 = Array.from(t4);
              if (0 == i3.length || !e4) return i3;
              i3[i3.length - 1] == e4 && i3.pop();
              return i3;
            }(t3, this._fakeSelectionContainer), e3, Ko.bind(null, this.domConverter));
          }
          _findReplaceActions(t3, e3, i3) {
            if (-1 === t3.indexOf("insert") || -1 === t3.indexOf("delete")) return t3;
            let n2 = [], o2 = [], r2 = [];
            const s4 = { equal: 0, insert: 0, delete: 0 };
            for (const a4 of t3) "insert" === a4 ? r2.push(i3[s4.equal + s4.insert]) : "delete" === a4 ? o2.push(e3[s4.equal + s4.delete]) : (n2 = n2.concat(qo(o2, r2, Xo).map((t4) => "equal" === t4 ? "replace" : t4)), n2.push("equal"), o2 = [], r2 = []), s4[a4]++;
            return n2.concat(qo(o2, r2, Xo).map((t4) => "equal" === t4 ? "replace" : t4));
          }
          _markDescendantTextToSync(t3) {
            if (t3) {
              if (t3.is("text")) this.markedTexts.add(t3);
              else if (t3.is("element")) for (const e3 of t3.getChildren()) this._markDescendantTextToSync(e3);
            }
          }
          _updateSelection() {
            if (0 === this.selection.rangeCount) return this._removeDomSelection(), void this._removeFakeSelection();
            const t3 = this.domConverter.mapViewToDom(this.selection.editableElement);
            this.isFocused && t3 && (this.selection.isFake ? this._updateFakeSelection(t3) : (this._removeFakeSelection(), this._updateDomSelection(t3)));
          }
          _updateFakeSelection(t3) {
            const e3 = t3.ownerDocument;
            this._fakeSelectionContainer || (this._fakeSelectionContainer = function(t4) {
              const e4 = t4.createElement("div");
              return Object.assign(e4.style, { position: "fixed", top: 0, left: "-9999px", width: "42px" }), e4.textContent = "\xA0", e4;
            }(e3));
            const i3 = this._fakeSelectionContainer;
            if (this.domConverter.bindFakeSelection(i3, this.selection), !this._fakeSelectionNeedsUpdate(t3)) return;
            i3.parentElement && i3.parentElement == t3 || t3.appendChild(i3), i3.textContent = this.selection.fakeSelectionLabel || "\xA0";
            const n2 = e3.getSelection(), o2 = e3.createRange();
            n2.removeAllRanges(), o2.selectNodeContents(i3), n2.addRange(o2);
          }
          _updateDomSelection(t3) {
            const e3 = t3.ownerDocument.defaultView.getSelection();
            if (!this._domSelectionNeedsUpdate(e3)) return;
            const i3 = this.domConverter.viewPositionToDom(this.selection.anchor), n2 = this.domConverter.viewPositionToDom(this.selection.focus);
            t3.focus(), e3.collapse(i3.parent, i3.offset), e3.extend(n2.parent, n2.offset), uo.isGecko && function(t4, e4) {
              const i4 = t4.parent;
              if (i4.nodeType != Node.ELEMENT_NODE || t4.offset != i4.childNodes.length - 1) return;
              const n3 = i4.childNodes[t4.offset];
              n3 && "BR" == n3.tagName && e4.addRange(e4.getRangeAt(0));
            }(n2, e3);
          }
          _domSelectionNeedsUpdate(t3) {
            if (!this.domConverter.isDomSelectionCorrect(t3)) return true;
            const e3 = t3 && this.domConverter.domSelectionToView(t3);
            return (!e3 || !this.selection.isEqual(e3)) && !(!this.selection.isCollapsed && this.selection.isSimilar(e3));
          }
          _fakeSelectionNeedsUpdate(t3) {
            const e3 = this._fakeSelectionContainer, i3 = t3.ownerDocument.getSelection();
            return !e3 || e3.parentElement !== t3 || (i3.anchorNode !== e3 && !e3.contains(i3.anchorNode) || e3.textContent !== this.selection.fakeSelectionLabel);
          }
          _removeDomSelection() {
            for (const t3 of this.domDocuments) {
              if (t3.getSelection().rangeCount) {
                const e3 = t3.activeElement, i3 = this.domConverter.mapDomToView(e3);
                e3 && i3 && t3.getSelection().removeAllRanges();
              }
            }
          }
          _removeFakeSelection() {
            const t3 = this._fakeSelectionContainer;
            t3 && t3.remove();
          }
          _updateFocus() {
            if (this.isFocused) {
              const t3 = this.selection.editableElement;
              t3 && this.domConverter.focus(t3);
            }
          }
        }
        function Qo(t3, e3, i3) {
          const n2 = e3 instanceof Array ? e3 : e3.childNodes, o2 = n2[i3];
          if (Ro(o2)) return o2.data = Do + o2.data, o2;
          {
            const o3 = t3.createTextNode(Do);
            return Array.isArray(e3) ? n2.splice(i3, 0, o3) : Yo(e3, i3, o3), o3;
          }
        }
        function Xo(t3, e3) {
          return Jo(t3) && Jo(e3) && !Ro(t3) && !Ro(e3) && t3.tagName.toLowerCase() === e3.tagName.toLowerCase();
        }
        function Ko(t3, e3, i3) {
          return e3 === i3 || (Ro(e3) && Ro(i3) ? e3.data === i3.data : !(!t3.isBlockFiller(e3) || !t3.isBlockFiller(i3)));
        }
        yi(Go, Hn);
        var Zo = { window, document };
        function tr(t3) {
          let e3 = 0;
          for (; t3.previousSibling; ) t3 = t3.previousSibling, e3++;
          return e3;
        }
        function er(t3) {
          const e3 = [];
          for (; t3 && t3.nodeType != Node.DOCUMENT_NODE; ) e3.unshift(t3), t3 = t3.parentNode;
          return e3;
        }
        const ir = jo(document);
        class nr {
          constructor(t3, e3 = {}) {
            this.document = t3, this.blockFillerMode = e3.blockFillerMode || "br", this.preElements = ["pre"], this.blockElements = ["p", "div", "h1", "h2", "h3", "h4", "h5", "h6", "li", "dd", "dt", "figcaption"], this._blockFiller = "br" == this.blockFillerMode ? jo : Lo, this._domToViewMapping = /* @__PURE__ */ new WeakMap(), this._viewToDomMapping = /* @__PURE__ */ new WeakMap(), this._fakeSelectionMapping = /* @__PURE__ */ new WeakMap();
          }
          bindFakeSelection(t3, e3) {
            this._fakeSelectionMapping.set(t3, new io(e3));
          }
          fakeSelectionToView(t3) {
            return this._fakeSelectionMapping.get(t3);
          }
          bindElements(t3, e3) {
            this._domToViewMapping.set(t3, e3), this._viewToDomMapping.set(e3, t3);
          }
          unbindDomElement(t3) {
            const e3 = this._domToViewMapping.get(t3);
            if (e3) {
              this._domToViewMapping.delete(t3), this._viewToDomMapping.delete(e3);
              for (const e4 of t3.childNodes) this.unbindDomElement(e4);
            }
          }
          bindDocumentFragments(t3, e3) {
            this._domToViewMapping.set(t3, e3), this._viewToDomMapping.set(e3, t3);
          }
          viewToDom(t3, e3, i3 = {}) {
            if (t3.is("text")) {
              const i4 = this._processDataFromViewText(t3);
              return e3.createTextNode(i4);
            }
            {
              if (this.mapViewToDom(t3)) return this.mapViewToDom(t3);
              let n2;
              if (t3.is("documentFragment")) n2 = e3.createDocumentFragment(), i3.bind && this.bindDocumentFragments(n2, t3);
              else {
                if (t3.is("uiElement")) return n2 = t3.render(e3), i3.bind && this.bindElements(n2, t3), n2;
                n2 = t3.hasAttribute("xmlns") ? e3.createElementNS(t3.getAttribute("xmlns"), t3.name) : e3.createElement(t3.name), i3.bind && this.bindElements(n2, t3);
                for (const e4 of t3.getAttributeKeys()) n2.setAttribute(e4, t3.getAttribute(e4));
              }
              if (i3.withChildren || void 0 === i3.withChildren) for (const o2 of this.viewChildrenToDom(t3, e3, i3)) n2.appendChild(o2);
              return n2;
            }
          }
          *viewChildrenToDom(t3, e3, i3 = {}) {
            const n2 = t3.getFillerOffset && t3.getFillerOffset();
            let o2 = 0;
            for (const r2 of t3.getChildren()) n2 === o2 && (yield this._blockFiller(e3)), yield this.viewToDom(r2, e3, i3), o2++;
            n2 === o2 && (yield this._blockFiller(e3));
          }
          viewRangeToDom(t3) {
            const e3 = this.viewPositionToDom(t3.start), i3 = this.viewPositionToDom(t3.end), n2 = document.createRange();
            return n2.setStart(e3.parent, e3.offset), n2.setEnd(i3.parent, i3.offset), n2;
          }
          viewPositionToDom(t3) {
            const e3 = t3.parent;
            if (e3.is("text")) {
              const i3 = this.findCorrespondingDomText(e3);
              if (!i3) return null;
              let n2 = t3.offset;
              return zo(i3) && (n2 += 7), { parent: i3, offset: n2 };
            }
            {
              let i3, n2, o2;
              if (0 === t3.offset) {
                if (i3 = this.mapViewToDom(e3), !i3) return null;
                o2 = i3.childNodes[0];
              } else {
                const e4 = t3.nodeBefore;
                if (n2 = e4.is("text") ? this.findCorrespondingDomText(e4) : this.mapViewToDom(t3.nodeBefore), !n2) return null;
                i3 = n2.parentNode, o2 = n2.nextSibling;
              }
              if (Ro(o2) && zo(o2)) return { parent: o2, offset: 7 };
              return { parent: i3, offset: n2 ? tr(n2) + 1 : 0 };
            }
          }
          domToView(t3, e3 = {}) {
            if (this.isBlockFiller(t3, this.blockFillerMode)) return null;
            const i3 = this.getParentUIElement(t3, this._domToViewMapping);
            if (i3) return i3;
            if (Ro(t3)) {
              if (Bo(t3)) return null;
              {
                const e4 = this._processDataFromDomText(t3);
                return "" === e4 ? null : new Ni(this.document, e4);
              }
            }
            if (this.isComment(t3)) return null;
            {
              if (this.mapDomToView(t3)) return this.mapDomToView(t3);
              let i4;
              if (this.isDocumentFragment(t3)) i4 = new xo(this.document), e3.bind && this.bindDocumentFragments(t3, i4);
              else {
                const n2 = e3.keepOriginalCase ? t3.tagName : t3.tagName.toLowerCase();
                i4 = new Nn(this.document, n2), e3.bind && this.bindElements(t3, i4);
                const o2 = t3.attributes;
                for (let t4 = o2.length - 1; t4 >= 0; t4--) i4._setAttribute(o2[t4].name, o2[t4].value);
              }
              if (e3.withChildren || void 0 === e3.withChildren) for (const n2 of this.domChildrenToView(t3, e3)) i4._appendChild(n2);
              return i4;
            }
          }
          *domChildrenToView(t3, e3 = {}) {
            for (let i3 = 0; i3 < t3.childNodes.length; i3++) {
              const n2 = t3.childNodes[i3], o2 = this.domToView(n2, e3);
              null !== o2 && (yield o2);
            }
          }
          domSelectionToView(t3) {
            if (1 === t3.rangeCount) {
              let e4 = t3.getRangeAt(0).startContainer;
              Ro(e4) && (e4 = e4.parentNode);
              const i4 = this.fakeSelectionToView(e4);
              if (i4) return i4;
            }
            const e3 = this.isDomSelectionBackward(t3), i3 = [];
            for (let e4 = 0; e4 < t3.rangeCount; e4++) {
              const n2 = t3.getRangeAt(e4), o2 = this.domRangeToView(n2);
              o2 && i3.push(o2);
            }
            return new io(i3, { backward: e3 });
          }
          domRangeToView(t3) {
            const e3 = this.domPositionToView(t3.startContainer, t3.startOffset), i3 = this.domPositionToView(t3.endContainer, t3.endOffset);
            return e3 && i3 ? new Zn(e3, i3) : null;
          }
          domPositionToView(t3, e3) {
            if (this.isBlockFiller(t3, this.blockFillerMode)) return this.domPositionToView(t3.parentNode, tr(t3));
            const i3 = this.mapDomToView(t3);
            if (i3 && i3.is("uiElement")) return Kn._createBefore(i3);
            if (Ro(t3)) {
              if (Bo(t3)) return this.domPositionToView(t3.parentNode, tr(t3));
              const i4 = this.findCorrespondingViewText(t3);
              let n2 = e3;
              return i4 ? (zo(t3) && (n2 -= 7, n2 = n2 < 0 ? 0 : n2), new Kn(i4, n2)) : null;
            }
            if (0 === e3) {
              const e4 = this.mapDomToView(t3);
              if (e4) return new Kn(e4, 0);
            } else {
              const i4 = t3.childNodes[e3 - 1], n2 = Ro(i4) ? this.findCorrespondingViewText(i4) : this.mapDomToView(i4);
              if (n2 && n2.parent) return new Kn(n2.parent, n2.index + 1);
            }
            return null;
          }
          mapDomToView(t3) {
            return this.getParentUIElement(t3) || this._domToViewMapping.get(t3);
          }
          findCorrespondingViewText(t3) {
            if (Bo(t3)) return null;
            const e3 = this.getParentUIElement(t3);
            if (e3) return e3;
            const i3 = t3.previousSibling;
            if (i3) {
              if (!this.isElement(i3)) return null;
              const t4 = this.mapDomToView(i3);
              if (t4) {
                return t4.nextSibling instanceof Ni ? t4.nextSibling : null;
              }
            } else {
              const e4 = this.mapDomToView(t3.parentNode);
              if (e4) {
                const t4 = e4.getChild(0);
                return t4 instanceof Ni ? t4 : null;
              }
            }
            return null;
          }
          mapViewToDom(t3) {
            return this._viewToDomMapping.get(t3);
          }
          findCorrespondingDomText(t3) {
            const e3 = t3.previousSibling;
            return e3 && this.mapViewToDom(e3) ? this.mapViewToDom(e3).nextSibling : !e3 && t3.parent && this.mapViewToDom(t3.parent) ? this.mapViewToDom(t3.parent).childNodes[0] : null;
          }
          focus(t3) {
            const e3 = this.mapViewToDom(t3);
            if (e3 && e3.ownerDocument.activeElement !== e3) {
              const { scrollX: t4, scrollY: i3 } = Zo.window, n2 = [];
              rr(e3, (t5) => {
                const { scrollLeft: e4, scrollTop: i4 } = t5;
                n2.push([e4, i4]);
              }), e3.focus(), rr(e3, (t5) => {
                const [e4, i4] = n2.shift();
                t5.scrollLeft = e4, t5.scrollTop = i4;
              }), Zo.window.scrollTo(t4, i3);
            }
          }
          isElement(t3) {
            return t3 && t3.nodeType == Node.ELEMENT_NODE;
          }
          isDocumentFragment(t3) {
            return t3 && t3.nodeType == Node.DOCUMENT_FRAGMENT_NODE;
          }
          isComment(t3) {
            return t3 && t3.nodeType == Node.COMMENT_NODE;
          }
          isBlockFiller(t3) {
            return "br" == this.blockFillerMode ? t3.isEqualNode(ir) : !("BR" !== t3.tagName || !sr(t3, this.blockElements) || 1 !== t3.parentNode.childNodes.length) || function(t4, e3) {
              return Ro(t4) && "\xA0" == t4.data && sr(t4, e3) && 1 === t4.parentNode.childNodes.length;
            }(t3, this.blockElements);
          }
          isDomSelectionBackward(t3) {
            if (t3.isCollapsed) return false;
            const e3 = document.createRange();
            e3.setStart(t3.anchorNode, t3.anchorOffset), e3.setEnd(t3.focusNode, t3.focusOffset);
            const i3 = e3.collapsed;
            return e3.detach(), i3;
          }
          getParentUIElement(t3) {
            const e3 = er(t3);
            for (e3.pop(); e3.length; ) {
              const t4 = e3.pop(), i3 = this._domToViewMapping.get(t4);
              if (i3 && i3.is("uiElement")) return i3;
            }
            return null;
          }
          isDomSelectionCorrect(t3) {
            return this._isDomSelectionPositionCorrect(t3.anchorNode, t3.anchorOffset) && this._isDomSelectionPositionCorrect(t3.focusNode, t3.focusOffset);
          }
          _isDomSelectionPositionCorrect(t3, e3) {
            if (Ro(t3) && zo(t3) && e3 < 7) return false;
            if (this.isElement(t3) && zo(t3.childNodes[e3])) return false;
            const i3 = this.mapDomToView(t3);
            return !i3 || !i3.is("uiElement");
          }
          _processDataFromViewText(t3) {
            let e3 = t3.data;
            if (t3.getAncestors().some((t4) => this.preElements.includes(t4.name))) return e3;
            if (" " == e3.charAt(0)) {
              const i3 = this._getTouchingViewTextNode(t3, false);
              !(i3 && this._nodeEndsWithSpace(i3)) && i3 || (e3 = "\xA0" + e3.substr(1));
            }
            if (" " == e3.charAt(e3.length - 1)) {
              const i3 = this._getTouchingViewTextNode(t3, true);
              " " != e3.charAt(e3.length - 2) && i3 && " " != i3.data.charAt(0) || (e3 = e3.substr(0, e3.length - 1) + "\xA0");
            }
            return e3.replace(/ {2}/g, " \xA0");
          }
          _nodeEndsWithSpace(t3) {
            if (t3.getAncestors().some((t4) => this.preElements.includes(t4.name))) return false;
            const e3 = this._processDataFromViewText(t3);
            return " " == e3.charAt(e3.length - 1);
          }
          _processDataFromDomText(t3) {
            let e3 = t3.data;
            if (or(t3, this.preElements)) return Vo(t3);
            e3 = e3.replace(/[ \n\t\r]{1,}/g, " ");
            const i3 = this._getTouchingInlineDomNode(t3, false), n2 = this._getTouchingInlineDomNode(t3, true), o2 = this._checkShouldLeftTrimDomText(i3), r2 = this._checkShouldRightTrimDomText(t3, n2);
            return o2 && (e3 = e3.replace(/^ /, "")), r2 && (e3 = e3.replace(/ $/, "")), e3 = Vo(new Text(e3)), e3 = e3.replace(/ \u00A0/g, "  "), (/( |\u00A0)\u00A0$/.test(e3) || !n2 || n2.data && " " == n2.data.charAt(0)) && (e3 = e3.replace(/\u00A0$/, " ")), o2 && (e3 = e3.replace(/^\u00A0/, " ")), e3;
          }
          _checkShouldLeftTrimDomText(t3) {
            return !t3 || (!!ii(t3) || /[^\S\u00A0]/.test(t3.data.charAt(t3.data.length - 1)));
          }
          _checkShouldRightTrimDomText(t3, e3) {
            return !e3 && !zo(t3);
          }
          _getTouchingViewTextNode(t3, e3) {
            const i3 = new Xn({ startPosition: e3 ? Kn._createAfter(t3) : Kn._createBefore(t3), direction: e3 ? "forward" : "backward" });
            for (const t4 of i3) {
              if (t4.item.is("containerElement")) return null;
              if (t4.item.is("br")) return null;
              if (t4.item.is("textProxy")) return t4.item;
            }
            return null;
          }
          _getTouchingInlineDomNode(t3, e3) {
            if (!t3.parentNode) return null;
            const i3 = e3 ? "nextNode" : "previousNode", n2 = t3.ownerDocument, o2 = er(t3)[0], r2 = n2.createTreeWalker(o2, NodeFilter.SHOW_TEXT | NodeFilter.SHOW_ELEMENT, { acceptNode: (t4) => Ro(t4) || "BR" == t4.tagName ? NodeFilter.FILTER_ACCEPT : NodeFilter.FILTER_SKIP });
            r2.currentNode = t3;
            const s4 = r2[i3]();
            if (null !== s4) {
              const e4 = function(t4, e5) {
                const i4 = er(t4), n3 = er(e5);
                let o3 = 0;
                for (; i4[o3] == n3[o3] && i4[o3]; ) o3++;
                return 0 === o3 ? null : i4[o3 - 1];
              }(t3, s4);
              if (e4 && !or(t3, this.blockElements, e4) && !or(s4, this.blockElements, e4)) return s4;
            }
            return null;
          }
        }
        function or(t3, e3, i3) {
          let n2 = er(t3);
          return i3 && (n2 = n2.slice(n2.indexOf(i3) + 1)), n2.some((t4) => t4.tagName && e3.includes(t4.tagName.toLowerCase()));
        }
        function rr(t3, e3) {
          for (; t3 && t3 != Zo.document; ) e3(t3), t3 = t3.parentNode;
        }
        function sr(t3, e3) {
          const i3 = t3.parentNode;
          return i3 && i3.tagName && e3.includes(i3.tagName.toLowerCase());
        }
        function ar(t3) {
          const e3 = Object.prototype.toString.apply(t3);
          return "[object Window]" == e3 || "[object global]" == e3;
        }
        var lr = Dn({}, gi, { listenTo(t3, ...e3) {
          if (Jo(t3) || ar(t3)) {
            const i3 = this._getProxyEmitter(t3) || new cr(t3);
            i3.attach(...e3), t3 = i3;
          }
          gi.listenTo.call(this, t3, ...e3);
        }, stopListening(t3, e3, i3) {
          if (Jo(t3) || ar(t3)) {
            const e4 = this._getProxyEmitter(t3);
            if (!e4) return;
            t3 = e4;
          }
          gi.stopListening.call(this, t3, e3, i3), t3 instanceof cr && t3.detach(e3);
        }, _getProxyEmitter(t3) {
          return e3 = this, i3 = dr(t3), e3[ui] && e3[ui][i3] ? e3[ui][i3].emitter : null;
          var e3, i3;
        } });
        class cr {
          constructor(t3) {
            fi(this, dr(t3)), this._domNode = t3;
          }
        }
        function dr(t3) {
          return t3["data-ck-expando"] || (t3["data-ck-expando"] = ci());
        }
        Dn(cr.prototype, gi, { attach(t3, e3, i3 = {}) {
          if (this._domListeners && this._domListeners[t3]) return;
          const n2 = this._createDomListener(t3, !!i3.useCapture);
          this._domNode.addEventListener(t3, n2, !!i3.useCapture), this._domListeners || (this._domListeners = {}), this._domListeners[t3] = n2;
        }, detach(t3) {
          let e3;
          !this._domListeners[t3] || (e3 = this._events[t3]) && e3.callbacks.length || this._domListeners[t3].removeListener();
        }, _createDomListener(t3, e3) {
          const i3 = (e4) => {
            this.fire(t3, e4);
          };
          return i3.removeListener = () => {
            this._domNode.removeEventListener(t3, i3, e3), delete this._domListeners[t3];
          }, i3;
        } });
        class hr {
          constructor(t3) {
            this.view = t3, this.document = t3.document, this.isEnabled = false;
          }
          enable() {
            this.isEnabled = true;
          }
          disable() {
            this.isEnabled = false;
          }
          destroy() {
            this.disable(), this.stopListening();
          }
        }
        yi(hr, lr);
        var ur = function(t3) {
          return this.__data__.set(t3, "__lodash_hash_undefined__"), this;
        };
        var mr = function(t3) {
          return this.__data__.has(t3);
        };
        function gr(t3) {
          var e3 = -1, i3 = null == t3 ? 0 : t3.length;
          for (this.__data__ = new _t(); ++e3 < i3; ) this.add(t3[e3]);
        }
        gr.prototype.add = gr.prototype.push = ur, gr.prototype.has = mr;
        var fr = gr;
        var pr = function(t3, e3) {
          for (var i3 = -1, n2 = null == t3 ? 0 : t3.length; ++i3 < n2; ) if (e3(t3[i3], i3, t3)) return true;
          return false;
        };
        var br = function(t3, e3) {
          return t3.has(e3);
        };
        var wr = function(t3, e3, i3, n2, o2, r2) {
          var s4 = 1 & i3, a4 = t3.length, l2 = e3.length;
          if (a4 != l2 && !(s4 && l2 > a4)) return false;
          var c3 = r2.get(t3);
          if (c3 && r2.get(e3)) return c3 == e3;
          var d4 = -1, h4 = true, u3 = 2 & i3 ? new fr() : void 0;
          for (r2.set(t3, e3), r2.set(e3, t3); ++d4 < a4; ) {
            var m4 = t3[d4], g2 = e3[d4];
            if (n2) var f2 = s4 ? n2(g2, m4, d4, e3, t3, r2) : n2(m4, g2, d4, t3, e3, r2);
            if (void 0 !== f2) {
              if (f2) continue;
              h4 = false;
              break;
            }
            if (u3) {
              if (!pr(e3, function(t4, e4) {
                if (!br(u3, e4) && (m4 === t4 || o2(m4, t4, i3, n2, r2))) return u3.push(e4);
              })) {
                h4 = false;
                break;
              }
            } else if (m4 !== g2 && !o2(m4, g2, i3, n2, r2)) {
              h4 = false;
              break;
            }
          }
          return r2.delete(t3), r2.delete(e3), h4;
        };
        var _r = function(t3) {
          var e3 = -1, i3 = Array(t3.size);
          return t3.forEach(function(t4, n2) {
            i3[++e3] = [n2, t4];
          }), i3;
        };
        var kr = function(t3) {
          var e3 = -1, i3 = Array(t3.size);
          return t3.forEach(function(t4) {
            i3[++e3] = t4;
          }), i3;
        }, vr = o ? o.prototype : void 0, yr = vr ? vr.valueOf : void 0;
        var xr = function(t3, e3, i3, n2, o2, r2, s4) {
          switch (i3) {
            case "[object DataView]":
              if (t3.byteLength != e3.byteLength || t3.byteOffset != e3.byteOffset) return false;
              t3 = t3.buffer, e3 = e3.buffer;
            case "[object ArrayBuffer]":
              return !(t3.byteLength != e3.byteLength || !r2(new Re(t3), new Re(e3)));
            case "[object Boolean]":
            case "[object Date]":
            case "[object Number]":
              return A(+t3, +e3);
            case "[object Error]":
              return t3.name == e3.name && t3.message == e3.message;
            case "[object RegExp]":
            case "[object String]":
              return t3 == e3 + "";
            case "[object Map]":
              var a4 = _r;
            case "[object Set]":
              var l2 = 1 & n2;
              if (a4 || (a4 = kr), t3.size != e3.size && !l2) return false;
              var c3 = s4.get(t3);
              if (c3) return c3 == e3;
              n2 |= 2, s4.set(t3, e3);
              var d4 = wr(a4(t3), a4(e3), n2, o2, r2, s4);
              return s4.delete(t3), d4;
            case "[object Symbol]":
              if (yr) return yr.call(t3) == yr.call(e3);
          }
          return false;
        }, Ar = Object.prototype.hasOwnProperty;
        var Cr = function(t3, e3, i3, n2, o2, r2) {
          var s4 = 1 & i3, a4 = _e(t3), l2 = a4.length;
          if (l2 != _e(e3).length && !s4) return false;
          for (var c3 = l2; c3--; ) {
            var d4 = a4[c3];
            if (!(s4 ? d4 in e3 : Ar.call(e3, d4))) return false;
          }
          var h4 = r2.get(t3);
          if (h4 && r2.get(e3)) return h4 == e3;
          var u3 = true;
          r2.set(t3, e3), r2.set(e3, t3);
          for (var m4 = s4; ++c3 < l2; ) {
            var g2 = t3[d4 = a4[c3]], f2 = e3[d4];
            if (n2) var p2 = s4 ? n2(f2, g2, d4, e3, t3, r2) : n2(g2, f2, d4, t3, e3, r2);
            if (!(void 0 === p2 ? g2 === f2 || o2(g2, f2, i3, n2, r2) : p2)) {
              u3 = false;
              break;
            }
            m4 || (m4 = "constructor" == d4);
          }
          if (u3 && !m4) {
            var b3 = t3.constructor, w3 = e3.constructor;
            b3 == w3 || !("constructor" in t3) || !("constructor" in e3) || "function" == typeof b3 && b3 instanceof b3 && "function" == typeof w3 && w3 instanceof w3 || (u3 = false);
          }
          return r2.delete(t3), r2.delete(e3), u3;
        }, Tr = Object.prototype.hasOwnProperty;
        var Mr = function(t3, e3, i3, n2, o2, r2) {
          var s4 = Lt(t3), a4 = Lt(e3), l2 = s4 ? "[object Array]" : Ie(t3), c3 = a4 ? "[object Array]" : Ie(e3), d4 = "[object Object]" == (l2 = "[object Arguments]" == l2 ? "[object Object]" : l2), h4 = "[object Object]" == (c3 = "[object Arguments]" == c3 ? "[object Object]" : c3), u3 = l2 == c3;
          if (u3 && Object(jt.a)(t3)) {
            if (!Object(jt.a)(e3)) return false;
            s4 = true, d4 = false;
          }
          if (u3 && !d4) return r2 || (r2 = new yt()), s4 || qt(t3) ? wr(t3, e3, i3, n2, o2, r2) : xr(t3, e3, l2, i3, n2, o2, r2);
          if (!(1 & i3)) {
            var m4 = d4 && Tr.call(t3, "__wrapped__"), g2 = h4 && Tr.call(e3, "__wrapped__");
            if (m4 || g2) {
              var f2 = m4 ? t3.value() : t3, p2 = g2 ? e3.value() : e3;
              return r2 || (r2 = new yt()), o2(f2, p2, i3, n2, r2);
            }
          }
          return !!u3 && (r2 || (r2 = new yt()), Cr(t3, e3, i3, n2, o2, r2));
        };
        var Er = function t3(e3, i3, n2, o2, r2) {
          return e3 === i3 || (null == e3 || null == i3 || !p(e3) && !p(i3) ? e3 != e3 && i3 != i3 : Mr(e3, i3, n2, o2, t3, r2));
        };
        var Pr = function(t3, e3, i3) {
          var n2 = (i3 = "function" == typeof i3 ? i3 : void 0) ? i3(t3, e3) : void 0;
          return void 0 === n2 ? Er(t3, e3, void 0, i3) : !!n2;
        };
        class Sr extends hr {
          constructor(t3) {
            super(t3), this._config = { childList: true, characterData: true, characterDataOldValue: true, subtree: true }, this.domConverter = t3.domConverter, this.renderer = t3._renderer, this._domElements = [], this._mutationObserver = new window.MutationObserver(this._onMutations.bind(this));
          }
          flush() {
            this._onMutations(this._mutationObserver.takeRecords());
          }
          observe(t3) {
            this._domElements.push(t3), this.isEnabled && this._mutationObserver.observe(t3, this._config);
          }
          enable() {
            super.enable();
            for (const t3 of this._domElements) this._mutationObserver.observe(t3, this._config);
          }
          disable() {
            super.disable(), this._mutationObserver.disconnect();
          }
          destroy() {
            super.destroy(), this._mutationObserver.disconnect();
          }
          _onMutations(t3) {
            if (0 === t3.length) return;
            const e3 = this.domConverter, i3 = /* @__PURE__ */ new Map(), n2 = /* @__PURE__ */ new Set();
            for (const i4 of t3) if ("childList" === i4.type) {
              const t4 = e3.mapDomToView(i4.target);
              if (t4 && t4.is("uiElement")) continue;
              t4 && !this._isBogusBrMutation(i4) && n2.add(t4);
            }
            for (const o3 of t3) {
              const t4 = e3.mapDomToView(o3.target);
              if ((!t4 || !t4.is("uiElement")) && "characterData" === o3.type) {
                const t5 = e3.findCorrespondingViewText(o3.target);
                t5 && !n2.has(t5.parent) ? i3.set(t5, { type: "text", oldText: t5.data, newText: Vo(o3.target), node: t5 }) : !t5 && zo(o3.target) && n2.add(e3.mapDomToView(o3.target.parentNode));
              }
            }
            const o2 = [];
            for (const t4 of i3.values()) this.renderer.markToSync("text", t4.node), o2.push(t4);
            for (const t4 of n2) {
              const i4 = e3.mapViewToDom(t4), n3 = Array.from(t4.getChildren()), r3 = Array.from(e3.domChildrenToView(i4, { withChildren: false }));
              Pr(n3, r3, a4) || (this.renderer.markToSync("children", t4), o2.push({ type: "children", oldChildren: n3, newChildren: r3, node: t4 }));
            }
            const r2 = t3[0].target.ownerDocument.getSelection();
            let s4 = null;
            if (r2 && r2.anchorNode) {
              const t4 = e3.domPositionToView(r2.anchorNode, r2.anchorOffset), i4 = e3.domPositionToView(r2.focusNode, r2.focusOffset);
              t4 && i4 && (s4 = new io(t4), s4.setFocus(i4));
            }
            function a4(t4, e4) {
              if (!Array.isArray(t4)) return t4 === e4 || !(!t4.is("text") || !e4.is("text")) && t4.data === e4.data;
            }
            o2.length && (this.document.fire("mutations", o2, s4), this.view.forceRender());
          }
          _isBogusBrMutation(t3) {
            let e3 = null;
            return null === t3.nextSibling && 0 === t3.removedNodes.length && 1 == t3.addedNodes.length && (e3 = this.domConverter.domToView(t3.addedNodes[0], { withChildren: false })), e3 && e3.is("element", "br");
          }
        }
        class Ir {
          constructor(t3, e3, i3) {
            this.view = t3, this.document = t3.document, this.domEvent = e3, this.domTarget = e3.target, Dn(this, i3);
          }
          get target() {
            return this.view.domConverter.mapDomToView(this.domTarget);
          }
          preventDefault() {
            this.domEvent.preventDefault();
          }
          stopPropagation() {
            this.domEvent.stopPropagation();
          }
        }
        class Or extends hr {
          constructor(t3) {
            super(t3), this.useCapture = false;
          }
          observe(t3) {
            ("string" == typeof this.domEventType ? [this.domEventType] : this.domEventType).forEach((e3) => {
              this.listenTo(t3, e3, (t4, e4) => {
                this.isEnabled && this.onDomEvent(e4);
              }, { useCapture: this.useCapture });
            });
          }
          fire(t3, e3, i3) {
            this.isEnabled && this.document.fire(t3, new Ir(this.view, e3, i3));
          }
        }
        class Nr extends Or {
          constructor(t3) {
            super(t3), this.domEventType = ["keydown", "keyup"];
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3, { keyCode: t3.keyCode, altKey: t3.altKey, ctrlKey: t3.ctrlKey || t3.metaKey, shiftKey: t3.shiftKey, get keystroke() {
              return po(this);
            } });
          }
        }
        var Rr = function() {
          return n.a.Date.now();
        }, Lr = /^\s+|\s+$/g, jr = /^[-+]0x[0-9a-f]+$/i, Dr = /^0b[01]+$/i, zr = /^0o[0-7]+$/i, Br = parseInt;
        var Vr = function(t3) {
          if ("number" == typeof t3) return t3;
          if (zi(t3)) return NaN;
          if (D2(t3)) {
            var e3 = "function" == typeof t3.valueOf ? t3.valueOf() : t3;
            t3 = D2(e3) ? e3 + "" : e3;
          }
          if ("string" != typeof t3) return 0 === t3 ? t3 : +t3;
          t3 = t3.replace(Lr, "");
          var i3 = Dr.test(t3);
          return i3 || zr.test(t3) ? Br(t3.slice(2), i3 ? 2 : 8) : jr.test(t3) ? NaN : +t3;
        }, Fr = Math.max, Hr = Math.min;
        var Ur = function(t3, e3, i3) {
          var n2, o2, r2, s4, a4, l2, c3 = 0, d4 = false, h4 = false, u3 = true;
          if ("function" != typeof t3) throw new TypeError("Expected a function");
          function m4(e4) {
            var i4 = n2, r3 = o2;
            return n2 = o2 = void 0, c3 = e4, s4 = t3.apply(r3, i4);
          }
          function g2(t4) {
            return c3 = t4, a4 = setTimeout(p2, e3), d4 ? m4(t4) : s4;
          }
          function f2(t4) {
            var i4 = t4 - l2;
            return void 0 === l2 || i4 >= e3 || i4 < 0 || h4 && t4 - c3 >= r2;
          }
          function p2() {
            var t4 = Rr();
            if (f2(t4)) return b3(t4);
            a4 = setTimeout(p2, function(t5) {
              var i4 = e3 - (t5 - l2);
              return h4 ? Hr(i4, r2 - (t5 - c3)) : i4;
            }(t4));
          }
          function b3(t4) {
            return a4 = void 0, u3 && n2 ? m4(t4) : (n2 = o2 = void 0, s4);
          }
          function w3() {
            var t4 = Rr(), i4 = f2(t4);
            if (n2 = arguments, o2 = this, l2 = t4, i4) {
              if (void 0 === a4) return g2(l2);
              if (h4) return clearTimeout(a4), a4 = setTimeout(p2, e3), m4(l2);
            }
            return void 0 === a4 && (a4 = setTimeout(p2, e3)), s4;
          }
          return e3 = Vr(e3) || 0, D2(i3) && (d4 = !!i3.leading, r2 = (h4 = "maxWait" in i3) ? Fr(Vr(i3.maxWait) || 0, e3) : r2, u3 = "trailing" in i3 ? !!i3.trailing : u3), w3.cancel = function() {
            void 0 !== a4 && clearTimeout(a4), c3 = 0, n2 = l2 = o2 = a4 = void 0;
          }, w3.flush = function() {
            return void 0 === a4 ? s4 : b3(Rr());
          }, w3;
        };
        class Wr extends hr {
          constructor(t3) {
            super(t3), this._fireSelectionChangeDoneDebounced = Ur((t4) => this.document.fire("selectionChangeDone", t4), 200);
          }
          observe() {
            const t3 = this.document;
            t3.on("keydown", (e3, i3) => {
              var n2;
              t3.selection.isFake && ((n2 = i3.keyCode) == fo.arrowright || n2 == fo.arrowleft || n2 == fo.arrowup || n2 == fo.arrowdown) && this.isEnabled && (i3.preventDefault(), this._handleSelectionMove(i3.keyCode));
            }, { priority: "lowest" });
          }
          destroy() {
            super.destroy(), this._fireSelectionChangeDoneDebounced.cancel();
          }
          _handleSelectionMove(t3) {
            const e3 = this.document.selection, i3 = new io(e3.getRanges(), { backward: e3.isBackward, fake: false });
            t3 != fo.arrowleft && t3 != fo.arrowup || i3.setTo(i3.getFirstPosition()), t3 != fo.arrowright && t3 != fo.arrowdown || i3.setTo(i3.getLastPosition());
            const n2 = { oldSelection: e3, newSelection: i3, domSelection: null };
            this.document.fire("selectionChange", n2), this._fireSelectionChangeDoneDebounced(n2);
          }
        }
        class qr extends hr {
          constructor(t3) {
            super(t3), this.mutationObserver = t3.getObserver(Sr), this.selection = this.document.selection, this.domConverter = t3.domConverter, this._documents = /* @__PURE__ */ new WeakSet(), this._fireSelectionChangeDoneDebounced = Ur((t4) => this.document.fire("selectionChangeDone", t4), 200), this._clearInfiniteLoopInterval = setInterval(() => this._clearInfiniteLoop(), 1e3), this._loopbackCounter = 0;
          }
          observe(t3) {
            const e3 = t3.ownerDocument;
            this._documents.has(e3) || (this.listenTo(e3, "selectionchange", () => {
              this._handleSelectionChange(e3);
            }), this._documents.add(e3));
          }
          destroy() {
            super.destroy(), clearInterval(this._clearInfiniteLoopInterval), this._fireSelectionChangeDoneDebounced.cancel();
          }
          _handleSelectionChange(t3) {
            if (!this.isEnabled) return;
            this.mutationObserver.flush();
            const e3 = t3.defaultView.getSelection(), i3 = this.domConverter.domSelectionToView(e3);
            if (0 != i3.rangeCount) {
              if (this.view.hasDomSelection = true, !(this.selection.isEqual(i3) && this.domConverter.isDomSelectionCorrect(e3) || ++this._loopbackCounter > 60)) if (this.selection.isSimilar(i3)) this.view.forceRender();
              else {
                const t4 = { oldSelection: this.selection, newSelection: i3, domSelection: e3 };
                this.document.fire("selectionChange", t4), this._fireSelectionChangeDoneDebounced(t4);
              }
            } else this.view.hasDomSelection = false;
          }
          _clearInfiniteLoop() {
            this._loopbackCounter = 0;
          }
        }
        class Yr extends Or {
          constructor(t3) {
            super(t3), this.domEventType = ["focus", "blur"], this.useCapture = true;
            const e3 = this.document;
            e3.on("focus", () => {
              e3.isFocused = true, this._renderTimeoutId = setTimeout(() => t3.forceRender(), 50);
            }), e3.on("blur", (i3, n2) => {
              const o2 = e3.selection.editableElement;
              null !== o2 && o2 !== n2.target || (e3.isFocused = false, t3.forceRender());
            });
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
          destroy() {
            this._renderTimeoutId && clearTimeout(this._renderTimeoutId), super.destroy();
          }
        }
        class $r extends Or {
          constructor(t3) {
            super(t3), this.domEventType = ["compositionstart", "compositionupdate", "compositionend"];
            const e3 = this.document;
            e3.on("compositionstart", () => {
              e3.isComposing = true;
            }), e3.on("compositionend", () => {
              e3.isComposing = false;
            });
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
        }
        class Jr extends Or {
          constructor(t3) {
            super(t3), this.domEventType = ["beforeinput"];
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
        }
        function Gr(t3) {
          return "[object Range]" == Object.prototype.toString.apply(t3);
        }
        function Qr(t3) {
          const e3 = t3.ownerDocument.defaultView.getComputedStyle(t3);
          return { top: parseInt(e3.borderTopWidth, 10), right: parseInt(e3.borderRightWidth, 10), bottom: parseInt(e3.borderBottomWidth, 10), left: parseInt(e3.borderLeftWidth, 10) };
        }
        const Xr = ["top", "right", "bottom", "left", "width", "height"];
        class Kr {
          constructor(t3) {
            const e3 = Gr(t3);
            if (Object.defineProperty(this, "_source", { value: t3._source || t3, writable: true, enumerable: false }), ii(t3) || e3) Zr(this, e3 ? Kr.getDomRangeRects(t3)[0] : t3.getBoundingClientRect());
            else if (ar(t3)) {
              const { innerWidth: e4, innerHeight: i3 } = t3;
              Zr(this, { top: 0, right: e4, bottom: i3, left: 0, width: e4, height: i3 });
            } else Zr(this, t3);
          }
          clone() {
            return new Kr(this);
          }
          moveTo(t3, e3) {
            return this.top = e3, this.right = t3 + this.width, this.bottom = e3 + this.height, this.left = t3, this;
          }
          moveBy(t3, e3) {
            return this.top += e3, this.right += t3, this.left += t3, this.bottom += e3, this;
          }
          getIntersection(t3) {
            const e3 = { top: Math.max(this.top, t3.top), right: Math.min(this.right, t3.right), bottom: Math.min(this.bottom, t3.bottom), left: Math.max(this.left, t3.left) };
            return e3.width = e3.right - e3.left, e3.height = e3.bottom - e3.top, e3.width < 0 || e3.height < 0 ? null : new Kr(e3);
          }
          getIntersectionArea(t3) {
            const e3 = this.getIntersection(t3);
            return e3 ? e3.getArea() : 0;
          }
          getArea() {
            return this.width * this.height;
          }
          getVisible() {
            const t3 = this._source;
            let e3 = this.clone();
            if (!ts(t3)) {
              let i3 = t3.parentNode || t3.commonAncestorContainer;
              for (; i3 && !ts(i3); ) {
                const t4 = new Kr(i3), n2 = e3.getIntersection(t4);
                if (!n2) return null;
                n2.getArea() < e3.getArea() && (e3 = n2), i3 = i3.parentNode;
              }
            }
            return e3;
          }
          isEqual(t3) {
            for (const e3 of Xr) if (this[e3] !== t3[e3]) return false;
            return true;
          }
          contains(t3) {
            const e3 = this.getIntersection(t3);
            return !(!e3 || !e3.isEqual(t3));
          }
          excludeScrollbarsAndBorders() {
            const t3 = this._source;
            let e3, i3, n2;
            if (ar(t3)) e3 = t3.innerWidth - t3.document.documentElement.clientWidth, i3 = t3.innerHeight - t3.document.documentElement.clientHeight, n2 = t3.getComputedStyle(t3.document.documentElement).direction;
            else {
              const o2 = Qr(this._source);
              e3 = t3.offsetWidth - t3.clientWidth - o2.left - o2.right, i3 = t3.offsetHeight - t3.clientHeight - o2.top - o2.bottom, n2 = t3.ownerDocument.defaultView.getComputedStyle(t3).direction, this.left += o2.left, this.top += o2.top, this.right -= o2.right, this.bottom -= o2.bottom, this.width = this.right - this.left, this.height = this.bottom - this.top;
            }
            return this.width -= e3, "ltr" === n2 ? this.right -= e3 : this.left += e3, this.height -= i3, this.bottom -= i3, this;
          }
          static getDomRangeRects(t3) {
            const e3 = [], i3 = Array.from(t3.getClientRects());
            if (i3.length) for (const t4 of i3) e3.push(new Kr(t4));
            else {
              let i4 = t3.startContainer;
              Ro(i4) && (i4 = i4.parentNode);
              const n2 = new Kr(i4.getBoundingClientRect());
              n2.right = n2.left, n2.width = 0, e3.push(n2);
            }
            return e3;
          }
        }
        function Zr(t3, e3) {
          for (const i3 of Xr) t3[i3] = e3[i3];
        }
        function ts(t3) {
          return !!ii(t3) && t3 === t3.ownerDocument.body;
        }
        function es({ target: t3, viewportOffset: e3 = 0 }) {
          const i3 = ls(t3);
          let n2 = i3, o2 = null;
          for (; n2; ) {
            let r2;
            r2 = cs(n2 == i3 ? t3 : o2), ns(r2, () => ds(t3, n2));
            const s4 = ds(t3, n2);
            if (is(n2, s4, e3), n2.parent != n2) {
              if (o2 = n2.frameElement, n2 = n2.parent, !o2) return;
            } else n2 = null;
          }
        }
        function is(t3, e3, i3) {
          const n2 = e3.clone().moveBy(0, i3), o2 = e3.clone().moveBy(0, -i3), r2 = new Kr(t3).excludeScrollbarsAndBorders();
          if (![o2, n2].every((t4) => r2.contains(t4))) {
            let { scrollX: s4, scrollY: a4 } = t3;
            rs(o2, r2) ? a4 -= r2.top - e3.top + i3 : os(n2, r2) && (a4 += e3.bottom - r2.bottom + i3), ss(e3, r2) ? s4 -= r2.left - e3.left + i3 : as(e3, r2) && (s4 += e3.right - r2.right + i3), t3.scrollTo(s4, a4);
          }
        }
        function ns(t3, e3) {
          const i3 = ls(t3);
          let n2, o2;
          for (; t3 != i3.document.body; ) o2 = e3(), n2 = new Kr(t3).excludeScrollbarsAndBorders(), n2.contains(o2) || (rs(o2, n2) ? t3.scrollTop -= n2.top - o2.top : os(o2, n2) && (t3.scrollTop += o2.bottom - n2.bottom), ss(o2, n2) ? t3.scrollLeft -= n2.left - o2.left : as(o2, n2) && (t3.scrollLeft += o2.right - n2.right)), t3 = t3.parentNode;
        }
        function os(t3, e3) {
          return t3.bottom > e3.bottom;
        }
        function rs(t3, e3) {
          return t3.top < e3.top;
        }
        function ss(t3, e3) {
          return t3.left < e3.left;
        }
        function as(t3, e3) {
          return t3.right > e3.right;
        }
        function ls(t3) {
          return Gr(t3) ? t3.startContainer.ownerDocument.defaultView : t3.ownerDocument.defaultView;
        }
        function cs(t3) {
          if (Gr(t3)) {
            let e3 = t3.commonAncestorContainer;
            return Ro(e3) && (e3 = e3.parentNode), e3;
          }
          return t3.parentNode;
        }
        function ds(t3, e3) {
          const i3 = ls(t3), n2 = new Kr(t3);
          if (i3 === e3) return n2;
          {
            let t4 = i3;
            for (; t4 != e3; ) {
              const e4 = t4.frameElement, i4 = new Kr(e4).excludeScrollbarsAndBorders();
              n2.moveBy(i4.left, i4.top), t4 = t4.parent;
            }
          }
          return n2;
        }
        Object.assign({}, { scrollViewportToShowTarget: es, scrollAncestorsToShowTarget: function(t3) {
          ns(cs(t3), () => new Kr(t3));
        } });
        class hs {
          constructor(t3) {
            this.document = new oo(t3), this.domConverter = new nr(this.document), this.domRoots = /* @__PURE__ */ new Map(), this.set("isRenderingInProgress", false), this.set("hasDomSelection", false), this._renderer = new Go(this.domConverter, this.document.selection), this._renderer.bind("isFocused").to(this.document), this._initialDomRootAttributes = /* @__PURE__ */ new WeakMap(), this._observers = /* @__PURE__ */ new Map(), this._ongoingChange = false, this._postFixersInProgress = false, this._renderingDisabled = false, this._hasChangedSinceTheLastRendering = false, this._writer = new Ao(this.document), this.addObserver(Sr), this.addObserver(qr), this.addObserver(Yr), this.addObserver(Nr), this.addObserver(Wr), this.addObserver($r), uo.isAndroid && this.addObserver(Jr), this.document.on("keydown", Fo), vo(this), this.on("render", () => {
              this._render(), this.document.fire("layoutChanged"), this._hasChangedSinceTheLastRendering = false;
            }), this.listenTo(this.document.selection, "change", () => {
              this._hasChangedSinceTheLastRendering = true;
            });
          }
          attachDomRoot(t3, e3 = "main") {
            const i3 = this.document.getRoot(e3);
            i3._name = t3.tagName.toLowerCase();
            const n2 = {};
            for (const { name: e4, value: o3 } of Array.from(t3.attributes)) n2[e4] = o3, "class" === e4 ? this._writer.addClass(o3.split(" "), i3) : this._writer.setAttribute(e4, o3, i3);
            this._initialDomRootAttributes.set(t3, n2);
            const o2 = () => {
              this._writer.setAttribute("contenteditable", !i3.isReadOnly, i3), i3.isReadOnly ? this._writer.addClass("ck-read-only", i3) : this._writer.removeClass("ck-read-only", i3);
            };
            o2(), this.domRoots.set(e3, t3), this.domConverter.bindElements(t3, i3), this._renderer.markToSync("children", i3), this._renderer.markToSync("attributes", i3), this._renderer.domDocuments.add(t3.ownerDocument), i3.on("change:children", (t4, e4) => this._renderer.markToSync("children", e4)), i3.on("change:attributes", (t4, e4) => this._renderer.markToSync("attributes", e4)), i3.on("change:text", (t4, e4) => this._renderer.markToSync("text", e4)), i3.on("change:isReadOnly", () => this.change(o2)), i3.on("change", () => {
              this._hasChangedSinceTheLastRendering = true;
            });
            for (const i4 of this._observers.values()) i4.observe(t3, e3);
          }
          detachDomRoot(t3) {
            const e3 = this.domRoots.get(t3);
            Array.from(e3.attributes).forEach(({ name: t4 }) => e3.removeAttribute(t4));
            const i3 = this._initialDomRootAttributes.get(e3);
            for (const t4 in i3) e3.setAttribute(t4, i3[t4]);
            this.domRoots.delete(t3), this.domConverter.unbindDomElement(e3);
          }
          getDomRoot(t3 = "main") {
            return this.domRoots.get(t3);
          }
          addObserver(t3) {
            let e3 = this._observers.get(t3);
            if (e3) return e3;
            e3 = new t3(this), this._observers.set(t3, e3);
            for (const [t4, i3] of this.domRoots) e3.observe(i3, t4);
            return e3.enable(), e3;
          }
          getObserver(t3) {
            return this._observers.get(t3);
          }
          disableObservers() {
            for (const t3 of this._observers.values()) t3.disable();
          }
          enableObservers() {
            for (const t3 of this._observers.values()) t3.enable();
          }
          scrollToTheSelection() {
            const t3 = this.document.selection.getFirstRange();
            t3 && es({ target: this.domConverter.viewRangeToDom(t3), viewportOffset: 20 });
          }
          focus() {
            if (!this.document.isFocused) {
              const t3 = this.document.selection.editableElement;
              t3 && (this.domConverter.focus(t3), this.forceRender());
            }
          }
          change(t3) {
            if (this.isRenderingInProgress || this._postFixersInProgress) throw new hi.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.", this);
            try {
              if (this._ongoingChange) return t3(this._writer);
              this._ongoingChange = true;
              const e3 = t3(this._writer);
              return this._ongoingChange = false, !this._renderingDisabled && this._hasChangedSinceTheLastRendering && (this._postFixersInProgress = true, this.document._callPostFixers(this._writer), this._postFixersInProgress = false, this.fire("render")), e3;
            } catch (t4) {
              hi.b.rethrowUnexpectedError(t4, this);
            }
          }
          forceRender() {
            this._hasChangedSinceTheLastRendering = true, this.change(() => {
            });
          }
          destroy() {
            for (const t3 of this._observers.values()) t3.destroy();
            this.document.destroy(), this.stopListening();
          }
          createPositionAt(t3, e3) {
            return Kn._createAt(t3, e3);
          }
          createPositionAfter(t3) {
            return Kn._createAfter(t3);
          }
          createPositionBefore(t3) {
            return Kn._createBefore(t3);
          }
          createRange(t3, e3) {
            return new Zn(t3, e3);
          }
          createRangeOn(t3) {
            return Zn._createOn(t3);
          }
          createRangeIn(t3) {
            return Zn._createIn(t3);
          }
          createSelection(t3, e3, i3) {
            return new io(t3, e3, i3);
          }
          _disableRendering(t3) {
            this._renderingDisabled = t3, 0 == t3 && this.change(() => {
            });
          }
          _render() {
            this.isRenderingInProgress = true, this.disableObservers(), this._renderer.render(), this.enableObservers(), this.isRenderingInProgress = false;
          }
        }
        yi(hs, Hn);
        class us {
          constructor(t3) {
            this.parent = null, this._attrs = Li(t3);
          }
          get index() {
            let t3;
            if (!this.parent) return null;
            if (null === (t3 = this.parent.getChildIndex(this))) throw new hi.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this);
            return t3;
          }
          get startOffset() {
            let t3;
            if (!this.parent) return null;
            if (null === (t3 = this.parent.getChildStartOffset(this))) throw new hi.b("model-node-not-found-in-parent: The node's parent does not contain this node.", this);
            return t3;
          }
          get offsetSize() {
            return 1;
          }
          get endOffset() {
            return this.parent ? this.startOffset + this.offsetSize : null;
          }
          get nextSibling() {
            const t3 = this.index;
            return null !== t3 && this.parent.getChild(t3 + 1) || null;
          }
          get previousSibling() {
            const t3 = this.index;
            return null !== t3 && this.parent.getChild(t3 - 1) || null;
          }
          get root() {
            let t3 = this;
            for (; t3.parent; ) t3 = t3.parent;
            return t3;
          }
          isAttached() {
            return this.root.is("rootElement");
          }
          getPath() {
            const t3 = [];
            let e3 = this;
            for (; e3.parent; ) t3.unshift(e3.startOffset), e3 = e3.parent;
            return t3;
          }
          getAncestors(t3 = { includeSelf: false, parentFirst: false }) {
            const e3 = [];
            let i3 = t3.includeSelf ? this : this.parent;
            for (; i3; ) e3[t3.parentFirst ? "push" : "unshift"](i3), i3 = i3.parent;
            return e3;
          }
          getCommonAncestor(t3, e3 = {}) {
            const i3 = this.getAncestors(e3), n2 = t3.getAncestors(e3);
            let o2 = 0;
            for (; i3[o2] == n2[o2] && i3[o2]; ) o2++;
            return 0 === o2 ? null : i3[o2 - 1];
          }
          isBefore(t3) {
            if (this == t3) return false;
            if (this.root !== t3.root) return false;
            const e3 = this.getPath(), i3 = t3.getPath(), n2 = Si(e3, i3);
            switch (n2) {
              case "prefix":
                return true;
              case "extension":
                return false;
              default:
                return e3[n2] < i3[n2];
            }
          }
          isAfter(t3) {
            return this != t3 && (this.root === t3.root && !this.isBefore(t3));
          }
          hasAttribute(t3) {
            return this._attrs.has(t3);
          }
          getAttribute(t3) {
            return this._attrs.get(t3);
          }
          getAttributes() {
            return this._attrs.entries();
          }
          getAttributeKeys() {
            return this._attrs.keys();
          }
          toJSON() {
            const t3 = {};
            return this._attrs.size && (t3.attributes = Array.from(this._attrs).reduce((t4, e3) => (t4[e3[0]] = e3[1], t4), {})), t3;
          }
          is(t3) {
            return "node" === t3 || "model:node" === t3;
          }
          _clone() {
            return new us(this._attrs);
          }
          _remove() {
            this.parent._removeChildren(this.index);
          }
          _setAttribute(t3, e3) {
            this._attrs.set(t3, e3);
          }
          _setAttributesTo(t3) {
            this._attrs = Li(t3);
          }
          _removeAttribute(t3) {
            return this._attrs.delete(t3);
          }
          _clearAttributes() {
            this._attrs.clear();
          }
        }
        class ms extends us {
          constructor(t3, e3) {
            super(e3), this._data = t3 || "";
          }
          get offsetSize() {
            return this.data.length;
          }
          get data() {
            return this._data;
          }
          is(t3) {
            return "text" === t3 || "model:text" === t3 || "node" === t3 || "model:node" === t3;
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.data = this.data, t3;
          }
          _clone() {
            return new ms(this.data, this.getAttributes());
          }
          static fromJSON(t3) {
            return new ms(t3.data, t3.attributes);
          }
        }
        class gs {
          constructor(t3, e3, i3) {
            if (this.textNode = t3, e3 < 0 || e3 > t3.offsetSize) throw new hi.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.", this);
            if (i3 < 0 || e3 + i3 > t3.offsetSize) throw new hi.b("model-textproxy-wrong-length: Given length value is incorrect.", this);
            this.data = t3.data.substring(e3, e3 + i3), this.offsetInText = e3;
          }
          get startOffset() {
            return null !== this.textNode.startOffset ? this.textNode.startOffset + this.offsetInText : null;
          }
          get offsetSize() {
            return this.data.length;
          }
          get endOffset() {
            return null !== this.startOffset ? this.startOffset + this.offsetSize : null;
          }
          get isPartial() {
            return this.offsetSize !== this.textNode.offsetSize;
          }
          get parent() {
            return this.textNode.parent;
          }
          get root() {
            return this.textNode.root;
          }
          is(t3) {
            return "textProxy" === t3 || "model:textProxy" === t3;
          }
          getPath() {
            const t3 = this.textNode.getPath();
            return t3.length > 0 && (t3[t3.length - 1] += this.offsetInText), t3;
          }
          getAncestors(t3 = { includeSelf: false, parentFirst: false }) {
            const e3 = [];
            let i3 = t3.includeSelf ? this : this.parent;
            for (; i3; ) e3[t3.parentFirst ? "push" : "unshift"](i3), i3 = i3.parent;
            return e3;
          }
          hasAttribute(t3) {
            return this.textNode.hasAttribute(t3);
          }
          getAttribute(t3) {
            return this.textNode.getAttribute(t3);
          }
          getAttributes() {
            return this.textNode.getAttributes();
          }
          getAttributeKeys() {
            return this.textNode.getAttributeKeys();
          }
        }
        class fs {
          constructor(t3) {
            this._nodes = [], t3 && this._insertNodes(0, t3);
          }
          [Symbol.iterator]() {
            return this._nodes[Symbol.iterator]();
          }
          get length() {
            return this._nodes.length;
          }
          get maxOffset() {
            return this._nodes.reduce((t3, e3) => t3 + e3.offsetSize, 0);
          }
          getNode(t3) {
            return this._nodes[t3] || null;
          }
          getNodeIndex(t3) {
            const e3 = this._nodes.indexOf(t3);
            return -1 == e3 ? null : e3;
          }
          getNodeStartOffset(t3) {
            const e3 = this.getNodeIndex(t3);
            return null === e3 ? null : this._nodes.slice(0, e3).reduce((t4, e4) => t4 + e4.offsetSize, 0);
          }
          indexToOffset(t3) {
            if (t3 == this._nodes.length) return this.maxOffset;
            const e3 = this._nodes[t3];
            if (!e3) throw new hi.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.", this);
            return this.getNodeStartOffset(e3);
          }
          offsetToIndex(t3) {
            let e3 = 0;
            for (const i3 of this._nodes) {
              if (t3 >= e3 && t3 < e3 + i3.offsetSize) return this.getNodeIndex(i3);
              e3 += i3.offsetSize;
            }
            if (e3 != t3) throw new hi.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.", this, { offset: t3, nodeList: this });
            return this.length;
          }
          _insertNodes(t3, e3) {
            for (const t4 of e3) if (!(t4 instanceof us)) throw new hi.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.", this);
            this._nodes.splice(t3, 0, ...e3);
          }
          _removeNodes(t3, e3 = 1) {
            return this._nodes.splice(t3, e3);
          }
          toJSON() {
            return this._nodes.map((t3) => t3.toJSON());
          }
        }
        class ps extends us {
          constructor(t3, e3, i3) {
            super(e3), this.name = t3, this._children = new fs(), i3 && this._insertChild(0, i3);
          }
          get childCount() {
            return this._children.length;
          }
          get maxOffset() {
            return this._children.maxOffset;
          }
          get isEmpty() {
            return 0 === this.childCount;
          }
          is(t3, e3 = null) {
            return e3 ? e3 === this.name && ("element" === t3 || "model:element" === t3) : "element" === t3 || "model:element" === t3 || t3 === this.name || t3 === "model:" + this.name || "node" === t3 || "model:node" === t3;
          }
          getChild(t3) {
            return this._children.getNode(t3);
          }
          getChildren() {
            return this._children[Symbol.iterator]();
          }
          getChildIndex(t3) {
            return this._children.getNodeIndex(t3);
          }
          getChildStartOffset(t3) {
            return this._children.getNodeStartOffset(t3);
          }
          offsetToIndex(t3) {
            return this._children.offsetToIndex(t3);
          }
          getNodeByPath(t3) {
            let e3 = this;
            for (const i3 of t3) e3 = e3.getChild(e3.offsetToIndex(i3));
            return e3;
          }
          toJSON() {
            const t3 = super.toJSON();
            if (t3.name = this.name, this._children.length > 0) {
              t3.children = [];
              for (const e3 of this._children) t3.children.push(e3.toJSON());
            }
            return t3;
          }
          _clone(t3 = false) {
            const e3 = t3 ? Array.from(this._children).map((t4) => t4._clone(true)) : null;
            return new ps(this.name, this.getAttributes(), e3);
          }
          _appendChild(t3) {
            this._insertChild(this.childCount, t3);
          }
          _insertChild(t3, e3) {
            const i3 = function(t4) {
              if ("string" == typeof t4) return [new ms(t4)];
              vi(t4) || (t4 = [t4]);
              return Array.from(t4).map((t5) => "string" == typeof t5 ? new ms(t5) : t5 instanceof gs ? new ms(t5.data, t5.getAttributes()) : t5);
            }(e3);
            for (const t4 of i3) null !== t4.parent && t4._remove(), t4.parent = this;
            this._children._insertNodes(t3, i3);
          }
          _removeChildren(t3, e3 = 1) {
            const i3 = this._children._removeNodes(t3, e3);
            for (const t4 of i3) t4.parent = null;
            return i3;
          }
          static fromJSON(t3) {
            let e3 = null;
            if (t3.children) {
              e3 = [];
              for (const i3 of t3.children) i3.name ? e3.push(ps.fromJSON(i3)) : e3.push(ms.fromJSON(i3));
            }
            return new ps(t3.name, t3.attributes, e3);
          }
        }
        class bs {
          constructor(t3 = {}) {
            if (!t3.boundaries && !t3.startPosition) throw new hi.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.", null);
            const e3 = t3.direction || "forward";
            if ("forward" != e3 && "backward" != e3) throw new hi.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.", t3, { direction: e3 });
            this.direction = e3, this.boundaries = t3.boundaries || null, t3.startPosition ? this.position = t3.startPosition.clone() : this.position = _s._createAt(this.boundaries["backward" == this.direction ? "end" : "start"]), this.position.stickiness = "toNone", this.singleCharacters = !!t3.singleCharacters, this.shallow = !!t3.shallow, this.ignoreElementEnd = !!t3.ignoreElementEnd, this._boundaryStartParent = this.boundaries ? this.boundaries.start.parent : null, this._boundaryEndParent = this.boundaries ? this.boundaries.end.parent : null, this._visitedParent = this.position.parent;
          }
          [Symbol.iterator]() {
            return this;
          }
          skip(t3) {
            let e3, i3, n2, o2;
            do {
              n2 = this.position, o2 = this._visitedParent, { done: e3, value: i3 } = this.next();
            } while (!e3 && t3(i3));
            e3 || (this.position = n2, this._visitedParent = o2);
          }
          next() {
            return "forward" == this.direction ? this._next() : this._previous();
          }
          _next() {
            const t3 = this.position, e3 = this.position.clone(), i3 = this._visitedParent;
            if (null === i3.parent && e3.offset === i3.maxOffset) return { done: true };
            if (i3 === this._boundaryEndParent && e3.offset == this.boundaries.end.offset) return { done: true };
            const n2 = e3.parent, o2 = ks(e3, n2), r2 = o2 || vs(e3, n2, o2);
            if (r2 instanceof ps) return this.shallow ? e3.offset++ : (e3.path.push(0), this._visitedParent = r2), this.position = e3, ws("elementStart", r2, t3, e3, 1);
            if (r2 instanceof ms) {
              let n3;
              if (this.singleCharacters) n3 = 1;
              else {
                let t4 = r2.endOffset;
                this._boundaryEndParent == i3 && this.boundaries.end.offset < t4 && (t4 = this.boundaries.end.offset), n3 = t4 - e3.offset;
              }
              const o3 = e3.offset - r2.startOffset, s4 = new gs(r2, o3, n3);
              return e3.offset += n3, this.position = e3, ws("text", s4, t3, e3, n3);
            }
            return e3.path.pop(), e3.offset++, this.position = e3, this._visitedParent = i3.parent, this.ignoreElementEnd ? this._next() : ws("elementEnd", i3, t3, e3);
          }
          _previous() {
            const t3 = this.position, e3 = this.position.clone(), i3 = this._visitedParent;
            if (null === i3.parent && 0 === e3.offset) return { done: true };
            if (i3 == this._boundaryStartParent && e3.offset == this.boundaries.start.offset) return { done: true };
            const n2 = e3.parent, o2 = ks(e3, n2), r2 = o2 || ys(e3, n2, o2);
            if (r2 instanceof ps) return e3.offset--, this.shallow ? (this.position = e3, ws("elementStart", r2, t3, e3, 1)) : (e3.path.push(r2.maxOffset), this.position = e3, this._visitedParent = r2, this.ignoreElementEnd ? this._previous() : ws("elementEnd", r2, t3, e3));
            if (r2 instanceof ms) {
              let n3;
              if (this.singleCharacters) n3 = 1;
              else {
                let t4 = r2.startOffset;
                this._boundaryStartParent == i3 && this.boundaries.start.offset > t4 && (t4 = this.boundaries.start.offset), n3 = e3.offset - t4;
              }
              const o3 = e3.offset - r2.startOffset, s4 = new gs(r2, o3 - n3, n3);
              return e3.offset -= n3, this.position = e3, ws("text", s4, t3, e3, n3);
            }
            return e3.path.pop(), this.position = e3, this._visitedParent = i3.parent, ws("elementStart", i3, t3, e3, 1);
          }
        }
        function ws(t3, e3, i3, n2, o2) {
          return { done: false, value: { type: t3, item: e3, previousPosition: i3, nextPosition: n2, length: o2 } };
        }
        class _s {
          constructor(t3, e3, i3 = "toNone") {
            if (!t3.is("element") && !t3.is("documentFragment")) throw new hi.b("model-position-root-invalid: Position root invalid.", t3);
            if (!(e3 instanceof Array) || 0 === e3.length) throw new hi.b("model-position-path-incorrect-format: Position path must be an array with at least one item.", t3, { path: e3 });
            t3.is("rootElement") ? e3 = e3.slice() : (e3 = [...t3.getPath(), ...e3], t3 = t3.root), this.root = t3, this.path = e3, this.stickiness = i3;
          }
          get offset() {
            return this.path[this.path.length - 1];
          }
          set offset(t3) {
            this.path[this.path.length - 1] = t3;
          }
          get parent() {
            let t3 = this.root;
            for (let e3 = 0; e3 < this.path.length - 1; e3++) if (t3 = t3.getChild(t3.offsetToIndex(this.path[e3])), !t3) throw new hi.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this });
            if (t3.is("text")) throw new hi.b("model-position-path-incorrect: The position's path is incorrect.", this, { position: this });
            return t3;
          }
          get index() {
            return this.parent.offsetToIndex(this.offset);
          }
          get textNode() {
            return ks(this, this.parent);
          }
          get nodeAfter() {
            const t3 = this.parent;
            return vs(this, t3, ks(this, t3));
          }
          get nodeBefore() {
            const t3 = this.parent;
            return ys(this, t3, ks(this, t3));
          }
          get isAtStart() {
            return 0 === this.offset;
          }
          get isAtEnd() {
            return this.offset == this.parent.maxOffset;
          }
          compareWith(t3) {
            if (this.root != t3.root) return "different";
            const e3 = Si(this.path, t3.path);
            switch (e3) {
              case "same":
                return "same";
              case "prefix":
                return "before";
              case "extension":
                return "after";
              default:
                return this.path[e3] < t3.path[e3] ? "before" : "after";
            }
          }
          getLastMatchingPosition(t3, e3 = {}) {
            e3.startPosition = this;
            const i3 = new bs(e3);
            return i3.skip(t3), i3.position;
          }
          getParentPath() {
            return this.path.slice(0, -1);
          }
          getAncestors() {
            const t3 = this.parent;
            return t3.is("documentFragment") ? [t3] : t3.getAncestors({ includeSelf: true });
          }
          getCommonPath(t3) {
            if (this.root != t3.root) return [];
            const e3 = Si(this.path, t3.path), i3 = "string" == typeof e3 ? Math.min(this.path.length, t3.path.length) : e3;
            return this.path.slice(0, i3);
          }
          getCommonAncestor(t3) {
            const e3 = this.getAncestors(), i3 = t3.getAncestors();
            let n2 = 0;
            for (; e3[n2] == i3[n2] && e3[n2]; ) n2++;
            return 0 === n2 ? null : e3[n2 - 1];
          }
          getShiftedBy(t3) {
            const e3 = this.clone(), i3 = e3.offset + t3;
            return e3.offset = i3 < 0 ? 0 : i3, e3;
          }
          isAfter(t3) {
            return "after" == this.compareWith(t3);
          }
          isBefore(t3) {
            return "before" == this.compareWith(t3);
          }
          isEqual(t3) {
            return "same" == this.compareWith(t3);
          }
          isTouching(t3) {
            let e3 = null, i3 = null;
            switch (this.compareWith(t3)) {
              case "same":
                return true;
              case "before":
                e3 = _s._createAt(this), i3 = _s._createAt(t3);
                break;
              case "after":
                e3 = _s._createAt(t3), i3 = _s._createAt(this);
                break;
              default:
                return false;
            }
            let n2 = e3.parent;
            for (; e3.path.length + i3.path.length; ) {
              if (e3.isEqual(i3)) return true;
              if (e3.path.length > i3.path.length) {
                if (e3.offset !== n2.maxOffset) return false;
                e3.path = e3.path.slice(0, -1), n2 = n2.parent, e3.offset++;
              } else {
                if (0 !== i3.offset) return false;
                i3.path = i3.path.slice(0, -1);
              }
            }
          }
          is(t3) {
            return "position" === t3 || "model:position" === t3;
          }
          hasSameParentAs(t3) {
            if (this.root !== t3.root) return false;
            return "same" == Si(this.getParentPath(), t3.getParentPath());
          }
          getTransformedByOperation(t3) {
            let e3;
            switch (t3.type) {
              case "insert":
                e3 = this._getTransformedByInsertOperation(t3);
                break;
              case "move":
              case "remove":
              case "reinsert":
                e3 = this._getTransformedByMoveOperation(t3);
                break;
              case "split":
                e3 = this._getTransformedBySplitOperation(t3);
                break;
              case "merge":
                e3 = this._getTransformedByMergeOperation(t3);
                break;
              default:
                e3 = _s._createAt(this);
            }
            return e3;
          }
          _getTransformedByInsertOperation(t3) {
            return this._getTransformedByInsertion(t3.position, t3.howMany);
          }
          _getTransformedByMoveOperation(t3) {
            return this._getTransformedByMove(t3.sourcePosition, t3.targetPosition, t3.howMany);
          }
          _getTransformedBySplitOperation(t3) {
            const e3 = t3.movedRange;
            return e3.containsPosition(this) || e3.start.isEqual(this) && "toNext" == this.stickiness ? this._getCombined(t3.splitPosition, t3.moveTargetPosition) : t3.graveyardPosition ? this._getTransformedByMove(t3.graveyardPosition, t3.insertionPosition, 1) : this._getTransformedByInsertion(t3.insertionPosition, 1);
          }
          _getTransformedByMergeOperation(t3) {
            const e3 = t3.movedRange;
            let i3;
            return e3.containsPosition(this) || e3.start.isEqual(this) ? (i3 = this._getCombined(t3.sourcePosition, t3.targetPosition), t3.sourcePosition.isBefore(t3.targetPosition) && (i3 = i3._getTransformedByDeletion(t3.deletionPosition, 1))) : i3 = this.isEqual(t3.deletionPosition) ? _s._createAt(t3.deletionPosition) : this._getTransformedByMove(t3.deletionPosition, t3.graveyardPosition, 1), i3;
          }
          _getTransformedByDeletion(t3, e3) {
            const i3 = _s._createAt(this);
            if (this.root != t3.root) return i3;
            if ("same" == Si(t3.getParentPath(), this.getParentPath())) {
              if (t3.offset < this.offset) {
                if (t3.offset + e3 > this.offset) return null;
                i3.offset -= e3;
              }
            } else if ("prefix" == Si(t3.getParentPath(), this.getParentPath())) {
              const n2 = t3.path.length - 1;
              if (t3.offset <= this.path[n2]) {
                if (t3.offset + e3 > this.path[n2]) return null;
                i3.path[n2] -= e3;
              }
            }
            return i3;
          }
          _getTransformedByInsertion(t3, e3) {
            const i3 = _s._createAt(this);
            if (this.root != t3.root) return i3;
            if ("same" == Si(t3.getParentPath(), this.getParentPath())) (t3.offset < this.offset || t3.offset == this.offset && "toPrevious" != this.stickiness) && (i3.offset += e3);
            else if ("prefix" == Si(t3.getParentPath(), this.getParentPath())) {
              const n2 = t3.path.length - 1;
              t3.offset <= this.path[n2] && (i3.path[n2] += e3);
            }
            return i3;
          }
          _getTransformedByMove(t3, e3, i3) {
            if (e3 = e3._getTransformedByDeletion(t3, i3), t3.isEqual(e3)) return _s._createAt(this);
            const n2 = this._getTransformedByDeletion(t3, i3);
            return null === n2 || t3.isEqual(this) && "toNext" == this.stickiness || t3.getShiftedBy(i3).isEqual(this) && "toPrevious" == this.stickiness ? this._getCombined(t3, e3) : n2._getTransformedByInsertion(e3, i3);
          }
          _getCombined(t3, e3) {
            const i3 = t3.path.length - 1, n2 = _s._createAt(e3);
            return n2.stickiness = this.stickiness, n2.offset = n2.offset + this.path[i3] - t3.offset, n2.path = [...n2.path, ...this.path.slice(i3 + 1)], n2;
          }
          toJSON() {
            return { root: this.root.toJSON(), path: Array.from(this.path), stickiness: this.stickiness };
          }
          clone() {
            return new this.constructor(this.root, this.path, this.stickiness);
          }
          static _createAt(t3, e3, i3 = "toNone") {
            if (t3 instanceof _s) return new _s(t3.root, t3.path, t3.stickiness);
            {
              const n2 = t3;
              if ("end" == e3) e3 = n2.maxOffset;
              else {
                if ("before" == e3) return this._createBefore(n2, i3);
                if ("after" == e3) return this._createAfter(n2, i3);
                if (0 !== e3 && !e3) throw new hi.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.", [this, t3]);
              }
              if (!n2.is("element") && !n2.is("documentFragment")) throw new hi.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.", [this, t3]);
              const o2 = n2.getPath();
              return o2.push(e3), new this(n2.root, o2, i3);
            }
          }
          static _createAfter(t3, e3) {
            if (!t3.parent) throw new hi.b("model-position-after-root: You cannot make a position after root.", [this, t3], { root: t3 });
            return this._createAt(t3.parent, t3.endOffset, e3);
          }
          static _createBefore(t3, e3) {
            if (!t3.parent) throw new hi.b("model-position-before-root: You cannot make a position before root.", t3, { root: t3 });
            return this._createAt(t3.parent, t3.startOffset, e3);
          }
          static fromJSON(t3, e3) {
            if ("$graveyard" === t3.root) {
              const i3 = new _s(e3.graveyard, t3.path);
              return i3.stickiness = t3.stickiness, i3;
            }
            if (!e3.getRoot(t3.root)) throw new hi.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.", e3, { rootName: t3.root });
            return new _s(e3.getRoot(t3.root), t3.path, t3.stickiness);
          }
        }
        function ks(t3, e3) {
          const i3 = e3.getChild(e3.offsetToIndex(t3.offset));
          return i3 && i3.is("text") && i3.startOffset < t3.offset ? i3 : null;
        }
        function vs(t3, e3, i3) {
          return null !== i3 ? null : e3.getChild(e3.offsetToIndex(t3.offset));
        }
        function ys(t3, e3, i3) {
          return null !== i3 ? null : e3.getChild(e3.offsetToIndex(t3.offset) - 1);
        }
        class xs {
          constructor(t3, e3 = null) {
            this.start = _s._createAt(t3), this.end = e3 ? _s._createAt(e3) : _s._createAt(t3), this.start.stickiness = this.isCollapsed ? "toNone" : "toNext", this.end.stickiness = this.isCollapsed ? "toNone" : "toPrevious";
          }
          *[Symbol.iterator]() {
            yield* new bs({ boundaries: this, ignoreElementEnd: true });
          }
          get isCollapsed() {
            return this.start.isEqual(this.end);
          }
          get isFlat() {
            return "same" == Si(this.start.getParentPath(), this.end.getParentPath());
          }
          get root() {
            return this.start.root;
          }
          containsPosition(t3) {
            return t3.isAfter(this.start) && t3.isBefore(this.end);
          }
          containsRange(t3, e3 = false) {
            t3.isCollapsed && (e3 = false);
            const i3 = this.containsPosition(t3.start) || e3 && this.start.isEqual(t3.start), n2 = this.containsPosition(t3.end) || e3 && this.end.isEqual(t3.end);
            return i3 && n2;
          }
          containsItem(t3) {
            const e3 = _s._createBefore(t3);
            return this.containsPosition(e3) || this.start.isEqual(e3);
          }
          is(t3) {
            return "range" === t3 || "model:range" === t3;
          }
          isEqual(t3) {
            return this.start.isEqual(t3.start) && this.end.isEqual(t3.end);
          }
          isIntersecting(t3) {
            return this.start.isBefore(t3.end) && this.end.isAfter(t3.start);
          }
          getDifference(t3) {
            const e3 = [];
            return this.isIntersecting(t3) ? (this.containsPosition(t3.start) && e3.push(new xs(this.start, t3.start)), this.containsPosition(t3.end) && e3.push(new xs(t3.end, this.end))) : e3.push(new xs(this.start, this.end)), e3;
          }
          getIntersection(t3) {
            if (this.isIntersecting(t3)) {
              let e3 = this.start, i3 = this.end;
              return this.containsPosition(t3.start) && (e3 = t3.start), this.containsPosition(t3.end) && (i3 = t3.end), new xs(e3, i3);
            }
            return null;
          }
          getMinimalFlatRanges() {
            const t3 = [], e3 = this.start.getCommonPath(this.end).length, i3 = _s._createAt(this.start);
            let n2 = i3.parent;
            for (; i3.path.length > e3 + 1; ) {
              const e4 = n2.maxOffset - i3.offset;
              0 !== e4 && t3.push(new xs(i3, i3.getShiftedBy(e4))), i3.path = i3.path.slice(0, -1), i3.offset++, n2 = n2.parent;
            }
            for (; i3.path.length <= this.end.path.length; ) {
              const e4 = this.end.path[i3.path.length - 1], n3 = e4 - i3.offset;
              0 !== n3 && t3.push(new xs(i3, i3.getShiftedBy(n3))), i3.offset = e4, i3.path.push(0);
            }
            return t3;
          }
          getWalker(t3 = {}) {
            return t3.boundaries = this, new bs(t3);
          }
          *getItems(t3 = {}) {
            t3.boundaries = this, t3.ignoreElementEnd = true;
            const e3 = new bs(t3);
            for (const t4 of e3) yield t4.item;
          }
          *getPositions(t3 = {}) {
            t3.boundaries = this;
            const e3 = new bs(t3);
            yield e3.position;
            for (const t4 of e3) yield t4.nextPosition;
          }
          getTransformedByOperation(t3) {
            switch (t3.type) {
              case "insert":
                return this._getTransformedByInsertOperation(t3);
              case "move":
              case "remove":
              case "reinsert":
                return this._getTransformedByMoveOperation(t3);
              case "split":
                return [this._getTransformedBySplitOperation(t3)];
              case "merge":
                return [this._getTransformedByMergeOperation(t3)];
            }
            return [new xs(this.start, this.end)];
          }
          getTransformedByOperations(t3) {
            const e3 = [new xs(this.start, this.end)];
            for (const i3 of t3) for (let t4 = 0; t4 < e3.length; t4++) {
              const n2 = e3[t4].getTransformedByOperation(i3);
              e3.splice(t4, 1, ...n2), t4 += n2.length - 1;
            }
            for (let t4 = 0; t4 < e3.length; t4++) {
              const i3 = e3[t4];
              for (let n2 = t4 + 1; n2 < e3.length; n2++) {
                const t5 = e3[n2];
                (i3.containsRange(t5) || t5.containsRange(i3) || i3.isEqual(t5)) && e3.splice(n2, 1);
              }
            }
            return e3;
          }
          getCommonAncestor() {
            return this.start.getCommonAncestor(this.end);
          }
          getContainedElement() {
            if (this.isCollapsed) return null;
            const t3 = this.start.nodeAfter, e3 = this.end.nodeBefore;
            return t3 && t3.is("element") && t3 === e3 ? t3 : null;
          }
          toJSON() {
            return { start: this.start.toJSON(), end: this.end.toJSON() };
          }
          clone() {
            return new this.constructor(this.start, this.end);
          }
          _getTransformedByInsertOperation(t3, e3 = false) {
            return this._getTransformedByInsertion(t3.position, t3.howMany, e3);
          }
          _getTransformedByMoveOperation(t3, e3 = false) {
            const i3 = t3.sourcePosition, n2 = t3.howMany, o2 = t3.targetPosition;
            return this._getTransformedByMove(i3, o2, n2, e3);
          }
          _getTransformedBySplitOperation(t3) {
            const e3 = this.start._getTransformedBySplitOperation(t3);
            let i3 = this.end._getTransformedBySplitOperation(t3);
            return this.end.isEqual(t3.insertionPosition) && (i3 = this.end.getShiftedBy(1)), e3.root != i3.root && (i3 = this.end.getShiftedBy(-1)), new xs(e3, i3);
          }
          _getTransformedByMergeOperation(t3) {
            if (this.start.isEqual(t3.targetPosition) && this.end.isEqual(t3.deletionPosition)) return new xs(this.start);
            let e3 = this.start._getTransformedByMergeOperation(t3), i3 = this.end._getTransformedByMergeOperation(t3);
            return e3.root != i3.root && (i3 = this.end.getShiftedBy(-1)), e3.isAfter(i3) ? (t3.sourcePosition.isBefore(t3.targetPosition) ? (e3 = _s._createAt(i3), e3.offset = 0) : (t3.deletionPosition.isEqual(e3) || (i3 = t3.deletionPosition), e3 = t3.targetPosition), new xs(e3, i3)) : new xs(e3, i3);
          }
          _getTransformedByInsertion(t3, e3, i3 = false) {
            if (i3 && this.containsPosition(t3)) return [new xs(this.start, t3), new xs(t3.getShiftedBy(e3), this.end._getTransformedByInsertion(t3, e3))];
            {
              const i4 = new xs(this.start, this.end);
              return i4.start = i4.start._getTransformedByInsertion(t3, e3), i4.end = i4.end._getTransformedByInsertion(t3, e3), [i4];
            }
          }
          _getTransformedByMove(t3, e3, i3, n2 = false) {
            if (this.isCollapsed) {
              const n3 = this.start._getTransformedByMove(t3, e3, i3);
              return [new xs(n3)];
            }
            const o2 = xs._createFromPositionAndShift(t3, i3), r2 = e3._getTransformedByDeletion(t3, i3);
            if (this.containsPosition(e3) && !n2 && (o2.containsPosition(this.start) || o2.containsPosition(this.end))) {
              const n3 = this.start._getTransformedByMove(t3, e3, i3), o3 = this.end._getTransformedByMove(t3, e3, i3);
              return [new xs(n3, o3)];
            }
            let s4;
            const a4 = this.getDifference(o2);
            let l2 = null;
            const c3 = this.getIntersection(o2);
            if (1 == a4.length ? l2 = new xs(a4[0].start._getTransformedByDeletion(t3, i3), a4[0].end._getTransformedByDeletion(t3, i3)) : 2 == a4.length && (l2 = new xs(this.start, this.end._getTransformedByDeletion(t3, i3))), s4 = l2 ? l2._getTransformedByInsertion(r2, i3, null !== c3 || n2) : [], c3) {
              const t4 = new xs(c3.start._getCombined(o2.start, r2), c3.end._getCombined(o2.start, r2));
              2 == s4.length ? s4.splice(1, 0, t4) : s4.push(t4);
            }
            return s4;
          }
          _getTransformedByDeletion(t3, e3) {
            let i3 = this.start._getTransformedByDeletion(t3, e3), n2 = this.end._getTransformedByDeletion(t3, e3);
            return null == i3 && null == n2 ? null : (null == i3 && (i3 = t3), null == n2 && (n2 = t3), new xs(i3, n2));
          }
          static _createFromPositionAndShift(t3, e3) {
            const i3 = t3, n2 = t3.getShiftedBy(e3);
            return e3 > 0 ? new this(i3, n2) : new this(n2, i3);
          }
          static _createIn(t3) {
            return new this(_s._createAt(t3, 0), _s._createAt(t3, t3.maxOffset));
          }
          static _createOn(t3) {
            return this._createFromPositionAndShift(_s._createBefore(t3), t3.offsetSize);
          }
          static _createFromRanges(t3) {
            if (0 === t3.length) throw new hi.b("range-create-from-ranges-empty-array: At least one range has to be passed.", null);
            if (1 == t3.length) return t3[0].clone();
            const e3 = t3[0];
            t3.sort((t4, e4) => t4.start.isAfter(e4.start) ? 1 : -1);
            const i3 = t3.indexOf(e3), n2 = new this(e3.start, e3.end);
            if (i3 > 0) for (let e4 = i3 - 1; t3[e4].end.isEqual(n2.start); e4++) n2.start = _s._createAt(t3[e4].start);
            for (let e4 = i3 + 1; e4 < t3.length && t3[e4].start.isEqual(n2.end); e4++) n2.end = _s._createAt(t3[e4].end);
            return n2;
          }
          static fromJSON(t3, e3) {
            return new this(_s.fromJSON(t3.start, e3), _s.fromJSON(t3.end, e3));
          }
        }
        class As {
          constructor() {
            this._modelToViewMapping = /* @__PURE__ */ new WeakMap(), this._viewToModelMapping = /* @__PURE__ */ new WeakMap(), this._viewToModelLengthCallbacks = /* @__PURE__ */ new Map(), this._markerNameToElements = /* @__PURE__ */ new Map(), this._elementToMarkerNames = /* @__PURE__ */ new Map(), this._unboundMarkerNames = /* @__PURE__ */ new Set(), this.on("modelToViewPosition", (t3, e3) => {
              if (e3.viewPosition) return;
              const i3 = this._modelToViewMapping.get(e3.modelPosition.parent);
              e3.viewPosition = this._findPositionIn(i3, e3.modelPosition.offset);
            }, { priority: "low" }), this.on("viewToModelPosition", (t3, e3) => {
              if (e3.modelPosition) return;
              const i3 = this.findMappedViewAncestor(e3.viewPosition), n2 = this._viewToModelMapping.get(i3), o2 = this._toModelOffset(e3.viewPosition.parent, e3.viewPosition.offset, i3);
              e3.modelPosition = _s._createAt(n2, o2);
            }, { priority: "low" });
          }
          bindElements(t3, e3) {
            this._modelToViewMapping.set(t3, e3), this._viewToModelMapping.set(e3, t3);
          }
          unbindViewElement(t3) {
            const e3 = this.toModelElement(t3);
            if (this._viewToModelMapping.delete(t3), this._elementToMarkerNames.has(t3)) for (const e4 of this._elementToMarkerNames.get(t3)) this._unboundMarkerNames.add(e4);
            this._modelToViewMapping.get(e3) == t3 && this._modelToViewMapping.delete(e3);
          }
          unbindModelElement(t3) {
            const e3 = this.toViewElement(t3);
            this._modelToViewMapping.delete(t3), this._viewToModelMapping.get(e3) == t3 && this._viewToModelMapping.delete(e3);
          }
          bindElementToMarker(t3, e3) {
            const i3 = this._markerNameToElements.get(e3) || /* @__PURE__ */ new Set();
            i3.add(t3);
            const n2 = this._elementToMarkerNames.get(t3) || /* @__PURE__ */ new Set();
            n2.add(e3), this._markerNameToElements.set(e3, i3), this._elementToMarkerNames.set(t3, n2);
          }
          unbindElementFromMarkerName(t3, e3) {
            const i3 = this._markerNameToElements.get(e3);
            i3 && (i3.delete(t3), 0 == i3.size && this._markerNameToElements.delete(e3));
            const n2 = this._elementToMarkerNames.get(t3);
            n2 && (n2.delete(e3), 0 == n2.size && this._elementToMarkerNames.delete(t3));
          }
          flushUnboundMarkerNames() {
            const t3 = Array.from(this._unboundMarkerNames);
            return this._unboundMarkerNames.clear(), t3;
          }
          clearBindings() {
            this._modelToViewMapping = /* @__PURE__ */ new WeakMap(), this._viewToModelMapping = /* @__PURE__ */ new WeakMap(), this._markerNameToElements = /* @__PURE__ */ new Map(), this._elementToMarkerNames = /* @__PURE__ */ new Map(), this._unboundMarkerNames = /* @__PURE__ */ new Set();
          }
          toModelElement(t3) {
            return this._viewToModelMapping.get(t3);
          }
          toViewElement(t3) {
            return this._modelToViewMapping.get(t3);
          }
          toModelRange(t3) {
            return new xs(this.toModelPosition(t3.start), this.toModelPosition(t3.end));
          }
          toViewRange(t3) {
            return new Zn(this.toViewPosition(t3.start), this.toViewPosition(t3.end));
          }
          toModelPosition(t3) {
            const e3 = { viewPosition: t3, mapper: this };
            return this.fire("viewToModelPosition", e3), e3.modelPosition;
          }
          toViewPosition(t3, e3 = { isPhantom: false }) {
            const i3 = { modelPosition: t3, mapper: this, isPhantom: e3.isPhantom };
            return this.fire("modelToViewPosition", i3), i3.viewPosition;
          }
          markerNameToElements(t3) {
            const e3 = this._markerNameToElements.get(t3);
            if (!e3) return null;
            const i3 = /* @__PURE__ */ new Set();
            for (const t4 of e3) if (t4.is("attributeElement")) for (const e4 of t4.getElementsWithSameId()) i3.add(e4);
            else i3.add(t4);
            return i3;
          }
          registerViewToModelLength(t3, e3) {
            this._viewToModelLengthCallbacks.set(t3, e3);
          }
          findMappedViewAncestor(t3) {
            let e3 = t3.parent;
            for (; !this._viewToModelMapping.has(e3); ) e3 = e3.parent;
            return e3;
          }
          _toModelOffset(t3, e3, i3) {
            if (i3 != t3) {
              return this._toModelOffset(t3.parent, t3.index, i3) + this._toModelOffset(t3, e3, t3);
            }
            if (t3.is("text")) return e3;
            let n2 = 0;
            for (let i4 = 0; i4 < e3; i4++) n2 += this.getModelLength(t3.getChild(i4));
            return n2;
          }
          getModelLength(t3) {
            if (this._viewToModelLengthCallbacks.get(t3.name)) {
              return this._viewToModelLengthCallbacks.get(t3.name)(t3);
            }
            if (this._viewToModelMapping.has(t3)) return 1;
            if (t3.is("text")) return t3.data.length;
            if (t3.is("uiElement")) return 0;
            {
              let e3 = 0;
              for (const i3 of t3.getChildren()) e3 += this.getModelLength(i3);
              return e3;
            }
          }
          _findPositionIn(t3, e3) {
            let i3, n2 = 0, o2 = 0, r2 = 0;
            if (t3.is("text")) return new Kn(t3, e3);
            for (; o2 < e3; ) i3 = t3.getChild(r2), n2 = this.getModelLength(i3), o2 += n2, r2++;
            return o2 == e3 ? this._moveViewPositionToTextNode(new Kn(t3, r2)) : this._findPositionIn(i3, e3 - (o2 - n2));
          }
          _moveViewPositionToTextNode(t3) {
            const e3 = t3.nodeBefore, i3 = t3.nodeAfter;
            return e3 instanceof Ni ? new Kn(e3, e3.data.length) : i3 instanceof Ni ? new Kn(i3, 0) : t3;
          }
        }
        yi(As, gi);
        class Cs {
          constructor() {
            this._consumable = /* @__PURE__ */ new Map(), this._textProxyRegistry = /* @__PURE__ */ new Map();
          }
          add(t3, e3) {
            e3 = Ts(e3), t3 instanceof gs && (t3 = this._getSymbolForTextProxy(t3)), this._consumable.has(t3) || this._consumable.set(t3, /* @__PURE__ */ new Map()), this._consumable.get(t3).set(e3, true);
          }
          consume(t3, e3) {
            return e3 = Ts(e3), t3 instanceof gs && (t3 = this._getSymbolForTextProxy(t3)), !!this.test(t3, e3) && (this._consumable.get(t3).set(e3, false), true);
          }
          test(t3, e3) {
            e3 = Ts(e3), t3 instanceof gs && (t3 = this._getSymbolForTextProxy(t3));
            const i3 = this._consumable.get(t3);
            if (void 0 === i3) return null;
            const n2 = i3.get(e3);
            return void 0 === n2 ? null : n2;
          }
          revert(t3, e3) {
            e3 = Ts(e3), t3 instanceof gs && (t3 = this._getSymbolForTextProxy(t3));
            const i3 = this.test(t3, e3);
            return false === i3 ? (this._consumable.get(t3).set(e3, true), true) : true !== i3 && null;
          }
          _getSymbolForTextProxy(t3) {
            let e3 = null;
            const i3 = this._textProxyRegistry.get(t3.startOffset);
            if (i3) {
              const n2 = i3.get(t3.endOffset);
              n2 && (e3 = n2.get(t3.parent));
            }
            return e3 || (e3 = this._addSymbolForTextProxy(t3.startOffset, t3.endOffset, t3.parent)), e3;
          }
          _addSymbolForTextProxy(t3, e3, i3) {
            const n2 = Symbol("textProxySymbol");
            let o2, r2;
            return o2 = this._textProxyRegistry.get(t3), o2 || (o2 = /* @__PURE__ */ new Map(), this._textProxyRegistry.set(t3, o2)), r2 = o2.get(e3), r2 || (r2 = /* @__PURE__ */ new Map(), o2.set(e3, r2)), r2.set(i3, n2), n2;
          }
        }
        function Ts(t3) {
          const e3 = t3.split(":");
          return e3.length > 1 ? e3[0] + ":" + e3[1] : e3[0];
        }
        class Ms {
          constructor(t3) {
            this.conversionApi = Dn({ dispatcher: this }, t3);
          }
          convertChanges(t3, e3, i3) {
            for (const e4 of t3.getMarkersToRemove()) this.convertMarkerRemove(e4.name, e4.range, i3);
            for (const e4 of t3.getChanges()) "insert" == e4.type ? this.convertInsert(xs._createFromPositionAndShift(e4.position, e4.length), i3) : "remove" == e4.type ? this.convertRemove(e4.position, e4.length, e4.name, i3) : this.convertAttribute(e4.range, e4.attributeKey, e4.attributeOldValue, e4.attributeNewValue, i3);
            for (const t4 of this.conversionApi.mapper.flushUnboundMarkerNames()) {
              const n2 = e3.get(t4).getRange();
              this.convertMarkerRemove(t4, n2, i3), this.convertMarkerAdd(t4, n2, i3);
            }
            for (const e4 of t3.getMarkersToAdd()) this.convertMarkerAdd(e4.name, e4.range, i3);
          }
          convertInsert(t3, e3) {
            this.conversionApi.writer = e3, this.conversionApi.consumable = this._createInsertConsumable(t3);
            for (const e4 of t3) {
              const t4 = e4.item, i3 = { item: t4, range: xs._createFromPositionAndShift(e4.previousPosition, e4.length) };
              this._testAndFire("insert", i3);
              for (const e5 of t4.getAttributeKeys()) i3.attributeKey = e5, i3.attributeOldValue = null, i3.attributeNewValue = t4.getAttribute(e5), this._testAndFire("attribute:" + e5, i3);
            }
            this._clearConversionApi();
          }
          convertRemove(t3, e3, i3, n2) {
            this.conversionApi.writer = n2, this.fire("remove:" + i3, { position: t3, length: e3 }, this.conversionApi), this._clearConversionApi();
          }
          convertAttribute(t3, e3, i3, n2, o2) {
            this.conversionApi.writer = o2, this.conversionApi.consumable = this._createConsumableForRange(t3, "attribute:" + e3);
            for (const o3 of t3) {
              const t4 = { item: o3.item, range: xs._createFromPositionAndShift(o3.previousPosition, o3.length), attributeKey: e3, attributeOldValue: i3, attributeNewValue: n2 };
              this._testAndFire("attribute:" + e3, t4);
            }
            this._clearConversionApi();
          }
          convertSelection(t3, e3, i3) {
            const n2 = Array.from(e3.getMarkersAtPosition(t3.getFirstPosition()));
            if (this.conversionApi.writer = i3, this.conversionApi.consumable = this._createSelectionConsumable(t3, n2), this.fire("selection", { selection: t3 }, this.conversionApi), t3.isCollapsed) {
              for (const e4 of n2) {
                const i4 = e4.getRange();
                if (!Es(t3.getFirstPosition(), e4, this.conversionApi.mapper)) continue;
                const n3 = { item: t3, markerName: e4.name, markerRange: i4 };
                this.conversionApi.consumable.test(t3, "addMarker:" + e4.name) && this.fire("addMarker:" + e4.name, n3, this.conversionApi);
              }
              for (const e4 of t3.getAttributeKeys()) {
                const i4 = { item: t3, range: t3.getFirstRange(), attributeKey: e4, attributeOldValue: null, attributeNewValue: t3.getAttribute(e4) };
                this.conversionApi.consumable.test(t3, "attribute:" + i4.attributeKey) && this.fire("attribute:" + i4.attributeKey + ":$text", i4, this.conversionApi);
              }
              this._clearConversionApi();
            }
          }
          convertMarkerAdd(t3, e3, i3) {
            if (!e3.root.document || "$graveyard" == e3.root.rootName) return;
            this.conversionApi.writer = i3;
            const n2 = "addMarker:" + t3, o2 = new Cs();
            if (o2.add(e3, n2), this.conversionApi.consumable = o2, this.fire(n2, { markerName: t3, markerRange: e3 }, this.conversionApi), o2.test(e3, n2)) {
              this.conversionApi.consumable = this._createConsumableForRange(e3, n2);
              for (const i4 of e3.getItems()) {
                if (!this.conversionApi.consumable.test(i4, n2)) continue;
                const o3 = { item: i4, range: xs._createOn(i4), markerName: t3, markerRange: e3 };
                this.fire(n2, o3, this.conversionApi);
              }
              this._clearConversionApi();
            }
          }
          convertMarkerRemove(t3, e3, i3) {
            e3.root.document && "$graveyard" != e3.root.rootName && (this.conversionApi.writer = i3, this.fire("removeMarker:" + t3, { markerName: t3, markerRange: e3 }, this.conversionApi), this._clearConversionApi());
          }
          _createInsertConsumable(t3) {
            const e3 = new Cs();
            for (const i3 of t3) {
              const t4 = i3.item;
              e3.add(t4, "insert");
              for (const i4 of t4.getAttributeKeys()) e3.add(t4, "attribute:" + i4);
            }
            return e3;
          }
          _createConsumableForRange(t3, e3) {
            const i3 = new Cs();
            for (const n2 of t3.getItems()) i3.add(n2, e3);
            return i3;
          }
          _createSelectionConsumable(t3, e3) {
            const i3 = new Cs();
            i3.add(t3, "selection");
            for (const n2 of e3) i3.add(t3, "addMarker:" + n2.name);
            for (const e4 of t3.getAttributeKeys()) i3.add(t3, "attribute:" + e4);
            return i3;
          }
          _testAndFire(t3, e3) {
            if (!this.conversionApi.consumable.test(e3.item, t3)) return;
            const i3 = e3.item.name || "$text";
            this.fire(t3 + ":" + i3, e3, this.conversionApi);
          }
          _clearConversionApi() {
            delete this.conversionApi.writer, delete this.conversionApi.consumable;
          }
        }
        function Es(t3, e3, i3) {
          const n2 = e3.getRange(), o2 = Array.from(t3.getAncestors());
          o2.shift(), o2.reverse();
          return !o2.some((t4) => {
            if (n2.containsItem(t4)) {
              return !!i3.toViewElement(t4).getCustomProperty("addHighlight");
            }
          });
        }
        yi(Ms, gi);
        class Ps {
          constructor(t3, e3, i3) {
            this._lastRangeBackward = false, this._ranges = [], this._attrs = /* @__PURE__ */ new Map(), t3 && this.setTo(t3, e3, i3);
          }
          get anchor() {
            if (this._ranges.length > 0) {
              const t3 = this._ranges[this._ranges.length - 1];
              return this._lastRangeBackward ? t3.end : t3.start;
            }
            return null;
          }
          get focus() {
            if (this._ranges.length > 0) {
              const t3 = this._ranges[this._ranges.length - 1];
              return this._lastRangeBackward ? t3.start : t3.end;
            }
            return null;
          }
          get isCollapsed() {
            return 1 === this._ranges.length && this._ranges[0].isCollapsed;
          }
          get rangeCount() {
            return this._ranges.length;
          }
          get isBackward() {
            return !this.isCollapsed && this._lastRangeBackward;
          }
          isEqual(t3) {
            if (this.rangeCount != t3.rangeCount) return false;
            if (0 === this.rangeCount) return true;
            if (!this.anchor.isEqual(t3.anchor) || !this.focus.isEqual(t3.focus)) return false;
            for (const e3 of this._ranges) {
              let i3 = false;
              for (const n2 of t3._ranges) if (e3.isEqual(n2)) {
                i3 = true;
                break;
              }
              if (!i3) return false;
            }
            return true;
          }
          *getRanges() {
            for (const t3 of this._ranges) yield new xs(t3.start, t3.end);
          }
          getFirstRange() {
            let t3 = null;
            for (const e3 of this._ranges) t3 && !e3.start.isBefore(t3.start) || (t3 = e3);
            return t3 ? new xs(t3.start, t3.end) : null;
          }
          getLastRange() {
            let t3 = null;
            for (const e3 of this._ranges) t3 && !e3.end.isAfter(t3.end) || (t3 = e3);
            return t3 ? new xs(t3.start, t3.end) : null;
          }
          getFirstPosition() {
            const t3 = this.getFirstRange();
            return t3 ? t3.start.clone() : null;
          }
          getLastPosition() {
            const t3 = this.getLastRange();
            return t3 ? t3.end.clone() : null;
          }
          setTo(t3, e3, i3) {
            if (null === t3) this._setRanges([]);
            else if (t3 instanceof Ps) this._setRanges(t3.getRanges(), t3.isBackward);
            else if (t3 && "function" == typeof t3.getRanges) this._setRanges(t3.getRanges(), t3.isBackward);
            else if (t3 instanceof xs) this._setRanges([t3], !!e3 && !!e3.backward);
            else if (t3 instanceof _s) this._setRanges([new xs(t3)]);
            else if (t3 instanceof us) {
              const n2 = !!i3 && !!i3.backward;
              let o2;
              if ("in" == e3) o2 = xs._createIn(t3);
              else if ("on" == e3) o2 = xs._createOn(t3);
              else {
                if (void 0 === e3) throw new hi.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.", [this, t3]);
                o2 = new xs(_s._createAt(t3, e3));
              }
              this._setRanges([o2], n2);
            } else {
              if (!vi(t3)) throw new hi.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.", [this, t3]);
              this._setRanges(t3, e3 && !!e3.backward);
            }
          }
          _setRanges(t3, e3 = false) {
            const i3 = (t3 = Array.from(t3)).some((e4) => {
              if (!(e4 instanceof xs)) throw new hi.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.", [this, t3]);
              return this._ranges.every((t4) => !t4.isEqual(e4));
            });
            if (t3.length !== this._ranges.length || i3) {
              this._removeAllRanges();
              for (const e4 of t3) this._pushRange(e4);
              this._lastRangeBackward = !!e3, this.fire("change:range", { directChange: true });
            }
          }
          setFocus(t3, e3) {
            if (null === this.anchor) throw new hi.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.", [this, t3]);
            const i3 = _s._createAt(t3, e3);
            if ("same" == i3.compareWith(this.focus)) return;
            const n2 = this.anchor;
            this._ranges.length && this._popRange(), "before" == i3.compareWith(n2) ? (this._pushRange(new xs(i3, n2)), this._lastRangeBackward = true) : (this._pushRange(new xs(n2, i3)), this._lastRangeBackward = false), this.fire("change:range", { directChange: true });
          }
          getAttribute(t3) {
            return this._attrs.get(t3);
          }
          getAttributes() {
            return this._attrs.entries();
          }
          getAttributeKeys() {
            return this._attrs.keys();
          }
          hasAttribute(t3) {
            return this._attrs.has(t3);
          }
          removeAttribute(t3) {
            this.hasAttribute(t3) && (this._attrs.delete(t3), this.fire("change:attribute", { attributeKeys: [t3], directChange: true }));
          }
          setAttribute(t3, e3) {
            this.getAttribute(t3) !== e3 && (this._attrs.set(t3, e3), this.fire("change:attribute", { attributeKeys: [t3], directChange: true }));
          }
          getSelectedElement() {
            return 1 !== this.rangeCount ? null : this.getFirstRange().getContainedElement();
          }
          is(t3) {
            return "selection" === t3 || "model:selection" === t3;
          }
          *getSelectedBlocks() {
            const t3 = /* @__PURE__ */ new WeakSet();
            for (const e3 of this.getRanges()) {
              const i3 = Os(e3.start, t3);
              i3 && Ns(i3, e3) && (yield i3);
              for (const i4 of e3.getWalker()) {
                const n3 = i4.item;
                "elementEnd" == i4.type && Is(n3, t3, e3) && (yield n3);
              }
              const n2 = Os(e3.end, t3);
              n2 && !e3.end.isTouching(_s._createAt(n2, 0)) && Ns(n2, e3) && (yield n2);
            }
          }
          containsEntireContent(t3 = this.anchor.root) {
            const e3 = _s._createAt(t3, 0), i3 = _s._createAt(t3, "end");
            return e3.isTouching(this.getFirstPosition()) && i3.isTouching(this.getLastPosition());
          }
          _pushRange(t3) {
            this._checkRange(t3), this._ranges.push(new xs(t3.start, t3.end));
          }
          _checkRange(t3) {
            for (let e3 = 0; e3 < this._ranges.length; e3++) if (t3.isIntersecting(this._ranges[e3])) throw new hi.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.", [this, t3], { addedRange: t3, intersectingRange: this._ranges[e3] });
          }
          _removeAllRanges() {
            for (; this._ranges.length > 0; ) this._popRange();
          }
          _popRange() {
            this._ranges.pop();
          }
        }
        function Ss(t3, e3) {
          return !e3.has(t3) && (e3.add(t3), t3.root.document.model.schema.isBlock(t3) && t3.parent);
        }
        function Is(t3, e3, i3) {
          return Ss(t3, e3) && Ns(t3, i3);
        }
        function Os(t3, e3) {
          const i3 = t3.parent.root.document.model.schema, n2 = t3.parent.getAncestors({ parentFirst: true, includeSelf: true });
          let o2 = false;
          const r2 = n2.find((t4) => !o2 && (o2 = i3.isLimit(t4), !o2 && Ss(t4, e3)));
          return n2.forEach((t4) => e3.add(t4)), r2;
        }
        function Ns(t3, e3) {
          const i3 = function(t4) {
            const e4 = t4.root.document.model.schema;
            let i4 = t4.parent;
            for (; i4; ) {
              if (e4.isBlock(i4)) return i4;
              i4 = i4.parent;
            }
          }(t3);
          if (!i3) return true;
          return !e3.containsRange(xs._createOn(i3), true);
        }
        yi(Ps, gi);
        class Rs extends xs {
          constructor(t3, e3) {
            super(t3, e3), Ls.call(this);
          }
          detach() {
            this.stopListening();
          }
          is(t3) {
            return "liveRange" === t3 || "model:liveRange" === t3 || "range" == t3 || "model:range" === t3;
          }
          toRange() {
            return new xs(this.start, this.end);
          }
          static fromRange(t3) {
            return new Rs(t3.start, t3.end);
          }
        }
        function Ls() {
          this.listenTo(this.root.document.model, "applyOperation", (t3, e3) => {
            const i3 = e3[0];
            i3.isDocumentOperation && js2.call(this, i3);
          }, { priority: "low" });
        }
        function js2(t3) {
          const e3 = this.getTransformedByOperation(t3), i3 = xs._createFromRanges(e3), n2 = !i3.isEqual(this), o2 = function(t4, e4) {
            switch (e4.type) {
              case "insert":
                return t4.containsPosition(e4.position);
              case "move":
              case "remove":
              case "reinsert":
              case "merge":
                return t4.containsPosition(e4.sourcePosition) || t4.start.isEqual(e4.sourcePosition) || t4.containsPosition(e4.targetPosition);
              case "split":
                return t4.containsPosition(e4.splitPosition) || t4.containsPosition(e4.insertionPosition);
            }
            return false;
          }(this, t3);
          let r2 = null;
          if (n2) {
            "$graveyard" == i3.root.rootName && (r2 = "remove" == t3.type ? t3.sourcePosition : t3.deletionPosition);
            const e4 = this.toRange();
            this.start = i3.start, this.end = i3.end, this.fire("change:range", e4, { deletionPosition: r2 });
          } else o2 && this.fire("change:content", this.toRange(), { deletionPosition: r2 });
        }
        yi(Rs, gi);
        class Ds {
          constructor(t3) {
            this._selection = new zs(t3), this._selection.delegate("change:range").to(this), this._selection.delegate("change:attribute").to(this), this._selection.delegate("change:marker").to(this);
          }
          get isCollapsed() {
            return this._selection.isCollapsed;
          }
          get anchor() {
            return this._selection.anchor;
          }
          get focus() {
            return this._selection.focus;
          }
          get rangeCount() {
            return this._selection.rangeCount;
          }
          get hasOwnRange() {
            return this._selection.hasOwnRange;
          }
          get isBackward() {
            return this._selection.isBackward;
          }
          get isGravityOverridden() {
            return this._selection.isGravityOverridden;
          }
          get markers() {
            return this._selection.markers;
          }
          get _ranges() {
            return this._selection._ranges;
          }
          getRanges() {
            return this._selection.getRanges();
          }
          getFirstPosition() {
            return this._selection.getFirstPosition();
          }
          getLastPosition() {
            return this._selection.getLastPosition();
          }
          getFirstRange() {
            return this._selection.getFirstRange();
          }
          getLastRange() {
            return this._selection.getLastRange();
          }
          getSelectedBlocks() {
            return this._selection.getSelectedBlocks();
          }
          getSelectedElement() {
            return this._selection.getSelectedElement();
          }
          containsEntireContent(t3) {
            return this._selection.containsEntireContent(t3);
          }
          destroy() {
            this._selection.destroy();
          }
          getAttributeKeys() {
            return this._selection.getAttributeKeys();
          }
          getAttributes() {
            return this._selection.getAttributes();
          }
          getAttribute(t3) {
            return this._selection.getAttribute(t3);
          }
          hasAttribute(t3) {
            return this._selection.hasAttribute(t3);
          }
          refresh() {
            this._selection._updateMarkers(), this._selection._updateAttributes(false);
          }
          is(t3) {
            return "selection" === t3 || "model:selection" == t3 || "documentSelection" == t3 || "model:documentSelection" == t3;
          }
          _setFocus(t3, e3) {
            this._selection.setFocus(t3, e3);
          }
          _setTo(t3, e3, i3) {
            this._selection.setTo(t3, e3, i3);
          }
          _setAttribute(t3, e3) {
            this._selection.setAttribute(t3, e3);
          }
          _removeAttribute(t3) {
            this._selection.removeAttribute(t3);
          }
          _getStoredAttributes() {
            return this._selection._getStoredAttributes();
          }
          _overrideGravity() {
            return this._selection.overrideGravity();
          }
          _restoreGravity(t3) {
            this._selection.restoreGravity(t3);
          }
          static _getStoreAttributeKey(t3) {
            return "selection:" + t3;
          }
          static _isStoreAttributeKey(t3) {
            return t3.startsWith("selection:");
          }
        }
        yi(Ds, gi);
        class zs extends Ps {
          constructor(t3) {
            super(), this.markers = new xi({ idProperty: "name" }), this._model = t3.model, this._document = t3, this._attributePriority = /* @__PURE__ */ new Map(), this._fixGraveyardRangesData = [], this._hasChangedRange = false, this._overriddenGravityRegister = /* @__PURE__ */ new Set(), this.listenTo(this._model, "applyOperation", (t4, e3) => {
              const i3 = e3[0];
              if (i3.isDocumentOperation && "marker" != i3.type && "rename" != i3.type && "noop" != i3.type) {
                for (; this._fixGraveyardRangesData.length; ) {
                  const { liveRange: t5, sourcePosition: e4 } = this._fixGraveyardRangesData.shift();
                  this._fixGraveyardSelection(t5, e4);
                }
                this._hasChangedRange && (this._hasChangedRange = false, this.fire("change:range", { directChange: false }));
              }
            }, { priority: "lowest" }), this.on("change:range", () => {
              for (const t4 of this.getRanges()) if (!this._document._validateSelectionRange(t4)) throw new hi.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.", this, { range: t4 });
            }), this.listenTo(this._model.markers, "update", () => this._updateMarkers()), this.listenTo(this._document, "change", (t4, e3) => {
              !function(t5, e4) {
                const i3 = t5.document.differ;
                for (const n2 of i3.getChanges()) {
                  if ("insert" != n2.type) continue;
                  const i4 = n2.position.parent;
                  n2.length === i4.maxOffset && t5.enqueueChange(e4, (t6) => {
                    const e5 = Array.from(i4.getAttributeKeys()).filter((t7) => t7.startsWith("selection:"));
                    for (const n3 of e5) t6.removeAttribute(n3, i4);
                  });
                }
              }(this._model, e3);
            });
          }
          get isCollapsed() {
            return 0 === this._ranges.length ? this._document._getDefaultRange().isCollapsed : super.isCollapsed;
          }
          get anchor() {
            return super.anchor || this._document._getDefaultRange().start;
          }
          get focus() {
            return super.focus || this._document._getDefaultRange().end;
          }
          get rangeCount() {
            return this._ranges.length ? this._ranges.length : 1;
          }
          get hasOwnRange() {
            return this._ranges.length > 0;
          }
          get isGravityOverridden() {
            return !!this._overriddenGravityRegister.size;
          }
          destroy() {
            for (let t3 = 0; t3 < this._ranges.length; t3++) this._ranges[t3].detach();
            this.stopListening();
          }
          *getRanges() {
            this._ranges.length ? yield* super.getRanges() : yield this._document._getDefaultRange();
          }
          getFirstRange() {
            return super.getFirstRange() || this._document._getDefaultRange();
          }
          getLastRange() {
            return super.getLastRange() || this._document._getDefaultRange();
          }
          setTo(t3, e3, i3) {
            super.setTo(t3, e3, i3), this._updateAttributes(true), this._updateMarkers();
          }
          setFocus(t3, e3) {
            super.setFocus(t3, e3), this._updateAttributes(true), this._updateMarkers();
          }
          setAttribute(t3, e3) {
            if (this._setAttribute(t3, e3)) {
              const e4 = [t3];
              this.fire("change:attribute", { attributeKeys: e4, directChange: true });
            }
          }
          removeAttribute(t3) {
            if (this._removeAttribute(t3)) {
              const e3 = [t3];
              this.fire("change:attribute", { attributeKeys: e3, directChange: true });
            }
          }
          overrideGravity() {
            const t3 = ci();
            return this._overriddenGravityRegister.add(t3), 1 === this._overriddenGravityRegister.size && this._updateAttributes(true), t3;
          }
          restoreGravity(t3) {
            if (!this._overriddenGravityRegister.has(t3)) throw new hi.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.", this, { uid: t3 });
            this._overriddenGravityRegister.delete(t3), this.isGravityOverridden || this._updateAttributes(true);
          }
          _popRange() {
            this._ranges.pop().detach();
          }
          _pushRange(t3) {
            const e3 = this._prepareRange(t3);
            e3 && this._ranges.push(e3);
          }
          _prepareRange(t3) {
            if (this._checkRange(t3), t3.root == this._document.graveyard) return;
            const e3 = Rs.fromRange(t3);
            return e3.on("change:range", (t4, i3, n2) => {
              this._hasChangedRange = true, e3.root == this._document.graveyard && this._fixGraveyardRangesData.push({ liveRange: e3, sourcePosition: n2.deletionPosition });
            }), e3;
          }
          _updateMarkers() {
            const t3 = [];
            let e3 = false;
            for (const e4 of this._model.markers) {
              const i4 = e4.getRange();
              for (const n2 of this.getRanges()) i4.containsRange(n2, !n2.isCollapsed) && t3.push(e4);
            }
            const i3 = Array.from(this.markers);
            for (const i4 of t3) this.markers.has(i4) || (this.markers.add(i4), e3 = true);
            for (const i4 of Array.from(this.markers)) t3.includes(i4) || (this.markers.remove(i4), e3 = true);
            e3 && this.fire("change:marker", { oldMarkers: i3, directChange: false });
          }
          _updateAttributes(t3) {
            const e3 = Li(this._getSurroundingAttributes()), i3 = Li(this.getAttributes());
            if (t3) this._attributePriority = /* @__PURE__ */ new Map(), this._attrs = /* @__PURE__ */ new Map();
            else for (const [t4, e4] of this._attributePriority) "low" == e4 && (this._attrs.delete(t4), this._attributePriority.delete(t4));
            this._setAttributesTo(e3);
            const n2 = [];
            for (const [t4, e4] of this.getAttributes()) i3.has(t4) && i3.get(t4) === e4 || n2.push(t4);
            for (const [t4] of i3) this.hasAttribute(t4) || n2.push(t4);
            n2.length > 0 && this.fire("change:attribute", { attributeKeys: n2, directChange: false });
          }
          _setAttribute(t3, e3, i3 = true) {
            const n2 = i3 ? "normal" : "low";
            if ("low" == n2 && "normal" == this._attributePriority.get(t3)) return false;
            return super.getAttribute(t3) !== e3 && (this._attrs.set(t3, e3), this._attributePriority.set(t3, n2), true);
          }
          _removeAttribute(t3, e3 = true) {
            const i3 = e3 ? "normal" : "low";
            return ("low" != i3 || "normal" != this._attributePriority.get(t3)) && (this._attributePriority.set(t3, i3), !!super.hasAttribute(t3) && (this._attrs.delete(t3), true));
          }
          _setAttributesTo(t3) {
            const e3 = /* @__PURE__ */ new Set();
            for (const [e4, i3] of this.getAttributes()) t3.get(e4) !== i3 && this._removeAttribute(e4, false);
            for (const [i3, n2] of t3) {
              this._setAttribute(i3, n2, false) && e3.add(i3);
            }
            return e3;
          }
          *_getStoredAttributes() {
            const t3 = this.getFirstPosition().parent;
            if (this.isCollapsed && t3.isEmpty) {
              for (const e3 of t3.getAttributeKeys()) if (e3.startsWith("selection:")) {
                const i3 = e3.substr("selection:".length);
                yield [i3, t3.getAttribute(e3)];
              }
            }
          }
          _getSurroundingAttributes() {
            const t3 = this.getFirstPosition(), e3 = this._model.schema;
            let i3 = null;
            if (this.isCollapsed) {
              const e4 = t3.textNode ? t3.textNode : t3.nodeBefore, n2 = t3.textNode ? t3.textNode : t3.nodeAfter;
              if (this.isGravityOverridden || (i3 = Bs(e4)), i3 || (i3 = Bs(n2)), !this.isGravityOverridden && !i3) {
                let t4 = e4;
                for (; t4 && !i3; ) t4 = t4.previousSibling, i3 = Bs(t4);
              }
              if (!i3) {
                let t4 = n2;
                for (; t4 && !i3; ) t4 = t4.nextSibling, i3 = Bs(t4);
              }
              i3 || (i3 = this._getStoredAttributes());
            } else {
              const t4 = this.getFirstRange();
              for (const n2 of t4) {
                if (n2.item.is("element") && e3.isObject(n2.item)) break;
                if ("text" == n2.type) {
                  i3 = n2.item.getAttributes();
                  break;
                }
              }
            }
            return i3;
          }
          _fixGraveyardSelection(t3, e3) {
            const i3 = e3.clone(), n2 = this._model.schema.getNearestSelectionRange(i3), o2 = this._ranges.indexOf(t3);
            if (this._ranges.splice(o2, 1), t3.detach(), n2 && (r2 = n2, this._ranges.every((t4) => !r2.isEqual(t4)))) {
              const t4 = this._prepareRange(n2);
              this._ranges.splice(o2, 0, t4);
            }
            var r2;
          }
        }
        function Bs(t3) {
          return t3 instanceof gs || t3 instanceof ms ? t3.getAttributes() : null;
        }
        class Vs {
          constructor(t3) {
            this._dispatchers = t3;
          }
          add(t3) {
            for (const e3 of this._dispatchers) t3(e3);
            return this;
          }
        }
        var Fs = function(t3) {
          return ti(t3, 5);
        };
        class Hs extends Vs {
          elementToElement(t3) {
            return this.add(function(t4) {
              return (t4 = Fs(t4)).view = Ws(t4.view, "container"), (e3) => {
                var i3;
                e3.on("insert:" + t4.model, (i3 = t4.view, (t5, e4, n2) => {
                  const o2 = i3(e4.item, n2.writer);
                  if (!o2) return;
                  if (!n2.consumable.consume(e4.item, "insert")) return;
                  const r2 = n2.mapper.toViewPosition(e4.range.start);
                  n2.mapper.bindElements(e4.item, o2), n2.writer.insert(r2, o2);
                }), { priority: t4.converterPriority || "normal" });
              };
            }(t3));
          }
          attributeToElement(t3) {
            return this.add(function(t4) {
              t4 = Fs(t4);
              let e3 = "attribute:" + (t4.model.key ? t4.model.key : t4.model);
              t4.model.name && (e3 += ":" + t4.model.name);
              if (t4.model.values) for (const e4 of t4.model.values) t4.view[e4] = Ws(t4.view[e4], "attribute");
              else t4.view = Ws(t4.view, "attribute");
              const i3 = qs(t4);
              return (n2) => {
                n2.on(e3, /* @__PURE__ */ function(t5) {
                  return (e4, i4, n3) => {
                    const o2 = t5(i4.attributeOldValue, n3.writer), r2 = t5(i4.attributeNewValue, n3.writer);
                    if (!o2 && !r2) return;
                    if (!n3.consumable.consume(i4.item, e4.name)) return;
                    const s4 = n3.writer, a4 = s4.document.selection;
                    if (i4.item instanceof Ps || i4.item instanceof Ds) s4.wrap(a4.getFirstRange(), r2);
                    else {
                      let t6 = n3.mapper.toViewRange(i4.range);
                      null !== i4.attributeOldValue && o2 && (t6 = s4.unwrap(t6, o2)), null !== i4.attributeNewValue && r2 && s4.wrap(t6, r2);
                    }
                  };
                }(i3), { priority: t4.converterPriority || "normal" });
              };
            }(t3));
          }
          attributeToAttribute(t3) {
            return this.add(function(t4) {
              t4 = Fs(t4);
              let e3 = "attribute:" + (t4.model.key ? t4.model.key : t4.model);
              t4.model.name && (e3 += ":" + t4.model.name);
              if (t4.model.values) for (const e4 of t4.model.values) t4.view[e4] = Ys(t4.view[e4]);
              else t4.view = Ys(t4.view);
              const i3 = qs(t4);
              return (n2) => {
                var o2;
                n2.on(e3, (o2 = i3, (t5, e4, i4) => {
                  const n3 = o2(e4.attributeOldValue, e4), r2 = o2(e4.attributeNewValue, e4);
                  if (!n3 && !r2) return;
                  if (!i4.consumable.consume(e4.item, t5.name)) return;
                  const s4 = i4.mapper.toViewElement(e4.item), a4 = i4.writer;
                  if (!s4) throw new hi.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.", [e4, i4]);
                  if (null !== e4.attributeOldValue && n3) if ("class" == n3.key) {
                    const t6 = Array.isArray(n3.value) ? n3.value : [n3.value];
                    for (const e5 of t6) a4.removeClass(e5, s4);
                  } else if ("style" == n3.key) {
                    const t6 = Object.keys(n3.value);
                    for (const e5 of t6) a4.removeStyle(e5, s4);
                  } else a4.removeAttribute(n3.key, s4);
                  if (null !== e4.attributeNewValue && r2) if ("class" == r2.key) {
                    const t6 = Array.isArray(r2.value) ? r2.value : [r2.value];
                    for (const e5 of t6) a4.addClass(e5, s4);
                  } else if ("style" == r2.key) {
                    const t6 = Object.keys(r2.value);
                    for (const e5 of t6) a4.setStyle(e5, r2.value[e5], s4);
                  } else a4.setAttribute(r2.key, r2.value, s4);
                }), { priority: t4.converterPriority || "normal" });
              };
            }(t3));
          }
          markerToElement(t3) {
            return this.add(function(t4) {
              return (t4 = Fs(t4)).view = Ws(t4.view, "ui"), (e3) => {
                var i3;
                e3.on("addMarker:" + t4.model, (i3 = t4.view, (t5, e4, n2) => {
                  e4.isOpening = true;
                  const o2 = i3(e4, n2.writer);
                  e4.isOpening = false;
                  const r2 = i3(e4, n2.writer);
                  if (!o2 || !r2) return;
                  const s4 = e4.markerRange;
                  if (s4.isCollapsed && !n2.consumable.consume(s4, t5.name)) return;
                  for (const e5 of s4) if (!n2.consumable.consume(e5.item, t5.name)) return;
                  const a4 = n2.mapper, l2 = n2.writer;
                  l2.insert(a4.toViewPosition(s4.start), o2), n2.mapper.bindElementToMarker(o2, e4.markerName), s4.isCollapsed || (l2.insert(a4.toViewPosition(s4.end), r2), n2.mapper.bindElementToMarker(r2, e4.markerName)), t5.stop();
                }), { priority: t4.converterPriority || "normal" }), e3.on("removeMarker:" + t4.model, (t4.view, (t5, e4, i4) => {
                  const n2 = i4.mapper.markerNameToElements(e4.markerName);
                  if (n2) {
                    for (const t6 of n2) i4.mapper.unbindElementFromMarkerName(t6, e4.markerName), i4.writer.clear(i4.writer.createRangeOn(t6), t6);
                    i4.writer.clearClonedElementsGroup(e4.markerName), t5.stop();
                  }
                }), { priority: t4.converterPriority || "normal" });
              };
            }(t3));
          }
          markerToHighlight(t3) {
            return this.add(/* @__PURE__ */ function(t4) {
              return (e3) => {
                var i3;
                e3.on("addMarker:" + t4.model, (i3 = t4.view, (t5, e4, n2) => {
                  if (!e4.item) return;
                  if (!(e4.item instanceof Ps || e4.item instanceof Ds || e4.item.is("textProxy"))) return;
                  const o2 = $s(i3, e4, n2);
                  if (!o2) return;
                  if (!n2.consumable.consume(e4.item, t5.name)) return;
                  const r2 = n2.writer, s4 = Us(r2, o2), a4 = r2.document.selection;
                  if (e4.item instanceof Ps || e4.item instanceof Ds) r2.wrap(a4.getFirstRange(), s4, a4);
                  else {
                    const t6 = n2.mapper.toViewRange(e4.range), i4 = r2.wrap(t6, s4);
                    for (const t7 of i4.getItems()) if (t7.is("attributeElement") && t7.isSimilar(s4)) {
                      n2.mapper.bindElementToMarker(t7, e4.markerName);
                      break;
                    }
                  }
                }), { priority: t4.converterPriority || "normal" }), e3.on("addMarker:" + t4.model, /* @__PURE__ */ function(t5) {
                  return (e4, i4, n2) => {
                    if (!i4.item) return;
                    if (!(i4.item instanceof ps)) return;
                    const o2 = $s(t5, i4, n2);
                    if (!o2) return;
                    if (!n2.consumable.test(i4.item, e4.name)) return;
                    const r2 = n2.mapper.toViewElement(i4.item);
                    if (r2 && r2.getCustomProperty("addHighlight")) {
                      n2.consumable.consume(i4.item, e4.name);
                      for (const t6 of xs._createIn(i4.item)) n2.consumable.consume(t6.item, e4.name);
                      r2.getCustomProperty("addHighlight")(r2, o2, n2.writer), n2.mapper.bindElementToMarker(r2, i4.markerName);
                    }
                  };
                }(t4.view), { priority: t4.converterPriority || "normal" }), e3.on("removeMarker:" + t4.model, /* @__PURE__ */ function(t5) {
                  return (e4, i4, n2) => {
                    if (i4.markerRange.isCollapsed) return;
                    const o2 = $s(t5, i4, n2);
                    if (!o2) return;
                    const r2 = Us(n2.writer, o2), s4 = n2.mapper.markerNameToElements(i4.markerName);
                    if (s4) {
                      for (const t6 of s4) n2.mapper.unbindElementFromMarkerName(t6, i4.markerName), t6.is("attributeElement") ? n2.writer.unwrap(n2.writer.createRangeOn(t6), r2) : t6.getCustomProperty("removeHighlight")(t6, o2.id, n2.writer);
                      n2.writer.clearClonedElementsGroup(i4.markerName), e4.stop();
                    }
                  };
                }(t4.view), { priority: t4.converterPriority || "normal" });
              };
            }(t3));
          }
        }
        function Us(t3, e3) {
          const i3 = t3.createAttributeElement("span", e3.attributes);
          return e3.classes && i3._addClass(e3.classes), e3.priority && (i3._priority = e3.priority), i3._id = e3.id, i3;
        }
        function Ws(t3, e3) {
          return "function" == typeof t3 ? t3 : (i3, n2) => function(t4, e4, i4) {
            "string" == typeof t4 && (t4 = { name: t4 });
            let n3;
            const o2 = Object.assign({}, t4.attributes);
            if ("container" == i4) n3 = e4.createContainerElement(t4.name, o2);
            else if ("attribute" == i4) {
              const i5 = { priority: t4.priority || ro.DEFAULT_PRIORITY };
              n3 = e4.createAttributeElement(t4.name, o2, i5);
            } else n3 = e4.createUIElement(t4.name, o2);
            if (t4.styles) {
              const i5 = Object.keys(t4.styles);
              for (const o3 of i5) e4.setStyle(o3, t4.styles[o3], n3);
            }
            if (t4.classes) {
              const i5 = t4.classes;
              if ("string" == typeof i5) e4.addClass(i5, n3);
              else for (const t5 of i5) e4.addClass(t5, n3);
            }
            return n3;
          }(t3, n2, e3);
        }
        function qs(t3) {
          return t3.model.values ? (e3, i3) => {
            const n2 = t3.view[e3];
            return n2 ? n2(e3, i3) : null;
          } : t3.view;
        }
        function Ys(t3) {
          return "string" == typeof t3 ? (e3) => ({ key: t3, value: e3 }) : "object" == typeof t3 ? t3.value ? () => t3 : (e3) => ({ key: t3.key, value: e3 }) : t3;
        }
        function $s(t3, e3, i3) {
          const n2 = "function" == typeof t3 ? t3(e3, i3) : t3;
          return n2 ? (n2.priority || (n2.priority = 10), n2.id || (n2.id = e3.markerName), n2) : null;
        }
        class Js extends Vs {
          elementToElement(t3) {
            return this.add(Gs(t3));
          }
          elementToAttribute(t3) {
            return this.add(function(t4) {
              Xs(t4 = Fs(t4));
              const e3 = Ks(t4, false), i3 = Qs(t4.view), n2 = i3 ? "element:" + i3 : "element";
              return (i4) => {
                i4.on(n2, e3, { priority: t4.converterPriority || "low" });
              };
            }(t3));
          }
          attributeToAttribute(t3) {
            return this.add(function(t4) {
              t4 = Fs(t4);
              let e3 = null;
              ("string" == typeof t4.view || t4.view.key) && (e3 = function(t5) {
                "string" == typeof t5.view && (t5.view = { key: t5.view });
                const e4 = t5.view.key;
                let i4;
                if ("class" == e4 || "style" == e4) {
                  i4 = { ["class" == e4 ? "classes" : "styles"]: t5.view.value };
                } else {
                  const n2 = void 0 === t5.view.value ? /[\s\S]*/ : t5.view.value;
                  i4 = { attributes: { [e4]: n2 } };
                }
                t5.view.name && (i4.name = t5.view.name);
                return t5.view = i4, e4;
              }(t4));
              Xs(t4, e3);
              const i3 = Ks(t4, true);
              return (e4) => {
                e4.on("element", i3, { priority: t4.converterPriority || "low" });
              };
            }(t3));
          }
          elementToMarker(t3) {
            return this.add(function(t4) {
              return function(t5) {
                const e3 = t5.model;
                t5.model = (t6, i3) => {
                  const n2 = "string" == typeof e3 ? e3 : e3(t6);
                  return i3.createElement("$marker", { "data-name": n2 });
                };
              }(t4 = Fs(t4)), Gs(t4);
            }(t3));
          }
        }
        function Gs(t3) {
          const e3 = function(t4) {
            const e4 = t4.view ? new ji(t4.view) : null;
            return (i4, n3, o2) => {
              let r2 = {};
              if (e4) {
                const t5 = e4.match(n3.viewItem);
                if (!t5) return;
                r2 = t5.match;
              }
              r2.name = true;
              const s4 = (a4 = t4.model, l2 = n3.viewItem, c3 = o2.writer, a4 instanceof Function ? a4(l2, c3) : c3.createElement(a4));
              var a4, l2, c3;
              if (!s4) return;
              if (!o2.consumable.test(n3.viewItem, r2)) return;
              const d4 = o2.splitToAllowedParent(s4, n3.modelCursor);
              if (!d4) return;
              o2.writer.insert(s4, d4.position), o2.convertChildren(n3.viewItem, o2.writer.createPositionAt(s4, 0)), o2.consumable.consume(n3.viewItem, r2);
              const h4 = o2.getSplitParts(s4);
              n3.modelRange = new xs(o2.writer.createPositionBefore(s4), o2.writer.createPositionAfter(h4[h4.length - 1])), d4.cursorParent ? n3.modelCursor = o2.writer.createPositionAt(d4.cursorParent, 0) : n3.modelCursor = n3.modelRange.end;
            };
          }(t3 = Fs(t3)), i3 = Qs(t3.view), n2 = i3 ? "element:" + i3 : "element";
          return (i4) => {
            i4.on(n2, e3, { priority: t3.converterPriority || "normal" });
          };
        }
        function Qs(t3) {
          return "string" == typeof t3 ? t3 : "object" == typeof t3 && "string" == typeof t3.name ? t3.name : null;
        }
        function Xs(t3, e3 = null) {
          const i3 = null === e3 || ((t4) => t4.getAttribute(e3)), n2 = "object" != typeof t3.model ? t3.model : t3.model.key, o2 = "object" != typeof t3.model || void 0 === t3.model.value ? i3 : t3.model.value;
          t3.model = { key: n2, value: o2 };
        }
        function Ks(t3, e3) {
          const i3 = new ji(t3.view);
          return (n2, o2, r2) => {
            const s4 = i3.match(o2.viewItem);
            if (!s4) return;
            const a4 = t3.model.key, l2 = "function" == typeof t3.model.value ? t3.model.value(o2.viewItem) : t3.model.value;
            if (null === l2) return;
            if (!function(t4, e4) {
              const i4 = "function" == typeof t4 ? t4(e4) : t4;
              if ("object" == typeof i4 && !Qs(i4)) return false;
              return !i4.classes && !i4.attributes && !i4.styles;
            }(t3.view, o2.viewItem) ? delete s4.match.name : s4.match.name = true, !r2.consumable.test(o2.viewItem, s4.match)) return;
            o2.modelRange || (o2 = Object.assign(o2, r2.convertChildren(o2.viewItem, o2.modelCursor)));
            (function(t4, e4, i4, n3) {
              let o3 = false;
              for (const r3 of Array.from(t4.getItems({ shallow: i4 }))) n3.schema.checkAttribute(r3, e4.key) && (n3.writer.setAttribute(e4.key, e4.value, r3), o3 = true);
              return o3;
            })(o2.modelRange, { key: a4, value: l2 }, e3, r2) && r2.consumable.consume(o2.viewItem, s4.match);
          };
        }
        class Zs {
          constructor(t3, e3) {
            this.model = t3, this.view = new hs(e3), this.mapper = new As(), this.downcastDispatcher = new Ms({ mapper: this.mapper });
            const i3 = this.model.document, n2 = i3.selection, o2 = this.model.markers;
            this.listenTo(this.model, "_beforeChanges", () => {
              this.view._disableRendering(true);
            }, { priority: "highest" }), this.listenTo(this.model, "_afterChanges", () => {
              this.view._disableRendering(false);
            }, { priority: "lowest" }), this.listenTo(i3, "change", () => {
              this.view.change((t4) => {
                this.downcastDispatcher.convertChanges(i3.differ, o2, t4), this.downcastDispatcher.convertSelection(n2, o2, t4);
              });
            }, { priority: "low" }), this.listenTo(this.view.document, "selectionChange", /* @__PURE__ */ function(t4, e4) {
              return (i4, n3) => {
                const o3 = n3.newSelection, r2 = new Ps(), s4 = [];
                for (const t5 of o3.getRanges()) s4.push(e4.toModelRange(t5));
                r2.setTo(s4, { backward: o3.isBackward }), r2.isEqual(t4.document.selection) || t4.change((t5) => {
                  t5.setSelection(r2);
                });
              };
            }(this.model, this.mapper)), this.downcastDispatcher.on("insert:$text", (t4, e4, i4) => {
              if (!i4.consumable.consume(e4.item, "insert")) return;
              const n3 = i4.writer, o3 = i4.mapper.toViewPosition(e4.range.start), r2 = n3.createText(e4.item.data);
              n3.insert(o3, r2);
            }, { priority: "lowest" }), this.downcastDispatcher.on("remove", (t4, e4, i4) => {
              const n3 = i4.mapper.toViewPosition(e4.position), o3 = e4.position.getShiftedBy(e4.length), r2 = i4.mapper.toViewPosition(o3, { isPhantom: true }), s4 = i4.writer.createRange(n3, r2), a4 = i4.writer.remove(s4.getTrimmed());
              for (const t5 of i4.writer.createRangeIn(a4).getItems()) i4.mapper.unbindViewElement(t5);
            }, { priority: "low" }), this.downcastDispatcher.on("selection", (t4, e4, i4) => {
              const n3 = i4.writer, o3 = n3.document.selection;
              for (const t5 of o3.getRanges()) t5.isCollapsed && t5.end.parent.isAttached() && i4.writer.mergeAttributes(t5.start);
              n3.setSelection(null);
            }, { priority: "low" }), this.downcastDispatcher.on("selection", (t4, e4, i4) => {
              const n3 = e4.selection;
              if (n3.isCollapsed) return;
              if (!i4.consumable.consume(n3, "selection")) return;
              const o3 = [];
              for (const t5 of n3.getRanges()) {
                const e5 = i4.mapper.toViewRange(t5);
                o3.push(e5);
              }
              i4.writer.setSelection(o3, { backward: n3.isBackward });
            }, { priority: "low" }), this.downcastDispatcher.on("selection", (t4, e4, i4) => {
              const n3 = e4.selection;
              if (!n3.isCollapsed) return;
              if (!i4.consumable.consume(n3, "selection")) return;
              const o3 = i4.writer, r2 = n3.getFirstPosition(), s4 = i4.mapper.toViewPosition(r2), a4 = o3.breakAttributes(s4);
              o3.setSelection(a4);
            }, { priority: "low" }), this.view.document.roots.bindTo(this.model.document.roots).using((t4) => {
              if ("$graveyard" == t4.rootName) return null;
              const e4 = new Qn(this.view.document, t4.name);
              return e4.rootName = t4.rootName, this.mapper.bindElements(t4, e4), e4;
            });
          }
          destroy() {
            this.view.destroy(), this.stopListening();
          }
        }
        yi(Zs, Hn);
        class ta {
          constructor() {
            this._commands = /* @__PURE__ */ new Map();
          }
          add(t3, e3) {
            this._commands.set(t3, e3);
          }
          get(t3) {
            return this._commands.get(t3);
          }
          execute(t3, ...e3) {
            const i3 = this.get(t3);
            if (!i3) throw new hi.b("commandcollection-command-not-found: Command does not exist.", this, { commandName: t3 });
            i3.execute(...e3);
          }
          *names() {
            yield* this._commands.keys();
          }
          *commands() {
            yield* this._commands.values();
          }
          [Symbol.iterator]() {
            return this._commands[Symbol.iterator]();
          }
          destroy() {
            for (const t3 of this.commands()) t3.destroy();
          }
        }
        class ea {
          constructor() {
            this._consumables = /* @__PURE__ */ new Map();
          }
          add(t3, e3) {
            let i3;
            t3.is("text") || t3.is("documentFragment") ? this._consumables.set(t3, true) : (this._consumables.has(t3) ? i3 = this._consumables.get(t3) : (i3 = new ia(t3), this._consumables.set(t3, i3)), i3.add(e3));
          }
          test(t3, e3) {
            const i3 = this._consumables.get(t3);
            return void 0 === i3 ? null : t3.is("text") || t3.is("documentFragment") ? i3 : i3.test(e3);
          }
          consume(t3, e3) {
            return !!this.test(t3, e3) && (t3.is("text") || t3.is("documentFragment") ? this._consumables.set(t3, false) : this._consumables.get(t3).consume(e3), true);
          }
          revert(t3, e3) {
            const i3 = this._consumables.get(t3);
            void 0 !== i3 && (t3.is("text") || t3.is("documentFragment") ? this._consumables.set(t3, true) : i3.revert(e3));
          }
          static consumablesFromElement(t3) {
            const e3 = { element: t3, name: true, attributes: [], classes: [], styles: [] }, i3 = t3.getAttributeKeys();
            for (const t4 of i3) "style" != t4 && "class" != t4 && e3.attributes.push(t4);
            const n2 = t3.getClassNames();
            for (const t4 of n2) e3.classes.push(t4);
            const o2 = t3.getStyleNames();
            for (const t4 of o2) e3.styles.push(t4);
            return e3;
          }
          static createFrom(t3, e3) {
            if (e3 || (e3 = new ea(t3)), t3.is("text")) return e3.add(t3), e3;
            t3.is("element") && e3.add(t3, ea.consumablesFromElement(t3)), t3.is("documentFragment") && e3.add(t3);
            for (const i3 of t3.getChildren()) e3 = ea.createFrom(i3, e3);
            return e3;
          }
        }
        class ia {
          constructor(t3) {
            this.element = t3, this._canConsumeName = null, this._consumables = { attributes: /* @__PURE__ */ new Map(), styles: /* @__PURE__ */ new Map(), classes: /* @__PURE__ */ new Map() };
          }
          add(t3) {
            t3.name && (this._canConsumeName = true);
            for (const e3 in this._consumables) e3 in t3 && this._add(e3, t3[e3]);
          }
          test(t3) {
            if (t3.name && !this._canConsumeName) return this._canConsumeName;
            for (const e3 in this._consumables) if (e3 in t3) {
              const i3 = this._test(e3, t3[e3]);
              if (true !== i3) return i3;
            }
            return true;
          }
          consume(t3) {
            t3.name && (this._canConsumeName = false);
            for (const e3 in this._consumables) e3 in t3 && this._consume(e3, t3[e3]);
          }
          revert(t3) {
            t3.name && (this._canConsumeName = true);
            for (const e3 in this._consumables) e3 in t3 && this._revert(e3, t3[e3]);
          }
          _add(t3, e3) {
            const i3 = Lt(e3) ? e3 : [e3], n2 = this._consumables[t3];
            for (const e4 of i3) {
              if ("attributes" === t3 && ("class" === e4 || "style" === e4)) throw new hi.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.", this);
              if (n2.set(e4, true), "styles" === t3) for (const t4 of this.element.document.stylesProcessor.getRelatedStyles(e4)) n2.set(t4, true);
            }
          }
          _test(t3, e3) {
            const i3 = Lt(e3) ? e3 : [e3], n2 = this._consumables[t3];
            for (const e4 of i3) if ("attributes" !== t3 || "class" !== e4 && "style" !== e4) {
              const t4 = n2.get(e4);
              if (void 0 === t4) return null;
              if (!t4) return false;
            } else {
              const t4 = "class" == e4 ? "classes" : "styles", i4 = this._test(t4, [...this._consumables[t4].keys()]);
              if (true !== i4) return i4;
            }
            return true;
          }
          _consume(t3, e3) {
            const i3 = Lt(e3) ? e3 : [e3], n2 = this._consumables[t3];
            for (const e4 of i3) if ("attributes" !== t3 || "class" !== e4 && "style" !== e4) {
              if (n2.set(e4, false), "styles" == t3) for (const t4 of this.element.document.stylesProcessor.getRelatedStyles(e4)) n2.set(t4, false);
            } else {
              const t4 = "class" == e4 ? "classes" : "styles";
              this._consume(t4, [...this._consumables[t4].keys()]);
            }
          }
          _revert(t3, e3) {
            const i3 = Lt(e3) ? e3 : [e3], n2 = this._consumables[t3];
            for (const e4 of i3) if ("attributes" !== t3 || "class" !== e4 && "style" !== e4) {
              false === n2.get(e4) && n2.set(e4, true);
            } else {
              const t4 = "class" == e4 ? "classes" : "styles";
              this._revert(t4, [...this._consumables[t4].keys()]);
            }
          }
        }
        class na {
          constructor() {
            this._sourceDefinitions = {}, this._attributeProperties = {}, this.decorate("checkChild"), this.decorate("checkAttribute"), this.on("checkAttribute", (t3, e3) => {
              e3[0] = new oa(e3[0]);
            }, { priority: "highest" }), this.on("checkChild", (t3, e3) => {
              e3[0] = new oa(e3[0]), e3[1] = this.getDefinition(e3[1]);
            }, { priority: "highest" });
          }
          register(t3, e3) {
            if (this._sourceDefinitions[t3]) throw new hi.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.", this, { itemName: t3 });
            this._sourceDefinitions[t3] = [Object.assign({}, e3)], this._clearCache();
          }
          extend(t3, e3) {
            if (!this._sourceDefinitions[t3]) throw new hi.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.", this, { itemName: t3 });
            this._sourceDefinitions[t3].push(Object.assign({}, e3)), this._clearCache();
          }
          getDefinitions() {
            return this._compiledDefinitions || this._compile(), this._compiledDefinitions;
          }
          getDefinition(t3) {
            let e3;
            return e3 = "string" == typeof t3 ? t3 : t3.is && (t3.is("text") || t3.is("textProxy")) ? "$text" : t3.name, this.getDefinitions()[e3];
          }
          isRegistered(t3) {
            return !!this.getDefinition(t3);
          }
          isBlock(t3) {
            const e3 = this.getDefinition(t3);
            return !(!e3 || !e3.isBlock);
          }
          isLimit(t3) {
            const e3 = this.getDefinition(t3);
            return !!e3 && !(!e3.isLimit && !e3.isObject);
          }
          isObject(t3) {
            const e3 = this.getDefinition(t3);
            return !(!e3 || !e3.isObject);
          }
          isInline(t3) {
            const e3 = this.getDefinition(t3);
            return !(!e3 || !e3.isInline);
          }
          checkChild(t3, e3) {
            return !!e3 && this._checkContextMatch(e3, t3);
          }
          checkAttribute(t3, e3) {
            const i3 = this.getDefinition(t3.last);
            return !!i3 && i3.allowAttributes.includes(e3);
          }
          checkMerge(t3, e3 = null) {
            if (t3 instanceof _s) {
              const e4 = t3.nodeBefore, i3 = t3.nodeAfter;
              if (!(e4 instanceof ps)) throw new hi.b("schema-check-merge-no-element-before: The node before the merge position must be an element.", this);
              if (!(i3 instanceof ps)) throw new hi.b("schema-check-merge-no-element-after: The node after the merge position must be an element.", this);
              return this.checkMerge(e4, i3);
            }
            for (const i3 of e3.getChildren()) if (!this.checkChild(t3, i3)) return false;
            return true;
          }
          addChildCheck(t3) {
            this.on("checkChild", (e3, [i3, n2]) => {
              if (!n2) return;
              const o2 = t3(i3, n2);
              "boolean" == typeof o2 && (e3.stop(), e3.return = o2);
            }, { priority: "high" });
          }
          addAttributeCheck(t3) {
            this.on("checkAttribute", (e3, [i3, n2]) => {
              const o2 = t3(i3, n2);
              "boolean" == typeof o2 && (e3.stop(), e3.return = o2);
            }, { priority: "high" });
          }
          setAttributeProperties(t3, e3) {
            this._attributeProperties[t3] = Object.assign(this.getAttributeProperties(t3), e3);
          }
          getAttributeProperties(t3) {
            return this._attributeProperties[t3] || {};
          }
          getLimitElement(t3) {
            let e3;
            if (t3 instanceof _s) e3 = t3.parent;
            else {
              e3 = (t3 instanceof xs ? [t3] : Array.from(t3.getRanges())).reduce((t4, e4) => {
                const i3 = e4.getCommonAncestor();
                return t4 ? t4.getCommonAncestor(i3, { includeSelf: true }) : i3;
              }, null);
            }
            for (; !this.isLimit(e3) && e3.parent; ) e3 = e3.parent;
            return e3;
          }
          checkAttributeInSelection(t3, e3) {
            if (t3.isCollapsed) {
              const i3 = [...t3.getFirstPosition().getAncestors(), new ms("", t3.getAttributes())];
              return this.checkAttribute(i3, e3);
            }
            {
              const i3 = t3.getRanges();
              for (const t4 of i3) for (const i4 of t4) if (this.checkAttribute(i4.item, e3)) return true;
            }
            return false;
          }
          *getValidRanges(t3, e3) {
            t3 = function* (t4) {
              for (const e4 of t4) yield* e4.getMinimalFlatRanges();
            }(t3);
            for (const i3 of t3) yield* this._getValidRangesForRange(i3, e3);
          }
          getNearestSelectionRange(t3, e3 = "both") {
            if (this.checkChild(t3, "$text")) return new xs(t3);
            let i3, n2;
            const o2 = t3.getAncestors().reverse().find((t4) => this.isLimit(t4)) || t3.root;
            "both" != e3 && "backward" != e3 || (i3 = new bs({ boundaries: xs._createIn(o2), startPosition: t3, direction: "backward" })), "both" != e3 && "forward" != e3 || (n2 = new bs({ boundaries: xs._createIn(o2), startPosition: t3 }));
            for (const t4 of function* (t5, e4) {
              let i4 = false;
              for (; !i4; ) {
                if (i4 = true, t5) {
                  const e5 = t5.next();
                  e5.done || (i4 = false, yield { walker: t5, value: e5.value });
                }
                if (e4) {
                  const t6 = e4.next();
                  t6.done || (i4 = false, yield { walker: e4, value: t6.value });
                }
              }
            }(i3, n2)) {
              const e4 = t4.walker == i3 ? "elementEnd" : "elementStart", n3 = t4.value;
              if (n3.type == e4 && this.isObject(n3.item)) return xs._createOn(n3.item);
              if (this.checkChild(n3.nextPosition, "$text")) return new xs(n3.nextPosition);
            }
            return null;
          }
          findAllowedParent(t3, e3) {
            let i3 = t3.parent;
            for (; i3; ) {
              if (this.checkChild(i3, e3)) return i3;
              if (this.isLimit(i3)) return null;
              i3 = i3.parent;
            }
            return null;
          }
          removeDisallowedAttributes(t3, e3) {
            for (const i3 of t3) if (i3.is("text")) fa(this, i3, e3);
            else {
              const t4 = xs._createIn(i3).getPositions();
              for (const i4 of t4) {
                fa(this, i4.nodeBefore || i4.parent, e3);
              }
            }
          }
          createContext(t3) {
            return new oa(t3);
          }
          _clearCache() {
            this._compiledDefinitions = null;
          }
          _compile() {
            const t3 = {}, e3 = this._sourceDefinitions, i3 = Object.keys(e3);
            for (const n2 of i3) t3[n2] = ra(e3[n2], n2);
            for (const e4 of i3) sa(t3, e4);
            for (const e4 of i3) aa(t3, e4);
            for (const e4 of i3) la(t3, e4), ca(t3, e4);
            for (const e4 of i3) da(t3, e4), ha(t3, e4);
            this._compiledDefinitions = t3;
          }
          _checkContextMatch(t3, e3, i3 = e3.length - 1) {
            const n2 = e3.getItem(i3);
            if (t3.allowIn.includes(n2.name)) {
              if (0 == i3) return true;
              {
                const t4 = this.getDefinition(n2);
                return this._checkContextMatch(t4, e3, i3 - 1);
              }
            }
            return false;
          }
          *_getValidRangesForRange(t3, e3) {
            let i3 = t3.start, n2 = t3.start;
            for (const o2 of t3.getItems({ shallow: true })) o2.is("element") && (yield* this._getValidRangesForRange(xs._createIn(o2), e3)), this.checkAttribute(o2, e3) || (i3.isEqual(n2) || (yield new xs(i3, n2)), i3 = _s._createAfter(o2)), n2 = _s._createAfter(o2);
            i3.isEqual(n2) || (yield new xs(i3, n2));
          }
        }
        yi(na, Hn);
        class oa {
          constructor(t3) {
            if (t3 instanceof oa) return t3;
            "string" == typeof t3 ? t3 = [t3] : Array.isArray(t3) || (t3 = t3.getAncestors({ includeSelf: true })), t3[0] && "string" != typeof t3[0] && t3[0].is("documentFragment") && t3.shift(), this._items = t3.map(ga);
          }
          get length() {
            return this._items.length;
          }
          get last() {
            return this._items[this._items.length - 1];
          }
          [Symbol.iterator]() {
            return this._items[Symbol.iterator]();
          }
          push(t3) {
            const e3 = new oa([t3]);
            return e3._items = [...this._items, ...e3._items], e3;
          }
          getItem(t3) {
            return this._items[t3];
          }
          *getNames() {
            yield* this._items.map((t3) => t3.name);
          }
          endsWith(t3) {
            return Array.from(this.getNames()).join(" ").endsWith(t3);
          }
          startsWith(t3) {
            return Array.from(this.getNames()).join(" ").startsWith(t3);
          }
        }
        function ra(t3, e3) {
          const i3 = { name: e3, allowIn: [], allowContentOf: [], allowWhere: [], allowAttributes: [], allowAttributesOf: [], inheritTypesFrom: [] };
          return function(t4, e4) {
            for (const i4 of t4) {
              const t5 = Object.keys(i4).filter((t6) => t6.startsWith("is"));
              for (const n2 of t5) e4[n2] = i4[n2];
            }
          }(t3, i3), ua(t3, i3, "allowIn"), ua(t3, i3, "allowContentOf"), ua(t3, i3, "allowWhere"), ua(t3, i3, "allowAttributes"), ua(t3, i3, "allowAttributesOf"), ua(t3, i3, "inheritTypesFrom"), function(t4, e4) {
            for (const i4 of t4) {
              const t5 = i4.inheritAllFrom;
              t5 && (e4.allowContentOf.push(t5), e4.allowWhere.push(t5), e4.allowAttributesOf.push(t5), e4.inheritTypesFrom.push(t5));
            }
          }(t3, i3), i3;
        }
        function sa(t3, e3) {
          for (const i3 of t3[e3].allowContentOf) if (t3[i3]) {
            ma(t3, i3).forEach((t4) => {
              t4.allowIn.push(e3);
            });
          }
          delete t3[e3].allowContentOf;
        }
        function aa(t3, e3) {
          for (const i3 of t3[e3].allowWhere) {
            const n2 = t3[i3];
            if (n2) {
              const i4 = n2.allowIn;
              t3[e3].allowIn.push(...i4);
            }
          }
          delete t3[e3].allowWhere;
        }
        function la(t3, e3) {
          for (const i3 of t3[e3].allowAttributesOf) {
            const n2 = t3[i3];
            if (n2) {
              const i4 = n2.allowAttributes;
              t3[e3].allowAttributes.push(...i4);
            }
          }
          delete t3[e3].allowAttributesOf;
        }
        function ca(t3, e3) {
          const i3 = t3[e3];
          for (const e4 of i3.inheritTypesFrom) {
            const n2 = t3[e4];
            if (n2) {
              const t4 = Object.keys(n2).filter((t5) => t5.startsWith("is"));
              for (const e5 of t4) e5 in i3 || (i3[e5] = n2[e5]);
            }
          }
          delete i3.inheritTypesFrom;
        }
        function da(t3, e3) {
          const i3 = t3[e3], n2 = i3.allowIn.filter((e4) => t3[e4]);
          i3.allowIn = Array.from(new Set(n2));
        }
        function ha(t3, e3) {
          const i3 = t3[e3];
          i3.allowAttributes = Array.from(new Set(i3.allowAttributes));
        }
        function ua(t3, e3, i3) {
          for (const n2 of t3) "string" == typeof n2[i3] ? e3[i3].push(n2[i3]) : Array.isArray(n2[i3]) && e3[i3].push(...n2[i3]);
        }
        function ma(t3, e3) {
          const i3 = t3[e3];
          return (n2 = t3, Object.keys(n2).map((t4) => n2[t4])).filter((t4) => t4.allowIn.includes(i3.name));
          var n2;
        }
        function ga(t3) {
          return "string" == typeof t3 ? { name: t3, *getAttributeKeys() {
          }, getAttribute() {
          } } : { name: t3.is("element") ? t3.name : "$text", *getAttributeKeys() {
            yield* t3.getAttributeKeys();
          }, getAttribute: (e3) => t3.getAttribute(e3) };
        }
        function fa(t3, e3, i3) {
          for (const n2 of e3.getAttributeKeys()) t3.checkAttribute(e3, n2) || i3.removeAttribute(n2, e3);
        }
        class pa {
          constructor(t3 = {}) {
            this._splitParts = /* @__PURE__ */ new Map(), this._modelCursor = null, this.conversionApi = Object.assign({}, t3), this.conversionApi.convertItem = this._convertItem.bind(this), this.conversionApi.convertChildren = this._convertChildren.bind(this), this.conversionApi.splitToAllowedParent = this._splitToAllowedParent.bind(this), this.conversionApi.getSplitParts = this._getSplitParts.bind(this);
          }
          convert(t3, e3, i3 = ["$root"]) {
            this.fire("viewCleanup", t3), this._modelCursor = function(t4, e4) {
              let i4;
              for (const n3 of new oa(t4)) {
                const t5 = {};
                for (const e5 of n3.getAttributeKeys()) t5[e5] = n3.getAttribute(e5);
                const o3 = e4.createElement(n3.name, t5);
                i4 && e4.append(o3, i4), i4 = _s._createAt(o3, 0);
              }
              return i4;
            }(i3, e3), this.conversionApi.writer = e3, this.conversionApi.consumable = ea.createFrom(t3), this.conversionApi.store = {};
            const { modelRange: n2 } = this._convertItem(t3, this._modelCursor), o2 = e3.createDocumentFragment();
            if (n2) {
              this._removeEmptyElements();
              for (const t4 of Array.from(this._modelCursor.parent.getChildren())) e3.append(t4, o2);
              o2.markers = function(t4, e4) {
                const i4 = /* @__PURE__ */ new Set(), n3 = /* @__PURE__ */ new Map(), o3 = xs._createIn(t4).getItems();
                for (const t5 of o3) "$marker" == t5.name && i4.add(t5);
                for (const t5 of i4) {
                  const i5 = t5.getAttribute("data-name"), o4 = e4.createPositionBefore(t5);
                  n3.has(i5) ? n3.get(i5).end = o4.clone() : n3.set(i5, new xs(o4.clone())), e4.remove(t5);
                }
                return n3;
              }(o2, e3);
            }
            return this._modelCursor = null, this._splitParts.clear(), this.conversionApi.writer = null, this.conversionApi.store = null, o2;
          }
          _convertItem(t3, e3) {
            const i3 = Object.assign({ viewItem: t3, modelCursor: e3, modelRange: null });
            if (t3.is("element") ? this.fire("element:" + t3.name, i3, this.conversionApi) : t3.is("text") ? this.fire("text", i3, this.conversionApi) : this.fire("documentFragment", i3, this.conversionApi), i3.modelRange && !(i3.modelRange instanceof xs)) throw new hi.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.", this);
            return { modelRange: i3.modelRange, modelCursor: i3.modelCursor };
          }
          _convertChildren(t3, e3) {
            const i3 = new xs(e3);
            let n2 = e3;
            for (const e4 of Array.from(t3.getChildren())) {
              const t4 = this._convertItem(e4, n2);
              t4.modelRange instanceof xs && (i3.end = t4.modelRange.end, n2 = t4.modelCursor);
            }
            return { modelRange: i3, modelCursor: n2 };
          }
          _splitToAllowedParent(t3, e3) {
            const i3 = this.conversionApi.schema.findAllowedParent(e3, t3);
            if (!i3) return null;
            if (i3 === e3.parent) return { position: e3 };
            if (this._modelCursor.parent.getAncestors().includes(i3)) return null;
            const n2 = this.conversionApi.writer.split(e3, i3), o2 = [];
            for (const t4 of n2.range.getWalker()) if ("elementEnd" == t4.type) o2.push(t4.item);
            else {
              const e4 = o2.pop(), i4 = t4.item;
              this._registerSplitPair(e4, i4);
            }
            return { position: n2.position, cursorParent: n2.range.end.parent };
          }
          _registerSplitPair(t3, e3) {
            this._splitParts.has(t3) || this._splitParts.set(t3, [t3]);
            const i3 = this._splitParts.get(t3);
            this._splitParts.set(e3, i3), i3.push(e3);
          }
          _getSplitParts(t3) {
            let e3;
            return e3 = this._splitParts.has(t3) ? this._splitParts.get(t3) : [t3], e3;
          }
          _removeEmptyElements() {
            let t3 = false;
            for (const e3 of this._splitParts.keys()) e3.isEmpty && (this.conversionApi.writer.remove(e3), this._splitParts.delete(e3), t3 = true);
            t3 && this._removeEmptyElements();
          }
        }
        yi(pa, gi);
        class ba {
          constructor(t3, e3) {
            this.model = t3, this.stylesProcessor = e3, this.processor, this.mapper = new As(), this.downcastDispatcher = new Ms({ mapper: this.mapper }), this.downcastDispatcher.on("insert:$text", (t4, e4, i3) => {
              if (!i3.consumable.consume(e4.item, "insert")) return;
              const n2 = i3.writer, o2 = i3.mapper.toViewPosition(e4.range.start), r2 = n2.createText(e4.item.data);
              n2.insert(o2, r2);
            }, { priority: "lowest" }), this.upcastDispatcher = new pa({ schema: t3.schema }), this.viewDocument = new oo(e3), this._viewWriter = new Ao(this.viewDocument), this.upcastDispatcher.on("text", (t4, e4, i3) => {
              if (i3.schema.checkChild(e4.modelCursor, "$text") && i3.consumable.consume(e4.viewItem)) {
                const t5 = i3.writer.createText(e4.viewItem.data);
                i3.writer.insert(t5, e4.modelCursor), e4.modelRange = xs._createFromPositionAndShift(e4.modelCursor, t5.offsetSize), e4.modelCursor = e4.modelRange.end;
              }
            }, { priority: "lowest" }), this.upcastDispatcher.on("element", (t4, e4, i3) => {
              if (!e4.modelRange && i3.consumable.consume(e4.viewItem, { name: true })) {
                const { modelRange: t5, modelCursor: n2 } = i3.convertChildren(e4.viewItem, e4.modelCursor);
                e4.modelRange = t5, e4.modelCursor = n2;
              }
            }, { priority: "lowest" }), this.upcastDispatcher.on("documentFragment", (t4, e4, i3) => {
              if (!e4.modelRange && i3.consumable.consume(e4.viewItem, { name: true })) {
                const { modelRange: t5, modelCursor: n2 } = i3.convertChildren(e4.viewItem, e4.modelCursor);
                e4.modelRange = t5, e4.modelCursor = n2;
              }
            }, { priority: "lowest" }), this.decorate("init"), this.on("init", () => {
              this.fire("ready");
            }, { priority: "lowest" });
          }
          get(t3) {
            const { rootName: e3 = "main", trim: i3 = "empty" } = t3 || {};
            if (!this._checkIfRootsExists([e3])) throw new hi.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.", this);
            const n2 = this.model.document.getRoot(e3);
            return "empty" !== i3 || this.model.hasContent(n2, { ignoreWhitespaces: true }) ? this.stringify(n2) : "";
          }
          stringify(t3) {
            const e3 = this.toView(t3);
            return this.processor.toData(e3);
          }
          toView(t3) {
            const e3 = this.viewDocument, i3 = this._viewWriter;
            this.mapper.clearBindings();
            const n2 = xs._createIn(t3), o2 = new xo(e3);
            if (this.mapper.bindElements(t3, o2), this.downcastDispatcher.convertInsert(n2, i3), !t3.is("documentFragment")) {
              const e4 = function(t4) {
                const e5 = [], i4 = t4.root.document;
                if (!i4) return [];
                const n3 = xs._createIn(t4);
                for (const t5 of i4.model.markers) {
                  const i5 = n3.getIntersection(t5.getRange());
                  i5 && e5.push([t5.name, i5]);
                }
                return e5;
              }(t3);
              for (const [t4, n3] of e4) this.downcastDispatcher.convertMarkerAdd(t4, n3, i3);
            }
            return o2;
          }
          init(t3) {
            if (this.model.document.version) throw new hi.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.", this);
            let e3 = {};
            if ("string" == typeof t3 ? e3.main = t3 : e3 = t3, !this._checkIfRootsExists(Object.keys(e3))) throw new hi.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.", this);
            return this.model.enqueueChange("transparent", (t4) => {
              for (const i3 of Object.keys(e3)) {
                const n2 = this.model.document.getRoot(i3);
                t4.insert(this.parse(e3[i3], n2), n2, 0);
              }
            }), Promise.resolve();
          }
          set(t3) {
            let e3 = {};
            if ("string" == typeof t3 ? e3.main = t3 : e3 = t3, !this._checkIfRootsExists(Object.keys(e3))) throw new hi.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.", this);
            this.model.enqueueChange("transparent", (t4) => {
              t4.setSelection(null), t4.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());
              for (const i3 of Object.keys(e3)) {
                const n2 = this.model.document.getRoot(i3);
                t4.remove(t4.createRangeIn(n2)), t4.insert(this.parse(e3[i3], n2), n2, 0);
              }
            });
          }
          parse(t3, e3 = "$root") {
            const i3 = this.processor.toView(t3);
            return this.toModel(i3, e3);
          }
          toModel(t3, e3 = "$root") {
            return this.model.change((i3) => this.upcastDispatcher.convert(t3, i3, e3));
          }
          addStyleProcessorRules(t3) {
            t3(this.stylesProcessor);
          }
          destroy() {
            this.stopListening();
          }
          _checkIfRootsExists(t3) {
            for (const e3 of t3) if (!this.model.document.getRootNames().includes(e3)) return false;
            return true;
          }
        }
        yi(ba, Hn);
        class wa {
          constructor(t3, e3) {
            this._helpers = /* @__PURE__ */ new Map(), this._downcast = Array.isArray(t3) ? t3 : [t3], this._createConversionHelpers({ name: "downcast", dispatchers: this._downcast, isDowncast: true }), this._upcast = Array.isArray(e3) ? e3 : [e3], this._createConversionHelpers({ name: "upcast", dispatchers: this._upcast, isDowncast: false });
          }
          addAlias(t3, e3) {
            const i3 = this._downcast.includes(e3);
            if (!this._upcast.includes(e3) && !i3) throw new hi.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.", this);
            this._createConversionHelpers({ name: t3, dispatchers: [e3], isDowncast: i3 });
          }
          for(t3) {
            if (!this._helpers.has(t3)) throw new hi.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.", this);
            return this._helpers.get(t3);
          }
          elementToElement(t3) {
            this.for("downcast").elementToElement(t3);
            for (const { model: e3, view: i3 } of _a(t3)) this.for("upcast").elementToElement({ model: e3, view: i3, converterPriority: t3.converterPriority });
          }
          attributeToElement(t3) {
            this.for("downcast").attributeToElement(t3);
            for (const { model: e3, view: i3 } of _a(t3)) this.for("upcast").elementToAttribute({ view: i3, model: e3, converterPriority: t3.converterPriority });
          }
          attributeToAttribute(t3) {
            this.for("downcast").attributeToAttribute(t3);
            for (const { model: e3, view: i3 } of _a(t3)) this.for("upcast").attributeToAttribute({ view: i3, model: e3 });
          }
          _createConversionHelpers({ name: t3, dispatchers: e3, isDowncast: i3 }) {
            if (this._helpers.has(t3)) throw new hi.b("conversion-group-exists: Trying to register a group name that has already been registered.", this);
            const n2 = i3 ? new Hs(e3) : new Js(e3);
            this._helpers.set(t3, n2);
          }
        }
        function* _a(t3) {
          if (t3.model.values) for (const e3 of t3.model.values) {
            const i3 = { key: t3.model.key, value: e3 }, n2 = t3.view[e3], o2 = t3.upcastAlso ? t3.upcastAlso[e3] : void 0;
            yield* ka(i3, n2, o2);
          }
          else yield* ka(t3.model, t3.view, t3.upcastAlso);
        }
        function* ka(t3, e3, i3) {
          if (yield { model: t3, view: e3 }, i3) {
            i3 = Array.isArray(i3) ? i3 : [i3];
            for (const e4 of i3) yield { model: t3, view: e4 };
          }
        }
        class va {
          constructor(t3 = "default") {
            this.operations = [], this.type = t3;
          }
          get baseVersion() {
            for (const t3 of this.operations) if (null !== t3.baseVersion) return t3.baseVersion;
            return null;
          }
          addOperation(t3) {
            return t3.batch = this, this.operations.push(t3), t3;
          }
        }
        class ya {
          constructor(t3) {
            this.baseVersion = t3, this.isDocumentOperation = null !== this.baseVersion, this.batch = null;
          }
          _validate() {
          }
          toJSON() {
            const t3 = Object.assign({}, this);
            return t3.__className = this.constructor.className, delete t3.batch, delete t3.isDocumentOperation, t3;
          }
          static get className() {
            return "Operation";
          }
          static fromJSON(t3) {
            return new this(t3.baseVersion);
          }
        }
        class xa {
          constructor(t3) {
            this.markers = /* @__PURE__ */ new Map(), this._children = new fs(), t3 && this._insertChild(0, t3);
          }
          [Symbol.iterator]() {
            return this.getChildren();
          }
          get childCount() {
            return this._children.length;
          }
          get maxOffset() {
            return this._children.maxOffset;
          }
          get isEmpty() {
            return 0 === this.childCount;
          }
          get root() {
            return this;
          }
          get parent() {
            return null;
          }
          is(t3) {
            return "documentFragment" === t3 || "model:documentFragment" === t3;
          }
          getChild(t3) {
            return this._children.getNode(t3);
          }
          getChildren() {
            return this._children[Symbol.iterator]();
          }
          getChildIndex(t3) {
            return this._children.getNodeIndex(t3);
          }
          getChildStartOffset(t3) {
            return this._children.getNodeStartOffset(t3);
          }
          getPath() {
            return [];
          }
          getNodeByPath(t3) {
            let e3 = this;
            for (const i3 of t3) e3 = e3.getChild(e3.offsetToIndex(i3));
            return e3;
          }
          offsetToIndex(t3) {
            return this._children.offsetToIndex(t3);
          }
          toJSON() {
            const t3 = [];
            for (const e3 of this._children) t3.push(e3.toJSON());
            return t3;
          }
          static fromJSON(t3) {
            const e3 = [];
            for (const i3 of t3) i3.name ? e3.push(ps.fromJSON(i3)) : e3.push(ms.fromJSON(i3));
            return new xa(e3);
          }
          _appendChild(t3) {
            this._insertChild(this.childCount, t3);
          }
          _insertChild(t3, e3) {
            const i3 = function(t4) {
              if ("string" == typeof t4) return [new ms(t4)];
              vi(t4) || (t4 = [t4]);
              return Array.from(t4).map((t5) => "string" == typeof t5 ? new ms(t5) : t5 instanceof gs ? new ms(t5.data, t5.getAttributes()) : t5);
            }(e3);
            for (const t4 of i3) null !== t4.parent && t4._remove(), t4.parent = this;
            this._children._insertNodes(t3, i3);
          }
          _removeChildren(t3, e3 = 1) {
            const i3 = this._children._removeNodes(t3, e3);
            for (const t4 of i3) t4.parent = null;
            return i3;
          }
        }
        function Aa(t3, e3) {
          const i3 = (e3 = Ma(e3)).reduce((t4, e4) => t4 + e4.offsetSize, 0), n2 = t3.parent;
          Pa(t3);
          const o2 = t3.index;
          return n2._insertChild(o2, e3), Ea(n2, o2 + e3.length), Ea(n2, o2), new xs(t3, t3.getShiftedBy(i3));
        }
        function Ca(t3) {
          if (!t3.isFlat) throw new hi.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.", this);
          const e3 = t3.start.parent;
          Pa(t3.start), Pa(t3.end);
          const i3 = e3._removeChildren(t3.start.index, t3.end.index - t3.start.index);
          return Ea(e3, t3.start.index), i3;
        }
        function Ta(t3, e3) {
          if (!t3.isFlat) throw new hi.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.", this);
          const i3 = Ca(t3);
          return Aa(e3 = e3._getTransformedByDeletion(t3.start, t3.end.offset - t3.start.offset), i3);
        }
        function Ma(t3) {
          const e3 = [];
          t3 instanceof Array || (t3 = [t3]);
          for (let i3 = 0; i3 < t3.length; i3++) if ("string" == typeof t3[i3]) e3.push(new ms(t3[i3]));
          else if (t3[i3] instanceof gs) e3.push(new ms(t3[i3].data, t3[i3].getAttributes()));
          else if (t3[i3] instanceof xa || t3[i3] instanceof fs) for (const n2 of t3[i3]) e3.push(n2);
          else t3[i3] instanceof us && e3.push(t3[i3]);
          for (let t4 = 1; t4 < e3.length; t4++) {
            const i3 = e3[t4], n2 = e3[t4 - 1];
            i3 instanceof ms && n2 instanceof ms && Sa(i3, n2) && (e3.splice(t4 - 1, 2, new ms(n2.data + i3.data, n2.getAttributes())), t4--);
          }
          return e3;
        }
        function Ea(t3, e3) {
          const i3 = t3.getChild(e3 - 1), n2 = t3.getChild(e3);
          if (i3 && n2 && i3.is("text") && n2.is("text") && Sa(i3, n2)) {
            const o2 = new ms(i3.data + n2.data, i3.getAttributes());
            t3._removeChildren(e3 - 1, 2), t3._insertChild(e3 - 1, o2);
          }
        }
        function Pa(t3) {
          const e3 = t3.textNode, i3 = t3.parent;
          if (e3) {
            const n2 = t3.offset - e3.startOffset, o2 = e3.index;
            i3._removeChildren(o2, 1);
            const r2 = new ms(e3.data.substr(0, n2), e3.getAttributes()), s4 = new ms(e3.data.substr(n2), e3.getAttributes());
            i3._insertChild(o2, [r2, s4]);
          }
        }
        function Sa(t3, e3) {
          const i3 = t3.getAttributes(), n2 = e3.getAttributes();
          for (const t4 of i3) {
            if (t4[1] !== e3.getAttribute(t4[0])) return false;
            n2.next();
          }
          return n2.next().done;
        }
        var Ia = function(t3, e3) {
          return Er(t3, e3);
        };
        class Oa extends ya {
          constructor(t3, e3, i3, n2, o2) {
            super(o2), this.range = t3.clone(), this.key = e3, this.oldValue = void 0 === i3 ? null : i3, this.newValue = void 0 === n2 ? null : n2;
          }
          get type() {
            return null === this.oldValue ? "addAttribute" : null === this.newValue ? "removeAttribute" : "changeAttribute";
          }
          clone() {
            return new Oa(this.range, this.key, this.oldValue, this.newValue, this.baseVersion);
          }
          getReversed() {
            return new Oa(this.range, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.range = this.range.toJSON(), t3;
          }
          _validate() {
            if (!this.range.isFlat) throw new hi.b("attribute-operation-range-not-flat: The range to change is not flat.", this);
            for (const t3 of this.range.getItems({ shallow: true })) {
              if (null !== this.oldValue && !Ia(t3.getAttribute(this.key), this.oldValue)) throw new hi.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { item: t3, key: this.key, value: this.oldValue });
              if (null === this.oldValue && null !== this.newValue && t3.hasAttribute(this.key)) throw new hi.b("attribute-operation-attribute-exists: The attribute with given key already exists.", this, { node: t3, key: this.key });
            }
          }
          _execute() {
            Ia(this.oldValue, this.newValue) || function(t3, e3, i3) {
              Pa(t3.start), Pa(t3.end);
              for (const n2 of t3.getItems({ shallow: true })) {
                const t4 = n2.is("textProxy") ? n2.textNode : n2;
                null !== i3 ? t4._setAttribute(e3, i3) : t4._removeAttribute(e3), Ea(t4.parent, t4.index);
              }
              Ea(t3.end.parent, t3.end.index);
            }(this.range, this.key, this.newValue);
          }
          static get className() {
            return "AttributeOperation";
          }
          static fromJSON(t3, e3) {
            return new Oa(xs.fromJSON(t3.range, e3), t3.key, t3.oldValue, t3.newValue, t3.baseVersion);
          }
        }
        class Na extends ya {
          constructor(t3, e3) {
            super(null), this.sourcePosition = t3.clone(), this.howMany = e3;
          }
          get type() {
            return "detach";
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.sourcePosition = this.sourcePosition.toJSON(), t3;
          }
          _validate() {
            if (this.sourcePosition.root.document) throw new hi.b("detach-operation-on-document-node: Cannot detach document node.", this);
          }
          _execute() {
            Ca(xs._createFromPositionAndShift(this.sourcePosition, this.howMany));
          }
          static get className() {
            return "DetachOperation";
          }
        }
        class Ra extends ya {
          constructor(t3, e3, i3, n2) {
            super(n2), this.sourcePosition = t3.clone(), this.sourcePosition.stickiness = "toNext", this.howMany = e3, this.targetPosition = i3.clone(), this.targetPosition.stickiness = "toNone";
          }
          get type() {
            return "$graveyard" == this.targetPosition.root.rootName ? "remove" : "$graveyard" == this.sourcePosition.root.rootName ? "reinsert" : "move";
          }
          clone() {
            return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.baseVersion);
          }
          getMovedRangeStart() {
            return this.targetPosition._getTransformedByDeletion(this.sourcePosition, this.howMany);
          }
          getReversed() {
            const t3 = this.sourcePosition._getTransformedByInsertion(this.targetPosition, this.howMany);
            return new this.constructor(this.getMovedRangeStart(), this.howMany, t3, this.baseVersion + 1);
          }
          _validate() {
            const t3 = this.sourcePosition.parent, e3 = this.targetPosition.parent, i3 = this.sourcePosition.offset, n2 = this.targetPosition.offset;
            if (i3 + this.howMany > t3.maxOffset) throw new hi.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.", this);
            if (t3 === e3 && i3 < n2 && n2 < i3 + this.howMany) throw new hi.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.", this);
            if (this.sourcePosition.root == this.targetPosition.root && "prefix" == Si(this.sourcePosition.getParentPath(), this.targetPosition.getParentPath())) {
              const t4 = this.sourcePosition.path.length - 1;
              if (this.targetPosition.path[t4] >= i3 && this.targetPosition.path[t4] < i3 + this.howMany) throw new hi.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.", this);
            }
          }
          _execute() {
            Ta(xs._createFromPositionAndShift(this.sourcePosition, this.howMany), this.targetPosition);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.sourcePosition = this.sourcePosition.toJSON(), t3.targetPosition = this.targetPosition.toJSON(), t3;
          }
          static get className() {
            return "MoveOperation";
          }
          static fromJSON(t3, e3) {
            const i3 = _s.fromJSON(t3.sourcePosition, e3), n2 = _s.fromJSON(t3.targetPosition, e3);
            return new this(i3, t3.howMany, n2, t3.baseVersion);
          }
        }
        class La extends ya {
          constructor(t3, e3, i3) {
            super(i3), this.position = t3.clone(), this.position.stickiness = "toNone", this.nodes = new fs(Ma(e3)), this.shouldReceiveAttributes = false;
          }
          get type() {
            return "insert";
          }
          get howMany() {
            return this.nodes.maxOffset;
          }
          clone() {
            const t3 = new fs([...this.nodes].map((t4) => t4._clone(true))), e3 = new La(this.position, t3, this.baseVersion);
            return e3.shouldReceiveAttributes = this.shouldReceiveAttributes, e3;
          }
          getReversed() {
            const t3 = this.position.root.document.graveyard, e3 = new _s(t3, [0]);
            return new Ra(this.position, this.nodes.maxOffset, e3, this.baseVersion + 1);
          }
          _validate() {
            const t3 = this.position.parent;
            if (!t3 || t3.maxOffset < this.position.offset) throw new hi.b("insert-operation-position-invalid: Insertion position is invalid.", this);
          }
          _execute() {
            const t3 = this.nodes;
            this.nodes = new fs([...t3].map((t4) => t4._clone(true))), Aa(this.position, t3);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.position = this.position.toJSON(), t3.nodes = this.nodes.toJSON(), t3;
          }
          static get className() {
            return "InsertOperation";
          }
          static fromJSON(t3, e3) {
            const i3 = [];
            for (const e4 of t3.nodes) e4.name ? i3.push(ps.fromJSON(e4)) : i3.push(ms.fromJSON(e4));
            const n2 = new La(_s.fromJSON(t3.position, e3), i3, t3.baseVersion);
            return n2.shouldReceiveAttributes = t3.shouldReceiveAttributes, n2;
          }
        }
        class ja extends ya {
          constructor(t3, e3, i3, n2, o2, r2) {
            super(r2), this.name = t3, this.oldRange = e3 ? e3.clone() : null, this.newRange = i3 ? i3.clone() : null, this.affectsData = o2, this._markers = n2;
          }
          get type() {
            return "marker";
          }
          clone() {
            return new ja(this.name, this.oldRange, this.newRange, this._markers, this.affectsData, this.baseVersion);
          }
          getReversed() {
            return new ja(this.name, this.newRange, this.oldRange, this._markers, this.affectsData, this.baseVersion + 1);
          }
          _execute() {
            const t3 = this.newRange ? "_set" : "_remove";
            this._markers[t3](this.name, this.newRange, true, this.affectsData);
          }
          toJSON() {
            const t3 = super.toJSON();
            return this.oldRange && (t3.oldRange = this.oldRange.toJSON()), this.newRange && (t3.newRange = this.newRange.toJSON()), delete t3._markers, t3;
          }
          static get className() {
            return "MarkerOperation";
          }
          static fromJSON(t3, e3) {
            return new ja(t3.name, t3.oldRange ? xs.fromJSON(t3.oldRange, e3) : null, t3.newRange ? xs.fromJSON(t3.newRange, e3) : null, e3.model.markers, t3.affectsData, t3.baseVersion);
          }
        }
        class Da extends ya {
          constructor(t3, e3, i3, n2) {
            super(n2), this.position = t3, this.position.stickiness = "toNext", this.oldName = e3, this.newName = i3;
          }
          get type() {
            return "rename";
          }
          clone() {
            return new Da(this.position.clone(), this.oldName, this.newName, this.baseVersion);
          }
          getReversed() {
            return new Da(this.position.clone(), this.newName, this.oldName, this.baseVersion + 1);
          }
          _validate() {
            const t3 = this.position.nodeAfter;
            if (!(t3 instanceof ps)) throw new hi.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.", this);
            if (t3.name !== this.oldName) throw new hi.b("rename-operation-wrong-name: Element to change has different name than operation's old name.", this);
          }
          _execute() {
            this.position.nodeAfter.name = this.newName;
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.position = this.position.toJSON(), t3;
          }
          static get className() {
            return "RenameOperation";
          }
          static fromJSON(t3, e3) {
            return new Da(_s.fromJSON(t3.position, e3), t3.oldName, t3.newName, t3.baseVersion);
          }
        }
        class za extends ya {
          constructor(t3, e3, i3, n2, o2) {
            super(o2), this.root = t3, this.key = e3, this.oldValue = i3, this.newValue = n2;
          }
          get type() {
            return null === this.oldValue ? "addRootAttribute" : null === this.newValue ? "removeRootAttribute" : "changeRootAttribute";
          }
          clone() {
            return new za(this.root, this.key, this.oldValue, this.newValue, this.baseVersion);
          }
          getReversed() {
            return new za(this.root, this.key, this.newValue, this.oldValue, this.baseVersion + 1);
          }
          _validate() {
            if (this.root != this.root.root || this.root.is("documentFragment")) throw new hi.b("rootattribute-operation-not-a-root: The element to change is not a root element.", this, { root: this.root, key: this.key });
            if (null !== this.oldValue && this.root.getAttribute(this.key) !== this.oldValue) throw new hi.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.", this, { root: this.root, key: this.key });
            if (null === this.oldValue && null !== this.newValue && this.root.hasAttribute(this.key)) throw new hi.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.", this, { root: this.root, key: this.key });
          }
          _execute() {
            null !== this.newValue ? this.root._setAttribute(this.key, this.newValue) : this.root._removeAttribute(this.key);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.root = this.root.toJSON(), t3;
          }
          static get className() {
            return "RootAttributeOperation";
          }
          static fromJSON(t3, e3) {
            if (!e3.getRoot(t3.root)) throw new hi.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.", this, { rootName: t3.root });
            return new za(e3.getRoot(t3.root), t3.key, t3.oldValue, t3.newValue, t3.baseVersion);
          }
        }
        class Ba extends ya {
          constructor(t3, e3, i3, n2, o2) {
            super(o2), this.sourcePosition = t3.clone(), this.sourcePosition.stickiness = "toPrevious", this.howMany = e3, this.targetPosition = i3.clone(), this.targetPosition.stickiness = "toNext", this.graveyardPosition = n2.clone();
          }
          get type() {
            return "merge";
          }
          get deletionPosition() {
            return new _s(this.sourcePosition.root, this.sourcePosition.path.slice(0, -1));
          }
          get movedRange() {
            const t3 = this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);
            return new xs(this.sourcePosition, t3);
          }
          clone() {
            return new this.constructor(this.sourcePosition, this.howMany, this.targetPosition, this.graveyardPosition, this.baseVersion);
          }
          getReversed() {
            const t3 = this.targetPosition._getTransformedByMergeOperation(this), e3 = this.sourcePosition.path.slice(0, -1), i3 = new _s(this.sourcePosition.root, e3)._getTransformedByMergeOperation(this), n2 = new Va(t3, this.howMany, this.graveyardPosition, this.baseVersion + 1);
            return n2.insertionPosition = i3, n2;
          }
          _validate() {
            const t3 = this.sourcePosition.parent, e3 = this.targetPosition.parent;
            if (!t3.parent) throw new hi.b("merge-operation-source-position-invalid: Merge source position is invalid.", this);
            if (!e3.parent) throw new hi.b("merge-operation-target-position-invalid: Merge target position is invalid.", this);
            if (this.howMany != t3.maxOffset) throw new hi.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.", this);
          }
          _execute() {
            const t3 = this.sourcePosition.parent;
            Ta(xs._createIn(t3), this.targetPosition), Ta(xs._createOn(t3), this.graveyardPosition);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.sourcePosition = t3.sourcePosition.toJSON(), t3.targetPosition = t3.targetPosition.toJSON(), t3.graveyardPosition = t3.graveyardPosition.toJSON(), t3;
          }
          static get className() {
            return "MergeOperation";
          }
          static fromJSON(t3, e3) {
            const i3 = _s.fromJSON(t3.sourcePosition, e3), n2 = _s.fromJSON(t3.targetPosition, e3), o2 = _s.fromJSON(t3.graveyardPosition, e3);
            return new this(i3, t3.howMany, n2, o2, t3.baseVersion);
          }
        }
        class Va extends ya {
          constructor(t3, e3, i3, n2) {
            super(n2), this.splitPosition = t3.clone(), this.splitPosition.stickiness = "toNext", this.howMany = e3, this.insertionPosition = Va.getInsertionPosition(t3), this.insertionPosition.stickiness = "toNone", this.graveyardPosition = i3 ? i3.clone() : null, this.graveyardPosition && (this.graveyardPosition.stickiness = "toNext");
          }
          get type() {
            return "split";
          }
          get moveTargetPosition() {
            const t3 = this.insertionPosition.path.slice();
            return t3.push(0), new _s(this.insertionPosition.root, t3);
          }
          get movedRange() {
            const t3 = this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);
            return new xs(this.splitPosition, t3);
          }
          clone() {
            const t3 = new this.constructor(this.splitPosition, this.howMany, this.graveyardPosition, this.baseVersion);
            return t3.insertionPosition = this.insertionPosition, t3;
          }
          getReversed() {
            const t3 = this.splitPosition.root.document.graveyard, e3 = new _s(t3, [0]);
            return new Ba(this.moveTargetPosition, this.howMany, this.splitPosition, e3, this.baseVersion + 1);
          }
          _validate() {
            const t3 = this.splitPosition.parent, e3 = this.splitPosition.offset;
            if (!t3 || t3.maxOffset < e3) throw new hi.b("split-operation-position-invalid: Split position is invalid.", this);
            if (!t3.parent) throw new hi.b("split-operation-split-in-root: Cannot split root element.", this);
            if (this.howMany != t3.maxOffset - this.splitPosition.offset) throw new hi.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.", this);
            if (this.graveyardPosition && !this.graveyardPosition.nodeAfter) throw new hi.b("split-operation-graveyard-position-invalid: Graveyard position invalid.", this);
          }
          _execute() {
            const t3 = this.splitPosition.parent;
            if (this.graveyardPosition) Ta(xs._createFromPositionAndShift(this.graveyardPosition, 1), this.insertionPosition);
            else {
              const e3 = t3._clone();
              Aa(this.insertionPosition, e3);
            }
            Ta(new xs(_s._createAt(t3, this.splitPosition.offset), _s._createAt(t3, t3.maxOffset)), this.moveTargetPosition);
          }
          toJSON() {
            const t3 = super.toJSON();
            return t3.splitPosition = this.splitPosition.toJSON(), t3.insertionPosition = this.insertionPosition.toJSON(), this.graveyardPosition && (t3.graveyardPosition = this.graveyardPosition.toJSON()), t3;
          }
          static get className() {
            return "SplitOperation";
          }
          static getInsertionPosition(t3) {
            const e3 = t3.path.slice(0, -1);
            return e3[e3.length - 1]++, new _s(t3.root, e3);
          }
          static fromJSON(t3, e3) {
            const i3 = _s.fromJSON(t3.splitPosition, e3), n2 = _s.fromJSON(t3.insertionPosition, e3), o2 = t3.graveyardPosition ? _s.fromJSON(t3.graveyardPosition, e3) : null, r2 = new this(i3, t3.howMany, o2, t3.baseVersion);
            return r2.insertionPosition = n2, r2;
          }
        }
        class Fa extends ps {
          constructor(t3, e3, i3 = "main") {
            super(e3), this._document = t3, this.rootName = i3;
          }
          get document() {
            return this._document;
          }
          is(t3, e3) {
            return e3 ? e3 === this.name && ("rootElement" === t3 || "model:rootElement" === t3 || "element" === t3 || "model:element" === t3) : "rootElement" === t3 || "model:rootElement" === t3 || "element" === t3 || "model:element" === t3 || t3 === this.name || t3 === "model:" + this.name || "node" === t3 || "model:node" === t3;
          }
          toJSON() {
            return this.rootName;
          }
        }
        class Ha {
          constructor(t3, e3) {
            this.model = t3, this.batch = e3;
          }
          createText(t3, e3) {
            return new ms(t3, e3);
          }
          createElement(t3, e3) {
            return new ps(t3, e3);
          }
          createDocumentFragment() {
            return new xa();
          }
          insert(t3, e3, i3 = 0) {
            if (this._assertWriterUsedCorrectly(), t3 instanceof ms && "" == t3.data) return;
            const n2 = _s._createAt(e3, i3);
            if (t3.parent) {
              if ($a(t3.root, n2.root)) return void this.move(xs._createOn(t3), n2);
              if (t3.root.document) throw new hi.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.", this);
              this.remove(t3);
            }
            const o2 = n2.root.document ? n2.root.document.version : null, r2 = new La(n2, t3, o2);
            if (t3 instanceof ms && (r2.shouldReceiveAttributes = true), this.batch.addOperation(r2), this.model.applyOperation(r2), t3 instanceof xa) for (const [e4, i4] of t3.markers) {
              const t4 = _s._createAt(i4.root, 0), o3 = { range: new xs(i4.start._getCombined(t4, n2), i4.end._getCombined(t4, n2)), usingOperation: true, affectsData: true };
              this.model.markers.has(e4) ? this.updateMarker(e4, o3) : this.addMarker(e4, o3);
            }
          }
          insertText(t3, e3, i3, n2) {
            e3 instanceof xa || e3 instanceof ps || e3 instanceof _s ? this.insert(this.createText(t3), e3, i3) : this.insert(this.createText(t3, e3), i3, n2);
          }
          insertElement(t3, e3, i3, n2) {
            e3 instanceof xa || e3 instanceof ps || e3 instanceof _s ? this.insert(this.createElement(t3), e3, i3) : this.insert(this.createElement(t3, e3), i3, n2);
          }
          append(t3, e3) {
            this.insert(t3, e3, "end");
          }
          appendText(t3, e3, i3) {
            e3 instanceof xa || e3 instanceof ps ? this.insert(this.createText(t3), e3, "end") : this.insert(this.createText(t3, e3), i3, "end");
          }
          appendElement(t3, e3, i3) {
            e3 instanceof xa || e3 instanceof ps ? this.insert(this.createElement(t3), e3, "end") : this.insert(this.createElement(t3, e3), i3, "end");
          }
          setAttribute(t3, e3, i3) {
            if (this._assertWriterUsedCorrectly(), i3 instanceof xs) {
              const n2 = i3.getMinimalFlatRanges();
              for (const i4 of n2) Ua(this, t3, e3, i4);
            } else Wa(this, t3, e3, i3);
          }
          setAttributes(t3, e3) {
            for (const [i3, n2] of Li(t3)) this.setAttribute(i3, n2, e3);
          }
          removeAttribute(t3, e3) {
            if (this._assertWriterUsedCorrectly(), e3 instanceof xs) {
              const i3 = e3.getMinimalFlatRanges();
              for (const e4 of i3) Ua(this, t3, null, e4);
            } else Wa(this, t3, null, e3);
          }
          clearAttributes(t3) {
            this._assertWriterUsedCorrectly();
            const e3 = (t4) => {
              for (const e4 of t4.getAttributeKeys()) this.removeAttribute(e4, t4);
            };
            if (t3 instanceof xs) for (const i3 of t3.getItems()) e3(i3);
            else e3(t3);
          }
          move(t3, e3, i3) {
            if (this._assertWriterUsedCorrectly(), !(t3 instanceof xs)) throw new hi.b("writer-move-invalid-range: Invalid range to move.", this);
            if (!t3.isFlat) throw new hi.b("writer-move-range-not-flat: Range to move is not flat.", this);
            const n2 = _s._createAt(e3, i3);
            if (n2.isEqual(t3.start)) return;
            if (this._addOperationForAffectedMarkers("move", t3), !$a(t3.root, n2.root)) throw new hi.b("writer-move-different-document: Range is going to be moved between different documents.", this);
            const o2 = t3.root.document ? t3.root.document.version : null, r2 = new Ra(t3.start, t3.end.offset - t3.start.offset, n2, o2);
            this.batch.addOperation(r2), this.model.applyOperation(r2);
          }
          remove(t3) {
            this._assertWriterUsedCorrectly();
            const e3 = (t3 instanceof xs ? t3 : xs._createOn(t3)).getMinimalFlatRanges().reverse();
            for (const t4 of e3) this._addOperationForAffectedMarkers("move", t4), Ya(t4.start, t4.end.offset - t4.start.offset, this.batch, this.model);
          }
          merge(t3) {
            this._assertWriterUsedCorrectly();
            const e3 = t3.nodeBefore, i3 = t3.nodeAfter;
            if (this._addOperationForAffectedMarkers("merge", t3), !(e3 instanceof ps)) throw new hi.b("writer-merge-no-element-before: Node before merge position must be an element.", this);
            if (!(i3 instanceof ps)) throw new hi.b("writer-merge-no-element-after: Node after merge position must be an element.", this);
            t3.root.document ? this._merge(t3) : this._mergeDetached(t3);
          }
          createPositionFromPath(t3, e3, i3) {
            return this.model.createPositionFromPath(t3, e3, i3);
          }
          createPositionAt(t3, e3) {
            return this.model.createPositionAt(t3, e3);
          }
          createPositionAfter(t3) {
            return this.model.createPositionAfter(t3);
          }
          createPositionBefore(t3) {
            return this.model.createPositionBefore(t3);
          }
          createRange(t3, e3) {
            return this.model.createRange(t3, e3);
          }
          createRangeIn(t3) {
            return this.model.createRangeIn(t3);
          }
          createRangeOn(t3) {
            return this.model.createRangeOn(t3);
          }
          createSelection(t3, e3, i3) {
            return this.model.createSelection(t3, e3, i3);
          }
          _mergeDetached(t3) {
            const e3 = t3.nodeBefore, i3 = t3.nodeAfter;
            this.move(xs._createIn(i3), _s._createAt(e3, "end")), this.remove(i3);
          }
          _merge(t3) {
            const e3 = _s._createAt(t3.nodeBefore, "end"), i3 = _s._createAt(t3.nodeAfter, 0), n2 = t3.root.document.graveyard, o2 = new _s(n2, [0]), r2 = t3.root.document.version, s4 = new Ba(i3, t3.nodeAfter.maxOffset, e3, o2, r2);
            this.batch.addOperation(s4), this.model.applyOperation(s4);
          }
          rename(t3, e3) {
            if (this._assertWriterUsedCorrectly(), !(t3 instanceof ps)) throw new hi.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.", this);
            const i3 = t3.root.document ? t3.root.document.version : null, n2 = new Da(_s._createBefore(t3), t3.name, e3, i3);
            this.batch.addOperation(n2), this.model.applyOperation(n2);
          }
          split(t3, e3) {
            this._assertWriterUsedCorrectly();
            let i3, n2, o2 = t3.parent;
            if (!o2.parent) throw new hi.b("writer-split-element-no-parent: Element with no parent can not be split.", this);
            if (e3 || (e3 = o2.parent), !t3.parent.getAncestors({ includeSelf: true }).includes(e3)) throw new hi.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.", this);
            do {
              const e4 = o2.root.document ? o2.root.document.version : null, r2 = o2.maxOffset - t3.offset, s4 = new Va(t3, r2, null, e4);
              this.batch.addOperation(s4), this.model.applyOperation(s4), i3 || n2 || (i3 = o2, n2 = t3.parent.nextSibling), o2 = (t3 = this.createPositionAfter(t3.parent)).parent;
            } while (o2 !== e3);
            return { position: t3, range: new xs(_s._createAt(i3, "end"), _s._createAt(n2, 0)) };
          }
          wrap(t3, e3) {
            if (this._assertWriterUsedCorrectly(), !t3.isFlat) throw new hi.b("writer-wrap-range-not-flat: Range to wrap is not flat.", this);
            const i3 = e3 instanceof ps ? e3 : new ps(e3);
            if (i3.childCount > 0) throw new hi.b("writer-wrap-element-not-empty: Element to wrap with is not empty.", this);
            if (null !== i3.parent) throw new hi.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.", this);
            this.insert(i3, t3.start);
            const n2 = new xs(t3.start.getShiftedBy(1), t3.end.getShiftedBy(1));
            this.move(n2, _s._createAt(i3, 0));
          }
          unwrap(t3) {
            if (this._assertWriterUsedCorrectly(), null === t3.parent) throw new hi.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.", this);
            this.move(xs._createIn(t3), this.createPositionAfter(t3)), this.remove(t3);
          }
          addMarker(t3, e3) {
            if (this._assertWriterUsedCorrectly(), !e3 || "boolean" != typeof e3.usingOperation) throw new hi.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.", this);
            const i3 = e3.usingOperation, n2 = e3.range, o2 = void 0 !== e3.affectsData && e3.affectsData;
            if (this.model.markers.has(t3)) throw new hi.b("writer-addMarker-marker-exists: Marker with provided name already exists.", this);
            if (!n2) throw new hi.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.", this);
            return i3 ? (qa(this, t3, null, n2, o2), this.model.markers.get(t3)) : this.model.markers._set(t3, n2, i3, o2);
          }
          updateMarker(t3, e3) {
            this._assertWriterUsedCorrectly();
            const i3 = "string" == typeof t3 ? t3 : t3.name, n2 = this.model.markers.get(i3);
            if (!n2) throw new hi.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.", this);
            if (!e3) return void this.model.markers._refresh(n2);
            const o2 = "boolean" == typeof e3.usingOperation, r2 = "boolean" == typeof e3.affectsData, s4 = r2 ? e3.affectsData : n2.affectsData;
            if (!o2 && !e3.range && !r2) throw new hi.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.", this);
            const a4 = n2.getRange(), l2 = e3.range ? e3.range : a4;
            o2 && e3.usingOperation !== n2.managedUsingOperations ? e3.usingOperation ? qa(this, i3, null, l2, s4) : (qa(this, i3, a4, null, s4), this.model.markers._set(i3, l2, void 0, s4)) : n2.managedUsingOperations ? qa(this, i3, a4, l2, s4) : this.model.markers._set(i3, l2, void 0, s4);
          }
          removeMarker(t3) {
            this._assertWriterUsedCorrectly();
            const e3 = "string" == typeof t3 ? t3 : t3.name;
            if (!this.model.markers.has(e3)) throw new hi.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.", this);
            const i3 = this.model.markers.get(e3);
            if (!i3.managedUsingOperations) return void this.model.markers._remove(e3);
            qa(this, e3, i3.getRange(), null, i3.affectsData);
          }
          setSelection(t3, e3, i3) {
            this._assertWriterUsedCorrectly(), this.model.document.selection._setTo(t3, e3, i3);
          }
          setSelectionFocus(t3, e3) {
            this._assertWriterUsedCorrectly(), this.model.document.selection._setFocus(t3, e3);
          }
          setSelectionAttribute(t3, e3) {
            if (this._assertWriterUsedCorrectly(), "string" == typeof t3) this._setSelectionAttribute(t3, e3);
            else for (const [e4, i3] of Li(t3)) this._setSelectionAttribute(e4, i3);
          }
          removeSelectionAttribute(t3) {
            if (this._assertWriterUsedCorrectly(), "string" == typeof t3) this._removeSelectionAttribute(t3);
            else for (const e3 of t3) this._removeSelectionAttribute(e3);
          }
          overrideSelectionGravity() {
            return this.model.document.selection._overrideGravity();
          }
          restoreSelectionGravity(t3) {
            this.model.document.selection._restoreGravity(t3);
          }
          _setSelectionAttribute(t3, e3) {
            const i3 = this.model.document.selection;
            if (i3.isCollapsed && i3.anchor.parent.isEmpty) {
              const n2 = Ds._getStoreAttributeKey(t3);
              this.setAttribute(n2, e3, i3.anchor.parent);
            }
            i3._setAttribute(t3, e3);
          }
          _removeSelectionAttribute(t3) {
            const e3 = this.model.document.selection;
            if (e3.isCollapsed && e3.anchor.parent.isEmpty) {
              const i3 = Ds._getStoreAttributeKey(t3);
              this.removeAttribute(i3, e3.anchor.parent);
            }
            e3._removeAttribute(t3);
          }
          _assertWriterUsedCorrectly() {
            if (this.model._currentWriter !== this) throw new hi.b("writer-incorrect-use: Trying to use a writer outside the change() block.", this);
          }
          _addOperationForAffectedMarkers(t3, e3) {
            for (const i3 of this.model.markers) {
              if (!i3.managedUsingOperations) continue;
              const n2 = i3.getRange();
              let o2 = false;
              if ("move" === t3) o2 = e3.containsPosition(n2.start) || e3.start.isEqual(n2.start) || e3.containsPosition(n2.end) || e3.end.isEqual(n2.end);
              else {
                const t4 = e3.nodeBefore, i4 = e3.nodeAfter, r2 = n2.start.parent == t4 && n2.start.isAtEnd, s4 = n2.end.parent == i4 && 0 == n2.end.offset, a4 = n2.end.nodeAfter == i4, l2 = n2.start.nodeAfter == i4;
                o2 = r2 || s4 || a4 || l2;
              }
              o2 && this.updateMarker(i3.name, { range: n2 });
            }
          }
        }
        function Ua(t3, e3, i3, n2) {
          const o2 = t3.model, r2 = o2.document;
          let s4, a4, l2, c3 = n2.start;
          for (const t4 of n2.getWalker({ shallow: true })) l2 = t4.item.getAttribute(e3), s4 && a4 != l2 && (a4 != i3 && d4(), c3 = s4), s4 = t4.nextPosition, a4 = l2;
          function d4() {
            const n3 = new xs(c3, s4), l3 = n3.root.document ? r2.version : null, d5 = new Oa(n3, e3, a4, i3, l3);
            t3.batch.addOperation(d5), o2.applyOperation(d5);
          }
          s4 instanceof _s && s4 != c3 && a4 != i3 && d4();
        }
        function Wa(t3, e3, i3, n2) {
          const o2 = t3.model, r2 = o2.document, s4 = n2.getAttribute(e3);
          let a4, l2;
          if (s4 != i3) {
            if (n2.root === n2) {
              const t4 = n2.document ? r2.version : null;
              l2 = new za(n2, e3, s4, i3, t4);
            } else {
              a4 = new xs(_s._createBefore(n2), t3.createPositionAfter(n2));
              const o3 = a4.root.document ? r2.version : null;
              l2 = new Oa(a4, e3, s4, i3, o3);
            }
            t3.batch.addOperation(l2), o2.applyOperation(l2);
          }
        }
        function qa(t3, e3, i3, n2, o2) {
          const r2 = t3.model, s4 = r2.document, a4 = new ja(e3, i3, n2, r2.markers, o2, s4.version);
          t3.batch.addOperation(a4), r2.applyOperation(a4);
        }
        function Ya(t3, e3, i3, n2) {
          let o2;
          if (t3.root.document) {
            const i4 = n2.document, r2 = new _s(i4.graveyard, [0]);
            o2 = new Ra(t3, e3, r2, i4.version);
          } else o2 = new Na(t3, e3);
          i3.addOperation(o2), n2.applyOperation(o2);
        }
        function $a(t3, e3) {
          return t3 === e3 || t3 instanceof Fa && e3 instanceof Fa;
        }
        class Ja {
          constructor(t3) {
            this._markerCollection = t3, this._changesInElement = /* @__PURE__ */ new Map(), this._elementSnapshots = /* @__PURE__ */ new Map(), this._changedMarkers = /* @__PURE__ */ new Map(), this._changeCount = 0, this._cachedChanges = null, this._cachedChangesWithGraveyard = null;
          }
          get isEmpty() {
            return 0 == this._changesInElement.size && 0 == this._changedMarkers.size;
          }
          refreshItem(t3) {
            if (this._isInInsertedElement(t3.parent)) return;
            this._markRemove(t3.parent, t3.startOffset, t3.offsetSize), this._markInsert(t3.parent, t3.startOffset, t3.offsetSize);
            const e3 = xs._createOn(t3);
            for (const t4 of this._markerCollection.getMarkersIntersectingRange(e3)) {
              const e4 = t4.getRange();
              this.bufferMarkerChange(t4.name, e4, e4, t4.affectsData);
            }
            this._cachedChanges = null;
          }
          bufferOperation(t3) {
            switch (t3.type) {
              case "insert":
                if (this._isInInsertedElement(t3.position.parent)) return;
                this._markInsert(t3.position.parent, t3.position.offset, t3.nodes.maxOffset);
                break;
              case "addAttribute":
              case "removeAttribute":
              case "changeAttribute":
                for (const e3 of t3.range.getItems({ shallow: true })) this._isInInsertedElement(e3.parent) || this._markAttribute(e3);
                break;
              case "remove":
              case "move":
              case "reinsert": {
                if (t3.sourcePosition.isEqual(t3.targetPosition) || t3.sourcePosition.getShiftedBy(t3.howMany).isEqual(t3.targetPosition)) return;
                const e3 = this._isInInsertedElement(t3.sourcePosition.parent), i3 = this._isInInsertedElement(t3.targetPosition.parent);
                e3 || this._markRemove(t3.sourcePosition.parent, t3.sourcePosition.offset, t3.howMany), i3 || this._markInsert(t3.targetPosition.parent, t3.getMovedRangeStart().offset, t3.howMany);
                break;
              }
              case "rename": {
                if (this._isInInsertedElement(t3.position.parent)) return;
                this._markRemove(t3.position.parent, t3.position.offset, 1), this._markInsert(t3.position.parent, t3.position.offset, 1);
                const e3 = xs._createFromPositionAndShift(t3.position, 1);
                for (const t4 of this._markerCollection.getMarkersIntersectingRange(e3)) {
                  const e4 = t4.getRange();
                  this.bufferMarkerChange(t4.name, e4, e4, t4.affectsData);
                }
                break;
              }
              case "split": {
                const e3 = t3.splitPosition.parent;
                this._isInInsertedElement(e3) || this._markRemove(e3, t3.splitPosition.offset, t3.howMany), this._isInInsertedElement(t3.insertionPosition.parent) || this._markInsert(t3.insertionPosition.parent, t3.insertionPosition.offset, 1), t3.graveyardPosition && this._markRemove(t3.graveyardPosition.parent, t3.graveyardPosition.offset, 1);
                break;
              }
              case "merge": {
                const e3 = t3.sourcePosition.parent;
                this._isInInsertedElement(e3.parent) || this._markRemove(e3.parent, e3.startOffset, 1);
                const i3 = t3.graveyardPosition.parent;
                this._markInsert(i3, t3.graveyardPosition.offset, 1);
                const n2 = t3.targetPosition.parent;
                this._isInInsertedElement(n2) || this._markInsert(n2, t3.targetPosition.offset, e3.maxOffset);
                break;
              }
            }
            this._cachedChanges = null;
          }
          bufferMarkerChange(t3, e3, i3, n2) {
            const o2 = this._changedMarkers.get(t3);
            o2 ? (o2.newRange = i3, o2.affectsData = n2, null == o2.oldRange && null == o2.newRange && this._changedMarkers.delete(t3)) : this._changedMarkers.set(t3, { oldRange: e3, newRange: i3, affectsData: n2 });
          }
          getMarkersToRemove() {
            const t3 = [];
            for (const [e3, i3] of this._changedMarkers) null != i3.oldRange && t3.push({ name: e3, range: i3.oldRange });
            return t3;
          }
          getMarkersToAdd() {
            const t3 = [];
            for (const [e3, i3] of this._changedMarkers) null != i3.newRange && t3.push({ name: e3, range: i3.newRange });
            return t3;
          }
          getChangedMarkers() {
            return Array.from(this._changedMarkers).map((t3) => ({ name: t3[0], data: { oldRange: t3[1].oldRange, newRange: t3[1].newRange } }));
          }
          hasDataChanges() {
            for (const [, t3] of this._changedMarkers) if (t3.affectsData) return true;
            return this._changesInElement.size > 0;
          }
          getChanges(t3 = { includeChangesInGraveyard: false }) {
            if (this._cachedChanges) return t3.includeChangesInGraveyard ? this._cachedChangesWithGraveyard.slice() : this._cachedChanges.slice();
            const e3 = [];
            for (const t4 of this._changesInElement.keys()) {
              const i3 = this._changesInElement.get(t4).sort((t5, e4) => t5.offset === e4.offset ? t5.type != e4.type ? "remove" == t5.type ? -1 : 1 : 0 : t5.offset < e4.offset ? -1 : 1), n2 = this._elementSnapshots.get(t4), o2 = Ga(t4.getChildren()), r2 = Qa(n2.length, i3);
              let s4 = 0, a4 = 0;
              for (const i4 of r2) if ("i" === i4) e3.push(this._getInsertDiff(t4, s4, o2[s4].name)), s4++;
              else if ("r" === i4) e3.push(this._getRemoveDiff(t4, s4, n2[a4].name)), a4++;
              else if ("a" === i4) {
                const i5 = o2[s4].attributes, r3 = n2[a4].attributes;
                let l2;
                if ("$text" == o2[s4].name) l2 = new xs(_s._createAt(t4, s4), _s._createAt(t4, s4 + 1));
                else {
                  const e4 = t4.offsetToIndex(s4);
                  l2 = new xs(_s._createAt(t4, s4), _s._createAt(t4.getChild(e4), 0));
                }
                e3.push(...this._getAttributesDiff(l2, r3, i5)), s4++, a4++;
              } else s4++, a4++;
            }
            e3.sort((t4, e4) => t4.position.root != e4.position.root ? t4.position.root.rootName < e4.position.root.rootName ? -1 : 1 : t4.position.isEqual(e4.position) ? t4.changeCount - e4.changeCount : t4.position.isBefore(e4.position) ? -1 : 1);
            for (let t4 = 1; t4 < e3.length; t4++) {
              const i3 = e3[t4 - 1], n2 = e3[t4], o2 = "remove" == i3.type && "remove" == n2.type && "$text" == i3.name && "$text" == n2.name && i3.position.isEqual(n2.position), r2 = "insert" == i3.type && "insert" == n2.type && "$text" == i3.name && "$text" == n2.name && i3.position.parent == n2.position.parent && i3.position.offset + i3.length == n2.position.offset, s4 = "attribute" == i3.type && "attribute" == n2.type && i3.position.parent == n2.position.parent && i3.range.isFlat && n2.range.isFlat && i3.position.offset + i3.length == n2.position.offset && i3.attributeKey == n2.attributeKey && i3.attributeOldValue == n2.attributeOldValue && i3.attributeNewValue == n2.attributeNewValue;
              (o2 || r2 || s4) && (e3[t4 - 1].length++, s4 && (e3[t4 - 1].range.end = e3[t4 - 1].range.end.getShiftedBy(1)), e3.splice(t4, 1), t4--);
            }
            for (const t4 of e3) delete t4.changeCount, "attribute" == t4.type && (delete t4.position, delete t4.length);
            return this._changeCount = 0, this._cachedChangesWithGraveyard = e3.slice(), this._cachedChanges = e3.slice().filter(Xa), t3.includeChangesInGraveyard ? this._cachedChangesWithGraveyard : this._cachedChanges;
          }
          reset() {
            this._changesInElement.clear(), this._elementSnapshots.clear(), this._changedMarkers.clear(), this._cachedChanges = null;
          }
          _markInsert(t3, e3, i3) {
            const n2 = { type: "insert", offset: e3, howMany: i3, count: this._changeCount++ };
            this._markChange(t3, n2);
          }
          _markRemove(t3, e3, i3) {
            const n2 = { type: "remove", offset: e3, howMany: i3, count: this._changeCount++ };
            this._markChange(t3, n2), this._removeAllNestedChanges(t3, e3, i3);
          }
          _markAttribute(t3) {
            const e3 = { type: "attribute", offset: t3.startOffset, howMany: t3.offsetSize, count: this._changeCount++ };
            this._markChange(t3.parent, e3);
          }
          _markChange(t3, e3) {
            this._makeSnapshot(t3);
            const i3 = this._getChangesForElement(t3);
            this._handleChange(e3, i3), i3.push(e3);
            for (let t4 = 0; t4 < i3.length; t4++) i3[t4].howMany < 1 && (i3.splice(t4, 1), t4--);
          }
          _getChangesForElement(t3) {
            let e3;
            return this._changesInElement.has(t3) ? e3 = this._changesInElement.get(t3) : (e3 = [], this._changesInElement.set(t3, e3)), e3;
          }
          _makeSnapshot(t3) {
            this._elementSnapshots.has(t3) || this._elementSnapshots.set(t3, Ga(t3.getChildren()));
          }
          _handleChange(t3, e3) {
            t3.nodesToHandle = t3.howMany;
            for (const i3 of e3) {
              const n2 = t3.offset + t3.howMany, o2 = i3.offset + i3.howMany;
              if ("insert" == t3.type && ("insert" == i3.type && (t3.offset <= i3.offset ? i3.offset += t3.howMany : t3.offset < o2 && (i3.howMany += t3.nodesToHandle, t3.nodesToHandle = 0)), "remove" == i3.type && t3.offset < i3.offset && (i3.offset += t3.howMany), "attribute" == i3.type)) {
                if (t3.offset <= i3.offset) i3.offset += t3.howMany;
                else if (t3.offset < o2) {
                  const o3 = i3.howMany;
                  i3.howMany = t3.offset - i3.offset, e3.unshift({ type: "attribute", offset: n2, howMany: o3 - i3.howMany, count: this._changeCount++ });
                }
              }
              if ("remove" == t3.type) {
                if ("insert" == i3.type) {
                  if (n2 <= i3.offset) i3.offset -= t3.howMany;
                  else if (n2 <= o2) if (t3.offset < i3.offset) {
                    const e4 = n2 - i3.offset;
                    i3.offset = t3.offset, i3.howMany -= e4, t3.nodesToHandle -= e4;
                  } else i3.howMany -= t3.nodesToHandle, t3.nodesToHandle = 0;
                  else if (t3.offset <= i3.offset) t3.nodesToHandle -= i3.howMany, i3.howMany = 0;
                  else if (t3.offset < o2) {
                    const e4 = o2 - t3.offset;
                    i3.howMany -= e4, t3.nodesToHandle -= e4;
                  }
                }
                if ("remove" == i3.type && (n2 <= i3.offset ? i3.offset -= t3.howMany : t3.offset < i3.offset && (t3.nodesToHandle += i3.howMany, i3.howMany = 0)), "attribute" == i3.type) {
                  if (n2 <= i3.offset) i3.offset -= t3.howMany;
                  else if (t3.offset < i3.offset) {
                    const e4 = n2 - i3.offset;
                    i3.offset = t3.offset, i3.howMany -= e4;
                  } else if (t3.offset < o2) if (n2 <= o2) {
                    const n3 = i3.howMany;
                    i3.howMany = t3.offset - i3.offset;
                    const o3 = n3 - i3.howMany - t3.nodesToHandle;
                    e3.unshift({ type: "attribute", offset: t3.offset, howMany: o3, count: this._changeCount++ });
                  } else i3.howMany -= o2 - t3.offset;
                }
              }
              if ("attribute" == t3.type) {
                if ("insert" == i3.type) if (t3.offset < i3.offset && n2 > i3.offset) {
                  if (n2 > o2) {
                    const t4 = { type: "attribute", offset: o2, howMany: n2 - o2, count: this._changeCount++ };
                    this._handleChange(t4, e3), e3.push(t4);
                  }
                  t3.nodesToHandle = i3.offset - t3.offset, t3.howMany = t3.nodesToHandle;
                } else t3.offset >= i3.offset && t3.offset < o2 && (n2 > o2 ? (t3.nodesToHandle = n2 - o2, t3.offset = o2) : t3.nodesToHandle = 0);
                if ("remove" == i3.type && t3.offset < i3.offset && n2 > i3.offset) {
                  const o3 = { type: "attribute", offset: i3.offset, howMany: n2 - i3.offset, count: this._changeCount++ };
                  this._handleChange(o3, e3), e3.push(o3), t3.nodesToHandle = i3.offset - t3.offset, t3.howMany = t3.nodesToHandle;
                }
                "attribute" == i3.type && (t3.offset >= i3.offset && n2 <= o2 ? (t3.nodesToHandle = 0, t3.howMany = 0, t3.offset = 0) : t3.offset <= i3.offset && n2 >= o2 && (i3.howMany = 0));
              }
            }
            t3.howMany = t3.nodesToHandle, delete t3.nodesToHandle;
          }
          _getInsertDiff(t3, e3, i3) {
            return { type: "insert", position: _s._createAt(t3, e3), name: i3, length: 1, changeCount: this._changeCount++ };
          }
          _getRemoveDiff(t3, e3, i3) {
            return { type: "remove", position: _s._createAt(t3, e3), name: i3, length: 1, changeCount: this._changeCount++ };
          }
          _getAttributesDiff(t3, e3, i3) {
            const n2 = [];
            i3 = new Map(i3);
            for (const [o2, r2] of e3) {
              const e4 = i3.has(o2) ? i3.get(o2) : null;
              e4 !== r2 && n2.push({ type: "attribute", position: t3.start, range: t3.clone(), length: 1, attributeKey: o2, attributeOldValue: r2, attributeNewValue: e4, changeCount: this._changeCount++ }), i3.delete(o2);
            }
            for (const [e4, o2] of i3) n2.push({ type: "attribute", position: t3.start, range: t3.clone(), length: 1, attributeKey: e4, attributeOldValue: null, attributeNewValue: o2, changeCount: this._changeCount++ });
            return n2;
          }
          _isInInsertedElement(t3) {
            const e3 = t3.parent;
            if (!e3) return false;
            const i3 = this._changesInElement.get(e3), n2 = t3.startOffset;
            if (i3) {
              for (const t4 of i3) if ("insert" == t4.type && n2 >= t4.offset && n2 < t4.offset + t4.howMany) return true;
            }
            return this._isInInsertedElement(e3);
          }
          _removeAllNestedChanges(t3, e3, i3) {
            const n2 = new xs(_s._createAt(t3, e3), _s._createAt(t3, e3 + i3));
            for (const t4 of n2.getItems({ shallow: true })) t4.is("element") && (this._elementSnapshots.delete(t4), this._changesInElement.delete(t4), this._removeAllNestedChanges(t4, 0, t4.maxOffset));
          }
        }
        function Ga(t3) {
          const e3 = [];
          for (const i3 of t3) if (i3.is("text")) for (let t4 = 0; t4 < i3.data.length; t4++) e3.push({ name: "$text", attributes: new Map(i3.getAttributes()) });
          else e3.push({ name: i3.name, attributes: new Map(i3.getAttributes()) });
          return e3;
        }
        function Qa(t3, e3) {
          const i3 = [];
          let n2 = 0, o2 = 0;
          for (const t4 of e3) {
            if (t4.offset > n2) {
              for (let e4 = 0; e4 < t4.offset - n2; e4++) i3.push("e");
              o2 += t4.offset - n2;
            }
            if ("insert" == t4.type) {
              for (let e4 = 0; e4 < t4.howMany; e4++) i3.push("i");
              n2 = t4.offset + t4.howMany;
            } else if ("remove" == t4.type) {
              for (let e4 = 0; e4 < t4.howMany; e4++) i3.push("r");
              n2 = t4.offset, o2 += t4.howMany;
            } else i3.push(..."a".repeat(t4.howMany).split("")), n2 = t4.offset + t4.howMany, o2 += t4.howMany;
          }
          if (o2 < t3) for (let e4 = 0; e4 < t3 - o2 - n2; e4++) i3.push("e");
          return i3;
        }
        function Xa(t3) {
          const e3 = t3.position && "$graveyard" == t3.position.root.rootName, i3 = t3.range && "$graveyard" == t3.range.root.rootName;
          return !e3 && !i3;
        }
        class Ka {
          constructor() {
            this._operations = [], this._undoPairs = /* @__PURE__ */ new Map(), this._undoneOperations = /* @__PURE__ */ new Set();
          }
          addOperation(t3) {
            this._operations.includes(t3) || this._operations.push(t3);
          }
          getOperations(t3 = 0, e3 = Number.POSITIVE_INFINITY) {
            return t3 < 0 ? [] : this._operations.slice(t3, e3);
          }
          getOperation(t3) {
            return this._operations[t3];
          }
          setOperationAsUndone(t3, e3) {
            this._undoPairs.set(e3, t3), this._undoneOperations.add(t3);
          }
          isUndoingOperation(t3) {
            return this._undoPairs.has(t3);
          }
          isUndoneOperation(t3) {
            return this._undoneOperations.has(t3);
          }
          getUndoneOperation(t3) {
            return this._undoPairs.get(t3);
          }
        }
        function Za(t3, e3) {
          return !!(i3 = t3.charAt(e3 - 1)) && 1 == i3.length && /[\ud800-\udbff]/.test(i3) && function(t4) {
            return !!t4 && 1 == t4.length && /[\udc00-\udfff]/.test(t4);
          }(t3.charAt(e3));
          var i3;
        }
        function tl(t3, e3) {
          return !!(i3 = t3.charAt(e3)) && 1 == i3.length && /[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i3);
          var i3;
        }
        class el {
          constructor(t3) {
            this.model = t3, this.version = 0, this.history = new Ka(this), this.selection = new Ds(this), this.roots = new xi({ idProperty: "rootName" }), this.differ = new Ja(t3.markers), this._postFixers = /* @__PURE__ */ new Set(), this._hasSelectionChangedFromTheLastChangeBlock = false, this.createRoot("$root", "$graveyard"), this.listenTo(t3, "applyOperation", (t4, e3) => {
              const i3 = e3[0];
              if (i3.isDocumentOperation && i3.baseVersion !== this.version) throw new hi.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.", this, { operation: i3 });
            }, { priority: "highest" }), this.listenTo(t3, "applyOperation", (t4, e3) => {
              const i3 = e3[0];
              i3.isDocumentOperation && this.differ.bufferOperation(i3);
            }, { priority: "high" }), this.listenTo(t3, "applyOperation", (t4, e3) => {
              const i3 = e3[0];
              i3.isDocumentOperation && (this.version++, this.history.addOperation(i3));
            }, { priority: "low" }), this.listenTo(this.selection, "change", () => {
              this._hasSelectionChangedFromTheLastChangeBlock = true;
            }), this.listenTo(t3.markers, "update", (t4, e3, i3, n2) => {
              this.differ.bufferMarkerChange(e3.name, i3, n2, e3.affectsData), null === i3 && e3.on("change", (t5, i4) => {
                this.differ.bufferMarkerChange(e3.name, i4, e3.getRange(), e3.affectsData);
              });
            });
          }
          get graveyard() {
            return this.getRoot("$graveyard");
          }
          createRoot(t3 = "$root", e3 = "main") {
            if (this.roots.get(e3)) throw new hi.b("model-document-createRoot-name-exists: Root with specified name already exists.", this, { name: e3 });
            const i3 = new Fa(this, t3, e3);
            return this.roots.add(i3), i3;
          }
          destroy() {
            this.selection.destroy(), this.stopListening();
          }
          getRoot(t3 = "main") {
            return this.roots.get(t3);
          }
          getRootNames() {
            return Array.from(this.roots, (t3) => t3.rootName).filter((t3) => "$graveyard" != t3);
          }
          registerPostFixer(t3) {
            this._postFixers.add(t3);
          }
          toJSON() {
            const t3 = Ii(this);
            return t3.selection = "[engine.model.DocumentSelection]", t3.model = "[engine.model.Model]", t3;
          }
          _handleChangeBlock(t3) {
            this._hasDocumentChangedFromTheLastChangeBlock() && (this._callPostFixers(t3), this.selection.refresh(), this.differ.hasDataChanges() ? this.fire("change:data", t3.batch) : this.fire("change", t3.batch), this.selection.refresh(), this.differ.reset()), this._hasSelectionChangedFromTheLastChangeBlock = false;
          }
          _hasDocumentChangedFromTheLastChangeBlock() {
            return !this.differ.isEmpty || this._hasSelectionChangedFromTheLastChangeBlock;
          }
          _getDefaultRoot() {
            for (const t3 of this.roots) if (t3 !== this.graveyard) return t3;
            return this.graveyard;
          }
          _getDefaultRange() {
            const t3 = this._getDefaultRoot(), e3 = this.model, i3 = e3.schema, n2 = e3.createPositionFromPath(t3, [0]);
            return i3.getNearestSelectionRange(n2) || e3.createRange(n2);
          }
          _validateSelectionRange(t3) {
            return il(t3.start) && il(t3.end);
          }
          _callPostFixers(t3) {
            let e3 = false;
            do {
              for (const i3 of this._postFixers) if (this.selection.refresh(), e3 = i3(t3), e3) break;
            } while (e3);
          }
        }
        function il(t3) {
          const e3 = t3.textNode;
          if (e3) {
            const i3 = e3.data, n2 = t3.offset - e3.startOffset;
            return !Za(i3, n2) && !tl(i3, n2);
          }
          return true;
        }
        yi(el, gi);
        class nl {
          constructor() {
            this._markers = /* @__PURE__ */ new Map();
          }
          [Symbol.iterator]() {
            return this._markers.values();
          }
          has(t3) {
            return this._markers.has(t3);
          }
          get(t3) {
            return this._markers.get(t3) || null;
          }
          _set(t3, e3, i3 = false, n2 = false) {
            const o2 = t3 instanceof ol ? t3.name : t3, r2 = this._markers.get(o2);
            if (r2) {
              const t4 = r2.getRange();
              let s5 = false;
              return t4.isEqual(e3) || (r2._attachLiveRange(Rs.fromRange(e3)), s5 = true), i3 != r2.managedUsingOperations && (r2._managedUsingOperations = i3, s5 = true), "boolean" == typeof n2 && n2 != r2.affectsData && (r2._affectsData = n2, s5 = true), s5 && this.fire("update:" + o2, r2, t4, e3), r2;
            }
            const s4 = Rs.fromRange(e3), a4 = new ol(o2, s4, i3, n2);
            return this._markers.set(o2, a4), this.fire("update:" + o2, a4, null, e3), a4;
          }
          _remove(t3) {
            const e3 = t3 instanceof ol ? t3.name : t3, i3 = this._markers.get(e3);
            return !!i3 && (this._markers.delete(e3), this.fire("update:" + e3, i3, i3.getRange(), null), this._destroyMarker(i3), true);
          }
          _refresh(t3) {
            const e3 = t3 instanceof ol ? t3.name : t3, i3 = this._markers.get(e3);
            if (!i3) throw new hi.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.", this);
            const n2 = i3.getRange();
            this.fire("update:" + e3, i3, n2, n2, i3.managedUsingOperations, i3.affectsData);
          }
          *getMarkersAtPosition(t3) {
            for (const e3 of this) e3.getRange().containsPosition(t3) && (yield e3);
          }
          *getMarkersIntersectingRange(t3) {
            for (const e3 of this) null !== e3.getRange().getIntersection(t3) && (yield e3);
          }
          destroy() {
            for (const t3 of this._markers.values()) this._destroyMarker(t3);
            this._markers = null, this.stopListening();
          }
          *getMarkersGroup(t3) {
            for (const e3 of this._markers.values()) e3.name.startsWith(t3 + ":") && (yield e3);
          }
          _destroyMarker(t3) {
            t3.stopListening(), t3._detachLiveRange();
          }
        }
        yi(nl, gi);
        class ol {
          constructor(t3, e3, i3, n2) {
            this.name = t3, this._liveRange = this._attachLiveRange(e3), this._managedUsingOperations = i3, this._affectsData = n2;
          }
          get managedUsingOperations() {
            if (!this._liveRange) throw new hi.b("marker-destroyed: Cannot use a destroyed marker instance.", this);
            return this._managedUsingOperations;
          }
          get affectsData() {
            if (!this._liveRange) throw new hi.b("marker-destroyed: Cannot use a destroyed marker instance.", this);
            return this._affectsData;
          }
          getStart() {
            if (!this._liveRange) throw new hi.b("marker-destroyed: Cannot use a destroyed marker instance.", this);
            return this._liveRange.start.clone();
          }
          getEnd() {
            if (!this._liveRange) throw new hi.b("marker-destroyed: Cannot use a destroyed marker instance.", this);
            return this._liveRange.end.clone();
          }
          getRange() {
            if (!this._liveRange) throw new hi.b("marker-destroyed: Cannot use a destroyed marker instance.", this);
            return this._liveRange.toRange();
          }
          is(t3) {
            return "marker" === t3 || "model:marker" === t3;
          }
          _attachLiveRange(t3) {
            return this._liveRange && this._detachLiveRange(), t3.delegate("change:range").to(this), t3.delegate("change:content").to(this), this._liveRange = t3, t3;
          }
          _detachLiveRange() {
            this._liveRange.stopDelegating("change:range", this), this._liveRange.stopDelegating("change:content", this), this._liveRange.detach(), this._liveRange = null;
          }
        }
        yi(ol, gi);
        class rl extends ya {
          get type() {
            return "noop";
          }
          clone() {
            return new rl(this.baseVersion);
          }
          getReversed() {
            return new rl(this.baseVersion + 1);
          }
          _execute() {
          }
          static get className() {
            return "NoOperation";
          }
        }
        const sl = {};
        sl[Oa.className] = Oa, sl[La.className] = La, sl[ja.className] = ja, sl[Ra.className] = Ra, sl[rl.className] = rl, sl[ya.className] = ya, sl[Da.className] = Da, sl[za.className] = za, sl[Va.className] = Va, sl[Ba.className] = Ba;
        class al extends _s {
          constructor(t3, e3, i3 = "toNone") {
            if (super(t3, e3, i3), !this.root.is("rootElement")) throw new hi.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.", t3);
            ll.call(this);
          }
          detach() {
            this.stopListening();
          }
          is(t3) {
            return "livePosition" === t3 || "model:livePosition" === t3 || "position" == t3 || "model:position" === t3;
          }
          toPosition() {
            return new _s(this.root, this.path.slice(), this.stickiness);
          }
          static fromPosition(t3, e3) {
            return new this(t3.root, t3.path.slice(), e3 || t3.stickiness);
          }
        }
        function ll() {
          this.listenTo(this.root.document.model, "applyOperation", (t3, e3) => {
            const i3 = e3[0];
            i3.isDocumentOperation && cl.call(this, i3);
          }, { priority: "low" });
        }
        function cl(t3) {
          const e3 = this.getTransformedByOperation(t3);
          if (!this.isEqual(e3)) {
            const t4 = this.toPosition();
            this.path = e3.path, this.root = e3.root, this.fire("change", t4);
          }
        }
        yi(al, gi);
        class dl {
          constructor(t3, e3, i3) {
            this.model = t3, this.writer = e3, this.position = i3, this.canMergeWith = /* @__PURE__ */ new Set([this.position.parent]), this.schema = t3.schema, this._filterAttributesOf = [], this._affectedStart = null, this._affectedEnd = null;
          }
          handleNodes(t3, e3) {
            t3 = Array.from(t3);
            for (let i3 = 0; i3 < t3.length; i3++) {
              const n2 = t3[i3];
              this._handleNode(n2, { isFirst: 0 === i3 && e3.isFirst, isLast: i3 === t3.length - 1 && e3.isLast });
            }
            this.schema.removeDisallowedAttributes(this._filterAttributesOf, this.writer), this._filterAttributesOf = [];
          }
          getSelectionRange() {
            return this.nodeToSelect ? xs._createOn(this.nodeToSelect) : this.model.schema.getNearestSelectionRange(this.position);
          }
          getAffectedRange() {
            return this._affectedStart ? new xs(this._affectedStart, this._affectedEnd) : null;
          }
          destroy() {
            this._affectedStart && this._affectedStart.detach(), this._affectedEnd && this._affectedEnd.detach();
          }
          _handleNode(t3, e3) {
            if (this.schema.isObject(t3)) return void this._handleObject(t3, e3);
            this._checkAndSplitToAllowedPosition(t3, e3) ? (this._insert(t3), this._mergeSiblingsOf(t3, e3)) : this._handleDisallowedNode(t3, e3);
          }
          _handleObject(t3, e3) {
            this._checkAndSplitToAllowedPosition(t3) ? this._insert(t3) : this._tryAutoparagraphing(t3, e3);
          }
          _handleDisallowedNode(t3, e3) {
            t3.is("element") ? this.handleNodes(t3.getChildren(), e3) : this._tryAutoparagraphing(t3, e3);
          }
          _insert(t3) {
            if (!this.schema.checkChild(this.position, t3)) throw new hi.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.", this, { node: t3, position: this.position });
            const e3 = al.fromPosition(this.position, "toNext");
            this._setAffectedBoundaries(this.position), this.writer.insert(t3, this.position), this.position = e3.toPosition(), e3.detach(), this.schema.isObject(t3) && !this.schema.checkChild(this.position, "$text") ? this.nodeToSelect = t3 : this.nodeToSelect = null, this._filterAttributesOf.push(t3);
          }
          _setAffectedBoundaries(t3) {
            this._affectedStart || (this._affectedStart = al.fromPosition(t3, "toPrevious")), this._affectedEnd && !this._affectedEnd.isBefore(t3) || (this._affectedEnd && this._affectedEnd.detach(), this._affectedEnd = al.fromPosition(t3, "toNext"));
          }
          _mergeSiblingsOf(t3, e3) {
            if (!(t3 instanceof ps)) return;
            const i3 = this._canMergeLeft(t3, e3), n2 = this._canMergeRight(t3, e3), o2 = al._createBefore(t3);
            o2.stickiness = "toNext";
            const r2 = al._createAfter(t3);
            if (r2.stickiness = "toNext", i3) {
              const t4 = al.fromPosition(this.position);
              t4.stickiness = "toNext", this._affectedStart.isEqual(o2) && (this._affectedStart.detach(), this._affectedStart = al._createAt(o2.nodeBefore, "end", "toPrevious")), this.writer.merge(o2), o2.isEqual(this._affectedEnd) && e3.isLast && (this._affectedEnd.detach(), this._affectedEnd = al._createAt(o2.nodeBefore, "end", "toNext")), this.position = t4.toPosition(), t4.detach();
            }
            if (n2) {
              if (!this.position.isEqual(r2)) throw new hi.b("insertcontent-invalid-insertion-position", this);
              this.position = _s._createAt(r2.nodeBefore, "end");
              const t4 = al.fromPosition(this.position, "toPrevious");
              this._affectedEnd.isEqual(r2) && (this._affectedEnd.detach(), this._affectedEnd = al._createAt(r2.nodeBefore, "end", "toNext")), this.writer.merge(r2), r2.getShiftedBy(-1).isEqual(this._affectedStart) && e3.isFirst && (this._affectedStart.detach(), this._affectedStart = al._createAt(r2.nodeBefore, 0, "toPrevious")), this.position = t4.toPosition(), t4.detach();
            }
            (i3 || n2) && this._filterAttributesOf.push(this.position.parent), o2.detach(), r2.detach();
          }
          _canMergeLeft(t3, e3) {
            const i3 = t3.previousSibling;
            return e3.isFirst && i3 instanceof ps && this.canMergeWith.has(i3) && this.model.schema.checkMerge(i3, t3);
          }
          _canMergeRight(t3, e3) {
            const i3 = t3.nextSibling;
            return e3.isLast && i3 instanceof ps && this.canMergeWith.has(i3) && this.model.schema.checkMerge(t3, i3);
          }
          _tryAutoparagraphing(t3, e3) {
            const i3 = this.writer.createElement("paragraph");
            this._getAllowedIn(i3, this.position.parent) && this.schema.checkChild(i3, t3) && (i3._appendChild(t3), this._handleNode(i3, e3));
          }
          _checkAndSplitToAllowedPosition(t3) {
            const e3 = this._getAllowedIn(t3, this.position.parent);
            if (!e3) return false;
            for (; e3 != this.position.parent; ) {
              if (this.schema.isLimit(this.position.parent)) return false;
              if (this.position.isAtStart) {
                const t4 = this.position.parent;
                this.position = this.writer.createPositionBefore(t4), t4.isEmpty && t4.parent === e3 && this.writer.remove(t4);
              } else if (this.position.isAtEnd) this.position = this.writer.createPositionAfter(this.position.parent);
              else {
                const t4 = this.writer.createPositionAfter(this.position.parent);
                this._setAffectedBoundaries(this.position), this.writer.split(this.position), this.position = t4, this.canMergeWith.add(this.position.nodeAfter);
              }
            }
            return true;
          }
          _getAllowedIn(t3, e3) {
            return this.schema.checkChild(e3, t3) ? e3 : e3.parent ? this._getAllowedIn(t3, e3.parent) : null;
          }
        }
        function hl(t3, e3, i3 = {}) {
          if (e3.isCollapsed) return;
          const n2 = e3.getFirstRange();
          if ("$graveyard" == n2.root.rootName) return;
          const o2 = t3.schema;
          t3.change((t4) => {
            if (!i3.doNotResetEntireContent && function(t5, e4) {
              const i4 = t5.getLimitElement(e4);
              if (!e4.containsEntireContent(i4)) return false;
              const n3 = e4.getFirstRange();
              if (n3.start.parent == n3.end.parent) return false;
              return t5.checkChild(i4, "paragraph");
            }(o2, e3)) return void function(t5, e4) {
              const i4 = t5.model.schema.getLimitElement(e4);
              t5.remove(t5.createRangeIn(i4)), ul(t5, t5.createPositionAt(i4, 0), e4);
            }(t4, e3);
            const r2 = n2.start, s4 = al.fromPosition(n2.end, "toNext");
            n2.start.isTouching(n2.end) || t4.remove(n2), i3.leaveUnmerged || (!function t5(e4, i4, n3) {
              const o3 = i4.parent, r3 = n3.parent;
              if (o3 == r3) return;
              if (e4.model.schema.isLimit(o3) || e4.model.schema.isLimit(r3)) return;
              if (!function(t6, e5, i5) {
                const n4 = new xs(t6, e5);
                for (const t7 of n4.getWalker()) if (i5.isLimit(t7.item)) return false;
                return true;
              }(i4, n3, e4.model.schema)) return;
              i4 = e4.createPositionAfter(o3), (n3 = e4.createPositionBefore(r3)).isEqual(i4) || e4.insert(r3, i4);
              e4.merge(i4);
              for (; n3.parent.isEmpty; ) {
                const t6 = n3.parent;
                n3 = e4.createPositionBefore(t6), e4.remove(t6);
              }
              t5(e4, i4, n3);
            }(t4, r2, s4), o2.removeDisallowedAttributes(r2.parent.getChildren(), t4)), ml(t4, e3, r2), !i3.doNotAutoparagraph && function(t5, e4) {
              const i4 = t5.checkChild(e4, "$text"), n3 = t5.checkChild(e4, "paragraph");
              return !i4 && n3;
            }(o2, r2) && ul(t4, r2, e3), s4.detach();
          });
        }
        function ul(t3, e3, i3) {
          const n2 = t3.createElement("paragraph");
          t3.insert(n2, e3), ml(t3, i3, t3.createPositionAt(n2, 0));
        }
        function ml(t3, e3, i3) {
          e3 instanceof Ds ? t3.setSelection(i3) : e3.setTo(i3);
        }
        function gl(t3, e3) {
          if ("text" == e3.type) return "word" === t3.unit ? function(t4, e4) {
            let i3 = t4.position.textNode;
            if (i3) {
              let n2 = t4.position.offset - i3.startOffset;
              for (; !pl(i3.data, n2, e4) && !bl(i3, n2, e4); ) {
                t4.next();
                const o2 = e4 ? t4.position.nodeAfter : t4.position.nodeBefore;
                if (o2 && o2.is("text")) {
                  const n3 = o2.data.charAt(e4 ? 0 : o2.data.length - 1);
                  ' ,.?!:;"-()'.includes(n3) || (t4.next(), i3 = t4.position.textNode);
                }
                n2 = t4.position.offset - i3.startOffset;
              }
            }
            return t4.position;
          }(t3.walker, t3.isForward) : function(t4, e4) {
            const i3 = t4.position.textNode;
            if (i3) {
              const n2 = i3.data;
              let o2 = t4.position.offset - i3.startOffset;
              for (; Za(n2, o2) || "character" == e4 && tl(n2, o2); ) t4.next(), o2 = t4.position.offset - i3.startOffset;
            }
            return t4.position;
          }(t3.walker, t3.unit, t3.isForward);
          if (e3.type == (t3.isForward ? "elementStart" : "elementEnd")) {
            if (t3.schema.isObject(e3.item)) return _s._createAt(e3.item, t3.isForward ? "after" : "before");
            if (t3.schema.checkChild(e3.nextPosition, "$text")) return e3.nextPosition;
          } else {
            if (t3.schema.isLimit(e3.item)) return void t3.walker.skip(() => true);
            if (t3.schema.checkChild(e3.nextPosition, "$text")) return e3.nextPosition;
          }
        }
        function fl(t3, e3) {
          const i3 = t3.root, n2 = _s._createAt(i3, e3 ? "end" : 0);
          return e3 ? new xs(t3, n2) : new xs(n2, t3);
        }
        function pl(t3, e3, i3) {
          const n2 = e3 + (i3 ? 0 : -1);
          return ' ,.?!:;"-()'.includes(t3.charAt(n2));
        }
        function bl(t3, e3, i3) {
          return e3 === (i3 ? t3.endOffset : 0);
        }
        function wl(t3, e3) {
          const i3 = [];
          Array.from(t3.getItems({ direction: "backward" })).map((t4) => e3.createRangeOn(t4)).filter((e4) => (e4.start.isAfter(t3.start) || e4.start.isEqual(t3.start)) && (e4.end.isBefore(t3.end) || e4.end.isEqual(t3.end))).forEach((t4) => {
            i3.push(t4.start.parent), e3.remove(t4);
          }), i3.forEach((t4) => {
            let i4 = t4;
            for (; i4.parent && i4.isEmpty; ) {
              const t5 = e3.createRangeOn(i4);
              i4 = i4.parent, e3.remove(t5);
            }
          });
        }
        function _l(t3) {
          t3.document.registerPostFixer((e3) => function(t4, e4) {
            const i3 = e4.document.selection, n2 = e4.schema, o2 = [];
            let r2 = false;
            for (const t5 of i3.getRanges()) {
              const e5 = kl(t5, n2);
              e5 ? (o2.push(e5), r2 = true) : o2.push(t5);
            }
            r2 && t4.setSelection(function(t5) {
              const e5 = [];
              e5.push(t5.shift());
              for (const i4 of t5) {
                const t6 = e5.pop();
                if (i4.isIntersecting(t6)) {
                  const n3 = t6.start.isAfter(i4.start) ? i4.start : t6.start, o3 = t6.end.isAfter(i4.end) ? t6.end : i4.end, r3 = new xs(n3, o3);
                  e5.push(r3);
                } else e5.push(t6), e5.push(i4);
              }
              return e5;
            }(o2), { backward: i3.isBackward });
          }(e3, t3));
        }
        function kl(t3, e3) {
          return t3.isCollapsed ? function(t4, e4) {
            const i3 = t4.start, n2 = e4.getNearestSelectionRange(i3);
            if (!n2) return null;
            if (!n2.isCollapsed) return n2;
            const o2 = n2.start;
            if (i3.isEqual(o2)) return null;
            return new xs(o2);
          }(t3, e3) : function(t4, e4) {
            const i3 = t4.start, n2 = t4.end, o2 = e4.checkChild(i3, "$text"), r2 = e4.checkChild(n2, "$text"), s4 = e4.getLimitElement(i3), a4 = e4.getLimitElement(n2);
            if (s4 === a4) {
              if (o2 && r2) return null;
              if (function(t5, e5, i4) {
                const n3 = t5.nodeAfter && !i4.isLimit(t5.nodeAfter) || i4.checkChild(t5, "$text"), o3 = e5.nodeBefore && !i4.isLimit(e5.nodeBefore) || i4.checkChild(e5, "$text");
                return n3 || o3;
              }(i3, n2, e4)) {
                const t5 = i3.nodeAfter && e4.isObject(i3.nodeAfter) ? null : e4.getNearestSelectionRange(i3, "forward"), o3 = n2.nodeBefore && e4.isObject(n2.nodeBefore) ? null : e4.getNearestSelectionRange(n2, "backward"), r3 = t5 ? t5.start : i3, s5 = o3 ? o3.start : n2;
                return new xs(r3, s5);
              }
            }
            const l2 = s4 && !s4.is("rootElement"), c3 = a4 && !a4.is("rootElement");
            if (l2 || c3) {
              const t5 = i3.nodeAfter && n2.nodeBefore && i3.nodeAfter.parent === n2.nodeBefore.parent, o3 = l2 && (!t5 || !yl(i3.nodeAfter, e4)), r3 = c3 && (!t5 || !yl(n2.nodeBefore, e4));
              let d4 = i3, h4 = n2;
              return o3 && (d4 = _s._createBefore(vl(s4, e4))), r3 && (h4 = _s._createAfter(vl(a4, e4))), new xs(d4, h4);
            }
            return null;
          }(t3, e3);
        }
        function vl(t3, e3) {
          let i3 = t3, n2 = i3;
          for (; e3.isLimit(n2) && n2.parent; ) i3 = n2, n2 = n2.parent;
          return i3;
        }
        function yl(t3, e3) {
          return t3 && e3.isObject(t3);
        }
        class xl {
          constructor() {
            this.markers = new nl(), this.document = new el(this), this.schema = new na(), this._pendingChanges = [], this._currentWriter = null, ["insertContent", "deleteContent", "modifySelection", "getSelectedContent", "applyOperation"].forEach((t3) => this.decorate(t3)), this.on("applyOperation", (t3, e3) => {
              e3[0]._validate();
            }, { priority: "highest" }), this.schema.register("$root", { isLimit: true }), this.schema.register("$block", { allowIn: "$root", isBlock: true }), this.schema.register("$text", { allowIn: "$block", isInline: true }), this.schema.register("$clipboardHolder", { allowContentOf: "$root", isLimit: true }), this.schema.extend("$text", { allowIn: "$clipboardHolder" }), this.schema.register("$marker"), this.schema.addChildCheck((t3, e3) => {
              if ("$marker" === e3.name) return true;
            }), _l(this);
          }
          change(t3) {
            try {
              return 0 === this._pendingChanges.length ? (this._pendingChanges.push({ batch: new va(), callback: t3 }), this._runPendingChanges()[0]) : t3(this._currentWriter);
            } catch (t4) {
              hi.b.rethrowUnexpectedError(t4, this);
            }
          }
          enqueueChange(t3, e3) {
            try {
              "string" == typeof t3 ? t3 = new va(t3) : "function" == typeof t3 && (e3 = t3, t3 = new va()), this._pendingChanges.push({ batch: t3, callback: e3 }), 1 == this._pendingChanges.length && this._runPendingChanges();
            } catch (t4) {
              hi.b.rethrowUnexpectedError(t4, this);
            }
          }
          applyOperation(t3) {
            t3._execute();
          }
          insertContent(t3, e3, i3) {
            return function(t4, e4, i4, n2) {
              return t4.change((o2) => {
                let r2;
                r2 = i4 ? i4 instanceof Ps || i4 instanceof Ds ? i4 : o2.createSelection(i4, n2) : t4.document.selection, r2.isCollapsed || t4.deleteContent(r2, { doNotAutoparagraph: true });
                const s4 = new dl(t4, o2, r2.anchor);
                let a4;
                a4 = e4.is("documentFragment") ? e4.getChildren() : [e4], s4.handleNodes(a4, { isFirst: true, isLast: true });
                const l2 = s4.getSelectionRange();
                l2 && (r2 instanceof Ds ? o2.setSelection(l2) : r2.setTo(l2));
                const c3 = s4.getAffectedRange() || t4.createRange(r2.anchor);
                return s4.destroy(), c3;
              });
            }(this, t3, e3, i3);
          }
          deleteContent(t3, e3) {
            hl(this, t3, e3);
          }
          modifySelection(t3, e3) {
            !function(t4, e4, i3 = {}) {
              const n2 = t4.schema, o2 = "backward" != i3.direction, r2 = i3.unit ? i3.unit : "character", s4 = e4.focus, a4 = new bs({ boundaries: fl(s4, o2), singleCharacters: true, direction: o2 ? "forward" : "backward" }), l2 = { walker: a4, schema: n2, isForward: o2, unit: r2 };
              let c3;
              for (; c3 = a4.next(); ) {
                if (c3.done) return;
                const i4 = gl(l2, c3.value);
                if (i4) return void (e4 instanceof Ds ? t4.change((t5) => {
                  t5.setSelectionFocus(i4);
                }) : e4.setFocus(i4));
              }
            }(this, t3, e3);
          }
          getSelectedContent(t3) {
            return function(t4, e3) {
              return t4.change((t5) => {
                const i3 = t5.createDocumentFragment(), n2 = e3.getFirstRange();
                if (!n2 || n2.isCollapsed) return i3;
                const o2 = n2.start.root, r2 = n2.start.getCommonPath(n2.end), s4 = o2.getNodeByPath(r2);
                let a4;
                a4 = n2.start.parent == n2.end.parent ? n2 : t5.createRange(t5.createPositionAt(s4, n2.start.path[r2.length]), t5.createPositionAt(s4, n2.end.path[r2.length] + 1));
                const l2 = a4.end.offset - a4.start.offset;
                for (const e4 of a4.getItems({ shallow: true })) e4.is("textProxy") ? t5.appendText(e4.data, e4.getAttributes(), i3) : t5.append(e4._clone(true), i3);
                if (a4 != n2) {
                  const e4 = n2._getTransformedByMove(a4.start, t5.createPositionAt(i3, 0), l2)[0], o3 = t5.createRange(t5.createPositionAt(i3, 0), e4.start);
                  wl(t5.createRange(e4.end, t5.createPositionAt(i3, "end")), t5), wl(o3, t5);
                }
                return i3;
              });
            }(this, t3);
          }
          hasContent(t3, e3) {
            const i3 = t3 instanceof ps ? xs._createIn(t3) : t3;
            if (i3.isCollapsed) return false;
            for (const t4 of this.markers.getMarkersIntersectingRange(i3)) if (t4.affectsData) return true;
            const { ignoreWhitespaces: n2 = false } = e3 || {};
            for (const t4 of i3.getItems()) if (t4.is("textProxy")) {
              if (!n2) return true;
              if (-1 !== t4.data.search(/\S/)) return true;
            } else if (this.schema.isObject(t4)) return true;
            return false;
          }
          createPositionFromPath(t3, e3, i3) {
            return new _s(t3, e3, i3);
          }
          createPositionAt(t3, e3) {
            return _s._createAt(t3, e3);
          }
          createPositionAfter(t3) {
            return _s._createAfter(t3);
          }
          createPositionBefore(t3) {
            return _s._createBefore(t3);
          }
          createRange(t3, e3) {
            return new xs(t3, e3);
          }
          createRangeIn(t3) {
            return xs._createIn(t3);
          }
          createRangeOn(t3) {
            return xs._createOn(t3);
          }
          createSelection(t3, e3, i3) {
            return new Ps(t3, e3, i3);
          }
          createBatch(t3) {
            return new va(t3);
          }
          createOperationFromJSON(t3) {
            return class {
              static fromJSON(t4, e3) {
                return sl[t4.__className].fromJSON(t4, e3);
              }
            }.fromJSON(t3, this.document);
          }
          destroy() {
            this.document.destroy(), this.stopListening();
          }
          _runPendingChanges() {
            const t3 = [];
            for (this.fire("_beforeChanges"); this._pendingChanges.length; ) {
              const e3 = this._pendingChanges[0].batch;
              this._currentWriter = new Ha(this, e3);
              const i3 = this._pendingChanges[0].callback(this._currentWriter);
              t3.push(i3), this.document._handleChangeBlock(this._currentWriter), this._pendingChanges.shift(), this._currentWriter = null;
            }
            return this.fire("_afterChanges"), t3;
          }
        }
        yi(xl, Hn);
        class Al {
          constructor() {
            this._listener = Object.create(lr);
          }
          listenTo(t3) {
            this._listener.listenTo(t3, "keydown", (t4, e3) => {
              this._listener.fire("_keydown:" + po(e3), e3);
            });
          }
          set(t3, e3, i3 = {}) {
            const n2 = bo(t3), o2 = i3.priority;
            this._listener.listenTo(this._listener, "_keydown:" + n2, (t4, i4) => {
              e3(i4, () => {
                i4.preventDefault(), i4.stopPropagation(), t4.stop();
              }), t4.return = true;
            }, { priority: o2 });
          }
          press(t3) {
            return !!this._listener.fire("_keydown:" + po(t3), t3);
          }
          destroy() {
            this._listener.stopListening();
          }
        }
        class Cl extends Al {
          constructor(t3) {
            super(), this.editor = t3;
          }
          set(t3, e3, i3 = {}) {
            if ("string" == typeof e3) {
              const t4 = e3;
              e3 = (e4, i4) => {
                this.editor.execute(t4), i4();
              };
            }
            super.set(t3, e3, i3);
          }
        }
        class Tl {
          constructor(t3 = {}) {
            this._context = t3.context || new Pi({ language: t3.language }), this._context._addEditor(this, !t3.context);
            const e3 = Array.from(this.constructor.builtinPlugins || []);
            this.config = new ni(t3, this.constructor.defaultConfig), this.config.define("plugins", e3), this.config.define(this._context._getEditorConfig()), this.plugins = new Ai(this, e3, this._context.plugins), this.locale = this._context.locale, this.t = this.locale.t, this.commands = new ta(), this.set("state", "initializing"), this.once("ready", () => this.state = "ready", { priority: "high" }), this.once("destroy", () => this.state = "destroyed", { priority: "high" }), this.set("isReadOnly", false), this.model = new xl();
            const i3 = new Sn();
            this.data = new ba(this.model, i3), this.editing = new Zs(this.model, i3), this.editing.view.document.bind("isReadOnly").to(this), this.conversion = new wa([this.editing.downcastDispatcher, this.data.downcastDispatcher], this.data.upcastDispatcher), this.conversion.addAlias("dataDowncast", this.data.downcastDispatcher), this.conversion.addAlias("editingDowncast", this.editing.downcastDispatcher), this.keystrokes = new Cl(this), this.keystrokes.listenTo(this.editing.view.document);
          }
          initPlugins() {
            const t3 = this.config, e3 = t3.get("plugins"), i3 = t3.get("removePlugins") || [], n2 = t3.get("extraPlugins") || [];
            return this.plugins.init(e3.concat(n2), i3);
          }
          destroy() {
            let t3 = Promise.resolve();
            return "initializing" == this.state && (t3 = new Promise((t4) => this.once("ready", t4))), t3.then(() => {
              this.fire("destroy"), this.stopListening(), this.commands.destroy();
            }).then(() => this.plugins.destroy()).then(() => {
              this.model.destroy(), this.data.destroy(), this.editing.destroy(), this.keystrokes.destroy();
            }).then(() => this._context._removeEditor(this));
          }
          execute(...t3) {
            try {
              this.commands.execute(...t3);
            } catch (t4) {
              hi.b.rethrowUnexpectedError(t4, this);
            }
          }
        }
        yi(Tl, Hn);
        var Ml = { setData(t3) {
          this.data.set(t3);
        }, getData(t3) {
          return this.data.get(t3);
        } };
        var El = { updateSourceElement() {
          if (!this.sourceElement) throw new hi.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.", this);
          var t3, e3;
          t3 = this.sourceElement, e3 = this.data.get(), t3 instanceof HTMLTextAreaElement && (t3.value = e3), t3.innerHTML = e3;
        } };
        class Pl {
          getHtml(t3) {
            const e3 = document.implementation.createHTMLDocument("").createElement("div");
            return e3.appendChild(t3), e3.innerHTML;
          }
        }
        class Sl {
          constructor(t3) {
            this._domParser = new DOMParser(), this._domConverter = new nr(t3, { blockFillerMode: "nbsp" }), this._htmlWriter = new Pl();
          }
          toData(t3) {
            const e3 = this._domConverter.viewToDom(t3, document);
            return this._htmlWriter.getHtml(e3);
          }
          toView(t3) {
            const e3 = this._toDom(t3);
            return this._domConverter.domToView(e3);
          }
          _toDom(t3) {
            const e3 = this._domParser.parseFromString(t3, "text/html"), i3 = e3.createDocumentFragment(), n2 = e3.body.childNodes;
            for (; n2.length > 0; ) i3.appendChild(n2[0]);
            return i3;
          }
        }
        class Il {
          constructor(t3) {
            this.editor = t3, this._components = /* @__PURE__ */ new Map();
          }
          *names() {
            for (const t3 of this._components.values()) yield t3.originalName;
          }
          add(t3, e3) {
            if (this.has(t3)) throw new hi.b("componentfactory-item-exists: The item already exists in the component factory.", this, { name: t3 });
            this._components.set(Ol(t3), { callback: e3, originalName: t3 });
          }
          create(t3) {
            if (!this.has(t3)) throw new hi.b("componentfactory-item-missing: The required component is not registered in the factory.", this, { name: t3 });
            return this._components.get(Ol(t3)).callback(this.editor.locale);
          }
          has(t3) {
            return this._components.has(Ol(t3));
          }
        }
        function Ol(t3) {
          return String(t3).toLowerCase();
        }
        class Nl {
          constructor() {
            this.set("isFocused", false), this.set("focusedElement", null), this._elements = /* @__PURE__ */ new Set(), this._nextEventLoopTimeout = null;
          }
          add(t3) {
            if (this._elements.has(t3)) throw new hi.b("focusTracker-add-element-already-exist", this);
            this.listenTo(t3, "focus", () => this._focus(t3), { useCapture: true }), this.listenTo(t3, "blur", () => this._blur(), { useCapture: true }), this._elements.add(t3);
          }
          remove(t3) {
            t3 === this.focusedElement && this._blur(t3), this._elements.has(t3) && (this.stopListening(t3), this._elements.delete(t3));
          }
          destroy() {
            this.stopListening();
          }
          _focus(t3) {
            clearTimeout(this._nextEventLoopTimeout), this.focusedElement = t3, this.isFocused = true;
          }
          _blur() {
            clearTimeout(this._nextEventLoopTimeout), this._nextEventLoopTimeout = setTimeout(() => {
              this.focusedElement = null, this.isFocused = false;
            }, 0);
          }
        }
        yi(Nl, lr), yi(Nl, Hn);
        class Rl {
          constructor(t3) {
            this.editor = t3, this.componentFactory = new Il(t3), this.focusTracker = new Nl(), this._editableElementsMap = /* @__PURE__ */ new Map(), this.listenTo(t3.editing.view.document, "layoutChanged", () => this.update());
          }
          get element() {
            return null;
          }
          update() {
            this.fire("update");
          }
          destroy() {
            this.stopListening(), this.focusTracker.destroy();
            for (const t3 of this._editableElementsMap.values()) t3.ckeditorInstance = null;
            this._editableElementsMap = /* @__PURE__ */ new Map();
          }
          setEditableElement(t3, e3) {
            this._editableElementsMap.set(t3, e3), e3.ckeditorInstance || (e3.ckeditorInstance = this.editor);
          }
          getEditableElement(t3 = "main") {
            return this._editableElementsMap.get(t3);
          }
          getEditableElementsNames() {
            return this._editableElementsMap.keys();
          }
          get _editableElements() {
            return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.", { editorUI: this }), this._editableElementsMap;
          }
        }
        yi(Rl, gi);
        i2(14);
        const Ll = /* @__PURE__ */ new WeakMap();
        function jl(t3) {
          const { view: e3, element: i3, text: n2, isDirectHost: o2 = true } = t3, r2 = e3.document;
          Ll.has(r2) || (Ll.set(r2, /* @__PURE__ */ new Map()), r2.registerPostFixer((t4) => zl(r2, t4))), Ll.get(r2).set(i3, { text: n2, isDirectHost: o2 }), e3.change((t4) => zl(r2, t4));
        }
        function Dl(t3, e3) {
          return !!e3.hasClass("ck-placeholder") && (t3.removeClass("ck-placeholder", e3), true);
        }
        function zl(t3, e3) {
          const i3 = Ll.get(t3);
          let n2 = false;
          for (const [t4, o2] of i3) Bl(e3, t4, o2) && (n2 = true);
          return n2;
        }
        function Bl(t3, e3, i3) {
          const { text: n2, isDirectHost: o2 } = i3, r2 = o2 ? e3 : function(t4) {
            if (1 === t4.childCount) {
              const e4 = t4.getChild(0);
              if (e4.is("element") && !e4.is("uiElement")) return e4;
            }
            return null;
          }(e3);
          let s4 = false;
          return !!r2 && (i3.hostElement = r2, r2.getAttribute("data-placeholder") !== n2 && (t3.setAttribute("data-placeholder", n2, r2), s4 = true), !function(t4) {
            if (!t4.isAttached()) return false;
            const e4 = !Array.from(t4.getChildren()).some((t5) => !t5.is("uiElement")), i4 = t4.document;
            if (!i4.isFocused && e4) return true;
            const n3 = i4.selection.anchor;
            return !(!e4 || !n3 || n3.parent === t4);
          }(r2) ? Dl(t3, r2) && (s4 = true) : function(t4, e4) {
            return !e4.hasClass("ck-placeholder") && (t4.addClass("ck-placeholder", e4), true);
          }(t3, r2) && (s4 = true), s4);
        }
        class Vl {
          constructor() {
            this._replacedElements = [];
          }
          replace(t3, e3) {
            this._replacedElements.push({ element: t3, newElement: e3 }), t3.style.display = "none", e3 && t3.parentNode.insertBefore(e3, t3.nextSibling);
          }
          restore() {
            this._replacedElements.forEach(({ element: t3, newElement: e3 }) => {
              t3.style.display = "", e3 && e3.remove();
            }), this._replacedElements = [];
          }
        }
        class Fl extends Rl {
          constructor(t3, e3) {
            var i3;
            super(t3), this.view = e3, this._toolbarConfig = (i3 = t3.config.get("toolbar"), Array.isArray(i3) ? { items: i3 } : i3 ? Object.assign({ items: [] }, i3) : { items: [] }), this._elementReplacer = new Vl();
          }
          get element() {
            return this.view.element;
          }
          init(t3) {
            const e3 = this.editor, i3 = this.view, n2 = e3.editing.view, o2 = i3.editable, r2 = n2.document.getRoot();
            o2.name = r2.rootName, i3.render();
            const s4 = o2.element;
            this.setEditableElement(o2.name, s4), this.focusTracker.add(s4), i3.editable.bind("isFocused").to(this.focusTracker), n2.attachDomRoot(s4), t3 && this._elementReplacer.replace(t3, this.element), this._initPlaceholder(), this._initToolbar(), this.fire("ready");
          }
          destroy() {
            const t3 = this.view, e3 = this.editor.editing.view;
            this._elementReplacer.restore(), e3.detachDomRoot(t3.editable.name), t3.destroy(), super.destroy();
          }
          _initToolbar() {
            const t3 = this.editor, e3 = this.view, i3 = t3.editing.view;
            e3.stickyPanel.bind("isActive").to(this.focusTracker, "isFocused"), e3.stickyPanel.limiterElement = e3.element, this._toolbarConfig.viewportTopOffset && (e3.stickyPanel.viewportTopOffset = this._toolbarConfig.viewportTopOffset), e3.toolbar.fillFromConfig(this._toolbarConfig.items, this.componentFactory), function({ origin: t4, originKeystrokeHandler: e4, originFocusTracker: i4, toolbar: n2, beforeFocus: o2, afterBlur: r2 }) {
              i4.add(n2.element), e4.set("Alt+F10", (t5, e5) => {
                i4.isFocused && !n2.focusTracker.isFocused && (o2 && o2(), n2.focus(), e5());
              }), n2.keystrokes.set("Esc", (e5, i5) => {
                n2.focusTracker.isFocused && (t4.focus(), r2 && r2(), i5());
              });
            }({ origin: i3, originFocusTracker: this.focusTracker, originKeystrokeHandler: t3.keystrokes, toolbar: e3.toolbar });
          }
          _initPlaceholder() {
            const t3 = this.editor, e3 = t3.editing.view, i3 = e3.document.getRoot(), n2 = t3.sourceElement, o2 = t3.config.get("placeholder") || n2 && "textarea" === n2.tagName.toLowerCase() && n2.getAttribute("placeholder");
            o2 && jl({ view: e3, element: i3, text: o2, isDirectHost: false });
          }
        }
        class Hl extends xi {
          constructor(t3 = []) {
            super(t3, { idProperty: "viewUid" }), this.on("add", (t4, e3, i3) => {
              this._renderViewIntoCollectionParent(e3, i3);
            }), this.on("remove", (t4, e3) => {
              e3.element && this._parentElement && e3.element.remove();
            }), this._parentElement = null;
          }
          destroy() {
            this.map((t3) => t3.destroy());
          }
          setParent(t3) {
            this._parentElement = t3;
            for (const t4 of this) this._renderViewIntoCollectionParent(t4);
          }
          delegate(...t3) {
            if (!t3.length || !t3.every((t4) => "string" == typeof t4)) throw new hi.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.", this);
            return { to: (e3) => {
              for (const i3 of this) for (const n2 of t3) i3.delegate(n2).to(e3);
              this.on("add", (i3, n2) => {
                for (const i4 of t3) n2.delegate(i4).to(e3);
              }), this.on("remove", (i3, n2) => {
                for (const i4 of t3) n2.stopDelegating(i4, e3);
              });
            } };
          }
          _renderViewIntoCollectionParent(t3, e3) {
            t3.isRendered || t3.render(), t3.element && this._parentElement && this._parentElement.insertBefore(t3.element, this._parentElement.children[e3]);
          }
        }
        class Ul {
          constructor(t3) {
            Object.assign(this, Zl(Kl(t3))), this._isRendered = false, this._revertData = null;
          }
          render() {
            const t3 = this._renderNode({ intoFragment: true });
            return this._isRendered = true, t3;
          }
          apply(t3) {
            return this._revertData = { children: [], bindings: [], attributes: {} }, this._renderNode({ node: t3, isApplying: true, revertData: this._revertData }), t3;
          }
          revert(t3) {
            if (!this._revertData) throw new hi.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.", [this, t3]);
            this._revertTemplateFromNode(t3, this._revertData);
          }
          *getViews() {
            yield* function* t3(e3) {
              if (e3.children) for (const i3 of e3.children) oc(i3) ? yield i3 : rc(i3) && (yield* t3(i3));
            }(this);
          }
          static bind(t3, e3) {
            return { to: (i3, n2) => new ql({ eventNameOrFunction: i3, attribute: i3, observable: t3, emitter: e3, callback: n2 }), if: (i3, n2, o2) => new Yl({ observable: t3, emitter: e3, attribute: i3, valueIfTrue: n2, callback: o2 }) };
          }
          static extend(t3, e3) {
            if (t3._isRendered) throw new hi.b("template-extend-render: Attempting to extend a template which has already been rendered.", [this, t3]);
            !function t4(e4, i3) {
              i3.attributes && (e4.attributes || (e4.attributes = {}), ic(e4.attributes, i3.attributes));
              i3.eventListeners && (e4.eventListeners || (e4.eventListeners = {}), ic(e4.eventListeners, i3.eventListeners));
              i3.text && e4.text.push(...i3.text);
              if (i3.children && i3.children.length) {
                if (e4.children.length != i3.children.length) throw new hi.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.", e4);
                let n2 = 0;
                for (const o2 of i3.children) t4(e4.children[n2++], o2);
              }
            }(t3, Zl(Kl(e3)));
          }
          _renderNode(t3) {
            let e3;
            if (e3 = t3.node ? this.tag && this.text : this.tag ? this.text : !this.text, e3) throw new hi.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.', this);
            return this.text ? this._renderText(t3) : this._renderElement(t3);
          }
          _renderElement(t3) {
            let e3 = t3.node;
            return e3 || (e3 = t3.node = document.createElementNS(this.ns || "http://www.w3.org/1999/xhtml", this.tag)), this._renderAttributes(t3), this._renderElementChildren(t3), this._setUpListeners(t3), e3;
          }
          _renderText(t3) {
            let e3 = t3.node;
            return e3 ? t3.revertData.text = e3.textContent : e3 = t3.node = document.createTextNode(""), $l(this.text) ? this._bindToObservable({ schema: this.text, updater: Gl(e3), data: t3 }) : e3.textContent = this.text.join(""), e3;
          }
          _renderAttributes(t3) {
            let e3, i3, n2, o2;
            if (!this.attributes) return;
            const r2 = t3.node, s4 = t3.revertData;
            for (e3 in this.attributes) if (n2 = r2.getAttribute(e3), i3 = this.attributes[e3], s4 && (s4.attributes[e3] = n2), o2 = D2(i3[0]) && i3[0].ns ? i3[0].ns : null, $l(i3)) {
              const a4 = o2 ? i3[0].value : i3;
              s4 && ac(e3) && a4.unshift(n2), this._bindToObservable({ schema: a4, updater: Ql(r2, e3, o2), data: t3 });
            } else "style" == e3 && "string" != typeof i3[0] ? this._renderStyleAttribute(i3[0], t3) : (s4 && n2 && ac(e3) && i3.unshift(n2), i3 = i3.map((t4) => t4 && t4.value || t4).reduce((t4, e4) => t4.concat(e4), []).reduce(ec, ""), nc(i3) || r2.setAttributeNS(o2, e3, i3));
          }
          _renderStyleAttribute(t3, e3) {
            const i3 = e3.node;
            for (const n2 in t3) {
              const o2 = t3[n2];
              $l(o2) ? this._bindToObservable({ schema: [o2], updater: Xl(i3, n2), data: e3 }) : i3.style[n2] = o2;
            }
          }
          _renderElementChildren(t3) {
            const e3 = t3.node, i3 = t3.intoFragment ? document.createDocumentFragment() : e3, n2 = t3.isApplying;
            let o2 = 0;
            for (const r2 of this.children) if (sc(r2)) {
              if (!n2) {
                r2.setParent(e3);
                for (const t4 of r2) i3.appendChild(t4.element);
              }
            } else if (oc(r2)) n2 || (r2.isRendered || r2.render(), i3.appendChild(r2.element));
            else if (Jo(r2)) i3.appendChild(r2);
            else if (n2) {
              const e4 = { children: [], bindings: [], attributes: {} };
              t3.revertData.children.push(e4), r2._renderNode({ node: i3.childNodes[o2++], isApplying: true, revertData: e4 });
            } else i3.appendChild(r2.render());
            t3.intoFragment && e3.appendChild(i3);
          }
          _setUpListeners(t3) {
            if (this.eventListeners) for (const e3 in this.eventListeners) {
              const i3 = this.eventListeners[e3].map((i4) => {
                const [n2, o2] = e3.split("@");
                return i4.activateDomEventListener(n2, o2, t3);
              });
              t3.revertData && t3.revertData.bindings.push(i3);
            }
          }
          _bindToObservable({ schema: t3, updater: e3, data: i3 }) {
            const n2 = i3.revertData;
            Jl(t3, e3, i3);
            const o2 = t3.filter((t4) => !nc(t4)).filter((t4) => t4.observable).map((n3) => n3.activateAttributeListener(t3, e3, i3));
            n2 && n2.bindings.push(o2);
          }
          _revertTemplateFromNode(t3, e3) {
            for (const t4 of e3.bindings) for (const e4 of t4) e4();
            if (e3.text) t3.textContent = e3.text;
            else {
              for (const i3 in e3.attributes) {
                const n2 = e3.attributes[i3];
                null === n2 ? t3.removeAttribute(i3) : t3.setAttribute(i3, n2);
              }
              for (let i3 = 0; i3 < e3.children.length; ++i3) this._revertTemplateFromNode(t3.childNodes[i3], e3.children[i3]);
            }
          }
        }
        yi(Ul, gi);
        class Wl {
          constructor(t3) {
            Object.assign(this, t3);
          }
          getValue(t3) {
            const e3 = this.observable[this.attribute];
            return this.callback ? this.callback(e3, t3) : e3;
          }
          activateAttributeListener(t3, e3, i3) {
            const n2 = () => Jl(t3, e3, i3);
            return this.emitter.listenTo(this.observable, "change:" + this.attribute, n2), () => {
              this.emitter.stopListening(this.observable, "change:" + this.attribute, n2);
            };
          }
        }
        class ql extends Wl {
          activateDomEventListener(t3, e3, i3) {
            const n2 = (t4, i4) => {
              e3 && !i4.target.matches(e3) || ("function" == typeof this.eventNameOrFunction ? this.eventNameOrFunction(i4) : this.observable.fire(this.eventNameOrFunction, i4));
            };
            return this.emitter.listenTo(i3.node, t3, n2), () => {
              this.emitter.stopListening(i3.node, t3, n2);
            };
          }
        }
        class Yl extends Wl {
          getValue(t3) {
            return !nc(super.getValue(t3)) && (this.valueIfTrue || true);
          }
        }
        function $l(t3) {
          return !!t3 && (t3.value && (t3 = t3.value), Array.isArray(t3) ? t3.some($l) : t3 instanceof Wl);
        }
        function Jl(t3, e3, { node: i3 }) {
          let n2 = function(t4, e4) {
            return t4.map((t5) => t5 instanceof Wl ? t5.getValue(e4) : t5);
          }(t3, i3);
          n2 = 1 == t3.length && t3[0] instanceof Yl ? n2[0] : n2.reduce(ec, ""), nc(n2) ? e3.remove() : e3.set(n2);
        }
        function Gl(t3) {
          return { set(e3) {
            t3.textContent = e3;
          }, remove() {
            t3.textContent = "";
          } };
        }
        function Ql(t3, e3, i3) {
          return { set(n2) {
            t3.setAttributeNS(i3, e3, n2);
          }, remove() {
            t3.removeAttributeNS(i3, e3);
          } };
        }
        function Xl(t3, e3) {
          return { set(i3) {
            t3.style[e3] = i3;
          }, remove() {
            t3.style[e3] = null;
          } };
        }
        function Kl(t3) {
          return ei(t3, (t4) => {
            if (t4 && (t4 instanceof Wl || rc(t4) || oc(t4) || sc(t4))) return t4;
          });
        }
        function Zl(t3) {
          if ("string" == typeof t3 ? t3 = /* @__PURE__ */ function(t4) {
            return { text: [t4] };
          }(t3) : t3.text && function(t4) {
            Array.isArray(t4.text) || (t4.text = [t4.text]);
          }(t3), t3.on && (t3.eventListeners = function(t4) {
            for (const e3 in t4) tc(t4, e3);
            return t4;
          }(t3.on), delete t3.on), !t3.text) {
            t3.attributes && function(t4) {
              for (const e4 in t4) t4[e4].value && (t4[e4].value = [].concat(t4[e4].value)), tc(t4, e4);
            }(t3.attributes);
            const e3 = [];
            if (t3.children) if (sc(t3.children)) e3.push(t3.children);
            else for (const i3 of t3.children) rc(i3) || oc(i3) || Jo(i3) ? e3.push(i3) : e3.push(new Ul(i3));
            t3.children = e3;
          }
          return t3;
        }
        function tc(t3, e3) {
          Array.isArray(t3[e3]) || (t3[e3] = [t3[e3]]);
        }
        function ec(t3, e3) {
          return nc(e3) ? t3 : nc(t3) ? e3 : `${t3} ${e3}`;
        }
        function ic(t3, e3) {
          for (const i3 in e3) t3[i3] ? t3[i3].push(...e3[i3]) : t3[i3] = e3[i3];
        }
        function nc(t3) {
          return !t3 && 0 !== t3;
        }
        function oc(t3) {
          return t3 instanceof lc;
        }
        function rc(t3) {
          return t3 instanceof Ul;
        }
        function sc(t3) {
          return t3 instanceof Hl;
        }
        function ac(t3) {
          return "class" == t3 || "style" == t3;
        }
        i2(16);
        class lc {
          constructor(t3) {
            this.element = null, this.isRendered = false, this.locale = t3, this.t = t3 && t3.t, this._viewCollections = new xi(), this._unboundChildren = this.createCollection(), this._viewCollections.on("add", (e3, i3) => {
              i3.locale = t3;
            }), this.decorate("render");
          }
          get bindTemplate() {
            return this._bindTemplate ? this._bindTemplate : this._bindTemplate = Ul.bind(this, this);
          }
          createCollection(t3) {
            const e3 = new Hl(t3);
            return this._viewCollections.add(e3), e3;
          }
          registerChild(t3) {
            vi(t3) || (t3 = [t3]);
            for (const e3 of t3) this._unboundChildren.add(e3);
          }
          deregisterChild(t3) {
            vi(t3) || (t3 = [t3]);
            for (const e3 of t3) this._unboundChildren.remove(e3);
          }
          setTemplate(t3) {
            this.template = new Ul(t3);
          }
          extendTemplate(t3) {
            Ul.extend(this.template, t3);
          }
          render() {
            if (this.isRendered) throw new hi.b("ui-view-render-already-rendered: This View has already been rendered.", this);
            this.template && (this.element = this.template.render(), this.registerChild(this.template.getViews())), this.isRendered = true;
          }
          destroy() {
            this.stopListening(), this._viewCollections.map((t3) => t3.destroy()), this.template && this.template._revertData && this.template.revert(this.element);
          }
        }
        yi(lc, lr), yi(lc, Hn);
        var cc = function(t3) {
          return "string" == typeof t3 || !Lt(t3) && p(t3) && "[object String]" == m3(t3);
        };
        class dc extends Hl {
          constructor(t3, e3 = []) {
            super(e3), this.locale = t3;
          }
          attachToDom() {
            this._bodyCollectionContainer = new Ul({ tag: "div", attributes: { class: ["ck", "ck-reset_all", "ck-body", "ck-rounded-corners"], dir: this.locale.uiLanguageDirection }, children: this }).render();
            let t3 = document.querySelector(".ck-body-wrapper");
            t3 || (t3 = function(t4, e3, i3 = {}, n2 = []) {
              const o2 = i3 && i3.xmlns, r2 = o2 ? t4.createElementNS(o2, e3) : t4.createElement(e3);
              for (const t5 in i3) r2.setAttribute(t5, i3[t5]);
              !cc(n2) && vi(n2) || (n2 = [n2]);
              for (let e4 of n2) cc(e4) && (e4 = t4.createTextNode(e4)), r2.appendChild(e4);
              return r2;
            }(document, "div", { class: "ck-body-wrapper" }), document.body.appendChild(t3)), t3.appendChild(this._bodyCollectionContainer);
          }
          detachFromDom() {
            super.destroy(), this._bodyCollectionContainer && this._bodyCollectionContainer.remove();
            const t3 = document.querySelector(".ck-body-wrapper");
            t3 && 0 == t3.childElementCount && t3.remove();
          }
        }
        i2(18);
        class hc extends lc {
          constructor(t3) {
            super(t3), this.body = new dc(t3);
          }
          render() {
            super.render(), this.body.attachToDom();
          }
          destroy() {
            return this.body.detachFromDom(), super.destroy();
          }
        }
        i2(20);
        class uc extends lc {
          constructor(t3) {
            super(t3), this.set("text"), this.set("for"), this.id = "ck-editor__label_" + ci();
            const e3 = this.bindTemplate;
            this.setTemplate({ tag: "label", attributes: { class: ["ck", "ck-label"], id: this.id, for: e3.to("for") }, children: [{ text: e3.to("text") }] });
          }
        }
        class mc extends hc {
          constructor(t3) {
            super(t3), this.top = this.createCollection(), this.main = this.createCollection(), this._voiceLabelView = this._createVoiceLabel(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-editor", "ck-rounded-corners"], role: "application", dir: t3.uiLanguageDirection, lang: t3.uiLanguage, "aria-labelledby": this._voiceLabelView.id }, children: [this._voiceLabelView, { tag: "div", attributes: { class: ["ck", "ck-editor__top", "ck-reset_all"], role: "presentation" }, children: this.top }, { tag: "div", attributes: { class: ["ck", "ck-editor__main"], role: "presentation" }, children: this.main }] });
          }
          _createVoiceLabel() {
            const t3 = this.t, e3 = new uc();
            return e3.text = t3("Rich Text Editor"), e3.extendTemplate({ attributes: { class: "ck-voice-label" } }), e3;
          }
        }
        class gc extends lc {
          constructor(t3, e3, i3) {
            super(t3), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-content", "ck-editor__editable", "ck-rounded-corners"], lang: t3.contentLanguage, dir: t3.contentLanguageDirection } }), this.name = null, this.set("isFocused", false), this._editableElement = i3, this._hasExternalElement = !!this._editableElement, this._editingView = e3;
          }
          render() {
            super.render(), this._hasExternalElement ? this.template.apply(this.element = this._editableElement) : this._editableElement = this.element, this.on("change:isFocused", () => this._updateIsFocusedClasses()), this._updateIsFocusedClasses();
          }
          destroy() {
            this._hasExternalElement && this.template.revert(this._editableElement), super.destroy();
          }
          _updateIsFocusedClasses() {
            const t3 = this._editingView;
            function e3(e4) {
              t3.change((i3) => {
                const n2 = t3.document.getRoot(e4.name);
                i3.addClass(e4.isFocused ? "ck-focused" : "ck-blurred", n2), i3.removeClass(e4.isFocused ? "ck-blurred" : "ck-focused", n2);
              });
            }
            t3.isRenderingInProgress ? function i3(n2) {
              t3.once("change:isRenderingInProgress", (t4, o2, r2) => {
                r2 ? i3(n2) : e3(n2);
              });
            }(this) : e3(this);
          }
        }
        class fc extends gc {
          constructor(t3, e3, i3) {
            super(t3, e3, i3), this.extendTemplate({ attributes: { role: "textbox", class: "ck-editor__editable_inline" } });
          }
          render() {
            super.render();
            const t3 = this._editingView, e3 = this.t;
            t3.change((i3) => {
              const n2 = t3.document.getRoot(this.name);
              i3.setAttribute("aria-label", e3("Rich Text Editor, %0", [this.name]), n2);
            });
          }
        }
        function pc(t3) {
          return (e3) => e3 + t3;
        }
        i2(22);
        const bc = pc("px");
        class wc extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate;
            this.set("isActive", false), this.set("isSticky", false), this.set("limiterElement", null), this.set("limiterBottomOffset", 50), this.set("viewportTopOffset", 0), this.set("_marginLeft", null), this.set("_isStickyToTheLimiter", false), this.set("_hasViewportTopOffset", false), this.content = this.createCollection(), this._contentPanelPlaceholder = new Ul({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__placeholder"], style: { display: e3.to("isSticky", (t4) => t4 ? "block" : "none"), height: e3.to("isSticky", (t4) => t4 ? bc(this._panelRect.height) : null) } } }).render(), this._contentPanel = new Ul({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel__content", e3.if("isSticky", "ck-sticky-panel__content_sticky"), e3.if("_isStickyToTheLimiter", "ck-sticky-panel__content_sticky_bottom-limit")], style: { width: e3.to("isSticky", (t4) => t4 ? bc(this._contentPanelPlaceholder.getBoundingClientRect().width) : null), top: e3.to("_hasViewportTopOffset", (t4) => t4 ? bc(this.viewportTopOffset) : null), bottom: e3.to("_isStickyToTheLimiter", (t4) => t4 ? bc(this.limiterBottomOffset) : null), marginLeft: e3.to("_marginLeft") } }, children: this.content }).render(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-sticky-panel"] }, children: [this._contentPanelPlaceholder, this._contentPanel] });
          }
          render() {
            super.render(), this._checkIfShouldBeSticky(), this.listenTo(Zo.window, "scroll", () => {
              this._checkIfShouldBeSticky();
            }), this.listenTo(this, "change:isActive", () => {
              this._checkIfShouldBeSticky();
            });
          }
          _checkIfShouldBeSticky() {
            const t3 = this._panelRect = this._contentPanel.getBoundingClientRect();
            let e3;
            this.limiterElement ? (e3 = this._limiterRect = this.limiterElement.getBoundingClientRect(), this.isSticky = this.isActive && e3.top < this.viewportTopOffset && this._panelRect.height + this.limiterBottomOffset < e3.height) : this.isSticky = false, this.isSticky ? (this._isStickyToTheLimiter = e3.bottom < t3.height + this.limiterBottomOffset + this.viewportTopOffset, this._hasViewportTopOffset = !this._isStickyToTheLimiter && !!this.viewportTopOffset, this._marginLeft = this._isStickyToTheLimiter ? null : bc(-Zo.window.scrollX)) : (this._isStickyToTheLimiter = false, this._hasViewportTopOffset = false, this._marginLeft = null);
          }
        }
        class _c {
          constructor(t3) {
            if (Object.assign(this, t3), t3.actions && t3.keystrokeHandler) for (const e3 in t3.actions) {
              let i3 = t3.actions[e3];
              "string" == typeof i3 && (i3 = [i3]);
              for (const n2 of i3) t3.keystrokeHandler.set(n2, (t4, i4) => {
                this[e3](), i4();
              });
            }
          }
          get first() {
            return this.focusables.find(kc) || null;
          }
          get last() {
            return this.focusables.filter(kc).slice(-1)[0] || null;
          }
          get next() {
            return this._getFocusableItem(1);
          }
          get previous() {
            return this._getFocusableItem(-1);
          }
          get current() {
            let t3 = null;
            return null === this.focusTracker.focusedElement ? null : (this.focusables.find((e3, i3) => {
              const n2 = e3.element === this.focusTracker.focusedElement;
              return n2 && (t3 = i3), n2;
            }), t3);
          }
          focusFirst() {
            this._focus(this.first);
          }
          focusLast() {
            this._focus(this.last);
          }
          focusNext() {
            this._focus(this.next);
          }
          focusPrevious() {
            this._focus(this.previous);
          }
          _focus(t3) {
            t3 && t3.focus();
          }
          _getFocusableItem(t3) {
            const e3 = this.current, i3 = this.focusables.length;
            if (!i3) return null;
            if (null === e3) return this[1 === t3 ? "first" : "last"];
            let n2 = (e3 + i3 + t3) % i3;
            do {
              const e4 = this.focusables.get(n2);
              if (kc(e4)) return e4;
              n2 = (n2 + i3 + t3) % i3;
            } while (n2 !== e3);
            return null;
          }
        }
        function kc(t3) {
          return !(!t3.focus || "none" == Zo.window.getComputedStyle(t3.element).display);
        }
        class vc extends lc {
          constructor(t3) {
            super(t3), this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-toolbar__separator"] } });
          }
        }
        class yc {
          constructor(t3, e3) {
            yc._observerInstance || yc._createObserver(), this._element = t3, this._callback = e3, yc._addElementCallback(t3, e3), yc._observerInstance.observe(t3);
          }
          destroy() {
            yc._deleteElementCallback(this._element, this._callback);
          }
          static _addElementCallback(t3, e3) {
            yc._elementCallbacks || (yc._elementCallbacks = /* @__PURE__ */ new Map());
            let i3 = yc._elementCallbacks.get(t3);
            i3 || (i3 = /* @__PURE__ */ new Set(), yc._elementCallbacks.set(t3, i3)), i3.add(e3);
          }
          static _deleteElementCallback(t3, e3) {
            const i3 = yc._getElementCallbacks(t3);
            i3 && (i3.delete(e3), i3.size || (yc._elementCallbacks.delete(t3), yc._observerInstance.unobserve(t3))), yc._elementCallbacks && !yc._elementCallbacks.size && (yc._observerInstance = null, yc._elementCallbacks = null);
          }
          static _getElementCallbacks(t3) {
            return yc._elementCallbacks ? yc._elementCallbacks.get(t3) : null;
          }
          static _createObserver() {
            let t3;
            t3 = "function" == typeof Zo.window.ResizeObserver ? Zo.window.ResizeObserver : xc, yc._observerInstance = new t3((t4) => {
              for (const e3 of t4) {
                if (!e3.target.offsetParent) continue;
                const t5 = yc._getElementCallbacks(e3.target);
                if (t5) for (const i3 of t5) i3(e3);
              }
            });
          }
        }
        yc._observerInstance = null, yc._elementCallbacks = null;
        class xc {
          constructor(t3) {
            this._callback = t3, this._elements = /* @__PURE__ */ new Set(), this._previousRects = /* @__PURE__ */ new Map(), this._periodicCheckTimeout = null;
          }
          observe(t3) {
            this._elements.add(t3), this._checkElementRectsAndExecuteCallback(), 1 === this._elements.size && this._startPeriodicCheck();
          }
          unobserve(t3) {
            this._elements.delete(t3), this._previousRects.delete(t3), this._elements.size || this._stopPeriodicCheck();
          }
          _startPeriodicCheck() {
            const t3 = () => {
              this._checkElementRectsAndExecuteCallback(), this._periodicCheckTimeout = setTimeout(t3, 100);
            };
            this.listenTo(Zo.window, "resize", () => {
              this._checkElementRectsAndExecuteCallback();
            }), this._periodicCheckTimeout = setTimeout(t3, 100);
          }
          _stopPeriodicCheck() {
            clearTimeout(this._periodicCheckTimeout), this.stopListening(), this._previousRects.clear();
          }
          _checkElementRectsAndExecuteCallback() {
            const t3 = [];
            for (const e3 of this._elements) this._hasRectChanged(e3) && t3.push({ target: e3, contentRect: this._previousRects.get(e3) });
            t3.length && this._callback(t3);
          }
          _hasRectChanged(t3) {
            if (!t3.ownerDocument.body.contains(t3)) return false;
            const e3 = new Kr(t3), i3 = this._previousRects.get(t3), n2 = !i3 || !i3.isEqual(e3);
            return this._previousRects.set(t3, e3), n2;
          }
        }
        yi(xc, lr);
        class Ac extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate;
            this.set("isVisible", false), this.set("position", "se"), this.children = this.createCollection(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-reset", "ck-dropdown__panel", e3.to("position", (t4) => "ck-dropdown__panel_" + t4), e3.if("isVisible", "ck-dropdown__panel-visible")] }, children: this.children, on: { selectstart: e3.to((t4) => t4.preventDefault()) } });
          }
          focus() {
            this.children.length && this.children.first.focus();
          }
          focusLast() {
            if (this.children.length) {
              const t3 = this.children.last;
              "function" == typeof t3.focusLast ? t3.focusLast() : t3.focus();
            }
          }
        }
        i2(24);
        function Cc({ element: t3, target: e3, positions: i3, limiter: n2, fitInViewport: o2 }) {
          B2(e3) && (e3 = e3()), B2(n2) && (n2 = n2());
          const r2 = function(t4) {
            return t4 && t4.parentNode ? t4.offsetParent === Zo.document.body ? null : t4.offsetParent : null;
          }(t3), s4 = new Kr(t3), a4 = new Kr(e3);
          let l2, c3;
          if (n2 || o2) {
            const t4 = function(t5, e4) {
              const { elementRect: i4, viewportRect: n3 } = e4, o3 = i4.getArea(), r3 = function(t6, { targetRect: e5, elementRect: i5, limiterRect: n4, viewportRect: o4 }) {
                const r4 = [], s5 = i5.getArea();
                for (const a5 of t6) {
                  const [t7, l3] = Tc(a5, e5, i5);
                  let c4 = 0, d5 = 0;
                  if (n4) if (o4) {
                    const t8 = n4.getIntersection(o4);
                    t8 && (c4 = t8.getIntersectionArea(l3));
                  } else c4 = n4.getIntersectionArea(l3);
                  o4 && (d5 = o4.getIntersectionArea(l3));
                  const h4 = { positionName: t7, positionRect: l3, limiterIntersectArea: c4, viewportIntersectArea: d5 };
                  if (c4 === s5) return [h4];
                  r4.push(h4);
                }
                return r4;
              }(t5, e4);
              if (n3) {
                const t6 = Mc(r3.filter(({ viewportIntersectArea: t7 }) => t7 === o3), o3);
                if (t6) return t6;
              }
              return Mc(r3, o3);
            }(i3, { targetRect: a4, elementRect: s4, limiterRect: n2 && new Kr(n2).getVisible(), viewportRect: o2 && new Kr(Zo.window) });
            [c3, l2] = t4 || Tc(i3[0], a4, s4);
          } else [c3, l2] = Tc(i3[0], a4, s4);
          let d4 = Ec(l2);
          return r2 && (d4 = function({ left: t4, top: e4 }, i4) {
            const n3 = Ec(new Kr(i4)), o3 = Qr(i4);
            return t4 -= n3.left, e4 -= n3.top, t4 += i4.scrollLeft, e4 += i4.scrollTop, t4 -= o3.left, e4 -= o3.top, { left: t4, top: e4 };
          }(d4, r2)), { left: d4.left, top: d4.top, name: c3 };
        }
        function Tc(t3, e3, i3) {
          const { left: n2, top: o2, name: r2 } = t3(e3, i3);
          return [r2, i3.clone().moveTo(n2, o2)];
        }
        function Mc(t3, e3) {
          let i3, n2, o2 = 0;
          for (const { positionName: r2, positionRect: s4, limiterIntersectArea: a4, viewportIntersectArea: l2 } of t3) {
            if (a4 === e3) return [r2, s4];
            const t4 = l2 ** 2 + a4 ** 2;
            t4 > o2 && (o2 = t4, i3 = s4, n2 = r2);
          }
          return i3 ? [n2, i3] : null;
        }
        function Ec({ left: t3, top: e3 }) {
          const { scrollX: i3, scrollY: n2 } = Zo.window;
          return { left: t3 + i3, top: e3 + n2 };
        }
        class Pc extends lc {
          constructor(t3, e3, i3) {
            super(t3);
            const n2 = this.bindTemplate;
            this.buttonView = e3, this.panelView = i3, this.set("isOpen", false), this.set("isEnabled", true), this.set("class"), this.set("id"), this.set("panelPosition", "auto"), this.keystrokes = new Al(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-dropdown", n2.to("class"), n2.if("isEnabled", "ck-disabled", (t4) => !t4)], id: n2.to("id"), "aria-describedby": n2.to("ariaDescribedById") }, children: [e3, i3] }), e3.extendTemplate({ attributes: { class: ["ck-dropdown__button"] } });
          }
          render() {
            super.render(), this.listenTo(this.buttonView, "open", () => {
              this.isOpen = !this.isOpen;
            }), this.panelView.bind("isVisible").to(this, "isOpen"), this.on("change:isOpen", () => {
              this.isOpen && ("auto" === this.panelPosition ? this.panelView.position = Pc._getOptimalPosition({ element: this.panelView.element, target: this.buttonView.element, fitInViewport: true, positions: this._panelPositions }).name : this.panelView.position = this.panelPosition);
            }), this.keystrokes.listenTo(this.element);
            const t3 = (t4, e3) => {
              this.isOpen && (this.buttonView.focus(), this.isOpen = false, e3());
            };
            this.keystrokes.set("arrowdown", (t4, e3) => {
              this.buttonView.isEnabled && !this.isOpen && (this.isOpen = true, e3());
            }), this.keystrokes.set("arrowright", (t4, e3) => {
              this.isOpen && e3();
            }), this.keystrokes.set("arrowleft", t3), this.keystrokes.set("esc", t3);
          }
          focus() {
            this.buttonView.focus();
          }
          get _panelPositions() {
            const { southEast: t3, southWest: e3, northEast: i3, northWest: n2 } = Pc.defaultPanelPositions;
            return "ltr" === this.locale.uiLanguageDirection ? [t3, e3, i3, n2] : [e3, t3, n2, i3];
          }
        }
        Pc.defaultPanelPositions = { southEast: (t3) => ({ top: t3.bottom, left: t3.left, name: "se" }), southWest: (t3, e3) => ({ top: t3.bottom, left: t3.left - e3.width + t3.width, name: "sw" }), northEast: (t3, e3) => ({ top: t3.top - e3.height, left: t3.left, name: "ne" }), northWest: (t3, e3) => ({ top: t3.bottom - e3.height, left: t3.left - e3.width + t3.width, name: "nw" }) }, Pc._getOptimalPosition = Cc;
        i2(26);
        class Sc extends lc {
          constructor() {
            super();
            const t3 = this.bindTemplate;
            this.set("content", ""), this.set("viewBox", "0 0 20 20"), this.set("fillColor", ""), this.setTemplate({ tag: "svg", ns: "http://www.w3.org/2000/svg", attributes: { class: ["ck", "ck-icon"], viewBox: t3.to("viewBox") } });
          }
          render() {
            super.render(), this._updateXMLContent(), this._colorFillPaths(), this.on("change:content", () => {
              this._updateXMLContent(), this._colorFillPaths();
            }), this.on("change:fillColor", () => {
              this._colorFillPaths();
            });
          }
          _updateXMLContent() {
            if (this.content) {
              const t3 = new DOMParser().parseFromString(this.content.trim(), "image/svg+xml").querySelector("svg"), e3 = t3.getAttribute("viewBox");
              for (e3 && (this.viewBox = e3), this.element.innerHTML = ""; t3.childNodes.length > 0; ) this.element.appendChild(t3.childNodes[0]);
            }
          }
          _colorFillPaths() {
            this.fillColor && this.element.querySelectorAll(".ck-icon__fill").forEach((t3) => {
              t3.style.fill = this.fillColor;
            });
          }
        }
        i2(28);
        class Ic extends lc {
          constructor(t3) {
            super(t3), this.set("text", ""), this.set("position", "s");
            const e3 = this.bindTemplate;
            this.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-tooltip", e3.to("position", (t4) => "ck-tooltip_" + t4), e3.if("text", "ck-hidden", (t4) => !t4.trim())] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-tooltip__text"] }, children: [{ text: e3.to("text") }] }] });
          }
        }
        i2(30);
        class Oc extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate, i3 = ci();
            this.set("class"), this.set("labelStyle"), this.set("icon"), this.set("isEnabled", true), this.set("isOn", false), this.set("isVisible", true), this.set("isToggleable", false), this.set("keystroke"), this.set("label"), this.set("tabindex", -1), this.set("tooltip"), this.set("tooltipPosition", "s"), this.set("type", "button"), this.set("withText", false), this.set("withKeystroke", false), this.children = this.createCollection(), this.tooltipView = this._createTooltipView(), this.labelView = this._createLabelView(i3), this.iconView = new Sc(), this.iconView.extendTemplate({ attributes: { class: "ck-button__icon" } }), this.keystrokeView = this._createKeystrokeView(), this.bind("_tooltipString").to(this, "tooltip", this, "label", this, "keystroke", this._getTooltipString.bind(this)), this.setTemplate({ tag: "button", attributes: { class: ["ck", "ck-button", e3.to("class"), e3.if("isEnabled", "ck-disabled", (t4) => !t4), e3.if("isVisible", "ck-hidden", (t4) => !t4), e3.to("isOn", (t4) => t4 ? "ck-on" : "ck-off"), e3.if("withText", "ck-button_with-text"), e3.if("withKeystroke", "ck-button_with-keystroke")], type: e3.to("type", (t4) => t4 || "button"), tabindex: e3.to("tabindex"), "aria-labelledby": "ck-editor__aria-label_" + i3, "aria-disabled": e3.if("isEnabled", true, (t4) => !t4), "aria-pressed": e3.to("isOn", (t4) => !!this.isToggleable && String(t4)) }, children: this.children, on: { mousedown: e3.to((t4) => {
              t4.preventDefault();
            }), click: e3.to((t4) => {
              this.isEnabled ? this.fire("execute") : t4.preventDefault();
            }) } });
          }
          render() {
            super.render(), this.icon && (this.iconView.bind("content").to(this, "icon"), this.children.add(this.iconView)), this.children.add(this.tooltipView), this.children.add(this.labelView), this.withKeystroke && this.children.add(this.keystrokeView);
          }
          focus() {
            this.element.focus();
          }
          _createTooltipView() {
            const t3 = new Ic();
            return t3.bind("text").to(this, "_tooltipString"), t3.bind("position").to(this, "tooltipPosition"), t3;
          }
          _createLabelView(t3) {
            const e3 = new lc(), i3 = this.bindTemplate;
            return e3.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__label"], style: i3.to("labelStyle"), id: "ck-editor__aria-label_" + t3 }, children: [{ text: this.bindTemplate.to("label") }] }), e3;
          }
          _createKeystrokeView() {
            const t3 = new lc();
            return t3.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__keystroke"] }, children: [{ text: this.bindTemplate.to("keystroke", (t4) => wo(t4)) }] }), t3;
          }
          _getTooltipString(t3, e3, i3) {
            return t3 ? "string" == typeof t3 ? t3 : (i3 && (i3 = wo(i3)), t3 instanceof Function ? t3(e3, i3) : `${e3}${i3 ? ` (${i3})` : ""}`) : "";
          }
        }
        var Nc = '<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';
        class Rc extends Oc {
          constructor(t3) {
            super(t3), this.arrowView = this._createArrowView(), this.extendTemplate({ attributes: { "aria-haspopup": true } }), this.delegate("execute").to(this, "open");
          }
          render() {
            super.render(), this.children.add(this.arrowView);
          }
          _createArrowView() {
            const t3 = new Sc();
            return t3.content = Nc, t3.extendTemplate({ attributes: { class: "ck-dropdown__arrow" } }), t3;
          }
        }
        i2(32);
        class Lc extends lc {
          constructor() {
            super(), this.items = this.createCollection(), this.focusTracker = new Nl(), this.keystrokes = new Al(), this._focusCycler = new _c({ focusables: this.items, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: "arrowup", focusNext: "arrowdown" } }), this.setTemplate({ tag: "ul", attributes: { class: ["ck", "ck-reset", "ck-list"] }, children: this.items });
          }
          render() {
            super.render();
            for (const t3 of this.items) this.focusTracker.add(t3.element);
            this.items.on("add", (t3, e3) => {
              this.focusTracker.add(e3.element);
            }), this.items.on("remove", (t3, e3) => {
              this.focusTracker.remove(e3.element);
            }), this.keystrokes.listenTo(this.element);
          }
          focus() {
            this._focusCycler.focusFirst();
          }
          focusLast() {
            this._focusCycler.focusLast();
          }
        }
        class jc extends lc {
          constructor(t3) {
            super(t3), this.children = this.createCollection(), this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__item"] }, children: this.children });
          }
          focus() {
            this.children.first.focus();
          }
        }
        class Dc extends lc {
          constructor(t3) {
            super(t3), this.setTemplate({ tag: "li", attributes: { class: ["ck", "ck-list__separator"] } });
          }
        }
        i2(34);
        class zc extends Oc {
          constructor(t3) {
            super(t3), this.isToggleable = true, this.toggleSwitchView = this._createToggleView(), this.extendTemplate({ attributes: { class: "ck-switchbutton" } });
          }
          render() {
            super.render(), this.children.add(this.toggleSwitchView);
          }
          _createToggleView() {
            const t3 = new lc();
            return t3.setTemplate({ tag: "span", attributes: { class: ["ck", "ck-button__toggle"] }, children: [{ tag: "span", attributes: { class: ["ck", "ck-button__toggle__inner"] } }] }), t3;
          }
        }
        function Bc({ emitter: t3, activator: e3, callback: i3, contextElements: n2 }) {
          t3.listenTo(document, "mousedown", (t4, { target: o2 }) => {
            if (e3()) {
              for (const t5 of n2) if (t5.contains(o2)) return;
              i3();
            }
          });
        }
        i2(36), i2(38);
        function Vc(t3, e3 = Rc) {
          const i3 = new e3(t3), n2 = new Ac(t3), o2 = new Pc(t3, i3, n2);
          return i3.bind("isEnabled").to(o2), i3 instanceof Rc ? i3.bind("isOn").to(o2, "isOpen") : i3.arrowView.bind("isOn").to(o2, "isOpen"), function(t4) {
            (function(t5) {
              t5.on("render", () => {
                Bc({ emitter: t5, activator: () => t5.isOpen, callback: () => {
                  t5.isOpen = false;
                }, contextElements: [t5.element] });
              });
            })(t4), function(t5) {
              t5.on("execute", (e4) => {
                e4.source instanceof zc || (t5.isOpen = false);
              });
            }(t4), function(t5) {
              t5.keystrokes.set("arrowdown", (e4, i4) => {
                t5.isOpen && (t5.panelView.focus(), i4());
              }), t5.keystrokes.set("arrowup", (e4, i4) => {
                t5.isOpen && (t5.panelView.focusLast(), i4());
              });
            }(t4);
          }(o2), o2;
        }
        function Fc(t3, e3) {
          const i3 = t3.locale, n2 = t3.listView = new Lc(i3);
          n2.items.bindTo(e3).using(({ type: t4, model: e4 }) => {
            if ("separator" === t4) return new Dc(i3);
            if ("button" === t4 || "switchbutton" === t4) {
              const n3 = new jc(i3);
              let o2;
              return o2 = "button" === t4 ? new Oc(i3) : new zc(i3), o2.bind(...Object.keys(e4)).to(e4), o2.delegate("execute").to(n3), n3.children.add(o2), n3;
            }
          }), t3.panelView.children.add(n2), n2.items.delegate("execute").to(t3);
        }
        i2(40);
        class Hc extends lc {
          constructor(t3, e3) {
            super(t3);
            const i3 = this.bindTemplate, n2 = this.t;
            var o2;
            this.options = e3 || {}, this.set("ariaLabel", n2("Editor toolbar")), this.set("maxWidth", "auto"), this.items = this.createCollection(), this.focusTracker = new Nl(), this.keystrokes = new Al(), this.set("class"), this.set("isCompact", false), this.itemsView = new Uc(t3), this.children = this.createCollection(), this.children.add(this.itemsView), this.focusables = this.createCollection(), this._focusCycler = new _c({ focusables: this.focusables, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: ["arrowleft", "arrowup"], focusNext: ["arrowright", "arrowdown"] } }), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar", i3.to("class"), i3.if("isCompact", "ck-toolbar_compact")], role: "toolbar", "aria-label": i3.to("ariaLabel"), style: { maxWidth: i3.to("maxWidth") } }, children: this.children, on: { mousedown: (o2 = this, o2.bindTemplate.to((t4) => {
              t4.target === o2.element && t4.preventDefault();
            })) } }), this._behavior = this.options.shouldGroupWhenFull ? new qc(this) : new Wc(this);
          }
          render() {
            super.render();
            for (const t3 of this.items) this.focusTracker.add(t3.element);
            this.items.on("add", (t3, e3) => {
              this.focusTracker.add(e3.element);
            }), this.items.on("remove", (t3, e3) => {
              this.focusTracker.remove(e3.element);
            }), this.keystrokes.listenTo(this.element), this._behavior.render(this);
          }
          destroy() {
            return this._behavior.destroy(), super.destroy();
          }
          focus() {
            this._focusCycler.focusFirst();
          }
          focusLast() {
            this._focusCycler.focusLast();
          }
          fillFromConfig(t3, e3) {
            t3.map((t4) => {
              "|" == t4 ? this.items.add(new vc()) : e3.has(t4) ? this.items.add(e3.create(t4)) : console.warn(Object(hi.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."), { name: t4 });
            });
          }
        }
        class Uc extends lc {
          constructor(t3) {
            super(t3), this.children = this.createCollection(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-toolbar__items"] }, children: this.children });
          }
        }
        class Wc {
          constructor(t3) {
            const e3 = t3.bindTemplate;
            t3.set("isVertical", false), t3.itemsView.children.bindTo(t3.items).using((t4) => t4), t3.focusables.bindTo(t3.items).using((t4) => t4), t3.extendTemplate({ attributes: { class: [e3.if("isVertical", "ck-toolbar_vertical")] } });
          }
          render() {
          }
          destroy() {
          }
        }
        class qc {
          constructor(t3) {
            this.viewChildren = t3.children, this.viewFocusables = t3.focusables, this.viewItemsView = t3.itemsView, this.viewFocusTracker = t3.focusTracker, this.viewLocale = t3.locale, this.ungroupedItems = t3.createCollection(), this.groupedItems = t3.createCollection(), this.groupedItemsDropdown = this._createGroupedItemsDropdown(), this.resizeObserver = null, this.cachedPadding = null, this.shouldUpdateGroupingOnNextResize = false, t3.itemsView.children.bindTo(this.ungroupedItems).using((t4) => t4), this.ungroupedItems.on("add", this._updateFocusCycleableItems.bind(this)), this.ungroupedItems.on("remove", this._updateFocusCycleableItems.bind(this)), t3.children.on("add", this._updateFocusCycleableItems.bind(this)), t3.children.on("remove", this._updateFocusCycleableItems.bind(this)), t3.items.on("add", (t4, e3, i3) => {
              i3 > this.ungroupedItems.length ? this.groupedItems.add(e3, i3 - this.ungroupedItems.length) : this.ungroupedItems.add(e3, i3), this._updateGrouping();
            }), t3.items.on("remove", (t4, e3, i3) => {
              i3 > this.ungroupedItems.length ? this.groupedItems.remove(e3) : this.ungroupedItems.remove(e3), this._updateGrouping();
            }), t3.extendTemplate({ attributes: { class: ["ck-toolbar_grouping"] } });
          }
          render(t3) {
            this.viewElement = t3.element, this._enableGroupingOnResize(), this._enableGroupingOnMaxWidthChange(t3);
          }
          destroy() {
            this.groupedItemsDropdown.destroy(), this.resizeObserver.destroy();
          }
          _updateGrouping() {
            if (!this.viewElement.ownerDocument.body.contains(this.viewElement)) return;
            if (!this.viewElement.offsetParent) return void (this.shouldUpdateGroupingOnNextResize = true);
            let t3;
            for (; this._areItemsOverflowing; ) this._groupLastItem(), t3 = true;
            if (!t3 && this.groupedItems.length) {
              for (; this.groupedItems.length && !this._areItemsOverflowing; ) this._ungroupFirstItem();
              this._areItemsOverflowing && this._groupLastItem();
            }
          }
          get _areItemsOverflowing() {
            if (!this.ungroupedItems.length) return false;
            const t3 = this.viewElement, e3 = this.viewLocale.uiLanguageDirection, i3 = new Kr(t3.lastChild), n2 = new Kr(t3);
            if (!this.cachedPadding) {
              const i4 = Zo.window.getComputedStyle(t3), n3 = "ltr" === e3 ? "paddingRight" : "paddingLeft";
              this.cachedPadding = Number.parseInt(i4[n3]);
            }
            return "ltr" === e3 ? i3.right > n2.right - this.cachedPadding : i3.left < n2.left + this.cachedPadding;
          }
          _enableGroupingOnResize() {
            let t3;
            this.resizeObserver = new yc(this.viewElement, (e3) => {
              t3 && t3 === e3.contentRect.width && !this.shouldUpdateGroupingOnNextResize || (this.shouldUpdateGroupingOnNextResize = false, this._updateGrouping(), t3 = e3.contentRect.width);
            }), this._updateGrouping();
          }
          _enableGroupingOnMaxWidthChange(t3) {
            t3.on("change:maxWidth", () => {
              this._updateGrouping();
            });
          }
          _groupLastItem() {
            this.groupedItems.length || (this.viewChildren.add(new vc()), this.viewChildren.add(this.groupedItemsDropdown), this.viewFocusTracker.add(this.groupedItemsDropdown.element)), this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last), 0);
          }
          _ungroupFirstItem() {
            this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)), this.groupedItems.length || (this.viewChildren.remove(this.groupedItemsDropdown), this.viewChildren.remove(this.viewChildren.last), this.viewFocusTracker.remove(this.groupedItemsDropdown.element));
          }
          _createGroupedItemsDropdown() {
            const t3 = this.viewLocale, e3 = t3.t, i3 = Vc(t3);
            return i3.class = "ck-toolbar__grouped-dropdown", i3.panelPosition = "ltr" === t3.uiLanguageDirection ? "sw" : "se", function(t4, e4) {
              const i4 = t4.locale, n2 = i4.t, o2 = t4.toolbarView = new Hc(i4);
              o2.set("ariaLabel", n2("Dropdown toolbar")), t4.extendTemplate({ attributes: { class: ["ck-toolbar-dropdown"] } }), e4.map((t5) => o2.items.add(t5)), t4.panelView.children.add(o2), o2.items.delegate("execute").to(t4);
            }(i3, []), i3.buttonView.set({ label: e3("Show more items"), tooltip: true, icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>' }), i3.toolbarView.items.bindTo(this.groupedItems).using((t4) => t4), i3;
          }
          _updateFocusCycleableItems() {
            this.viewFocusables.clear(), this.ungroupedItems.map((t3) => {
              this.viewFocusables.add(t3);
            }), this.groupedItems.length && this.viewFocusables.add(this.groupedItemsDropdown);
          }
        }
        i2(42);
        class Yc extends mc {
          constructor(t3, e3, i3 = {}) {
            super(t3), this.stickyPanel = new wc(t3), this.toolbar = new Hc(t3, { shouldGroupWhenFull: i3.shouldToolbarGroupWhenFull }), this.editable = new fc(t3, e3);
          }
          render() {
            super.render(), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable);
          }
        }
        class $c extends Tl {
          constructor(t3, e3) {
            super(e3), ii(t3) && (this.sourceElement = t3), this.data.processor = new Sl(this.data.viewDocument), this.model.document.createRoot();
            const i3 = !this.config.get("toolbar.shouldNotGroupWhenFull"), n2 = new Yc(this.locale, this.editing.view, { shouldToolbarGroupWhenFull: i3 });
            this.ui = new Fl(this, n2), function(t4) {
              if (!B2(t4.updateSourceElement)) throw new hi.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.", t4);
              const e4 = t4.sourceElement;
              if (e4 && "textarea" === e4.tagName.toLowerCase() && e4.form) {
                let i4;
                const n3 = e4.form, o2 = () => t4.updateSourceElement();
                B2(n3.submit) && (i4 = n3.submit, n3.submit = () => {
                  o2(), i4.apply(n3);
                }), n3.addEventListener("submit", o2), t4.on("destroy", () => {
                  n3.removeEventListener("submit", o2), i4 && (n3.submit = i4);
                });
              }
            }(this);
          }
          destroy() {
            return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), super.destroy();
          }
          static create(t3, e3 = {}) {
            return new Promise((i3) => {
              const n2 = new this(t3, e3);
              i3(n2.initPlugins().then(() => n2.ui.init(ii(t3) ? t3 : null)).then(() => {
                if (!ii(t3) && e3.initialData) throw new hi.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().", null);
                const i4 = e3.initialData || function(t4) {
                  return ii(t4) ? (e4 = t4, e4 instanceof HTMLTextAreaElement ? e4.value : e4.innerHTML) : t4;
                  var e4;
                }(t3);
                return n2.data.init(i4);
              }).then(() => n2.fire("ready")).then(() => n2));
            });
          }
        }
        yi($c, Ml), yi($c, El);
        class Jc {
          constructor(t3) {
            this.editor = t3, this.set("isEnabled", true), this._disableStack = /* @__PURE__ */ new Set();
          }
          forceDisabled(t3) {
            this._disableStack.add(t3), 1 == this._disableStack.size && (this.on("set:isEnabled", Gc, { priority: "highest" }), this.isEnabled = false);
          }
          clearForceDisabled(t3) {
            this._disableStack.delete(t3), 0 == this._disableStack.size && (this.off("set:isEnabled", Gc), this.isEnabled = true);
          }
          destroy() {
            this.stopListening();
          }
          static get isContextPlugin() {
            return false;
          }
        }
        function Gc(t3) {
          t3.return = false, t3.stop();
        }
        yi(Jc, Hn);
        class Qc {
          constructor(t3) {
            this.files = function(t4) {
              const e3 = t4.files ? Array.from(t4.files) : [], i3 = t4.items ? Array.from(t4.items) : [];
              if (e3.length) return e3;
              return i3.filter((t5) => "file" === t5.kind).map((t5) => t5.getAsFile());
            }(t3), this._native = t3;
          }
          get types() {
            return this._native.types;
          }
          getData(t3) {
            return this._native.getData(t3);
          }
          setData(t3, e3) {
            this._native.setData(t3, e3);
          }
        }
        class Xc extends Or {
          constructor(t3) {
            super(t3);
            const e3 = this.document;
            function i3(t4, i4) {
              i4.preventDefault();
              const n2 = i4.dropRange ? [i4.dropRange] : Array.from(e3.selection.getRanges()), o2 = new ai(e3, "clipboardInput");
              e3.fire(o2, { dataTransfer: i4.dataTransfer, targetRanges: n2 }), o2.stop.called && i4.stopPropagation();
            }
            this.domEventType = ["paste", "copy", "cut", "drop", "dragover"], this.listenTo(e3, "paste", i3, { priority: "low" }), this.listenTo(e3, "drop", i3, { priority: "low" });
          }
          onDomEvent(t3) {
            const e3 = { dataTransfer: new Qc(t3.clipboardData ? t3.clipboardData : t3.dataTransfer) };
            "drop" == t3.type && (e3.dropRange = function(t4, e4) {
              const i3 = e4.target.ownerDocument, n2 = e4.clientX, o2 = e4.clientY;
              let r2;
              i3.caretRangeFromPoint && i3.caretRangeFromPoint(n2, o2) ? r2 = i3.caretRangeFromPoint(n2, o2) : e4.rangeParent && (r2 = i3.createRange(), r2.setStart(e4.rangeParent, e4.rangeOffset), r2.collapse(true));
              return r2 ? t4.domConverter.domRangeToView(r2) : t4.document.selection.getFirstRange();
            }(this.view, t3)), this.fire(t3.type, t3, e3);
          }
        }
        const Kc = ["figcaption", "li"];
        class Zc extends Jc {
          static get pluginName() {
            return "Clipboard";
          }
          init() {
            const t3 = this.editor, e3 = t3.model.document, i3 = t3.editing.view, n2 = i3.document;
            function o2(i4, o3) {
              const r2 = o3.dataTransfer;
              o3.preventDefault();
              const s4 = t3.data.toView(t3.model.getSelectedContent(e3.selection));
              n2.fire("clipboardOutput", { dataTransfer: r2, content: s4, method: i4.name });
            }
            this._htmlDataProcessor = new Sl(n2), i3.addObserver(Xc), this.listenTo(n2, "clipboardInput", (e4) => {
              t3.isReadOnly && e4.stop();
            }, { priority: "highest" }), this.listenTo(n2, "clipboardInput", (t4, e4) => {
              const n3 = e4.dataTransfer;
              let o3 = "";
              var r2;
              n3.getData("text/html") ? o3 = function(t5) {
                return t5.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (t6, e5) => 1 == e5.length ? " " : e5);
              }(n3.getData("text/html")) : n3.getData("text/plain") && ((r2 = (r2 = n3.getData("text/plain")).replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/\n/g, "</p><p>").replace(/^\s/, "&nbsp;").replace(/\s$/, "&nbsp;").replace(/\s\s/g, " &nbsp;")).indexOf("</p><p>") > -1 && (r2 = `<p>${r2}</p>`), o3 = r2), o3 = this._htmlDataProcessor.toView(o3);
              const s4 = new ai(this, "inputTransformation");
              this.fire(s4, { content: o3, dataTransfer: n3 }), s4.stop.called && t4.stop(), i3.scrollToTheSelection();
            }, { priority: "low" }), this.listenTo(this, "inputTransformation", (t4, e4) => {
              if (!e4.content.isEmpty) {
                const i4 = this.editor.data, n3 = this.editor.model, o3 = i4.toModel(e4.content, "$clipboardHolder");
                if (0 == o3.childCount) return;
                n3.insertContent(o3), t4.stop();
              }
            }, { priority: "low" }), this.listenTo(n2, "copy", o2, { priority: "low" }), this.listenTo(n2, "cut", (e4, i4) => {
              t3.isReadOnly ? i4.preventDefault() : o2(e4, i4);
            }, { priority: "low" }), this.listenTo(n2, "clipboardOutput", (i4, n3) => {
              n3.content.isEmpty || (n3.dataTransfer.setData("text/html", this._htmlDataProcessor.toData(n3.content)), n3.dataTransfer.setData("text/plain", function t4(e4) {
                let i5 = "";
                if (e4.is("text") || e4.is("textProxy")) i5 = e4.data;
                else if (e4.is("img") && e4.hasAttribute("alt")) i5 = e4.getAttribute("alt");
                else {
                  let n4 = null;
                  for (const o3 of e4.getChildren()) {
                    const e5 = t4(o3);
                    n4 && (n4.is("containerElement") || o3.is("containerElement")) && (Kc.includes(n4.name) || Kc.includes(o3.name) ? i5 += "\n" : i5 += "\n\n"), i5 += e5, n4 = o3;
                  }
                }
                return i5;
              }(n3.content))), "cut" == n3.method && t3.model.deleteContent(e3.selection);
            }, { priority: "low" });
          }
        }
        class td {
          constructor(t3) {
            this.editor = t3, this.set("value", void 0), this.set("isEnabled", false), this._disableStack = /* @__PURE__ */ new Set(), this.decorate("execute"), this.listenTo(this.editor.model.document, "change", () => {
              this.refresh();
            }), this.on("execute", (t4) => {
              this.isEnabled || t4.stop();
            }, { priority: "high" }), this.listenTo(t3, "change:isReadOnly", (t4, e3, i3) => {
              i3 ? this.forceDisabled("readOnlyMode") : this.clearForceDisabled("readOnlyMode");
            });
          }
          refresh() {
            this.isEnabled = true;
          }
          forceDisabled(t3) {
            this._disableStack.add(t3), 1 == this._disableStack.size && (this.on("set:isEnabled", ed, { priority: "highest" }), this.isEnabled = false);
          }
          clearForceDisabled(t3) {
            this._disableStack.delete(t3), 0 == this._disableStack.size && (this.off("set:isEnabled", ed), this.refresh());
          }
          execute() {
          }
          destroy() {
            this.stopListening();
          }
        }
        function ed(t3) {
          t3.return = false, t3.stop();
        }
        function* id(t3, e3) {
          for (const i3 of e3) i3 && t3.getAttributeProperties(i3[0]).copyOnEnter && (yield i3);
        }
        yi(td, Hn);
        class nd extends td {
          execute() {
            const t3 = this.editor.model, e3 = t3.document;
            t3.change((i3) => {
              !function(t4, e4, i4, n2) {
                const o2 = i4.isCollapsed, r2 = i4.getFirstRange(), s4 = r2.start.parent, a4 = r2.end.parent;
                if (n2.isLimit(s4) || n2.isLimit(a4)) return void (o2 || s4 != a4 || t4.deleteContent(i4));
                if (o2) {
                  const t5 = id(e4.model.schema, i4.getAttributes());
                  od(e4, r2.start), e4.setSelectionAttribute(t5);
                } else {
                  const n3 = !(r2.start.isAtStart && r2.end.isAtEnd), o3 = s4 == a4;
                  t4.deleteContent(i4, { leaveUnmerged: n3 }), n3 && (o3 ? od(e4, i4.focus) : e4.setSelection(a4, 0));
                }
              }(this.editor.model, i3, e3.selection, t3.schema), this.fire("afterExecute", { writer: i3 });
            });
          }
        }
        function od(t3, e3) {
          t3.split(e3), t3.setSelection(e3.parent.nextSibling, 0);
        }
        class rd extends hr {
          constructor(t3) {
            super(t3);
            const e3 = this.document;
            e3.on("keydown", (t4, i3) => {
              if (this.isEnabled && i3.keyCode == fo.enter) {
                let n2;
                e3.once("enter", (t5) => n2 = t5, { priority: "highest" }), e3.fire("enter", new Ir(e3, i3.domEvent, { isSoft: i3.shiftKey })), n2 && n2.stop.called && t4.stop();
              }
            });
          }
          observe() {
          }
        }
        class sd extends Jc {
          static get pluginName() {
            return "Enter";
          }
          init() {
            const t3 = this.editor, e3 = t3.editing.view, i3 = e3.document;
            e3.addObserver(rd), t3.commands.add("enter", new nd(t3)), this.listenTo(i3, "enter", (i4, n2) => {
              n2.preventDefault(), n2.isSoft || (t3.execute("enter"), e3.scrollToTheSelection());
            }, { priority: "low" });
          }
        }
        class ad extends td {
          execute() {
            const t3 = this.editor.model, e3 = t3.document;
            t3.change((i3) => {
              !function(t4, e4, i4) {
                const n2 = i4.isCollapsed, o2 = i4.getFirstRange(), r2 = o2.start.parent, s4 = o2.end.parent, a4 = r2 == s4;
                if (n2) {
                  const n3 = id(t4.schema, i4.getAttributes());
                  ld(t4, e4, o2.end), e4.removeSelectionAttribute(i4.getAttributeKeys()), e4.setSelectionAttribute(n3);
                } else {
                  const n3 = !(o2.start.isAtStart && o2.end.isAtEnd);
                  t4.deleteContent(i4, { leaveUnmerged: n3 }), a4 ? ld(t4, e4, i4.focus) : n3 && e4.setSelection(s4, 0);
                }
              }(t3, i3, e3.selection), this.fire("afterExecute", { writer: i3 });
            });
          }
          refresh() {
            const t3 = this.editor.model, e3 = t3.document;
            this.isEnabled = function(t4, e4) {
              if (e4.rangeCount > 1) return false;
              const i3 = e4.anchor;
              if (!i3 || !t4.checkChild(i3, "softBreak")) return false;
              const n2 = e4.getFirstRange(), o2 = n2.start.parent, r2 = n2.end.parent;
              if ((cd(o2, t4) || cd(r2, t4)) && o2 !== r2) return false;
              return true;
            }(t3.schema, e3.selection);
          }
        }
        function ld(t3, e3, i3) {
          const n2 = e3.createElement("softBreak");
          t3.insertContent(n2, i3), e3.setSelection(n2, "after");
        }
        function cd(t3, e3) {
          return !t3.is("rootElement") && (e3.isLimit(t3) || cd(t3.parent, e3));
        }
        class dd extends Jc {
          static get pluginName() {
            return "ShiftEnter";
          }
          init() {
            const t3 = this.editor, e3 = t3.model.schema, i3 = t3.conversion, n2 = t3.editing.view, o2 = n2.document;
            e3.register("softBreak", { allowWhere: "$text", isInline: true }), i3.for("upcast").elementToElement({ model: "softBreak", view: "br" }), i3.for("downcast").elementToElement({ model: "softBreak", view: (t4, e4) => e4.createEmptyElement("br") }), n2.addObserver(rd), t3.commands.add("shiftEnter", new ad(t3)), this.listenTo(o2, "enter", (e4, i4) => {
              i4.preventDefault(), i4.isSoft && (t3.execute("shiftEnter"), n2.scrollToTheSelection());
            }, { priority: "low" });
          }
        }
        class hd extends td {
          execute() {
            const t3 = this.editor.model, e3 = t3.schema.getLimitElement(t3.document.selection);
            t3.change((t4) => {
              t4.setSelection(e3, "in");
            });
          }
        }
        const ud = bo("Ctrl+A");
        class md extends Jc {
          static get pluginName() {
            return "SelectAllEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.editing.view.document;
            t3.commands.add("selectAll", new hd(t3)), this.listenTo(e3, "keydown", (e4, i3) => {
              po(i3) === ud && (t3.execute("selectAll"), i3.preventDefault());
            });
          }
        }
        class gd extends Jc {
          static get pluginName() {
            return "SelectAllUI";
          }
          init() {
            const t3 = this.editor;
            t3.ui.componentFactory.add("selectAll", (e3) => {
              const i3 = t3.commands.get("selectAll"), n2 = new Oc(e3), o2 = e3.t;
              return n2.set({ label: o2("Select all"), icon: '<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>', keystroke: "Ctrl+A", tooltip: true }), n2.bind("isOn", "isEnabled").to(i3, "value", "isEnabled"), this.listenTo(n2, "execute", () => {
                t3.execute("selectAll"), t3.editing.view.focus();
              }), n2;
            });
          }
        }
        class fd extends Jc {
          static get requires() {
            return [md, gd];
          }
          static get pluginName() {
            return "SelectAll";
          }
        }
        class pd {
          constructor(t3, e3 = 20) {
            this.model = t3, this.size = 0, this.limit = e3, this.isLocked = false, this._changeCallback = (t4, e4) => {
              "transparent" != e4.type && e4 !== this._batch && this._reset(true);
            }, this._selectionChangeCallback = () => {
              this._reset();
            }, this.model.document.on("change", this._changeCallback), this.model.document.selection.on("change:range", this._selectionChangeCallback), this.model.document.selection.on("change:attribute", this._selectionChangeCallback);
          }
          get batch() {
            return this._batch || (this._batch = this.model.createBatch()), this._batch;
          }
          input(t3) {
            this.size += t3, this.size >= this.limit && this._reset(true);
          }
          lock() {
            this.isLocked = true;
          }
          unlock() {
            this.isLocked = false;
          }
          destroy() {
            this.model.document.off("change", this._changeCallback), this.model.document.selection.off("change:range", this._selectionChangeCallback), this.model.document.selection.off("change:attribute", this._selectionChangeCallback);
          }
          _reset(t3) {
            this.isLocked && !t3 || (this._batch = null, this.size = 0);
          }
        }
        class bd extends td {
          constructor(t3, e3) {
            super(t3), this._buffer = new pd(t3.model, e3), this._batches = /* @__PURE__ */ new WeakSet();
          }
          get buffer() {
            return this._buffer;
          }
          destroy() {
            super.destroy(), this._buffer.destroy();
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.document, n2 = t3.text || "", o2 = n2.length, r2 = t3.range ? e3.createSelection(t3.range) : i3.selection, s4 = t3.resultRange;
            e3.enqueueChange(this._buffer.batch, (t4) => {
              this._buffer.lock(), e3.deleteContent(r2), n2 && e3.insertContent(t4.createText(n2, i3.selection.getAttributes()), r2), s4 ? t4.setSelection(s4) : r2.is("documentSelection") || t4.setSelection(r2), this._buffer.unlock(), this._buffer.input(o2), this._batches.add(this._buffer.batch);
            });
          }
        }
        function wd(t3) {
          let e3 = null;
          const i3 = t3.model, n2 = t3.editing.view, o2 = t3.commands.get("input");
          function r2(t4) {
            const r3 = i3.document, a4 = n2.document.isComposing, l2 = e3 && e3.isEqual(r3.selection);
            e3 = null, o2.isEnabled && (function(t5) {
              if (t5.ctrlKey) return true;
              return _d.includes(t5.keyCode);
            }(t4) || r3.selection.isCollapsed || a4 && 229 === t4.keyCode || !a4 && 229 === t4.keyCode && l2 || s4());
          }
          function s4() {
            const t4 = o2.buffer;
            t4.lock(), i3.enqueueChange(t4.batch, () => {
              i3.deleteContent(i3.document.selection);
            }), t4.unlock();
          }
          uo.isAndroid ? n2.document.on("beforeinput", (t4, e4) => r2(e4), { priority: "lowest" }) : n2.document.on("keydown", (t4, e4) => r2(e4), { priority: "lowest" }), n2.document.on("compositionstart", function() {
            const t4 = i3.document, e4 = 1 !== t4.selection.rangeCount || t4.selection.getFirstRange().isFlat;
            if (t4.selection.isCollapsed || e4) return;
            s4();
          }, { priority: "lowest" }), n2.document.on("compositionend", () => {
            e3 = i3.createSelection(i3.document.selection);
          }, { priority: "lowest" });
        }
        const _d = [po("arrowUp"), po("arrowRight"), po("arrowDown"), po("arrowLeft"), 9, 16, 17, 18, 19, 20, 27, 33, 34, 35, 36, 45, 91, 93, 144, 145, 173, 174, 175, 176, 177, 178, 179, 255];
        for (let t3 = 112; t3 <= 135; t3++) _d.push(t3);
        function kd(t3) {
          if (t3.newChildren.length - t3.oldChildren.length != 1) return;
          const e3 = function(t4, e4) {
            const i4 = [];
            let n2, o2 = 0;
            return t4.forEach((t5) => {
              "equal" == t5 ? (r2(), o2++) : "insert" == t5 ? (s4("insert") ? n2.values.push(e4[o2]) : (r2(), n2 = { type: "insert", index: o2, values: [e4[o2]] }), o2++) : s4("delete") ? n2.howMany++ : (r2(), n2 = { type: "delete", index: o2, howMany: 1 });
            }), r2(), i4;
            function r2() {
              n2 && (i4.push(n2), n2 = null);
            }
            function s4(t5) {
              return n2 && n2.type == t5;
            }
          }(qo(t3.oldChildren, t3.newChildren, vd), t3.newChildren);
          if (e3.length > 1) return;
          const i3 = e3[0];
          return i3.values[0] && i3.values[0].is("text") ? i3 : void 0;
        }
        function vd(t3, e3) {
          return t3 && t3.is("text") && e3 && e3.is("text") ? t3.data === e3.data : t3 === e3;
        }
        class yd {
          constructor(t3) {
            this.editor = t3, this.editing = this.editor.editing;
          }
          handle(t3, e3) {
            if (function(t4) {
              if (0 == t4.length) return false;
              for (const e4 of t4) if ("children" === e4.type && !kd(e4)) return true;
              return false;
            }(t3)) this._handleContainerChildrenMutations(t3, e3);
            else for (const i3 of t3) this._handleTextMutation(i3, e3), this._handleTextNodeInsertion(i3);
          }
          _handleContainerChildrenMutations(t3, e3) {
            const i3 = function(t4) {
              const e4 = t4.map((t5) => t5.node).reduce((t5, e5) => t5.getCommonAncestor(e5, { includeSelf: true }));
              if (!e4) return;
              return e4.getAncestors({ includeSelf: true, parentFirst: true }).find((t5) => t5.is("containerElement") || t5.is("rootElement"));
            }(t3);
            if (!i3) return;
            const n2 = this.editor.editing.view.domConverter.mapViewToDom(i3), o2 = new nr(this.editor.editing.view.document), r2 = this.editor.data.toModel(o2.domToView(n2)).getChild(0), s4 = this.editor.editing.mapper.toModelElement(i3);
            if (!s4) return;
            const a4 = Array.from(r2.getChildren()), l2 = Array.from(s4.getChildren()), c3 = a4[a4.length - 1], d4 = l2[l2.length - 1];
            c3 && c3.is("softBreak") && d4 && !d4.is("softBreak") && a4.pop();
            const h4 = this.editor.model.schema;
            if (!xd(a4, h4) || !xd(l2, h4)) return;
            const u3 = a4.map((t4) => t4.is("text") ? t4.data : "@").join("").replace(/\u00A0/g, " "), m4 = l2.map((t4) => t4.is("text") ? t4.data : "@").join("").replace(/\u00A0/g, " ");
            if (m4 === u3) return;
            const g2 = qo(m4, u3), { firstChangeAt: f2, insertions: p2, deletions: b3 } = Ad(g2);
            let w3 = null;
            e3 && (w3 = this.editing.mapper.toModelRange(e3.getFirstRange()));
            const _2 = u3.substr(f2, p2), k3 = this.editor.model.createRange(this.editor.model.createPositionAt(s4, f2), this.editor.model.createPositionAt(s4, f2 + b3));
            this.editor.execute("input", { text: _2, range: k3, resultRange: w3 });
          }
          _handleTextMutation(t3, e3) {
            if ("text" != t3.type) return;
            const i3 = t3.newText.replace(/\u00A0/g, " "), n2 = t3.oldText.replace(/\u00A0/g, " ");
            if (n2 === i3) return;
            const o2 = qo(n2, i3), { firstChangeAt: r2, insertions: s4, deletions: a4 } = Ad(o2);
            let l2 = null;
            e3 && (l2 = this.editing.mapper.toModelRange(e3.getFirstRange()));
            const c3 = this.editing.view.createPositionAt(t3.node, r2), d4 = this.editing.mapper.toModelPosition(c3), h4 = this.editor.model.createRange(d4, d4.getShiftedBy(a4)), u3 = i3.substr(r2, s4);
            this.editor.execute("input", { text: u3, range: h4, resultRange: l2 });
          }
          _handleTextNodeInsertion(t3) {
            if ("children" != t3.type) return;
            const e3 = kd(t3), i3 = this.editing.view.createPositionAt(t3.node, e3.index), n2 = this.editing.mapper.toModelPosition(i3), o2 = e3.values[0].data;
            this.editor.execute("input", { text: o2.replace(/\u00A0/g, " "), range: this.editor.model.createRange(n2) });
          }
        }
        function xd(t3, e3) {
          return t3.every((t4) => e3.isInline(t4));
        }
        function Ad(t3) {
          let e3 = null, i3 = null;
          for (let n3 = 0; n3 < t3.length; n3++) {
            "equal" != t3[n3] && (e3 = null === e3 ? n3 : e3, i3 = n3);
          }
          let n2 = 0, o2 = 0;
          for (let r2 = e3; r2 <= i3; r2++) "insert" != t3[r2] && n2++, "delete" != t3[r2] && o2++;
          return { insertions: o2, deletions: n2, firstChangeAt: e3 };
        }
        class Cd extends Jc {
          static get pluginName() {
            return "Input";
          }
          init() {
            const t3 = this.editor, e3 = new bd(t3, t3.config.get("typing.undoStep") || 20);
            t3.commands.add("input", e3), wd(t3), function(t4) {
              t4.editing.view.document.on("mutations", (e4, i3, n2) => {
                new yd(t4).handle(i3, n2);
              });
            }(t3);
          }
          isInput(t3) {
            return this.editor.commands.get("input")._batches.has(t3);
          }
        }
        class Td extends td {
          constructor(t3, e3) {
            super(t3), this.direction = e3, this._buffer = new pd(t3.model, t3.config.get("typing.undoStep"));
          }
          get buffer() {
            return this._buffer;
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.document;
            e3.enqueueChange(this._buffer.batch, (n2) => {
              this._buffer.lock();
              const o2 = n2.createSelection(t3.selection || i3.selection), r2 = o2.isCollapsed;
              if (o2.isCollapsed && e3.modifySelection(o2, { direction: this.direction, unit: t3.unit }), this._shouldEntireContentBeReplacedWithParagraph(t3.sequence || 1)) return void this._replaceEntireContentWithParagraph(n2);
              if (o2.isCollapsed) return;
              let s4 = 0;
              o2.getFirstRange().getMinimalFlatRanges().forEach((t4) => {
                s4 += eo(t4.getWalker({ singleCharacters: true, ignoreElementEnd: true, shallow: true }));
              }), e3.deleteContent(o2, { doNotResetEntireContent: r2, direction: this.direction }), this._buffer.input(s4), n2.setSelection(o2), this._buffer.unlock();
            });
          }
          _shouldEntireContentBeReplacedWithParagraph(t3) {
            if (t3 > 1) return false;
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = e3.schema.getLimitElement(i3);
            if (!(i3.isCollapsed && i3.containsEntireContent(n2))) return false;
            if (!e3.schema.checkChild(n2, "paragraph")) return false;
            const o2 = n2.getChild(0);
            return !o2 || "paragraph" !== o2.name;
          }
          _replaceEntireContentWithParagraph(t3) {
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = e3.schema.getLimitElement(i3), o2 = t3.createElement("paragraph");
            t3.remove(t3.createRangeIn(n2)), t3.insert(o2, n2), t3.setSelection(o2, 0);
          }
        }
        class Md extends hr {
          constructor(t3) {
            super(t3);
            const e3 = t3.document;
            let i3 = 0;
            function n2(t4, i4, n3) {
              let o2;
              e3.once("delete", (t5) => o2 = t5, { priority: Number.POSITIVE_INFINITY }), e3.fire("delete", new Ir(e3, i4, n3)), o2 && o2.stop.called && t4.stop();
            }
            e3.on("keyup", (t4, e4) => {
              e4.keyCode != fo.delete && e4.keyCode != fo.backspace || (i3 = 0);
            }), e3.on("keydown", (t4, e4) => {
              const o2 = {};
              if (e4.keyCode == fo.delete) o2.direction = "forward", o2.unit = "character";
              else {
                if (e4.keyCode != fo.backspace) return;
                o2.direction = "backward", o2.unit = "codePoint";
              }
              const r2 = uo.isMac ? e4.altKey : e4.ctrlKey;
              o2.unit = r2 ? "word" : o2.unit, o2.sequence = ++i3, n2(t4, e4.domEvent, o2);
            }), uo.isAndroid && e3.on("beforeinput", (e4, i4) => {
              if ("deleteContentBackward" != i4.domEvent.inputType) return;
              const o2 = { unit: "codepoint", direction: "backward", sequence: 1 }, r2 = i4.domTarget.ownerDocument.defaultView.getSelection();
              r2.anchorNode == r2.focusNode && r2.anchorOffset + 1 != r2.focusOffset && (o2.selectionToRemove = t3.domConverter.domSelectionToView(r2)), n2(e4, i4.domEvent, o2);
            });
          }
          observe() {
          }
        }
        class Ed extends Jc {
          static get pluginName() {
            return "Delete";
          }
          init() {
            const t3 = this.editor, e3 = t3.editing.view, i3 = e3.document;
            if (e3.addObserver(Md), t3.commands.add("forwardDelete", new Td(t3, "forward")), t3.commands.add("delete", new Td(t3, "backward")), this.listenTo(i3, "delete", (i4, n2) => {
              const o2 = { unit: n2.unit, sequence: n2.sequence };
              if (n2.selectionToRemove) {
                const e4 = t3.model.createSelection(), i5 = [];
                for (const e5 of n2.selectionToRemove.getRanges()) i5.push(t3.editing.mapper.toModelRange(e5));
                e4.setTo(i5), o2.selection = e4;
              }
              t3.execute("forward" == n2.direction ? "forwardDelete" : "delete", o2), n2.preventDefault(), e3.scrollToTheSelection();
            }), uo.isAndroid) {
              let t4 = null;
              this.listenTo(i3, "delete", (e4, i4) => {
                const n2 = i4.domTarget.ownerDocument.defaultView.getSelection();
                t4 = { anchorNode: n2.anchorNode, anchorOffset: n2.anchorOffset, focusNode: n2.focusNode, focusOffset: n2.focusOffset };
              }, { priority: "lowest" }), this.listenTo(i3, "keyup", (e4, i4) => {
                if (t4) {
                  const e5 = i4.domTarget.ownerDocument.defaultView.getSelection();
                  e5.collapse(t4.anchorNode, t4.anchorOffset), e5.extend(t4.focusNode, t4.focusOffset), t4 = null;
                }
              });
            }
          }
        }
        class Pd extends Jc {
          static get requires() {
            return [Cd, Ed];
          }
          static get pluginName() {
            return "Typing";
          }
        }
        const Sd = /* @__PURE__ */ new Map();
        function Id(t3, e3, i3) {
          let n2 = Sd.get(t3);
          n2 || (n2 = /* @__PURE__ */ new Map(), Sd.set(t3, n2)), n2.set(e3, i3);
        }
        function Od(t3) {
          return [t3];
        }
        function Nd(t3, e3, i3 = {}) {
          const n2 = function(t4, e4) {
            const i4 = Sd.get(t4);
            return i4 && i4.has(e4) ? i4.get(e4) : Od;
          }(t3.constructor, e3.constructor);
          try {
            return n2(t3 = t3.clone(), e3, i3);
          } catch (t4) {
            throw t4;
          }
        }
        function Rd(t3, e3, i3) {
          t3 = t3.slice(), e3 = e3.slice();
          const n2 = new Ld(i3.document, i3.useRelations, i3.forceWeakRemove);
          n2.setOriginalOperations(t3), n2.setOriginalOperations(e3);
          const o2 = n2.originalOperations;
          if (0 == t3.length || 0 == e3.length) return { operationsA: t3, operationsB: e3, originalOperations: o2 };
          const r2 = /* @__PURE__ */ new WeakMap();
          for (const e4 of t3) r2.set(e4, 0);
          const s4 = { nextBaseVersionA: t3[t3.length - 1].baseVersion + 1, nextBaseVersionB: e3[e3.length - 1].baseVersion + 1, originalOperationsACount: t3.length, originalOperationsBCount: e3.length };
          let a4 = 0;
          for (; a4 < t3.length; ) {
            const i4 = t3[a4], o3 = r2.get(i4);
            if (o3 == e3.length) {
              a4++;
              continue;
            }
            const s5 = e3[o3], l2 = Nd(i4, s5, n2.getContext(i4, s5, true)), c3 = Nd(s5, i4, n2.getContext(s5, i4, false));
            n2.updateRelation(i4, s5), n2.setOriginalOperations(l2, i4), n2.setOriginalOperations(c3, s5);
            for (const t4 of l2) r2.set(t4, o3 + c3.length);
            t3.splice(a4, 1, ...l2), e3.splice(o3, 1, ...c3);
          }
          if (i3.padWithNoOps) {
            const i4 = t3.length - s4.originalOperationsACount, n3 = e3.length - s4.originalOperationsBCount;
            Dd(t3, n3 - i4), Dd(e3, i4 - n3);
          }
          return jd(t3, s4.nextBaseVersionB), jd(e3, s4.nextBaseVersionA), { operationsA: t3, operationsB: e3, originalOperations: o2 };
        }
        class Ld {
          constructor(t3, e3, i3 = false) {
            this.originalOperations = /* @__PURE__ */ new Map(), this._history = t3.history, this._useRelations = e3, this._forceWeakRemove = !!i3, this._relations = /* @__PURE__ */ new Map();
          }
          setOriginalOperations(t3, e3 = null) {
            const i3 = e3 ? this.originalOperations.get(e3) : null;
            for (const e4 of t3) this.originalOperations.set(e4, i3 || e4);
          }
          updateRelation(t3, e3) {
            switch (t3.constructor) {
              case Ra:
                switch (e3.constructor) {
                  case Ba:
                    t3.targetPosition.isEqual(e3.sourcePosition) || e3.movedRange.containsPosition(t3.targetPosition) ? this._setRelation(t3, e3, "insertAtSource") : t3.targetPosition.isEqual(e3.deletionPosition) ? this._setRelation(t3, e3, "insertBetween") : t3.targetPosition.isAfter(e3.sourcePosition) && this._setRelation(t3, e3, "moveTargetAfter");
                    break;
                  case Ra:
                    t3.targetPosition.isEqual(e3.sourcePosition) || t3.targetPosition.isBefore(e3.sourcePosition) ? this._setRelation(t3, e3, "insertBefore") : this._setRelation(t3, e3, "insertAfter");
                }
                break;
              case Va:
                switch (e3.constructor) {
                  case Ba:
                    t3.splitPosition.isBefore(e3.sourcePosition) && this._setRelation(t3, e3, "splitBefore");
                    break;
                  case Ra:
                    (t3.splitPosition.isEqual(e3.sourcePosition) || t3.splitPosition.isBefore(e3.sourcePosition)) && this._setRelation(t3, e3, "splitBefore");
                }
                break;
              case Ba:
                switch (e3.constructor) {
                  case Ba:
                    t3.targetPosition.isEqual(e3.sourcePosition) || this._setRelation(t3, e3, "mergeTargetNotMoved"), t3.sourcePosition.isEqual(e3.targetPosition) && this._setRelation(t3, e3, "mergeSourceNotMoved"), t3.sourcePosition.isEqual(e3.sourcePosition) && this._setRelation(t3, e3, "mergeSameElement");
                    break;
                  case Va:
                    t3.sourcePosition.isEqual(e3.splitPosition) && this._setRelation(t3, e3, "splitAtSource");
                }
                break;
              case ja: {
                const i3 = t3.newRange;
                if (!i3) return;
                switch (e3.constructor) {
                  case Ra: {
                    const n2 = xs._createFromPositionAndShift(e3.sourcePosition, e3.howMany), o2 = n2.containsPosition(i3.start) || n2.start.isEqual(i3.start), r2 = n2.containsPosition(i3.end) || n2.end.isEqual(i3.end);
                    !o2 && !r2 || n2.containsRange(i3) || this._setRelation(t3, e3, { side: o2 ? "left" : "right", path: o2 ? i3.start.path.slice() : i3.end.path.slice() });
                    break;
                  }
                  case Ba: {
                    const n2 = i3.start.isEqual(e3.targetPosition), o2 = i3.start.isEqual(e3.deletionPosition), r2 = i3.end.isEqual(e3.deletionPosition), s4 = i3.end.isEqual(e3.sourcePosition);
                    (n2 || o2 || r2 || s4) && this._setRelation(t3, e3, { wasInLeftElement: n2, wasStartBeforeMergedElement: o2, wasEndBeforeMergedElement: r2, wasInRightElement: s4 });
                    break;
                  }
                }
                break;
              }
            }
          }
          getContext(t3, e3, i3) {
            return { aIsStrong: i3, aWasUndone: this._wasUndone(t3), bWasUndone: this._wasUndone(e3), abRelation: this._useRelations ? this._getRelation(t3, e3) : null, baRelation: this._useRelations ? this._getRelation(e3, t3) : null, forceWeakRemove: this._forceWeakRemove };
          }
          _wasUndone(t3) {
            const e3 = this.originalOperations.get(t3);
            return e3.wasUndone || this._history.isUndoneOperation(e3);
          }
          _getRelation(t3, e3) {
            const i3 = this.originalOperations.get(e3), n2 = this._history.getUndoneOperation(i3);
            if (!n2) return null;
            const o2 = this.originalOperations.get(t3), r2 = this._relations.get(o2);
            return r2 && r2.get(n2) || null;
          }
          _setRelation(t3, e3, i3) {
            const n2 = this.originalOperations.get(t3), o2 = this.originalOperations.get(e3);
            let r2 = this._relations.get(n2);
            r2 || (r2 = /* @__PURE__ */ new Map(), this._relations.set(n2, r2)), r2.set(o2, i3);
          }
        }
        function jd(t3, e3) {
          for (const i3 of t3) i3.baseVersion = e3++;
        }
        function Dd(t3, e3) {
          for (let i3 = 0; i3 < e3; i3++) t3.push(new rl(0));
        }
        function zd(t3, e3, i3) {
          const n2 = t3.nodes.getNode(0).getAttribute(e3);
          if (n2 == i3) return null;
          const o2 = new xs(t3.position, t3.position.getShiftedBy(t3.howMany));
          return new Oa(o2, e3, n2, i3, 0);
        }
        function Bd(t3, e3) {
          return null === t3.targetPosition._getTransformedByDeletion(e3.sourcePosition, e3.howMany);
        }
        function Vd(t3, e3) {
          const i3 = [];
          for (let n2 = 0; n2 < t3.length; n2++) {
            const o2 = t3[n2], r2 = new Ra(o2.start, o2.end.offset - o2.start.offset, e3, 0);
            i3.push(r2);
            for (let e4 = n2 + 1; e4 < t3.length; e4++) t3[e4] = t3[e4]._getTransformedByMove(r2.sourcePosition, r2.targetPosition, r2.howMany)[0];
            e3 = e3._getTransformedByMove(r2.sourcePosition, r2.targetPosition, r2.howMany);
          }
          return i3;
        }
        Id(Oa, Oa, (t3, e3, i3) => {
          if (t3.key === e3.key && t3.range.start.hasSameParentAs(e3.range.start)) {
            const n2 = t3.range.getDifference(e3.range).map((e4) => new Oa(e4, t3.key, t3.oldValue, t3.newValue, 0)), o2 = t3.range.getIntersection(e3.range);
            return o2 && i3.aIsStrong && n2.push(new Oa(o2, e3.key, e3.newValue, t3.newValue, 0)), 0 == n2.length ? [new rl(0)] : n2;
          }
          return [t3];
        }), Id(Oa, La, (t3, e3) => {
          if (t3.range.start.hasSameParentAs(e3.position) && t3.range.containsPosition(e3.position)) {
            const i3 = t3.range._getTransformedByInsertion(e3.position, e3.howMany, !e3.shouldReceiveAttributes).map((e4) => new Oa(e4, t3.key, t3.oldValue, t3.newValue, t3.baseVersion));
            if (e3.shouldReceiveAttributes) {
              const n2 = zd(e3, t3.key, t3.oldValue);
              n2 && i3.unshift(n2);
            }
            return i3;
          }
          return t3.range = t3.range._getTransformedByInsertion(e3.position, e3.howMany, false)[0], [t3];
        }), Id(Oa, Ba, (t3, e3) => {
          const i3 = [];
          t3.range.start.hasSameParentAs(e3.deletionPosition) && (t3.range.containsPosition(e3.deletionPosition) || t3.range.start.isEqual(e3.deletionPosition)) && i3.push(xs._createFromPositionAndShift(e3.graveyardPosition, 1));
          const n2 = t3.range._getTransformedByMergeOperation(e3);
          return n2.isCollapsed || i3.push(n2), i3.map((e4) => new Oa(e4, t3.key, t3.oldValue, t3.newValue, t3.baseVersion));
        }), Id(Oa, Ra, (t3, e3) => function(t4, e4) {
          const i3 = xs._createFromPositionAndShift(e4.sourcePosition, e4.howMany);
          let n2 = null, o2 = [];
          i3.containsRange(t4, true) ? n2 = t4 : t4.start.hasSameParentAs(i3.start) ? (o2 = t4.getDifference(i3), n2 = t4.getIntersection(i3)) : o2 = [t4];
          const r2 = [];
          for (let t5 of o2) {
            t5 = t5._getTransformedByDeletion(e4.sourcePosition, e4.howMany);
            const i4 = e4.getMovedRangeStart(), n3 = t5.start.hasSameParentAs(i4);
            t5 = t5._getTransformedByInsertion(i4, e4.howMany, n3), r2.push(...t5);
          }
          n2 && r2.push(n2._getTransformedByMove(e4.sourcePosition, e4.targetPosition, e4.howMany, false)[0]);
          return r2;
        }(t3.range, e3).map((e4) => new Oa(e4, t3.key, t3.oldValue, t3.newValue, t3.baseVersion))), Id(Oa, Va, (t3, e3) => {
          if (t3.range.end.isEqual(e3.insertionPosition)) return e3.graveyardPosition || t3.range.end.offset++, [t3];
          if (t3.range.start.hasSameParentAs(e3.splitPosition) && t3.range.containsPosition(e3.splitPosition)) {
            const i3 = t3.clone();
            return i3.range = new xs(e3.moveTargetPosition.clone(), t3.range.end._getCombined(e3.splitPosition, e3.moveTargetPosition)), t3.range.end = e3.splitPosition.clone(), t3.range.end.stickiness = "toPrevious", [t3, i3];
          }
          return t3.range = t3.range._getTransformedBySplitOperation(e3), [t3];
        }), Id(La, Oa, (t3, e3) => {
          const i3 = [t3];
          if (t3.shouldReceiveAttributes && t3.position.hasSameParentAs(e3.range.start) && e3.range.containsPosition(t3.position)) {
            const n2 = zd(t3, e3.key, e3.newValue);
            n2 && i3.push(n2);
          }
          return i3;
        }), Id(La, La, (t3, e3, i3) => (t3.position.isEqual(e3.position) && i3.aIsStrong || (t3.position = t3.position._getTransformedByInsertOperation(e3)), [t3])), Id(La, Ra, (t3, e3) => (t3.position = t3.position._getTransformedByMoveOperation(e3), [t3])), Id(La, Va, (t3, e3) => (t3.position = t3.position._getTransformedBySplitOperation(e3), [t3])), Id(La, Ba, (t3, e3) => (t3.position = t3.position._getTransformedByMergeOperation(e3), [t3])), Id(ja, La, (t3, e3) => (t3.oldRange && (t3.oldRange = t3.oldRange._getTransformedByInsertOperation(e3)[0]), t3.newRange && (t3.newRange = t3.newRange._getTransformedByInsertOperation(e3)[0]), [t3])), Id(ja, ja, (t3, e3, i3) => {
          if (t3.name == e3.name) {
            if (!i3.aIsStrong) return [new rl(0)];
            t3.oldRange = e3.newRange ? e3.newRange.clone() : null;
          }
          return [t3];
        }), Id(ja, Ba, (t3, e3) => (t3.oldRange && (t3.oldRange = t3.oldRange._getTransformedByMergeOperation(e3)), t3.newRange && (t3.newRange = t3.newRange._getTransformedByMergeOperation(e3)), [t3])), Id(ja, Ra, (t3, e3, i3) => {
          if (t3.oldRange && (t3.oldRange = xs._createFromRanges(t3.oldRange._getTransformedByMoveOperation(e3))), t3.newRange) {
            if (i3.abRelation) {
              const n2 = xs._createFromRanges(t3.newRange._getTransformedByMoveOperation(e3));
              if ("left" == i3.abRelation.side && e3.targetPosition.isEqual(t3.newRange.start)) return t3.newRange.start.path = i3.abRelation.path, t3.newRange.end = n2.end, [t3];
              if ("right" == i3.abRelation.side && e3.targetPosition.isEqual(t3.newRange.end)) return t3.newRange.start = n2.start, t3.newRange.end.path = i3.abRelation.path, [t3];
            }
            t3.newRange = xs._createFromRanges(t3.newRange._getTransformedByMoveOperation(e3));
          }
          return [t3];
        }), Id(ja, Va, (t3, e3, i3) => {
          if (t3.oldRange && (t3.oldRange = t3.oldRange._getTransformedBySplitOperation(e3)), t3.newRange) {
            if (i3.abRelation) {
              const n2 = t3.newRange._getTransformedBySplitOperation(e3);
              return t3.newRange.start.isEqual(e3.splitPosition) && i3.abRelation.wasStartBeforeMergedElement ? t3.newRange.start = _s._createAt(e3.insertionPosition) : t3.newRange.start.isEqual(e3.splitPosition) && !i3.abRelation.wasInLeftElement && (t3.newRange.start = _s._createAt(e3.moveTargetPosition)), t3.newRange.end.isEqual(e3.splitPosition) && i3.abRelation.wasInRightElement ? t3.newRange.end = _s._createAt(e3.moveTargetPosition) : t3.newRange.end.isEqual(e3.splitPosition) && i3.abRelation.wasEndBeforeMergedElement ? t3.newRange.end = _s._createAt(e3.insertionPosition) : t3.newRange.end = n2.end, [t3];
            }
            t3.newRange = t3.newRange._getTransformedBySplitOperation(e3);
          }
          return [t3];
        }), Id(Ba, La, (t3, e3) => (t3.sourcePosition.hasSameParentAs(e3.position) && (t3.howMany += e3.howMany), t3.sourcePosition = t3.sourcePosition._getTransformedByInsertOperation(e3), t3.targetPosition = t3.targetPosition._getTransformedByInsertOperation(e3), [t3])), Id(Ba, Ba, (t3, e3, i3) => {
          if (t3.sourcePosition.isEqual(e3.sourcePosition) && t3.targetPosition.isEqual(e3.targetPosition)) {
            if (i3.bWasUndone) {
              const i4 = e3.graveyardPosition.path.slice();
              return i4.push(0), t3.sourcePosition = new _s(e3.graveyardPosition.root, i4), t3.howMany = 0, [t3];
            }
            return [new rl(0)];
          }
          if (t3.sourcePosition.isEqual(e3.sourcePosition) && !t3.targetPosition.isEqual(e3.targetPosition) && !i3.bWasUndone && "splitAtSource" != i3.abRelation) {
            const n2 = "$graveyard" == t3.targetPosition.root.rootName, o2 = "$graveyard" == e3.targetPosition.root.rootName, r2 = n2 && !o2;
            if (o2 && !n2 || !r2 && i3.aIsStrong) {
              const i4 = e3.targetPosition._getTransformedByMergeOperation(e3), n3 = t3.targetPosition._getTransformedByMergeOperation(e3);
              return [new Ra(i4, t3.howMany, n3, 0)];
            }
            return [new rl(0)];
          }
          return t3.sourcePosition.hasSameParentAs(e3.targetPosition) && (t3.howMany += e3.howMany), t3.sourcePosition = t3.sourcePosition._getTransformedByMergeOperation(e3), t3.targetPosition = t3.targetPosition._getTransformedByMergeOperation(e3), t3.graveyardPosition.isEqual(e3.graveyardPosition) && i3.aIsStrong || (t3.graveyardPosition = t3.graveyardPosition._getTransformedByMergeOperation(e3)), [t3];
        }), Id(Ba, Ra, (t3, e3, i3) => {
          const n2 = xs._createFromPositionAndShift(e3.sourcePosition, e3.howMany);
          return "remove" == e3.type && !i3.bWasUndone && !i3.forceWeakRemove && t3.deletionPosition.hasSameParentAs(e3.sourcePosition) && n2.containsPosition(t3.sourcePosition) ? [new rl(0)] : (t3.sourcePosition.hasSameParentAs(e3.targetPosition) && (t3.howMany += e3.howMany), t3.sourcePosition.hasSameParentAs(e3.sourcePosition) && (t3.howMany -= e3.howMany), t3.sourcePosition = t3.sourcePosition._getTransformedByMoveOperation(e3), t3.targetPosition = t3.targetPosition._getTransformedByMoveOperation(e3), t3.graveyardPosition.isEqual(e3.targetPosition) || (t3.graveyardPosition = t3.graveyardPosition._getTransformedByMoveOperation(e3)), [t3]);
        }), Id(Ba, Va, (t3, e3, i3) => {
          if (e3.graveyardPosition && (t3.graveyardPosition = t3.graveyardPosition._getTransformedByDeletion(e3.graveyardPosition, 1), t3.deletionPosition.isEqual(e3.graveyardPosition) && (t3.howMany = e3.howMany)), t3.targetPosition.isEqual(e3.splitPosition)) {
            const n2 = 0 != e3.howMany, o2 = e3.graveyardPosition && t3.deletionPosition.isEqual(e3.graveyardPosition);
            if (n2 || o2 || "mergeTargetNotMoved" == i3.abRelation) return t3.sourcePosition = t3.sourcePosition._getTransformedBySplitOperation(e3), [t3];
          }
          if (t3.sourcePosition.isEqual(e3.splitPosition)) {
            if ("mergeSourceNotMoved" == i3.abRelation) return t3.howMany = 0, t3.targetPosition = t3.targetPosition._getTransformedBySplitOperation(e3), [t3];
            if ("mergeSameElement" == i3.abRelation || t3.sourcePosition.offset > 0) return t3.sourcePosition = e3.moveTargetPosition.clone(), t3.targetPosition = t3.targetPosition._getTransformedBySplitOperation(e3), [t3];
          }
          return t3.sourcePosition.hasSameParentAs(e3.splitPosition) && (t3.howMany = e3.splitPosition.offset), t3.sourcePosition = t3.sourcePosition._getTransformedBySplitOperation(e3), t3.targetPosition = t3.targetPosition._getTransformedBySplitOperation(e3), [t3];
        }), Id(Ra, La, (t3, e3) => {
          const i3 = xs._createFromPositionAndShift(t3.sourcePosition, t3.howMany)._getTransformedByInsertOperation(e3, false)[0];
          return t3.sourcePosition = i3.start, t3.howMany = i3.end.offset - i3.start.offset, t3.targetPosition.isEqual(e3.position) || (t3.targetPosition = t3.targetPosition._getTransformedByInsertOperation(e3)), [t3];
        }), Id(Ra, Ra, (t3, e3, i3) => {
          const n2 = xs._createFromPositionAndShift(t3.sourcePosition, t3.howMany), o2 = xs._createFromPositionAndShift(e3.sourcePosition, e3.howMany);
          let r2, s4 = i3.aIsStrong, a4 = !i3.aIsStrong;
          if ("insertBefore" == i3.abRelation || "insertAfter" == i3.baRelation ? a4 = true : "insertAfter" != i3.abRelation && "insertBefore" != i3.baRelation || (a4 = false), r2 = t3.targetPosition.isEqual(e3.targetPosition) && a4 ? t3.targetPosition._getTransformedByDeletion(e3.sourcePosition, e3.howMany) : t3.targetPosition._getTransformedByMove(e3.sourcePosition, e3.targetPosition, e3.howMany), Bd(t3, e3) && Bd(e3, t3)) return [e3.getReversed()];
          if (n2.containsPosition(e3.targetPosition) && n2.containsRange(o2, true)) return n2.start = n2.start._getTransformedByMove(e3.sourcePosition, e3.targetPosition, e3.howMany), n2.end = n2.end._getTransformedByMove(e3.sourcePosition, e3.targetPosition, e3.howMany), Vd([n2], r2);
          if (o2.containsPosition(t3.targetPosition) && o2.containsRange(n2, true)) return n2.start = n2.start._getCombined(e3.sourcePosition, e3.getMovedRangeStart()), n2.end = n2.end._getCombined(e3.sourcePosition, e3.getMovedRangeStart()), Vd([n2], r2);
          const l2 = Si(t3.sourcePosition.getParentPath(), e3.sourcePosition.getParentPath());
          if ("prefix" == l2 || "extension" == l2) return n2.start = n2.start._getTransformedByMove(e3.sourcePosition, e3.targetPosition, e3.howMany), n2.end = n2.end._getTransformedByMove(e3.sourcePosition, e3.targetPosition, e3.howMany), Vd([n2], r2);
          "remove" != t3.type || "remove" == e3.type || i3.aWasUndone || i3.forceWeakRemove ? "remove" == t3.type || "remove" != e3.type || i3.bWasUndone || i3.forceWeakRemove || (s4 = false) : s4 = true;
          const c3 = [], d4 = n2.getDifference(o2);
          for (const t4 of d4) {
            t4.start = t4.start._getTransformedByDeletion(e3.sourcePosition, e3.howMany), t4.end = t4.end._getTransformedByDeletion(e3.sourcePosition, e3.howMany);
            const i4 = "same" == Si(t4.start.getParentPath(), e3.getMovedRangeStart().getParentPath()), n3 = t4._getTransformedByInsertion(e3.getMovedRangeStart(), e3.howMany, i4);
            c3.push(...n3);
          }
          const h4 = n2.getIntersection(o2);
          return null !== h4 && s4 && (h4.start = h4.start._getCombined(e3.sourcePosition, e3.getMovedRangeStart()), h4.end = h4.end._getCombined(e3.sourcePosition, e3.getMovedRangeStart()), 0 === c3.length ? c3.push(h4) : 1 == c3.length ? o2.start.isBefore(n2.start) || o2.start.isEqual(n2.start) ? c3.unshift(h4) : c3.push(h4) : c3.splice(1, 0, h4)), 0 === c3.length ? [new rl(t3.baseVersion)] : Vd(c3, r2);
        }), Id(Ra, Va, (t3, e3, i3) => {
          let n2 = t3.targetPosition.clone();
          t3.targetPosition.isEqual(e3.insertionPosition) && e3.graveyardPosition && "moveTargetAfter" != i3.abRelation || (n2 = t3.targetPosition._getTransformedBySplitOperation(e3));
          const o2 = xs._createFromPositionAndShift(t3.sourcePosition, t3.howMany);
          if (o2.end.isEqual(e3.insertionPosition)) return e3.graveyardPosition || t3.howMany++, t3.targetPosition = n2, [t3];
          if (o2.start.hasSameParentAs(e3.splitPosition) && o2.containsPosition(e3.splitPosition)) {
            let t4 = new xs(e3.splitPosition, o2.end);
            t4 = t4._getTransformedBySplitOperation(e3);
            return Vd([new xs(o2.start, e3.splitPosition), t4], n2);
          }
          t3.targetPosition.isEqual(e3.splitPosition) && "insertAtSource" == i3.abRelation && (n2 = e3.moveTargetPosition), t3.targetPosition.isEqual(e3.insertionPosition) && "insertBetween" == i3.abRelation && (n2 = t3.targetPosition);
          const r2 = [o2._getTransformedBySplitOperation(e3)];
          if (e3.graveyardPosition) {
            const n3 = o2.start.isEqual(e3.graveyardPosition) || o2.containsPosition(e3.graveyardPosition);
            t3.howMany > 1 && n3 && !i3.aWasUndone && r2.push(xs._createFromPositionAndShift(e3.insertionPosition, 1));
          }
          return Vd(r2, n2);
        }), Id(Ra, Ba, (t3, e3, i3) => {
          const n2 = xs._createFromPositionAndShift(t3.sourcePosition, t3.howMany);
          if (e3.deletionPosition.hasSameParentAs(t3.sourcePosition) && n2.containsPosition(e3.sourcePosition)) {
            if ("remove" != t3.type || i3.forceWeakRemove) {
              if (1 == t3.howMany) return i3.bWasUndone ? (t3.sourcePosition = e3.graveyardPosition.clone(), t3.targetPosition = t3.targetPosition._getTransformedByMergeOperation(e3), [t3]) : [new rl(0)];
            } else if (!i3.aWasUndone) {
              const i4 = [];
              let n3 = e3.graveyardPosition.clone(), o3 = e3.targetPosition._getTransformedByMergeOperation(e3);
              t3.howMany > 1 && (i4.push(new Ra(t3.sourcePosition, t3.howMany - 1, t3.targetPosition, 0)), n3 = n3._getTransformedByMove(t3.sourcePosition, t3.targetPosition, t3.howMany - 1), o3 = o3._getTransformedByMove(t3.sourcePosition, t3.targetPosition, t3.howMany - 1));
              const r2 = e3.deletionPosition._getCombined(t3.sourcePosition, t3.targetPosition), s4 = new Ra(n3, 1, r2, 0), a4 = s4.getMovedRangeStart().path.slice();
              a4.push(0);
              const l2 = new _s(s4.targetPosition.root, a4);
              o3 = o3._getTransformedByMove(n3, r2, 1);
              const c3 = new Ra(o3, e3.howMany, l2, 0);
              return i4.push(s4), i4.push(c3), i4;
            }
          }
          const o2 = xs._createFromPositionAndShift(t3.sourcePosition, t3.howMany)._getTransformedByMergeOperation(e3);
          return t3.sourcePosition = o2.start, t3.howMany = o2.end.offset - o2.start.offset, t3.targetPosition = t3.targetPosition._getTransformedByMergeOperation(e3), [t3];
        }), Id(Da, La, (t3, e3) => (t3.position = t3.position._getTransformedByInsertOperation(e3), [t3])), Id(Da, Ba, (t3, e3) => t3.position.isEqual(e3.deletionPosition) ? (t3.position = e3.graveyardPosition.clone(), t3.position.stickiness = "toNext", [t3]) : (t3.position = t3.position._getTransformedByMergeOperation(e3), [t3])), Id(Da, Ra, (t3, e3) => (t3.position = t3.position._getTransformedByMoveOperation(e3), [t3])), Id(Da, Da, (t3, e3, i3) => {
          if (t3.position.isEqual(e3.position)) {
            if (!i3.aIsStrong) return [new rl(0)];
            t3.oldName = e3.newName;
          }
          return [t3];
        }), Id(Da, Va, (t3, e3) => {
          if ("same" == Si(t3.position.path, e3.splitPosition.getParentPath()) && !e3.graveyardPosition) {
            const e4 = new Da(t3.position.getShiftedBy(1), t3.oldName, t3.newName, 0);
            return [t3, e4];
          }
          return t3.position = t3.position._getTransformedBySplitOperation(e3), [t3];
        }), Id(za, za, (t3, e3, i3) => {
          if (t3.root === e3.root && t3.key === e3.key) {
            if (!i3.aIsStrong || t3.newValue === e3.newValue) return [new rl(0)];
            t3.oldValue = e3.newValue;
          }
          return [t3];
        }), Id(Va, La, (t3, e3) => (t3.splitPosition.hasSameParentAs(e3.position) && t3.splitPosition.offset < e3.position.offset && (t3.howMany += e3.howMany), t3.splitPosition = t3.splitPosition._getTransformedByInsertOperation(e3), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), [t3])), Id(Va, Ba, (t3, e3, i3) => {
          if (!t3.graveyardPosition && !i3.bWasUndone && t3.splitPosition.hasSameParentAs(e3.sourcePosition)) {
            const i4 = e3.graveyardPosition.path.slice();
            i4.push(0);
            const n2 = new _s(e3.graveyardPosition.root, i4), o2 = Va.getInsertionPosition(new _s(e3.graveyardPosition.root, i4)), r2 = new Va(n2, 0, null, 0);
            return r2.insertionPosition = o2, t3.splitPosition = t3.splitPosition._getTransformedByMergeOperation(e3), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), t3.graveyardPosition = r2.insertionPosition.clone(), t3.graveyardPosition.stickiness = "toNext", [r2, t3];
          }
          return t3.splitPosition.hasSameParentAs(e3.deletionPosition) && !t3.splitPosition.isAfter(e3.deletionPosition) && t3.howMany--, t3.splitPosition.hasSameParentAs(e3.targetPosition) && (t3.howMany += e3.howMany), t3.splitPosition = t3.splitPosition._getTransformedByMergeOperation(e3), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), t3.graveyardPosition && (t3.graveyardPosition = t3.graveyardPosition._getTransformedByMergeOperation(e3)), [t3];
        }), Id(Va, Ra, (t3, e3, i3) => {
          const n2 = xs._createFromPositionAndShift(e3.sourcePosition, e3.howMany);
          if (t3.graveyardPosition) {
            const o2 = n2.start.isEqual(t3.graveyardPosition) || n2.containsPosition(t3.graveyardPosition);
            if (!i3.bWasUndone && o2) {
              const i4 = t3.splitPosition._getTransformedByMoveOperation(e3), n3 = t3.graveyardPosition._getTransformedByMoveOperation(e3), o3 = n3.path.slice();
              o3.push(0);
              const r2 = new _s(n3.root, o3);
              return [new Ra(i4, t3.howMany, r2, 0)];
            }
            t3.graveyardPosition = t3.graveyardPosition._getTransformedByMoveOperation(e3);
          }
          if (t3.splitPosition.hasSameParentAs(e3.sourcePosition) && n2.containsPosition(t3.splitPosition)) {
            const i4 = e3.howMany - (t3.splitPosition.offset - e3.sourcePosition.offset);
            return t3.howMany -= i4, t3.splitPosition.hasSameParentAs(e3.targetPosition) && t3.splitPosition.offset < e3.targetPosition.offset && (t3.howMany += e3.howMany), t3.splitPosition = e3.sourcePosition.clone(), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), [t3];
          }
          return !t3.splitPosition.isEqual(e3.targetPosition) || "insertAtSource" != i3.baRelation && "splitBefore" != i3.abRelation ? (e3.sourcePosition.isEqual(e3.targetPosition) || (t3.splitPosition.hasSameParentAs(e3.sourcePosition) && t3.splitPosition.offset <= e3.sourcePosition.offset && (t3.howMany -= e3.howMany), t3.splitPosition.hasSameParentAs(e3.targetPosition) && t3.splitPosition.offset < e3.targetPosition.offset && (t3.howMany += e3.howMany)), t3.splitPosition.stickiness = "toNone", t3.splitPosition = t3.splitPosition._getTransformedByMoveOperation(e3), t3.splitPosition.stickiness = "toNext", t3.graveyardPosition ? t3.insertionPosition = t3.insertionPosition._getTransformedByMoveOperation(e3) : t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), [t3]) : (t3.howMany += e3.howMany, t3.splitPosition = t3.splitPosition._getTransformedByDeletion(e3.sourcePosition, e3.howMany), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), [t3]);
        }), Id(Va, Va, (t3, e3, i3) => {
          if (t3.splitPosition.isEqual(e3.splitPosition)) {
            if (!t3.graveyardPosition && !e3.graveyardPosition) return [new rl(0)];
            if (t3.graveyardPosition && e3.graveyardPosition && t3.graveyardPosition.isEqual(e3.graveyardPosition)) return [new rl(0)];
            if ("splitBefore" == i3.abRelation) return t3.howMany = 0, t3.graveyardPosition = t3.graveyardPosition._getTransformedBySplitOperation(e3), [t3];
          }
          if (t3.graveyardPosition && e3.graveyardPosition && t3.graveyardPosition.isEqual(e3.graveyardPosition)) {
            const n2 = "$graveyard" == t3.splitPosition.root.rootName, o2 = "$graveyard" == e3.splitPosition.root.rootName, r2 = n2 && !o2;
            if (o2 && !n2 || !r2 && i3.aIsStrong) {
              const i4 = [];
              return e3.howMany && i4.push(new Ra(e3.moveTargetPosition, e3.howMany, e3.splitPosition, 0)), t3.howMany && i4.push(new Ra(t3.splitPosition, t3.howMany, t3.moveTargetPosition, 0)), i4;
            }
            return [new rl(0)];
          }
          if (t3.graveyardPosition && (t3.graveyardPosition = t3.graveyardPosition._getTransformedBySplitOperation(e3)), t3.splitPosition.isEqual(e3.insertionPosition) && "splitBefore" == i3.abRelation) return t3.howMany++, [t3];
          if (e3.splitPosition.isEqual(t3.insertionPosition) && "splitBefore" == i3.baRelation) {
            const i4 = e3.insertionPosition.path.slice();
            i4.push(0);
            const n2 = new _s(e3.insertionPosition.root, i4);
            return [t3, new Ra(t3.insertionPosition, 1, n2, 0)];
          }
          return t3.splitPosition.hasSameParentAs(e3.splitPosition) && t3.splitPosition.offset < e3.splitPosition.offset && (t3.howMany -= e3.howMany), t3.splitPosition = t3.splitPosition._getTransformedBySplitOperation(e3), t3.insertionPosition = Va.getInsertionPosition(t3.splitPosition), [t3];
        });
        class Fd extends td {
          constructor(t3) {
            super(t3), this._stack = [], this._createdBatches = /* @__PURE__ */ new WeakSet(), this.refresh();
          }
          refresh() {
            this.isEnabled = this._stack.length > 0;
          }
          addBatch(t3) {
            const e3 = this.editor.model.document.selection, i3 = { ranges: e3.hasOwnRange ? Array.from(e3.getRanges()) : [], isBackward: e3.isBackward };
            this._stack.push({ batch: t3, selection: i3 }), this.refresh();
          }
          clearStack() {
            this._stack = [], this.refresh();
          }
          _restoreSelection(t3, e3, i3) {
            const n2 = this.editor.model, o2 = n2.document, r2 = [];
            for (const e4 of t3) {
              const t4 = Hd(e4, i3).find((t5) => t5.start.root != o2.graveyard);
              t4 && r2.push(t4);
            }
            r2.length && n2.change((t4) => {
              t4.setSelection(r2, { backward: e3 });
            });
          }
          _undo(t3, e3) {
            const i3 = this.editor.model, n2 = i3.document;
            this._createdBatches.add(e3);
            const o2 = t3.operations.slice().filter((t4) => t4.isDocumentOperation);
            o2.reverse();
            for (const t4 of o2) {
              const o3 = t4.baseVersion + 1, r2 = Array.from(n2.history.getOperations(o3)), s4 = Rd([t4.getReversed()], r2, { useRelations: true, document: this.editor.model.document, padWithNoOps: false, forceWeakRemove: true }).operationsA;
              for (const o4 of s4) e3.addOperation(o4), i3.applyOperation(o4), n2.history.setOperationAsUndone(t4, o4);
            }
          }
        }
        function Hd(t3, e3) {
          const i3 = t3.getTransformedByOperations(e3);
          i3.sort((t4, e4) => t4.start.isBefore(e4.start) ? -1 : 1);
          for (let t4 = 1; t4 < i3.length; t4++) {
            const e4 = i3[t4 - 1], n2 = i3[t4];
            e4.end.isTouching(n2.start) && (e4.end = n2.end, i3.splice(t4, 1), t4--);
          }
          return i3;
        }
        class Ud extends Fd {
          execute(t3 = null) {
            const e3 = t3 ? this._stack.findIndex((e4) => e4.batch == t3) : this._stack.length - 1, i3 = this._stack.splice(e3, 1)[0], n2 = this.editor.model.createBatch("transparent");
            this.editor.model.enqueueChange(n2, () => {
              this._undo(i3.batch, n2);
              const t4 = this.editor.model.document.history.getOperations(i3.batch.baseVersion);
              this._restoreSelection(i3.selection.ranges, i3.selection.isBackward, t4), this.fire("revert", i3.batch, n2);
            }), this.refresh();
          }
        }
        class Wd extends Fd {
          execute() {
            const t3 = this._stack.pop(), e3 = this.editor.model.createBatch("transparent");
            this.editor.model.enqueueChange(e3, () => {
              const i3 = t3.batch.operations[t3.batch.operations.length - 1].baseVersion + 1, n2 = this.editor.model.document.history.getOperations(i3);
              this._restoreSelection(t3.selection.ranges, t3.selection.isBackward, n2), this._undo(t3.batch, e3);
            }), this.refresh();
          }
        }
        class qd extends Jc {
          static get pluginName() {
            return "UndoEditing";
          }
          constructor(t3) {
            super(t3), this._batchRegistry = /* @__PURE__ */ new WeakSet();
          }
          init() {
            const t3 = this.editor;
            this._undoCommand = new Ud(t3), this._redoCommand = new Wd(t3), t3.commands.add("undo", this._undoCommand), t3.commands.add("redo", this._redoCommand), this.listenTo(t3.model, "applyOperation", (t4, e3) => {
              const i3 = e3[0];
              if (!i3.isDocumentOperation) return;
              const n2 = i3.batch, o2 = this._redoCommand._createdBatches.has(n2), r2 = this._undoCommand._createdBatches.has(n2);
              this._batchRegistry.has(n2) || "transparent" == n2.type && !o2 && !r2 || (o2 ? this._undoCommand.addBatch(n2) : r2 || (this._undoCommand.addBatch(n2), this._redoCommand.clearStack()), this._batchRegistry.add(n2));
            }, { priority: "highest" }), this.listenTo(this._undoCommand, "revert", (t4, e3, i3) => {
              this._redoCommand.addBatch(i3);
            }), t3.keystrokes.set("CTRL+Z", "undo"), t3.keystrokes.set("CTRL+Y", "redo"), t3.keystrokes.set("CTRL+SHIFT+Z", "redo");
          }
        }
        var Yd = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>', $d = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';
        class Jd extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.locale, i3 = t3.t, n2 = "ltr" == e3.uiLanguageDirection ? Yd : $d, o2 = "ltr" == e3.uiLanguageDirection ? $d : Yd;
            this._addButton("undo", i3("Undo"), "CTRL+Z", n2), this._addButton("redo", i3("Redo"), "CTRL+Y", o2);
          }
          _addButton(t3, e3, i3, n2) {
            const o2 = this.editor;
            o2.ui.componentFactory.add(t3, (r2) => {
              const s4 = o2.commands.get(t3), a4 = new Oc(r2);
              return a4.set({ label: e3, icon: n2, keystroke: i3, tooltip: true }), a4.bind("isEnabled").to(s4, "isEnabled"), this.listenTo(a4, "execute", () => {
                o2.execute(t3), o2.editing.view.focus();
              }), a4;
            });
          }
        }
        class Gd extends Jc {
          static get requires() {
            return [qd, Jd];
          }
          static get pluginName() {
            return "Undo";
          }
        }
        class Qd {
          constructor(t3) {
            this.context = t3;
          }
          destroy() {
            this.stopListening();
          }
          static get isContextPlugin() {
            return true;
          }
        }
        yi(Qd, Hn);
        class Xd extends Qd {
          static get pluginName() {
            return "PendingActions";
          }
          init() {
            this.set("hasAny", false), this._actions = new xi({ idProperty: "_id" }), this._actions.delegate("add", "remove").to(this);
          }
          add(t3) {
            if ("string" != typeof t3) throw new hi.b("pendingactions-add-invalid-message: The message must be a string.", this);
            const e3 = Object.create(Hn);
            return e3.set("message", t3), this._actions.add(e3), this.hasAny = true, e3;
          }
          remove(t3) {
            this._actions.remove(t3), this.hasAny = !!this._actions.length;
          }
          get first() {
            return this._actions.get(0);
          }
          [Symbol.iterator]() {
            return this._actions[Symbol.iterator]();
          }
        }
        class Kd {
          constructor() {
            const t3 = new window.FileReader();
            this._reader = t3, this._data = void 0, this.set("loaded", 0), t3.onprogress = (t4) => {
              this.loaded = t4.loaded;
            };
          }
          get error() {
            return this._reader.error;
          }
          get data() {
            return this._data;
          }
          read(t3) {
            const e3 = this._reader;
            return this.total = t3.size, new Promise((i3, n2) => {
              e3.onload = () => {
                const t4 = e3.result;
                this._data = t4, i3(t4);
              }, e3.onerror = () => {
                n2("error");
              }, e3.onabort = () => {
                n2("aborted");
              }, this._reader.readAsDataURL(t3);
            });
          }
          abort() {
            this._reader.abort();
          }
        }
        yi(Kd, Hn);
        class Zd extends Jc {
          static get pluginName() {
            return "FileRepository";
          }
          static get requires() {
            return [Xd];
          }
          init() {
            this.loaders = new xi(), this.loaders.on("add", () => this._updatePendingAction()), this.loaders.on("remove", () => this._updatePendingAction()), this._loadersMap = /* @__PURE__ */ new Map(), this._pendingAction = null, this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (t3, e3) => e3 ? t3 / e3 * 100 : 0);
          }
          getLoader(t3) {
            return this._loadersMap.get(t3) || null;
          }
          createLoader(t3) {
            if (!this.createUploadAdapter) return console.warn(Object(hi.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")), null;
            const e3 = new th(Promise.resolve(t3), this.createUploadAdapter);
            return this.loaders.add(e3), this._loadersMap.set(t3, e3), t3 instanceof Promise && e3.file.then((t4) => {
              this._loadersMap.set(t4, e3);
            }).catch(() => {
            }), e3.on("change:uploaded", () => {
              let t4 = 0;
              for (const e4 of this.loaders) t4 += e4.uploaded;
              this.uploaded = t4;
            }), e3.on("change:uploadTotal", () => {
              let t4 = 0;
              for (const e4 of this.loaders) e4.uploadTotal && (t4 += e4.uploadTotal);
              this.uploadTotal = t4;
            }), e3;
          }
          destroyLoader(t3) {
            const e3 = t3 instanceof th ? t3 : this.getLoader(t3);
            e3._destroy(), this.loaders.remove(e3), this._loadersMap.forEach((t4, i3) => {
              t4 === e3 && this._loadersMap.delete(i3);
            });
          }
          _updatePendingAction() {
            const t3 = this.editor.plugins.get(Xd);
            if (this.loaders.length) {
              if (!this._pendingAction) {
                const e3 = this.editor.t, i3 = (t4) => `${e3("Upload in progress")} ${parseInt(t4)}%.`;
                this._pendingAction = t3.add(i3(this.uploadedPercent)), this._pendingAction.bind("message").to(this, "uploadedPercent", i3);
              }
            } else t3.remove(this._pendingAction), this._pendingAction = null;
          }
        }
        yi(Zd, Hn);
        class th {
          constructor(t3, e3) {
            this.id = ci(), this._filePromiseWrapper = this._createFilePromiseWrapper(t3), this._adapter = e3(this), this._reader = new Kd(), this.set("status", "idle"), this.set("uploaded", 0), this.set("uploadTotal", null), this.bind("uploadedPercent").to(this, "uploaded", this, "uploadTotal", (t4, e4) => e4 ? t4 / e4 * 100 : 0), this.set("uploadResponse", null);
          }
          get file() {
            return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then((t3) => this._filePromiseWrapper ? t3 : null) : Promise.resolve(null);
          }
          get data() {
            return this._reader.data;
          }
          read() {
            if ("idle" != this.status) throw new hi.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.", this);
            return this.status = "reading", this.file.then((t3) => this._reader.read(t3)).then((t3) => {
              if ("reading" !== this.status) throw this.status;
              return this.status = "idle", t3;
            }).catch((t3) => {
              if ("aborted" === t3) throw this.status = "aborted", "aborted";
              throw this.status = "error", this._reader.error ? this._reader.error : t3;
            });
          }
          upload() {
            if ("idle" != this.status) throw new hi.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.", this);
            return this.status = "uploading", this.file.then(() => this._adapter.upload()).then((t3) => (this.uploadResponse = t3, this.status = "idle", t3)).catch((t3) => {
              if ("aborted" === this.status) throw "aborted";
              throw this.status = "error", t3;
            });
          }
          abort() {
            const t3 = this.status;
            this.status = "aborted", this._filePromiseWrapper.isFulfilled ? "reading" == t3 ? this._reader.abort() : "uploading" == t3 && this._adapter.abort && this._adapter.abort() : (this._filePromiseWrapper.promise.catch(() => {
            }), this._filePromiseWrapper.rejecter("aborted")), this._destroy();
          }
          _destroy() {
            this._filePromiseWrapper = void 0, this._reader = void 0, this._adapter = void 0, this.uploadResponse = void 0;
          }
          _createFilePromiseWrapper(t3) {
            const e3 = {};
            return e3.promise = new Promise((i3, n2) => {
              e3.rejecter = n2, e3.isFulfilled = false, t3.then((t4) => {
                e3.isFulfilled = true, i3(t4);
              }).catch((t4) => {
                e3.isFulfilled = true, n2(t4);
              });
            }), e3;
          }
        }
        yi(th, Hn);
        function eh() {
          let t3 = function(t4) {
            t4 = t4.toLowerCase();
            const e4 = document.cookie.split(";");
            for (const i4 of e4) {
              const e5 = i4.split("=");
              if (decodeURIComponent(e5[0].trim().toLowerCase()) === t4) return decodeURIComponent(e5[1]);
            }
            return null;
          }("ckCsrfToken");
          var e3, i3;
          return t3 && 40 == t3.length || (t3 = function(t4) {
            let e4 = "";
            const i4 = new Uint8Array(t4);
            window.crypto.getRandomValues(i4);
            for (let t5 = 0; t5 < i4.length; t5++) {
              const n2 = "abcdefghijklmnopqrstuvwxyz0123456789".charAt(i4[t5] % "abcdefghijklmnopqrstuvwxyz0123456789".length);
              e4 += Math.random() > 0.5 ? n2.toUpperCase() : n2;
            }
            return e4;
          }(40), e3 = "ckCsrfToken", i3 = t3, document.cookie = encodeURIComponent(e3) + "=" + encodeURIComponent(i3) + ";path=/"), t3;
        }
        class ih extends Jc {
          static get requires() {
            return [Zd];
          }
          static get pluginName() {
            return "CKFinderUploadAdapter";
          }
          init() {
            const t3 = this.editor.config.get("ckfinder.uploadUrl");
            t3 && (this.editor.plugins.get(Zd).createUploadAdapter = (e3) => new nh(e3, t3, this.editor.t));
          }
        }
        class nh {
          constructor(t3, e3, i3) {
            this.loader = t3, this.url = e3, this.t = i3;
          }
          upload() {
            return this.loader.file.then((t3) => new Promise((e3, i3) => {
              this._initRequest(), this._initListeners(e3, i3, t3), this._sendRequest(t3);
            }));
          }
          abort() {
            this.xhr && this.xhr.abort();
          }
          _initRequest() {
            const t3 = this.xhr = new XMLHttpRequest();
            t3.open("POST", this.url, true), t3.responseType = "json";
          }
          _initListeners(t3, e3, i3) {
            const n2 = this.xhr, o2 = this.loader, r2 = (0, this.t)("Cannot upload file:") + ` ${i3.name}.`;
            n2.addEventListener("error", () => e3(r2)), n2.addEventListener("abort", () => e3()), n2.addEventListener("load", () => {
              const i4 = n2.response;
              if (!i4 || !i4.uploaded) return e3(i4 && i4.error && i4.error.message ? i4.error.message : r2);
              t3({ default: i4.url });
            }), n2.upload && n2.upload.addEventListener("progress", (t4) => {
              t4.lengthComputable && (o2.uploadTotal = t4.total, o2.uploaded = t4.loaded);
            });
          }
          _sendRequest(t3) {
            const e3 = new FormData();
            e3.append("upload", t3), e3.append("ckCsrfToken", eh()), this.xhr.send(e3);
          }
        }
        class oh {
          static get pluginName() {
            return "BlockAutoformatEditing";
          }
          constructor(t3, e3, i3) {
            let n2, o2 = null;
            "function" == typeof i3 ? n2 = i3 : (o2 = t3.commands.get(i3), n2 = () => {
              t3.execute(i3);
            }), t3.model.document.on("change", (i4, r2) => {
              if (o2 && !o2.isEnabled) return;
              if ("transparent" == r2.type) return;
              const s4 = Array.from(t3.model.document.differ.getChanges()), a4 = s4[0];
              if (1 != s4.length || "insert" !== a4.type || "$text" != a4.name || 1 != a4.length) return;
              const l2 = a4.position.parent;
              if (!l2.is("paragraph") || 1 !== l2.childCount) return;
              const c3 = e3.exec(l2.getChild(0).data);
              c3 && t3.model.enqueueChange((t4) => {
                const e4 = t4.createPositionAt(l2, 0), i5 = t4.createPositionAt(l2, c3[0].length), o3 = new Rs(e4, i5);
                false !== n2({ match: c3 }) && t4.remove(o3), o3.detach();
              });
            });
          }
        }
        function rh(t3, e3) {
          let i3 = t3.start;
          return { text: Array.from(t3.getItems()).reduce((t4, n2) => n2.is("text") || n2.is("textProxy") ? t4 + n2.data : (i3 = e3.createPositionAfter(n2), ""), ""), range: e3.createRange(i3, t3.end) };
        }
        class sh {
          static get pluginName() {
            return "InlineAutoformatEditing";
          }
          constructor(t3, e3, i3) {
            let n2, o2, r2, s4;
            e3 instanceof RegExp ? n2 = e3 : r2 = e3, "string" == typeof i3 ? o2 = i3 : s4 = i3, r2 = r2 || ((t4) => {
              let e4;
              const i4 = [], o3 = [];
              for (; null !== (e4 = n2.exec(t4)) && !(e4 && e4.length < 4); ) {
                let { index: t5, 1: n3, 2: r3, 3: s5 } = e4;
                const a4 = n3 + r3 + s5;
                t5 += e4[0].length - a4.length;
                const l2 = [t5, t5 + n3.length], c3 = [t5 + n3.length + r3.length, t5 + n3.length + r3.length + s5.length];
                i4.push(l2), i4.push(c3), o3.push([t5 + n3.length, t5 + n3.length + r3.length]);
              }
              return { remove: i4, format: o3 };
            }), s4 = s4 || ((e4, i4) => {
              const n3 = t3.model.schema.getValidRanges(i4, o2);
              for (const t4 of n3) e4.setAttribute(o2, true, t4);
              e4.removeSelectionAttribute(o2);
            }), t3.model.document.on("change", (e4, i4) => {
              if ("transparent" == i4.type) return;
              const n3 = t3.model, o3 = n3.document.selection;
              if (!o3.isCollapsed) return;
              const a4 = Array.from(n3.document.differ.getChanges()), l2 = a4[0];
              if (1 != a4.length || "insert" !== l2.type || "$text" != l2.name || 1 != l2.length) return;
              const c3 = o3.focus, d4 = c3.parent, { text: h4, range: u3 } = rh(n3.createRange(n3.createPositionAt(d4, 0), c3), n3), m4 = r2(h4), g2 = ah(u3.start, m4.format, n3), f2 = ah(u3.start, m4.remove, n3);
              g2.length && f2.length && n3.enqueueChange((t4) => {
                if (false !== s4(t4, g2)) for (const e5 of f2.reverse()) t4.remove(e5);
              });
            });
          }
        }
        function ah(t3, e3, i3) {
          return e3.filter((t4) => void 0 !== t4[0] && void 0 !== t4[1]).map((e4) => i3.createRange(t3.getShiftedBy(e4[0]), t3.getShiftedBy(e4[1])));
        }
        function lh(t3, e3) {
          return (i3, n2) => {
            if (!t3.commands.get(e3).isEnabled) return false;
            const o2 = t3.model.schema.getValidRanges(n2, e3);
            for (const t4 of o2) i3.setAttribute(e3, true, t4);
            i3.removeSelectionAttribute(e3);
          };
        }
        class ch extends td {
          constructor(t3, e3) {
            super(t3), this.attributeKey = e3;
          }
          refresh() {
            const t3 = this.editor.model, e3 = t3.document;
            this.value = this._getValueFromFirstAllowedNode(), this.isEnabled = t3.schema.checkAttributeInSelection(e3.selection, this.attributeKey);
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = void 0 === t3.forceValue ? !this.value : t3.forceValue;
            e3.change((t4) => {
              if (i3.isCollapsed) n2 ? t4.setSelectionAttribute(this.attributeKey, true) : t4.removeSelectionAttribute(this.attributeKey);
              else {
                const o2 = e3.schema.getValidRanges(i3.getRanges(), this.attributeKey);
                for (const e4 of o2) n2 ? t4.setAttribute(this.attributeKey, n2, e4) : t4.removeAttribute(this.attributeKey, e4);
              }
            });
          }
          _getValueFromFirstAllowedNode() {
            const t3 = this.editor.model, e3 = t3.schema, i3 = t3.document.selection;
            if (i3.isCollapsed) return i3.hasAttribute(this.attributeKey);
            for (const t4 of i3.getRanges()) for (const i4 of t4.getItems()) if (e3.checkAttribute(i4, this.attributeKey)) return i4.hasAttribute(this.attributeKey);
            return false;
          }
        }
        class dh extends Jc {
          static get pluginName() {
            return "BoldEditing";
          }
          init() {
            const t3 = this.editor;
            t3.model.schema.extend("$text", { allowAttributes: "bold" }), t3.model.schema.setAttributeProperties("bold", { isFormatting: true, copyOnEnter: true }), t3.conversion.attributeToElement({ model: "bold", view: "strong", upcastAlso: ["b", (t4) => {
              const e3 = t4.getStyle("font-weight");
              return e3 ? "bold" == e3 || Number(e3) >= 600 ? { name: true, styles: ["font-weight"] } : void 0 : null;
            }] }), t3.commands.add("bold", new ch(t3, "bold")), t3.keystrokes.set("CTRL+B", "bold");
          }
        }
        class hh extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.t;
            t3.ui.componentFactory.add("bold", (i3) => {
              const n2 = t3.commands.get("bold"), o2 = new Oc(i3);
              return o2.set({ label: e3("Bold"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>', keystroke: "CTRL+B", tooltip: true, isToggleable: true }), o2.bind("isOn", "isEnabled").to(n2, "value", "isEnabled"), this.listenTo(o2, "execute", () => {
                t3.execute("bold"), t3.editing.view.focus();
              }), o2;
            });
          }
        }
        class uh extends Jc {
          static get pluginName() {
            return "ItalicEditing";
          }
          init() {
            const t3 = this.editor;
            t3.model.schema.extend("$text", { allowAttributes: "italic" }), t3.model.schema.setAttributeProperties("italic", { isFormatting: true, copyOnEnter: true }), t3.conversion.attributeToElement({ model: "italic", view: "i", upcastAlso: ["em", { styles: { "font-style": "italic" } }] }), t3.commands.add("italic", new ch(t3, "italic")), t3.keystrokes.set("CTRL+I", "italic");
          }
        }
        class mh extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.t;
            t3.ui.componentFactory.add("italic", (i3) => {
              const n2 = t3.commands.get("italic"), o2 = new Oc(i3);
              return o2.set({ label: e3("Italic"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>', keystroke: "CTRL+I", tooltip: true, isToggleable: true }), o2.bind("isOn", "isEnabled").to(n2, "value", "isEnabled"), this.listenTo(o2, "execute", () => {
                t3.execute("italic"), t3.editing.view.focus();
              }), o2;
            });
          }
        }
        function gh(t3) {
          const e3 = t3.next();
          return e3.done ? null : e3.value;
        }
        class fh extends td {
          refresh() {
            this.value = this._getValue(), this.isEnabled = this._checkEnabled();
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.schema, n2 = e3.document.selection, o2 = Array.from(n2.getSelectedBlocks()), r2 = void 0 === t3.forceValue ? !this.value : t3.forceValue;
            e3.change((t4) => {
              if (r2) {
                const e4 = o2.filter((t5) => ph(t5) || wh(i3, t5));
                this._applyQuote(t4, e4);
              } else this._removeQuote(t4, o2.filter(ph));
            });
          }
          _getValue() {
            const t3 = gh(this.editor.model.document.selection.getSelectedBlocks());
            return !(!t3 || !ph(t3));
          }
          _checkEnabled() {
            if (this.value) return true;
            const t3 = this.editor.model.document.selection, e3 = this.editor.model.schema, i3 = gh(t3.getSelectedBlocks());
            return !!i3 && wh(e3, i3);
          }
          _removeQuote(t3, e3) {
            bh(t3, e3).reverse().forEach((e4) => {
              if (e4.start.isAtStart && e4.end.isAtEnd) return void t3.unwrap(e4.start.parent);
              if (e4.start.isAtStart) {
                const i4 = t3.createPositionBefore(e4.start.parent);
                return void t3.move(e4, i4);
              }
              e4.end.isAtEnd || t3.split(e4.end);
              const i3 = t3.createPositionAfter(e4.end.parent);
              t3.move(e4, i3);
            });
          }
          _applyQuote(t3, e3) {
            const i3 = [];
            bh(t3, e3).reverse().forEach((e4) => {
              let n2 = ph(e4.start);
              n2 || (n2 = t3.createElement("blockQuote"), t3.wrap(e4, n2)), i3.push(n2);
            }), i3.reverse().reduce((e4, i4) => e4.nextSibling == i4 ? (t3.merge(t3.createPositionAfter(e4)), e4) : i4);
          }
        }
        function ph(t3) {
          return "blockQuote" == t3.parent.name ? t3.parent : null;
        }
        function bh(t3, e3) {
          let i3, n2 = 0;
          const o2 = [];
          for (; n2 < e3.length; ) {
            const r2 = e3[n2], s4 = e3[n2 + 1];
            i3 || (i3 = t3.createPositionBefore(r2)), s4 && r2.nextSibling == s4 || (o2.push(t3.createRange(i3, t3.createPositionAfter(r2))), i3 = null), n2++;
          }
          return o2;
        }
        function wh(t3, e3) {
          const i3 = t3.checkChild(e3.parent, "blockQuote"), n2 = t3.checkChild(["$root", "blockQuote"], e3);
          return i3 && n2;
        }
        class _h extends Jc {
          static get pluginName() {
            return "BlockQuoteEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.model.schema;
            t3.commands.add("blockQuote", new fh(t3)), e3.register("blockQuote", { allowWhere: "$block", allowContentOf: "$root" }), e3.addChildCheck((t4, e4) => {
              if (t4.endsWith("blockQuote") && "blockQuote" == e4.name) return false;
            }), t3.conversion.elementToElement({ model: "blockQuote", view: "blockquote" }), t3.model.document.registerPostFixer((i3) => {
              const n2 = t3.model.document.differ.getChanges();
              for (const t4 of n2) if ("insert" == t4.type) {
                const n3 = t4.position.nodeAfter;
                if (!n3) continue;
                if (n3.is("blockQuote") && n3.isEmpty) return i3.remove(n3), true;
                if (n3.is("blockQuote") && !e3.checkChild(t4.position, n3)) return i3.unwrap(n3), true;
                if (n3.is("element")) {
                  const t5 = i3.createRangeIn(n3);
                  for (const n4 of t5.getItems()) if (n4.is("blockQuote") && !e3.checkChild(i3.createPositionBefore(n4), n4)) return i3.unwrap(n4), true;
                }
              } else if ("remove" == t4.type) {
                const e4 = t4.position.parent;
                if (e4.is("blockQuote") && e4.isEmpty) return i3.remove(e4), true;
              }
              return false;
            });
          }
          afterInit() {
            const t3 = this.editor.commands.get("blockQuote");
            this.listenTo(this.editor.editing.view.document, "enter", (e3, i3) => {
              const n2 = this.editor.model.document, o2 = n2.selection.getLastPosition().parent;
              n2.selection.isCollapsed && o2.isEmpty && t3.value && (this.editor.execute("blockQuote"), this.editor.editing.view.scrollToTheSelection(), i3.preventDefault(), e3.stop());
            });
          }
        }
        i2(44);
        class kh extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.t;
            t3.ui.componentFactory.add("blockQuote", (i3) => {
              const n2 = t3.commands.get("blockQuote"), o2 = new Oc(i3);
              return o2.set({ label: e3("Block quote"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>', tooltip: true, isToggleable: true }), o2.bind("isOn", "isEnabled").to(n2, "value", "isEnabled"), this.listenTo(o2, "execute", () => {
                t3.execute("blockQuote"), t3.editing.view.focus();
              }), o2;
            });
          }
        }
        class vh extends Jc {
          static get pluginName() {
            return "CKFinderUI";
          }
          init() {
            const t3 = this.editor, e3 = t3.ui.componentFactory, i3 = t3.t;
            e3.add("ckfinder", (e4) => {
              const n2 = t3.commands.get("ckfinder"), o2 = new Oc(e4);
              return o2.set({ label: i3("Insert image or file"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>', tooltip: true }), o2.bind("isEnabled").to(n2), o2.on("execute", () => {
                t3.execute("ckfinder"), t3.editing.view.focus();
              }), o2;
            });
          }
        }
        class yh extends hr {
          observe(t3) {
            this.listenTo(t3, "load", (t4, e3) => {
              "IMG" == e3.target.tagName && this._fireEvents(e3);
            }, { useCapture: true });
          }
          _fireEvents(t3) {
            this.isEnabled && (this.document.fire("layoutChanged"), this.document.fire("imageLoaded", t3));
          }
        }
        class xh {
          constructor() {
            this._stack = [];
          }
          add(t3, e3) {
            const i3 = this._stack, n2 = i3[0];
            this._insertDescriptor(t3);
            const o2 = i3[0];
            n2 === o2 || Ah(n2, o2) || this.fire("change:top", { oldDescriptor: n2, newDescriptor: o2, writer: e3 });
          }
          remove(t3, e3) {
            const i3 = this._stack, n2 = i3[0];
            this._removeDescriptor(t3);
            const o2 = i3[0];
            n2 === o2 || Ah(n2, o2) || this.fire("change:top", { oldDescriptor: n2, newDescriptor: o2, writer: e3 });
          }
          _insertDescriptor(t3) {
            const e3 = this._stack, i3 = e3.findIndex((e4) => e4.id === t3.id);
            if (Ah(t3, e3[i3])) return;
            i3 > -1 && e3.splice(i3, 1);
            let n2 = 0;
            for (; e3[n2] && Ch(e3[n2], t3); ) n2++;
            e3.splice(n2, 0, t3);
          }
          _removeDescriptor(t3) {
            const e3 = this._stack, i3 = e3.findIndex((e4) => e4.id === t3);
            i3 > -1 && e3.splice(i3, 1);
          }
        }
        function Ah(t3, e3) {
          return t3 && e3 && t3.priority == e3.priority && Th(t3.classes) == Th(e3.classes);
        }
        function Ch(t3, e3) {
          return t3.priority > e3.priority || !(t3.priority < e3.priority) && Th(t3.classes) > Th(e3.classes);
        }
        function Th(t3) {
          return Array.isArray(t3) ? t3.sort().join(",") : t3;
        }
        yi(xh, gi);
        function Mh(t3) {
          return !!t3.is("element") && !!t3.getCustomProperty("widget");
        }
        function Eh(t3, e3, i3 = {}) {
          return e3.setAttribute("contenteditable", "false", t3), e3.addClass("ck-widget", t3), e3.setCustomProperty("widget", true, t3), t3.getFillerOffset = Oh, i3.label && function(t4, e4, i4) {
            i4.setCustomProperty("widgetLabel", e4, t4);
          }(t3, i3.label, e3), i3.hasSelectionHandle && function(t4, e4) {
            const i4 = e4.createUIElement("div", { class: "ck ck-widget__selection-handle" }, function(t5) {
              const e5 = this.toDomElement(t5), i5 = new Sc();
              return i5.set("content", '<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'), i5.render(), e5.appendChild(i5.element), e5;
            });
            e4.insert(e4.createPositionAt(t4, 0), i4), e4.addClass(["ck-widget_with-selection-handle"], t4);
          }(t3, e3), function(t4, e4, i4, n3) {
            const o2 = new xh();
            o2.on("change:top", (e5, o3) => {
              o3.oldDescriptor && n3(t4, o3.oldDescriptor, o3.writer), o3.newDescriptor && i4(t4, o3.newDescriptor, o3.writer);
            }), e4.setCustomProperty("addHighlight", (t5, e5, i5) => o2.add(e5, i5), t4), e4.setCustomProperty("removeHighlight", (t5, e5, i5) => o2.remove(e5, i5), t4);
          }(t3, e3, (t4, e4, i4) => i4.addClass(n2(e4.classes), t4), (t4, e4, i4) => i4.removeClass(n2(e4.classes), t4)), t3;
          function n2(t4) {
            return Array.isArray(t4) ? t4 : [t4];
          }
        }
        function Ph(t3) {
          const e3 = t3.getCustomProperty("widgetLabel");
          return e3 ? "function" == typeof e3 ? e3() : e3 : "";
        }
        function Sh(t3, e3) {
          return e3.addClass(["ck-editor__editable", "ck-editor__nested-editable"], t3), e3.setAttribute("contenteditable", t3.isReadOnly ? "false" : "true", t3), t3.on("change:isReadOnly", (i3, n2, o2) => {
            e3.setAttribute("contenteditable", o2 ? "false" : "true", t3);
          }), t3.on("change:isFocused", (i3, n2, o2) => {
            o2 ? e3.addClass("ck-editor__nested-editable_focused", t3) : e3.removeClass("ck-editor__nested-editable_focused", t3);
          }), t3;
        }
        function Ih(t3, e3) {
          const i3 = t3.getSelectedElement();
          if (i3 && e3.schema.isBlock(i3)) return e3.createPositionAfter(i3);
          const n2 = t3.getSelectedBlocks().next().value;
          if (n2) {
            if (n2.isEmpty) return e3.createPositionAt(n2, 0);
            const i4 = e3.createPositionAfter(n2);
            return t3.focus.isTouching(i4) ? i4 : e3.createPositionBefore(n2);
          }
          return t3.focus;
        }
        function Oh() {
          return null;
        }
        function Nh(t3) {
          const e3 = t3.getSelectedElement();
          return e3 && function(t4) {
            return !!t4.getCustomProperty("image") && Mh(t4);
          }(e3) ? e3 : null;
        }
        function Rh(t3) {
          return !!t3 && t3.is("image");
        }
        function Lh(t3, e3, i3 = {}) {
          const n2 = t3.createElement("image", i3), o2 = Ih(e3.document.selection, e3);
          e3.insertContent(n2, o2), n2.parent && t3.setSelection(n2, "on");
        }
        function jh(t3) {
          const e3 = t3.schema, i3 = t3.document.selection;
          return function(t4, e4, i4) {
            const n2 = function(t5, e5) {
              const i5 = Ih(t5, e5).parent;
              if (i5.isEmpty && !i5.is("$root")) return i5.parent;
              return i5;
            }(t4, i4);
            return e4.checkChild(n2, "image");
          }(i3, e3, t3) && !function(t4, e4) {
            const i4 = t4.getSelectedElement();
            return i4 && e4.isObject(i4);
          }(i3, e3) && function(t4) {
            return [...t4.focus.getAncestors()].every((t5) => !t5.is("image"));
          }(i3);
        }
        function Dh(t3) {
          return Array.from(t3.getChildren()).find((t4) => t4.is("img"));
        }
        function zh(t3) {
          return (i3) => {
            i3.on(`attribute:${t3}:image`, e3);
          };
          function e3(t4, e4, i3) {
            if (!i3.consumable.consume(e4.item, t4.name)) return;
            const n2 = i3.writer, o2 = Dh(i3.mapper.toViewElement(e4.item));
            null !== e4.attributeNewValue ? n2.setAttribute(e4.attributeKey, e4.attributeNewValue, o2) : n2.removeAttribute(e4.attributeKey, o2);
          }
        }
        class Bh extends td {
          refresh() {
            this.isEnabled = jh(this.editor.model);
          }
          execute(t3) {
            const e3 = this.editor.model;
            e3.change((i3) => {
              const n2 = Array.isArray(t3.source) ? t3.source : [t3.source];
              for (const t4 of n2) Lh(i3, e3, { src: t4 });
            });
          }
        }
        class Vh extends Jc {
          static get pluginName() {
            return "ImageEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.model.schema, i3 = t3.t, n2 = t3.conversion;
            t3.editing.view.addObserver(yh), e3.register("image", { isObject: true, isBlock: true, allowWhere: "$block", allowAttributes: ["alt", "src", "srcset"] }), n2.for("dataDowncast").elementToElement({ model: "image", view: (t4, e4) => Fh(e4) }), n2.for("editingDowncast").elementToElement({ model: "image", view: (t4, e4) => {
              return n3 = Fh(e4), o2 = e4, r2 = i3("image widget"), o2.setCustomProperty("image", true, n3), Eh(n3, o2, { label: function() {
                const t5 = Dh(n3).getAttribute("alt");
                return t5 ? `${t5} ${r2}` : r2;
              } });
              var n3, o2, r2;
            } }), n2.for("downcast").add(zh("src")).add(zh("alt")).add(/* @__PURE__ */ function() {
              return (e4) => {
                e4.on("attribute:srcset:image", t4);
              };
              function t4(t5, e4, i4) {
                if (!i4.consumable.consume(e4.item, t5.name)) return;
                const n3 = i4.writer, o2 = Dh(i4.mapper.toViewElement(e4.item));
                if (null === e4.attributeNewValue) {
                  const t6 = e4.attributeOldValue;
                  t6.data && (n3.removeAttribute("srcset", o2), n3.removeAttribute("sizes", o2), t6.width && n3.removeAttribute("width", o2));
                } else {
                  const t6 = e4.attributeNewValue;
                  t6.data && (n3.setAttribute("srcset", t6.data, o2), n3.setAttribute("sizes", "100vw", o2), t6.width && n3.setAttribute("width", t6.width, o2));
                }
              }
            }()), n2.for("upcast").elementToElement({ view: { name: "img", attributes: { src: true } }, model: (t4, e4) => e4.createElement("image", { src: t4.getAttribute("src") }) }).attributeToAttribute({ view: { name: "img", key: "alt" }, model: "alt" }).attributeToAttribute({ view: { name: "img", key: "srcset" }, model: { key: "srcset", value: (t4) => {
              const e4 = { data: t4.getAttribute("srcset") };
              return t4.hasAttribute("width") && (e4.width = t4.getAttribute("width")), e4;
            } } }).add(/* @__PURE__ */ function() {
              return (e4) => {
                e4.on("element:figure", t4);
              };
              function t4(t5, e4, i4) {
                if (!i4.consumable.test(e4.viewItem, { name: true, classes: "image" })) return;
                const n3 = Dh(e4.viewItem);
                if (!n3 || !n3.hasAttribute("src") || !i4.consumable.test(n3, { name: true })) return;
                const o2 = i4.convertItem(n3, e4.modelCursor), r2 = gh(o2.modelRange.getItems());
                r2 && (i4.convertChildren(e4.viewItem, i4.writer.createPositionAt(r2, 0)), e4.modelRange = o2.modelRange, e4.modelCursor = o2.modelCursor);
              }
            }()), t3.commands.add("imageInsert", new Bh(t3));
          }
        }
        function Fh(t3) {
          const e3 = t3.createEmptyElement("img"), i3 = t3.createContainerElement("figure", { class: "image" });
          return t3.insert(t3.createPositionAt(i3, 0), e3), i3;
        }
        function Hh(t3, e3, i3) {
          return i3.createRange(Uh(t3, e3, true, i3), Uh(t3, e3, false, i3));
        }
        function Uh(t3, e3, i3, n2) {
          let o2 = t3.textNode || (i3 ? t3.nodeBefore : t3.nodeAfter), r2 = null;
          for (; o2 && o2.getAttribute("linkHref") == e3; ) r2 = o2, o2 = i3 ? o2.previousSibling : o2.nextSibling;
          return r2 ? n2.createPositionAt(r2, i3 ? "before" : "after") : t3;
        }
        class Wh extends td {
          constructor(t3) {
            super(t3), this.manualDecorators = new xi();
          }
          restoreManualDecoratorStates() {
            for (const t3 of this.manualDecorators) t3.value = this._getDecoratorStateFromModel(t3.id);
          }
          refresh() {
            const t3 = this.editor.model, e3 = t3.document;
            this.value = e3.selection.getAttribute("linkHref");
            for (const t4 of this.manualDecorators) t4.value = this._getDecoratorStateFromModel(t4.id);
            this.isEnabled = t3.schema.checkAttributeInSelection(e3.selection, "linkHref");
          }
          execute(t3, e3 = {}) {
            const i3 = this.editor.model, n2 = i3.document.selection, o2 = [], r2 = [];
            for (const t4 in e3) e3[t4] ? o2.push(t4) : r2.push(t4);
            i3.change((e4) => {
              if (n2.isCollapsed) {
                const s4 = n2.getFirstPosition();
                if (n2.hasAttribute("linkHref")) {
                  const a4 = Hh(s4, n2.getAttribute("linkHref"), i3);
                  e4.setAttribute("linkHref", t3, a4), o2.forEach((t4) => {
                    e4.setAttribute(t4, true, a4);
                  }), r2.forEach((t4) => {
                    e4.removeAttribute(t4, a4);
                  }), e4.setSelection(a4);
                } else if ("" !== t3) {
                  const r3 = Li(n2.getAttributes());
                  r3.set("linkHref", t3), o2.forEach((t4) => {
                    r3.set(t4, true);
                  });
                  const a4 = e4.createText(t3, r3);
                  i3.insertContent(a4, s4), e4.setSelection(e4.createRangeOn(a4));
                }
              } else {
                const s4 = i3.schema.getValidRanges(n2.getRanges(), "linkHref");
                for (const i4 of s4) e4.setAttribute("linkHref", t3, i4), o2.forEach((t4) => {
                  e4.setAttribute(t4, true, i4);
                }), r2.forEach((t4) => {
                  e4.removeAttribute(t4, i4);
                });
              }
            });
          }
          _getDecoratorStateFromModel(t3) {
            return this.editor.model.document.selection.getAttribute(t3);
          }
        }
        class qh extends td {
          refresh() {
            this.isEnabled = this.editor.model.document.selection.hasAttribute("linkHref");
          }
          execute() {
            const t3 = this.editor, e3 = this.editor.model, i3 = e3.document.selection, n2 = t3.commands.get("link");
            e3.change((t4) => {
              const o2 = i3.isCollapsed ? [Hh(i3.getFirstPosition(), i3.getAttribute("linkHref"), e3)] : i3.getRanges();
              for (const e4 of o2) if (t4.removeAttribute("linkHref", e4), n2) for (const i4 of n2.manualDecorators) t4.removeAttribute(i4.id, e4);
            });
          }
        }
        var Yh = function(t3, e3, i3) {
          var n2 = t3.length;
          return i3 = void 0 === i3 ? n2 : i3, !e3 && i3 >= n2 ? t3 : nn(t3, e3, i3);
        }, $h = RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");
        var Jh = function(t3) {
          return $h.test(t3);
        };
        var Gh = function(t3) {
          return t3.split("");
        }, Qh = "[\\ud800-\\udfff]", Xh = "[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]", Kh = "\\ud83c[\\udffb-\\udfff]", Zh = "[^\\ud800-\\udfff]", tu = "(?:\\ud83c[\\udde6-\\uddff]){2}", eu = "[\\ud800-\\udbff][\\udc00-\\udfff]", iu = "(?:" + Xh + "|" + Kh + ")?", nu = "[\\ufe0e\\ufe0f]?" + iu + ("(?:\\u200d(?:" + [Zh, tu, eu].join("|") + ")[\\ufe0e\\ufe0f]?" + iu + ")*"), ou = "(?:" + [Zh + Xh + "?", Xh, tu, eu, Qh].join("|") + ")", ru = RegExp(Kh + "(?=" + Kh + ")|" + ou + nu, "g");
        var su = function(t3) {
          return t3.match(ru) || [];
        };
        var au = function(t3) {
          return Jh(t3) ? su(t3) : Gh(t3);
        };
        var lu = /* @__PURE__ */ function(t3) {
          return function(e3) {
            e3 = Xi(e3);
            var i3 = Jh(e3) ? au(e3) : void 0, n2 = i3 ? i3[0] : e3.charAt(0), o2 = i3 ? Yh(i3, 1).join("") : e3.slice(1);
            return n2[t3]() + o2;
          };
        }("toUpperCase");
        const cu = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g, du = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;
        function hu(t3, e3) {
          const i3 = e3.createAttributeElement("a", { href: t3 }, { priority: 5 });
          return e3.setCustomProperty("link", true, i3), i3;
        }
        function uu(t3) {
          return function(t4) {
            return t4.replace(cu, "").match(du);
          }(t3 = String(t3)) ? t3 : "#";
        }
        class mu {
          constructor() {
            this._definitions = /* @__PURE__ */ new Set();
          }
          get length() {
            return this._definitions.size;
          }
          add(t3) {
            Array.isArray(t3) ? t3.forEach((t4) => this._definitions.add(t4)) : this._definitions.add(t3);
          }
          getDispatcher() {
            return (t3) => {
              t3.on("attribute:linkHref", (t4, e3, i3) => {
                if (!i3.consumable.test(e3.item, "attribute:linkHref")) return;
                const n2 = i3.writer, o2 = n2.document.selection;
                for (const t5 of this._definitions) {
                  const r2 = n2.createAttributeElement("a", t5.attributes, { priority: 5 });
                  n2.setCustomProperty("link", true, r2), t5.callback(e3.attributeNewValue) ? e3.item.is("selection") ? n2.wrap(o2.getFirstRange(), r2) : n2.wrap(i3.mapper.toViewRange(e3.range), r2) : n2.unwrap(i3.mapper.toViewRange(e3.range), r2);
                }
              }, { priority: "high" });
            };
          }
        }
        class gu {
          constructor({ id: t3, label: e3, attributes: i3, defaultValue: n2 }) {
            this.id = t3, this.set("value"), this.defaultValue = n2, this.label = e3, this.attributes = i3;
          }
        }
        yi(gu, Hn);
        class fu {
          constructor(t3, e3, i3) {
            this.model = t3, this.attribute = i3, this._modelSelection = t3.document.selection, this._overrideUid = null, this._isNextGravityRestorationSkipped = false, e3.listenTo(this._modelSelection, "change:range", (t4, e4) => {
              this._isNextGravityRestorationSkipped ? this._isNextGravityRestorationSkipped = false : this._isGravityOverridden && (!e4.directChange && pu(this._modelSelection.getFirstPosition(), i3) || this._restoreGravity());
            });
          }
          handleForwardMovement(t3, e3) {
            const i3 = this.attribute;
            if (!(this._isGravityOverridden || t3.isAtStart && this._hasSelectionAttribute)) return _u(t3, i3) && this._hasSelectionAttribute ? (this._preventCaretMovement(e3), this._removeSelectionAttribute(), true) : bu(t3, i3) || wu(t3, i3) && this._hasSelectionAttribute ? (this._preventCaretMovement(e3), this._overrideGravity(), true) : void 0;
          }
          handleBackwardMovement(t3, e3) {
            const i3 = this.attribute;
            return this._isGravityOverridden ? _u(t3, i3) && this._hasSelectionAttribute ? (this._preventCaretMovement(e3), this._restoreGravity(), this._removeSelectionAttribute(), true) : (this._preventCaretMovement(e3), this._restoreGravity(), t3.isAtStart && this._removeSelectionAttribute(), true) : _u(t3, i3) && !this._hasSelectionAttribute ? (this._preventCaretMovement(e3), this._setSelectionAttributeFromTheNodeBefore(t3), true) : t3.isAtEnd && wu(t3, i3) ? this._hasSelectionAttribute ? void (ku(t3, i3) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity())) : (this._preventCaretMovement(e3), this._setSelectionAttributeFromTheNodeBefore(t3), true) : t3.isAtStart ? this._hasSelectionAttribute ? (this._removeSelectionAttribute(), this._preventCaretMovement(e3), true) : void 0 : void (ku(t3, i3) && (this._skipNextAutomaticGravityRestoration(), this._overrideGravity()));
          }
          get _isGravityOverridden() {
            return !!this._overrideUid;
          }
          get _hasSelectionAttribute() {
            return this._modelSelection.hasAttribute(this.attribute);
          }
          _overrideGravity() {
            this._overrideUid = this.model.change((t3) => t3.overrideSelectionGravity());
          }
          _restoreGravity() {
            this.model.change((t3) => {
              t3.restoreSelectionGravity(this._overrideUid), this._overrideUid = null;
            });
          }
          _preventCaretMovement(t3) {
            t3.preventDefault();
          }
          _removeSelectionAttribute() {
            this.model.change((t3) => {
              t3.removeSelectionAttribute(this.attribute);
            });
          }
          _setSelectionAttributeFromTheNodeBefore(t3) {
            const e3 = this.attribute;
            this.model.change((i3) => {
              i3.setSelectionAttribute(this.attribute, t3.nodeBefore.getAttribute(e3));
            });
          }
          _skipNextAutomaticGravityRestoration() {
            this._isNextGravityRestorationSkipped = true;
          }
        }
        function pu(t3, e3) {
          return bu(t3, e3) || wu(t3, e3);
        }
        function bu(t3, e3) {
          const { nodeBefore: i3, nodeAfter: n2 } = t3, o2 = !!i3 && i3.hasAttribute(e3);
          return !!n2 && n2.hasAttribute(e3) && (!o2 || i3.getAttribute(e3) !== n2.getAttribute(e3));
        }
        function wu(t3, e3) {
          const { nodeBefore: i3, nodeAfter: n2 } = t3, o2 = !!i3 && i3.hasAttribute(e3), r2 = !!n2 && n2.hasAttribute(e3);
          return o2 && (!r2 || i3.getAttribute(e3) !== n2.getAttribute(e3));
        }
        function _u(t3, e3) {
          const { nodeBefore: i3, nodeAfter: n2 } = t3, o2 = !!i3 && i3.hasAttribute(e3);
          if (!!n2 && n2.hasAttribute(e3) && o2) return n2.getAttribute(e3) !== i3.getAttribute(e3);
        }
        function ku(t3, e3) {
          return pu(t3.getShiftedBy(-1), e3);
        }
        i2(46);
        const vu = /^(https?:)?\/\//;
        class yu extends Jc {
          static get pluginName() {
            return "LinkEditing";
          }
          constructor(t3) {
            super(t3), t3.config.define("link", { addTargetToExternalLinks: false });
          }
          init() {
            const t3 = this.editor, e3 = t3.locale;
            t3.model.schema.extend("$text", { allowAttributes: "linkHref" }), t3.conversion.for("dataDowncast").attributeToElement({ model: "linkHref", view: hu }), t3.conversion.for("editingDowncast").attributeToElement({ model: "linkHref", view: (t4, e4) => hu(uu(t4), e4) }), t3.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: { href: true } }, model: { key: "linkHref", value: (t4) => t4.getAttribute("href") } }), t3.commands.add("link", new Wh(t3)), t3.commands.add("unlink", new qh(t3));
            const i3 = function(t4, e4) {
              const i4 = { "Open in a new tab": t4("Open in a new tab"), Downloadable: t4("Downloadable") };
              return e4.forEach((t5) => (t5.label && i4[t5.label] && (t5.label = i4[t5.label]), t5)), e4;
            }(t3.t, function(t4) {
              const e4 = [];
              if (t4) for (const [i4, n2] of Object.entries(t4)) {
                const t5 = Object.assign({}, n2, { id: "link" + lu(i4) });
                e4.push(t5);
              }
              return e4;
            }(t3.config.get("link.decorators")));
            this._enableAutomaticDecorators(i3.filter((t4) => "automatic" === t4.mode)), this._enableManualDecorators(i3.filter((t4) => "manual" === t4.mode)), function({ view: t4, model: e4, emitter: i4, attribute: n2, locale: o2 }) {
              const r2 = new fu(e4, i4, n2), s4 = e4.document.selection;
              i4.listenTo(t4.document, "keydown", (t5, e5) => {
                if (!s4.isCollapsed) return;
                if (e5.shiftKey || e5.altKey || e5.ctrlKey) return;
                const i5 = e5.keyCode == fo.arrowright, n3 = e5.keyCode == fo.arrowleft;
                if (!i5 && !n3) return;
                const a4 = s4.getFirstPosition(), l2 = o2.contentLanguageDirection;
                let c3;
                c3 = "ltr" === l2 && i5 || "rtl" === l2 && n3 ? r2.handleForwardMovement(a4, e5) : r2.handleBackwardMovement(a4, e5), c3 && t5.stop();
              }, { priority: di.get("high") + 1 });
            }({ view: t3.editing.view, model: t3.model, emitter: this, attribute: "linkHref", locale: e3 }), this._setupLinkHighlight(), this._enableInsertContentSelectionAttributesFixer();
          }
          _enableAutomaticDecorators(t3) {
            const e3 = this.editor, i3 = new mu();
            e3.config.get("link.addTargetToExternalLinks") && i3.add({ id: "linkIsExternal", mode: "automatic", callback: (t4) => vu.test(t4), attributes: { target: "_blank", rel: "noopener noreferrer" } }), i3.add(t3), i3.length && e3.conversion.for("downcast").add(i3.getDispatcher());
          }
          _enableManualDecorators(t3) {
            if (!t3.length) return;
            const e3 = this.editor, i3 = e3.commands.get("link").manualDecorators;
            t3.forEach((t4) => {
              e3.model.schema.extend("$text", { allowAttributes: t4.id }), i3.add(new gu(t4)), e3.conversion.for("downcast").attributeToElement({ model: t4.id, view: (e4, n2) => {
                if (e4) {
                  const e5 = i3.get(t4.id).attributes, o2 = n2.createAttributeElement("a", e5, { priority: 5 });
                  return n2.setCustomProperty("link", true, o2), o2;
                }
              } }), e3.conversion.for("upcast").elementToAttribute({ view: { name: "a", attributes: i3.get(t4.id).attributes }, model: { key: t4.id } });
            });
          }
          _setupLinkHighlight() {
            const t3 = this.editor, e3 = t3.editing.view, i3 = /* @__PURE__ */ new Set();
            e3.document.registerPostFixer((e4) => {
              const n2 = t3.model.document.selection;
              let o2 = false;
              if (n2.hasAttribute("linkHref")) {
                const r2 = Hh(n2.getFirstPosition(), n2.getAttribute("linkHref"), t3.model), s4 = t3.editing.mapper.toViewRange(r2);
                for (const t4 of s4.getItems()) t4.is("a") && !t4.hasClass("ck-link_selected") && (e4.addClass("ck-link_selected", t4), i3.add(t4), o2 = true);
              }
              return o2;
            }), t3.conversion.for("editingDowncast").add((t4) => {
              function n2() {
                e3.change((t5) => {
                  for (const e4 of i3.values()) t5.removeClass("ck-link_selected", e4), i3.delete(e4);
                });
              }
              t4.on("insert", n2, { priority: "highest" }), t4.on("remove", n2, { priority: "highest" }), t4.on("attribute", n2, { priority: "highest" }), t4.on("selection", n2, { priority: "highest" });
            });
          }
          _enableInsertContentSelectionAttributesFixer() {
            const t3 = this.editor.model, e3 = t3.document.selection;
            t3.on("insertContent", () => {
              const i3 = e3.anchor.nodeBefore, n2 = e3.anchor.nodeAfter;
              e3.hasAttribute("linkHref") && i3 && i3.hasAttribute("linkHref") && (n2 && n2.hasAttribute("linkHref") || t3.change((e4) => {
                [...t3.document.selection.getAttributeKeys()].filter((t4) => t4.startsWith("link")).forEach((t4) => e4.removeSelectionAttribute(t4));
              }));
            }, { priority: "low" });
          }
        }
        class xu extends Qd {
          static get pluginName() {
            return "Notification";
          }
          init() {
            this.on("show:warning", (t3, e3) => {
              window.alert(e3.message);
            }, { priority: "lowest" });
          }
          showSuccess(t3, e3 = {}) {
            this._showNotification({ message: t3, type: "success", namespace: e3.namespace, title: e3.title });
          }
          showInfo(t3, e3 = {}) {
            this._showNotification({ message: t3, type: "info", namespace: e3.namespace, title: e3.title });
          }
          showWarning(t3, e3 = {}) {
            this._showNotification({ message: t3, type: "warning", namespace: e3.namespace, title: e3.title });
          }
          _showNotification(t3) {
            const e3 = "show:" + t3.type + (t3.namespace ? ":" + t3.namespace : "");
            this.fire(e3, { message: t3.message, type: t3.type, title: t3.title || "" });
          }
        }
        class Au extends td {
          constructor(t3) {
            super(t3), this.stopListening(this.editor.model.document, "change"), this.listenTo(this.editor.model.document, "change", () => this.refresh(), { priority: "low" });
          }
          refresh() {
            const t3 = this.editor.commands.get("imageInsert"), e3 = this.editor.commands.get("link");
            this.isEnabled = t3.isEnabled || e3.isEnabled;
          }
          execute() {
            const t3 = this.editor, e3 = this.editor.config.get("ckfinder.openerMethod") || "modal";
            if ("popup" != e3 && "modal" != e3) throw new hi.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".', t3);
            const i3 = this.editor.config.get("ckfinder.options") || {};
            i3.chooseFiles = true;
            const n2 = i3.onInit;
            i3.language || (i3.language = t3.locale.uiLanguage), i3.onInit = (e4) => {
              n2 && n2(e4), e4.on("files:choose", (i4) => {
                const n3 = i4.data.files.toArray(), o2 = n3.filter((t4) => !t4.isImage()), r2 = n3.filter((t4) => t4.isImage());
                for (const e5 of o2) t3.execute("link", e5.getUrl());
                const s4 = [];
                for (const t4 of r2) {
                  const i5 = t4.getUrl();
                  s4.push(i5 || e4.request("file:getProxyUrl", { file: t4 }));
                }
                s4.length && Cu(t3, s4);
              }), e4.on("file:choose:resizedImage", (e5) => {
                const i4 = e5.data.resizedUrl;
                if (i4) Cu(t3, [i4]);
                else {
                  const e6 = t3.plugins.get("Notification"), i5 = t3.locale.t;
                  e6.showWarning(i5("Could not obtain resized image URL."), { title: i5("Selecting resized image failed"), namespace: "ckfinder" });
                }
              });
            }, window.CKFinder[e3](i3);
          }
        }
        function Cu(t3, e3) {
          if (t3.commands.get("imageInsert").isEnabled) t3.execute("imageInsert", { source: e3 });
          else {
            const e4 = t3.plugins.get("Notification"), i3 = t3.locale.t;
            e4.showWarning(i3("Could not insert image at the current position."), { title: i3("Inserting image failed"), namespace: "ckfinder" });
          }
        }
        class Tu extends Jc {
          static get pluginName() {
            return "CKFinderEditing";
          }
          static get requires() {
            return [xu, Vh, yu];
          }
          init() {
            const t3 = this.editor;
            t3.commands.add("ckfinder", new Au(t3));
          }
        }
        const Mu = /^data:(\S*?);base64,/;
        class Eu {
          constructor(t3, e3, i3) {
            if (!t3) throw new hi.b("fileuploader-missing-file: File must be provided as the first argument", null);
            if (!e3) throw new hi.b("fileuploader-missing-token: Token must be provided as the second argument.", null);
            if (!i3) throw new hi.b("fileuploader-missing-api-address: Api address must be provided as the third argument.", null);
            this.file = function(t4) {
              if ("string" != typeof t4) return false;
              const e4 = t4.match(Mu);
              return !(!e4 || !e4.length);
            }(t3) ? function(t4, e4 = 512) {
              try {
                const i4 = t4.match(Mu)[1], n2 = atob(t4.replace(Mu, "")), o2 = [];
                for (let t5 = 0; t5 < n2.length; t5 += e4) {
                  const i5 = n2.slice(t5, t5 + e4), r2 = new Array(i5.length);
                  for (let t6 = 0; t6 < i5.length; t6++) r2[t6] = i5.charCodeAt(t6);
                  o2.push(new Uint8Array(r2));
                }
                return new Blob(o2, { type: i4 });
              } catch (t5) {
                throw new hi.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.", null);
              }
            }(t3) : t3, this._token = e3, this._apiAddress = i3;
          }
          onProgress(t3) {
            return this.on("progress", (e3, i3) => t3(i3)), this;
          }
          onError(t3) {
            return this.once("error", (e3, i3) => t3(i3)), this;
          }
          abort() {
            this.xhr.abort();
          }
          send() {
            return this._prepareRequest(), this._attachXHRListeners(), this._sendRequest();
          }
          _prepareRequest() {
            const t3 = new XMLHttpRequest();
            t3.open("POST", this._apiAddress), t3.setRequestHeader("Authorization", this._token.value), t3.responseType = "json", this.xhr = t3;
          }
          _attachXHRListeners() {
            const t3 = this, e3 = this.xhr;
            function i3(e4) {
              return () => t3.fire("error", e4);
            }
            e3.addEventListener("error", i3("Network Error")), e3.addEventListener("abort", i3("Abort")), e3.upload && e3.upload.addEventListener("progress", (t4) => {
              t4.lengthComputable && this.fire("progress", { total: t4.total, uploaded: t4.loaded });
            }), e3.addEventListener("load", () => {
              const t4 = e3.status, i4 = e3.response;
              if (t4 < 200 || t4 > 299) return this.fire("error", i4.message || i4.error);
            });
          }
          _sendRequest() {
            const t3 = new FormData(), e3 = this.xhr;
            return t3.append("file", this.file), new Promise((i3, n2) => {
              e3.addEventListener("load", () => {
                const t4 = e3.status, o2 = e3.response;
                return t4 < 200 || t4 > 299 ? o2.message ? n2(new hi.b("fileuploader-uploading-data-failed: Uploading file failed.", this, { message: o2.message })) : n2(o2.error) : i3(o2);
              }), e3.addEventListener("error", () => n2(new Error("Network Error"))), e3.addEventListener("abort", () => n2(new Error("Abort"))), e3.send(t3);
            });
          }
        }
        yi(Eu, gi);
        const Pu = { refreshInterval: 36e5, autoRefresh: true };
        class Su {
          constructor(t3, e3 = Pu) {
            if (!t3) throw new hi.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.", this);
            this.set("value", e3.initValue), this._refresh = "function" == typeof t3 ? t3 : () => {
              return e4 = t3, new Promise((t4, i3) => {
                const n2 = new XMLHttpRequest();
                n2.open("GET", e4), n2.addEventListener("load", () => {
                  const e5 = n2.status, o2 = n2.response;
                  return e5 < 200 || e5 > 299 ? i3(new hi.b("token-cannot-download-new-token: Cannot download new token from the provided url.", null)) : t4(o2);
                }), n2.addEventListener("error", () => i3(new Error("Network Error"))), n2.addEventListener("abort", () => i3(new Error("Abort"))), n2.send();
              });
              var e4;
            }, this._options = Object.assign({}, Pu, e3);
          }
          init() {
            return new Promise((t3, e3) => {
              this._options.autoRefresh && this._startRefreshing(), this.value ? t3(this) : this.refreshToken().then(t3).catch(e3);
            });
          }
          refreshToken() {
            return this._refresh().then((t3) => this.set("value", t3)).then(() => this);
          }
          destroy() {
            this._stopRefreshing();
          }
          _startRefreshing() {
            this._refreshInterval = setInterval(() => this.refreshToken(), this._options.refreshInterval);
          }
          _stopRefreshing() {
            clearInterval(this._refreshInterval);
          }
          static create(t3, e3 = Pu) {
            return new Su(t3, e3).init();
          }
        }
        yi(Su, Hn);
        var Iu = Su;
        class Ou extends Qd {
          static get pluginName() {
            return "CloudServices";
          }
          init() {
            const t3 = this.context.config.get("cloudServices") || {};
            for (const e3 in t3) this[e3] = t3[e3];
            if (this.tokenUrl) return this.token = new Ou.Token(this.tokenUrl), this.token.init();
            this.token = null;
          }
        }
        Ou.Token = Iu;
        class Nu extends Jc {
          static get requires() {
            return [Zd, Ou];
          }
          init() {
            const t3 = this.editor, e3 = t3.plugins.get(Ou), i3 = e3.token, n2 = e3.uploadUrl;
            i3 && (this._uploadGateway = new Nu._UploadGateway(i3, n2), t3.plugins.get(Zd).createUploadAdapter = (t4) => new Ru(this._uploadGateway, t4));
          }
        }
        class Ru {
          constructor(t3, e3) {
            this.uploadGateway = t3, this.loader = e3;
          }
          upload() {
            return this.loader.file.then((t3) => (this.fileUploader = this.uploadGateway.upload(t3), this.fileUploader.on("progress", (t4, e3) => {
              this.loader.uploadTotal = e3.total, this.loader.uploaded = e3.uploaded;
            }), this.fileUploader.send()));
          }
          abort() {
            this.fileUploader.abort();
          }
        }
        Nu._UploadGateway = class {
          constructor(t3, e3) {
            if (!t3) throw new hi.b("uploadgateway-missing-token: Token must be provided.", null);
            if (!e3) throw new hi.b("uploadgateway-missing-api-address: Api address must be provided.", null);
            this._token = t3, this._apiAddress = e3;
          }
          upload(t3) {
            return new Eu(t3, this._token, this._apiAddress);
          }
        };
        class Lu extends Or {
          constructor(t3) {
            super(t3), this.domEventType = "mousedown";
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
        }
        i2(48);
        class ju extends Jc {
          static get pluginName() {
            return "Widget";
          }
          init() {
            const t3 = this.editor.editing.view, e3 = t3.document;
            this._previouslySelected = /* @__PURE__ */ new Set(), this.editor.editing.downcastDispatcher.on("selection", (t4, e4, i3) => {
              this._clearPreviouslySelectedWidgets(i3.writer);
              const n2 = i3.writer, o2 = n2.document.selection, r2 = o2.getSelectedElement();
              let s4 = null;
              for (const t5 of o2.getRanges()) for (const e5 of t5) {
                const t6 = e5.item;
                Mh(t6) && !Du(t6, s4) && (n2.addClass("ck-widget_selected", t6), this._previouslySelected.add(t6), s4 = t6, t6 == r2 && n2.setSelection(o2.getRanges(), { fake: true, label: Ph(r2) }));
              }
            }, { priority: "low" }), t3.addObserver(Lu), this.listenTo(e3, "mousedown", (...t4) => this._onMousedown(...t4)), this.listenTo(e3, "keydown", (...t4) => this._onKeydown(...t4), { priority: "high" }), this.listenTo(e3, "delete", (t4, e4) => {
              this._handleDelete("forward" == e4.direction) && (e4.preventDefault(), t4.stop());
            }, { priority: "high" });
          }
          _onMousedown(t3, e3) {
            const i3 = this.editor, n2 = i3.editing.view, o2 = n2.document;
            let r2 = e3.target;
            if (function(t4) {
              for (; t4; ) {
                if (t4.is("editableElement") && !t4.is("rootElement")) return true;
                if (Mh(t4)) return false;
                t4 = t4.parent;
              }
              return false;
            }(r2)) {
              if (uo.isSafari && e3.domEvent.detail >= 3) {
                const t4 = i3.editing.mapper.toModelElement(r2);
                this.editor.model.change((i4) => {
                  e3.preventDefault(), i4.setSelection(t4, "in");
                });
              }
              return;
            }
            if (!Mh(r2) && (r2 = r2.findAncestor(Mh), !r2)) return;
            e3.preventDefault(), o2.isFocused || n2.focus();
            const s4 = i3.editing.mapper.toModelElement(r2);
            this._setSelectionOverElement(s4);
          }
          _onKeydown(t3, e3) {
            const i3 = e3.keyCode, n2 = "ltr" === this.editor.locale.contentLanguageDirection, o2 = i3 == fo.arrowdown || i3 == fo[n2 ? "arrowright" : "arrowleft"];
            let r2 = false;
            !function(t4) {
              return t4 == fo.arrowright || t4 == fo.arrowleft || t4 == fo.arrowup || t4 == fo.arrowdown;
            }(i3) ? i3 === fo.enter && (r2 = this._handleEnterKey(e3.shiftKey)) : r2 = this._handleArrowKeys(o2), r2 && (e3.preventDefault(), t3.stop());
          }
          _handleDelete(t3) {
            if (this.editor.isReadOnly) return;
            const e3 = this.editor.model.document.selection;
            if (!e3.isCollapsed) return;
            const i3 = this._getObjectElementNextToSelection(t3);
            return i3 ? (this.editor.model.change((t4) => {
              let n2 = e3.anchor.parent;
              for (; n2.isEmpty; ) {
                const e4 = n2;
                n2 = e4.parent, t4.remove(e4);
              }
              this._setSelectionOverElement(i3);
            }), true) : void 0;
          }
          _handleArrowKeys(t3) {
            const e3 = this.editor.model, i3 = e3.schema, n2 = e3.document.selection, o2 = n2.getSelectedElement();
            if (o2 && i3.isObject(o2)) {
              const o3 = t3 ? n2.getLastPosition() : n2.getFirstPosition(), r3 = i3.getNearestSelectionRange(o3, t3 ? "forward" : "backward");
              return r3 && e3.change((t4) => {
                t4.setSelection(r3);
              }), true;
            }
            if (!n2.isCollapsed) return;
            const r2 = this._getObjectElementNextToSelection(t3);
            return r2 && i3.isObject(r2) ? (this._setSelectionOverElement(r2), true) : void 0;
          }
          _handleEnterKey(t3) {
            const e3 = this.editor.model, i3 = e3.document.selection.getSelectedElement();
            if (n2 = i3, o2 = e3.schema, n2 && o2.isObject(n2) && !o2.isInline(n2)) return e3.change((n3) => {
              let o3 = n3.createPositionAt(i3, t3 ? "before" : "after");
              const r2 = n3.createElement("paragraph");
              if (e3.schema.isBlock(i3.parent)) {
                const t4 = e3.schema.findAllowedParent(o3, r2);
                o3 = n3.split(o3, t4).position;
              }
              n3.insert(r2, o3), n3.setSelection(r2, "in");
            }), true;
            var n2, o2;
          }
          _setSelectionOverElement(t3) {
            this.editor.model.change((e3) => {
              e3.setSelection(e3.createRangeOn(t3));
            });
          }
          _getObjectElementNextToSelection(t3) {
            const e3 = this.editor.model, i3 = e3.schema, n2 = e3.document.selection, o2 = e3.createSelection(n2);
            e3.modifySelection(o2, { direction: t3 ? "forward" : "backward" });
            const r2 = t3 ? o2.focus.nodeBefore : o2.focus.nodeAfter;
            return r2 && i3.isObject(r2) ? r2 : null;
          }
          _clearPreviouslySelectedWidgets(t3) {
            for (const e3 of this._previouslySelected) t3.removeClass("ck-widget_selected", e3);
            this._previouslySelected.clear();
          }
        }
        function Du(t3, e3) {
          return !!e3 && Array.from(t3.getAncestors()).includes(e3);
        }
        class zu extends td {
          refresh() {
            const t3 = this.editor.model.document.selection.getSelectedElement();
            this.isEnabled = Rh(t3), Rh(t3) && t3.hasAttribute("alt") ? this.value = t3.getAttribute("alt") : this.value = false;
          }
          execute(t3) {
            const e3 = this.editor.model, i3 = e3.document.selection.getSelectedElement();
            e3.change((e4) => {
              e4.setAttribute("alt", t3.newValue, i3);
            });
          }
        }
        class Bu extends Jc {
          static get pluginName() {
            return "ImageTextAlternativeEditing";
          }
          init() {
            this.editor.commands.add("imageTextAlternative", new zu(this.editor));
          }
        }
        i2(50);
        class Vu extends lc {
          constructor(t3, e3) {
            super(t3);
            const i3 = "ck-labeled-field-view-" + ci(), n2 = "ck-labeled-field-view-status-" + ci();
            this.fieldView = e3(this, i3, n2), this.set("label"), this.set("isEnabled", true), this.set("errorText", null), this.set("infoText", null), this.set("class"), this.labelView = this._createLabelView(i3), this.statusView = this._createStatusView(n2), this.bind("_statusText").to(this, "errorText", this, "infoText", (t4, e4) => t4 || e4);
            const o2 = this.bindTemplate;
            this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-field-view", o2.to("class"), o2.if("isEnabled", "ck-disabled", (t4) => !t4)] }, children: [this.labelView, this.fieldView, this.statusView] });
          }
          _createLabelView(t3) {
            const e3 = new uc(this.locale);
            return e3.for = t3, e3.bind("text").to(this, "label"), e3;
          }
          _createStatusView(t3) {
            const e3 = new lc(this.locale), i3 = this.bindTemplate;
            return e3.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-labeled-field-view__status", i3.if("errorText", "ck-labeled-field-view__status_error"), i3.if("_statusText", "ck-hidden", (t4) => !t4)], id: t3, role: i3.if("errorText", "alert") }, children: [{ text: i3.to("_statusText") }] }), e3;
          }
          focus() {
            this.fieldView.focus();
          }
        }
        i2(52);
        class Fu extends lc {
          constructor(t3) {
            super(t3), this.set("value"), this.set("id"), this.set("placeholder"), this.set("isReadOnly", false), this.set("hasError", false), this.set("ariaDescribedById");
            const e3 = this.bindTemplate;
            this.setTemplate({ tag: "input", attributes: { type: "text", class: ["ck", "ck-input", "ck-input-text", e3.if("hasError", "ck-error")], id: e3.to("id"), placeholder: e3.to("placeholder"), readonly: e3.to("isReadOnly"), "aria-invalid": e3.if("hasError", true), "aria-describedby": e3.to("ariaDescribedById") }, on: { input: e3.to("input") } });
          }
          render() {
            super.render();
            const t3 = (t4) => {
              this.element.value = t4 || 0 === t4 ? t4 : "";
            };
            t3(this.value), this.on("change:value", (e3, i3, n2) => {
              t3(n2);
            });
          }
          select() {
            this.element.select();
          }
          focus() {
            this.element.focus();
          }
        }
        function Hu(t3, e3, i3) {
          const n2 = new Fu(t3.locale);
          return n2.set({ id: e3, ariaDescribedById: i3 }), n2.bind("isReadOnly").to(t3, "isEnabled", (t4) => !t4), n2.bind("hasError").to(t3, "errorText", (t4) => !!t4), n2.on("input", () => {
            t3.errorText = null;
          }), n2;
        }
        function Uu({ view: t3 }) {
          t3.listenTo(t3.element, "submit", (e3, i3) => {
            i3.preventDefault(), t3.fire("submit");
          }, { useCapture: true });
        }
        var Wu = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>', qu = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';
        i2(54);
        class Yu extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.locale.t;
            this.focusTracker = new Nl(), this.keystrokes = new Al(), this.labeledInput = this._createLabeledInputView(), this.saveButtonView = this._createButton(e3("Save"), Wu, "ck-button-save"), this.saveButtonView.type = "submit", this.cancelButtonView = this._createButton(e3("Cancel"), qu, "ck-button-cancel", "cancel"), this._focusables = new Hl(), this._focusCycler = new _c({ focusables: this._focusables, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-text-alternative-form"], tabindex: "-1" }, children: [this.labeledInput, this.saveButtonView, this.cancelButtonView] });
          }
          render() {
            super.render(), this.keystrokes.listenTo(this.element), Uu({ view: this }), [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach((t3) => {
              this._focusables.add(t3), this.focusTracker.add(t3.element);
            });
          }
          _createButton(t3, e3, i3, n2) {
            const o2 = new Oc(this.locale);
            return o2.set({ label: t3, icon: e3, tooltip: true }), o2.extendTemplate({ attributes: { class: i3 } }), n2 && o2.delegate("execute").to(this, n2), o2;
          }
          _createLabeledInputView() {
            const t3 = this.locale.t, e3 = new Vu(this.locale, Hu);
            return e3.label = t3("Text alternative"), e3.fieldView.placeholder = t3("Text alternative"), e3;
          }
        }
        i2(56);
        const $u = pc("px"), Ju = Zo.document.body;
        class Gu extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate;
            this.set("top", 0), this.set("left", 0), this.set("position", "arrow_nw"), this.set("isVisible", false), this.set("withArrow", true), this.set("class"), this.content = this.createCollection(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-panel", e3.to("position", (t4) => "ck-balloon-panel_" + t4), e3.if("isVisible", "ck-balloon-panel_visible"), e3.if("withArrow", "ck-balloon-panel_with-arrow"), e3.to("class")], style: { top: e3.to("top", $u), left: e3.to("left", $u) } }, children: this.content });
          }
          show() {
            this.isVisible = true;
          }
          hide() {
            this.isVisible = false;
          }
          attachTo(t3) {
            this.show();
            const e3 = Gu.defaultPositions, i3 = Object.assign({}, { element: this.element, positions: [e3.southArrowNorth, e3.southArrowNorthMiddleWest, e3.southArrowNorthMiddleEast, e3.southArrowNorthWest, e3.southArrowNorthEast, e3.northArrowSouth, e3.northArrowSouthMiddleWest, e3.northArrowSouthMiddleEast, e3.northArrowSouthWest, e3.northArrowSouthEast], limiter: Ju, fitInViewport: true }, t3), n2 = Gu._getOptimalPosition(i3), o2 = parseInt(n2.left), r2 = parseInt(n2.top), s4 = n2.name;
            Object.assign(this, { top: r2, left: o2, position: s4 });
          }
          pin(t3) {
            this.unpin(), this._pinWhenIsVisibleCallback = () => {
              this.isVisible ? this._startPinning(t3) : this._stopPinning();
            }, this._startPinning(t3), this.listenTo(this, "change:isVisible", this._pinWhenIsVisibleCallback);
          }
          unpin() {
            this._pinWhenIsVisibleCallback && (this._stopPinning(), this.stopListening(this, "change:isVisible", this._pinWhenIsVisibleCallback), this._pinWhenIsVisibleCallback = null, this.hide());
          }
          _startPinning(t3) {
            this.attachTo(t3);
            const e3 = Qu(t3.target), i3 = t3.limiter ? Qu(t3.limiter) : Ju;
            this.listenTo(Zo.document, "scroll", (n2, o2) => {
              const r2 = o2.target, s4 = e3 && r2.contains(e3), a4 = i3 && r2.contains(i3);
              !s4 && !a4 && e3 && i3 || this.attachTo(t3);
            }, { useCapture: true }), this.listenTo(Zo.window, "resize", () => {
              this.attachTo(t3);
            });
          }
          _stopPinning() {
            this.stopListening(Zo.document, "scroll"), this.stopListening(Zo.window, "resize");
          }
        }
        function Qu(t3) {
          return ii(t3) ? t3 : Gr(t3) ? t3.commonAncestorContainer : "function" == typeof t3 ? Qu(t3()) : null;
        }
        function Xu(t3, e3) {
          return t3.top - e3.height - Gu.arrowVerticalOffset;
        }
        function Ku(t3) {
          return t3.bottom + Gu.arrowVerticalOffset;
        }
        Gu.arrowHorizontalOffset = 25, Gu.arrowVerticalOffset = 10, Gu._getOptimalPosition = Cc, Gu.defaultPositions = { northWestArrowSouthWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left - Gu.arrowHorizontalOffset, name: "arrow_sw" }), northWestArrowSouthMiddleWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_smw" }), northWestArrowSouth: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left - e3.width / 2, name: "arrow_s" }), northWestArrowSouthMiddleEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_sme" }), northWestArrowSouthEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left - e3.width + Gu.arrowHorizontalOffset, name: "arrow_se" }), northArrowSouthWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left + t3.width / 2 - Gu.arrowHorizontalOffset, name: "arrow_sw" }), northArrowSouthMiddleWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left + t3.width / 2 - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_smw" }), northArrowSouth: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left + t3.width / 2 - e3.width / 2, name: "arrow_s" }), northArrowSouthMiddleEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left + t3.width / 2 - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_sme" }), northArrowSouthEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.left + t3.width / 2 - e3.width + Gu.arrowHorizontalOffset, name: "arrow_se" }), northEastArrowSouthWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.right - Gu.arrowHorizontalOffset, name: "arrow_sw" }), northEastArrowSouthMiddleWest: (t3, e3) => ({ top: Xu(t3, e3), left: t3.right - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_smw" }), northEastArrowSouth: (t3, e3) => ({ top: Xu(t3, e3), left: t3.right - e3.width / 2, name: "arrow_s" }), northEastArrowSouthMiddleEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.right - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_sme" }), northEastArrowSouthEast: (t3, e3) => ({ top: Xu(t3, e3), left: t3.right - e3.width + Gu.arrowHorizontalOffset, name: "arrow_se" }), southWestArrowNorthWest: (t3, e3) => ({ top: Ku(t3), left: t3.left - Gu.arrowHorizontalOffset, name: "arrow_nw" }), southWestArrowNorthMiddleWest: (t3, e3) => ({ top: Ku(t3), left: t3.left - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_nmw" }), southWestArrowNorth: (t3, e3) => ({ top: Ku(t3), left: t3.left - e3.width / 2, name: "arrow_n" }), southWestArrowNorthMiddleEast: (t3, e3) => ({ top: Ku(t3), left: t3.left - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_nme" }), southWestArrowNorthEast: (t3, e3) => ({ top: Ku(t3), left: t3.left - e3.width + Gu.arrowHorizontalOffset, name: "arrow_ne" }), southArrowNorthWest: (t3, e3) => ({ top: Ku(t3), left: t3.left + t3.width / 2 - Gu.arrowHorizontalOffset, name: "arrow_nw" }), southArrowNorthMiddleWest: (t3, e3) => ({ top: Ku(t3), left: t3.left + t3.width / 2 - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_nmw" }), southArrowNorth: (t3, e3) => ({ top: Ku(t3), left: t3.left + t3.width / 2 - e3.width / 2, name: "arrow_n" }), southArrowNorthMiddleEast: (t3, e3) => ({ top: Ku(t3), left: t3.left + t3.width / 2 - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_nme" }), southArrowNorthEast: (t3, e3) => ({ top: Ku(t3), left: t3.left + t3.width / 2 - e3.width + Gu.arrowHorizontalOffset, name: "arrow_ne" }), southEastArrowNorthWest: (t3, e3) => ({ top: Ku(t3), left: t3.right - Gu.arrowHorizontalOffset, name: "arrow_nw" }), southEastArrowNorthMiddleWest: (t3, e3) => ({ top: Ku(t3), left: t3.right - 0.25 * e3.width - Gu.arrowHorizontalOffset, name: "arrow_nmw" }), southEastArrowNorth: (t3, e3) => ({ top: Ku(t3), left: t3.right - e3.width / 2, name: "arrow_n" }), southEastArrowNorthMiddleEast: (t3, e3) => ({ top: Ku(t3), left: t3.right - 0.75 * e3.width + Gu.arrowHorizontalOffset, name: "arrow_nme" }), southEastArrowNorthEast: (t3, e3) => ({ top: Ku(t3), left: t3.right - e3.width + Gu.arrowHorizontalOffset, name: "arrow_ne" }) };
        i2(58), i2(60);
        const Zu = pc("px");
        class tm extends Jc {
          static get pluginName() {
            return "ContextualBalloon";
          }
          constructor(t3) {
            super(t3), this.positionLimiter = () => {
              const t4 = this.editor.editing.view, e3 = t4.document.selection.editableElement;
              return e3 ? t4.domConverter.mapViewToDom(e3.root) : null;
            }, this.set("visibleView", null), this.view = new Gu(t3.locale), t3.ui.view.body.add(this.view), t3.ui.focusTracker.add(this.view.element), this._viewToStack = /* @__PURE__ */ new Map(), this._idToStack = /* @__PURE__ */ new Map(), this.set("_numberOfStacks", 0), this.set("_singleViewMode", false), this._rotatorView = this._createRotatorView(), this._fakePanelsView = this._createFakePanelsView();
          }
          hasView(t3) {
            return Array.from(this._viewToStack.keys()).includes(t3);
          }
          add(t3) {
            if (this.hasView(t3.view)) throw new hi.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.", [this, t3]);
            const e3 = t3.stackId || "main";
            if (!this._idToStack.has(e3)) return this._idToStack.set(e3, /* @__PURE__ */ new Map([[t3.view, t3]])), this._viewToStack.set(t3.view, this._idToStack.get(e3)), this._numberOfStacks = this._idToStack.size, void (this._visibleStack && !t3.singleViewMode || this.showStack(e3));
            const i3 = this._idToStack.get(e3);
            t3.singleViewMode && this.showStack(e3), i3.set(t3.view, t3), this._viewToStack.set(t3.view, i3), i3 === this._visibleStack && this._showView(t3);
          }
          remove(t3) {
            if (!this.hasView(t3)) throw new hi.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.", [this, t3]);
            const e3 = this._viewToStack.get(t3);
            this._singleViewMode && this.visibleView === t3 && (this._singleViewMode = false), this.visibleView === t3 && (1 === e3.size ? this._idToStack.size > 1 ? this._showNextStack() : (this.view.hide(), this.visibleView = null, this._rotatorView.hideView()) : this._showView(Array.from(e3.values())[e3.size - 2])), 1 === e3.size ? (this._idToStack.delete(this._getStackId(e3)), this._numberOfStacks = this._idToStack.size) : e3.delete(t3), this._viewToStack.delete(t3);
          }
          updatePosition(t3) {
            t3 && (this._visibleStack.get(this.visibleView).position = t3), this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition();
          }
          showStack(t3) {
            this.visibleStack = t3;
            const e3 = this._idToStack.get(t3);
            if (!e3) throw new hi.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.", this);
            this._visibleStack !== e3 && this._showView(Array.from(e3.values()).pop());
          }
          get _visibleStack() {
            return this._viewToStack.get(this.visibleView);
          }
          _getStackId(t3) {
            return Array.from(this._idToStack.entries()).find((e3) => e3[1] === t3)[0];
          }
          _showNextStack() {
            const t3 = Array.from(this._idToStack.values());
            let e3 = t3.indexOf(this._visibleStack) + 1;
            t3[e3] || (e3 = 0), this.showStack(this._getStackId(t3[e3]));
          }
          _showPrevStack() {
            const t3 = Array.from(this._idToStack.values());
            let e3 = t3.indexOf(this._visibleStack) - 1;
            t3[e3] || (e3 = t3.length - 1), this.showStack(this._getStackId(t3[e3]));
          }
          _createRotatorView() {
            const t3 = new em(this.editor.locale), e3 = this.editor.locale.t;
            return this.view.content.add(t3), t3.bind("isNavigationVisible").to(this, "_numberOfStacks", this, "_singleViewMode", (t4, e4) => !e4 && t4 > 1), t3.on("change:isNavigationVisible", () => this.updatePosition(), { priority: "low" }), t3.bind("counter").to(this, "visibleView", this, "_numberOfStacks", (t4, i3) => {
              if (i3 < 2) return "";
              const n2 = Array.from(this._idToStack.values()).indexOf(this._visibleStack) + 1;
              return e3("%0 of %1", [n2, i3]);
            }), t3.buttonNextView.on("execute", () => {
              t3.focusTracker.isFocused && this.editor.editing.view.focus(), this._showNextStack();
            }), t3.buttonPrevView.on("execute", () => {
              t3.focusTracker.isFocused && this.editor.editing.view.focus(), this._showPrevStack();
            }), t3;
          }
          _createFakePanelsView() {
            const t3 = new im(this.editor.locale, this.view);
            return t3.bind("numberOfPanels").to(this, "_numberOfStacks", this, "_singleViewMode", (t4, e3) => !e3 && t4 >= 2 ? Math.min(t4 - 1, 2) : 0), t3.listenTo(this.view, "change:top", () => t3.updatePosition()), t3.listenTo(this.view, "change:left", () => t3.updatePosition()), this.editor.ui.view.body.add(t3), t3;
          }
          _showView({ view: t3, balloonClassName: e3 = "", withArrow: i3 = true, singleViewMode: n2 = false }) {
            this.view.class = e3, this.view.withArrow = i3, this._rotatorView.showView(t3), this.visibleView = t3, this.view.pin(this._getBalloonPosition()), this._fakePanelsView.updatePosition(), n2 && (this._singleViewMode = true);
          }
          _getBalloonPosition() {
            let t3 = Array.from(this._visibleStack.values()).pop().position;
            return t3 && !t3.limiter && (t3 = Object.assign({}, t3, { limiter: this.positionLimiter })), t3;
          }
        }
        class em extends lc {
          constructor(t3) {
            super(t3);
            const e3 = t3.t, i3 = this.bindTemplate;
            this.set("isNavigationVisible", true), this.focusTracker = new Nl(), this.buttonPrevView = this._createButtonView(e3("Previous"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'), this.buttonNextView = this._createButtonView(e3("Next"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'), this.content = this.createCollection(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-balloon-rotator"], "z-index": "-1" }, children: [{ tag: "div", attributes: { class: ["ck-balloon-rotator__navigation", i3.to("isNavigationVisible", (t4) => t4 ? "" : "ck-hidden")] }, children: [this.buttonPrevView, { tag: "span", attributes: { class: ["ck-balloon-rotator__counter"] }, children: [{ text: i3.to("counter") }] }, this.buttonNextView] }, { tag: "div", attributes: { class: "ck-balloon-rotator__content" }, children: this.content }] });
          }
          render() {
            super.render(), this.focusTracker.add(this.element);
          }
          showView(t3) {
            this.hideView(), this.content.add(t3);
          }
          hideView() {
            this.content.clear();
          }
          _createButtonView(t3, e3) {
            const i3 = new Oc(this.locale);
            return i3.set({ label: t3, icon: e3, tooltip: true }), i3;
          }
        }
        class im extends lc {
          constructor(t3, e3) {
            super(t3);
            const i3 = this.bindTemplate;
            this.set("top", 0), this.set("left", 0), this.set("height", 0), this.set("width", 0), this.set("numberOfPanels", 0), this.content = this.createCollection(), this._balloonPanelView = e3, this.setTemplate({ tag: "div", attributes: { class: ["ck-fake-panel", i3.to("numberOfPanels", (t4) => t4 ? "" : "ck-hidden")], style: { top: i3.to("top", Zu), left: i3.to("left", Zu), width: i3.to("width", Zu), height: i3.to("height", Zu) } }, children: this.content }), this.on("change:numberOfPanels", (t4, e4, i4, n2) => {
              i4 > n2 ? this._addPanels(i4 - n2) : this._removePanels(n2 - i4), this.updatePosition();
            });
          }
          _addPanels(t3) {
            for (; t3--; ) {
              const t4 = new lc();
              t4.setTemplate({ tag: "div" }), this.content.add(t4), this.registerChild(t4);
            }
          }
          _removePanels(t3) {
            for (; t3--; ) {
              const t4 = this.content.last;
              this.content.remove(t4), this.deregisterChild(t4), t4.destroy();
            }
          }
          updatePosition() {
            if (this.numberOfPanels) {
              const { top: t3, left: e3 } = this._balloonPanelView, { width: i3, height: n2 } = new Kr(this._balloonPanelView.element);
              Object.assign(this, { top: t3, left: e3, width: i3, height: n2 });
            }
          }
        }
        function nm(t3) {
          const e3 = t3.editing.view, i3 = Gu.defaultPositions;
          return { target: e3.domConverter.viewToDom(e3.document.selection.getSelectedElement()), positions: [i3.northArrowSouth, i3.northArrowSouthWest, i3.northArrowSouthEast, i3.southArrowNorth, i3.southArrowNorthWest, i3.southArrowNorthEast] };
        }
        class om extends Jc {
          static get requires() {
            return [tm];
          }
          static get pluginName() {
            return "ImageTextAlternativeUI";
          }
          init() {
            this._createButton(), this._createForm();
          }
          destroy() {
            super.destroy(), this._form.destroy();
          }
          _createButton() {
            const t3 = this.editor, e3 = t3.t;
            t3.ui.componentFactory.add("imageTextAlternative", (i3) => {
              const n2 = t3.commands.get("imageTextAlternative"), o2 = new Oc(i3);
              return o2.set({ label: e3("Change image text alternative"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>', tooltip: true }), o2.bind("isEnabled").to(n2, "isEnabled"), this.listenTo(o2, "execute", () => {
                this._showForm();
              }), o2;
            });
          }
          _createForm() {
            const t3 = this.editor, e3 = t3.editing.view.document;
            this._balloon = this.editor.plugins.get("ContextualBalloon"), this._form = new Yu(t3.locale), this._form.render(), this.listenTo(this._form, "submit", () => {
              t3.execute("imageTextAlternative", { newValue: this._form.labeledInput.fieldView.element.value }), this._hideForm(true);
            }), this.listenTo(this._form, "cancel", () => {
              this._hideForm(true);
            }), this._form.keystrokes.set("Esc", (t4, e4) => {
              this._hideForm(true), e4();
            }), this.listenTo(t3.ui, "update", () => {
              Nh(e3.selection) ? this._isVisible && function(t4) {
                const e4 = t4.plugins.get("ContextualBalloon");
                if (Nh(t4.editing.view.document.selection)) {
                  const i3 = nm(t4);
                  e4.updatePosition(i3);
                }
              }(t3) : this._hideForm(true);
            }), Bc({ emitter: this._form, activator: () => this._isVisible, contextElements: [this._balloon.view.element], callback: () => this._hideForm() });
          }
          _showForm() {
            if (this._isVisible) return;
            const t3 = this.editor, e3 = t3.commands.get("imageTextAlternative"), i3 = this._form.labeledInput;
            this._isInBalloon || this._balloon.add({ view: this._form, position: nm(t3) }), i3.fieldView.value = i3.fieldView.element.value = e3.value || "", this._form.labeledInput.fieldView.select();
          }
          _hideForm(t3) {
            this._isInBalloon && (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), t3 && this.editor.editing.view.focus());
          }
          get _isVisible() {
            return this._balloon.visibleView === this._form;
          }
          get _isInBalloon() {
            return this._balloon.hasView(this._form);
          }
        }
        class rm extends Jc {
          static get requires() {
            return [Bu, om];
          }
          static get pluginName() {
            return "ImageTextAlternative";
          }
        }
        i2(62);
        class sm extends Jc {
          static get requires() {
            return [Vh, ju, rm];
          }
          static get pluginName() {
            return "Image";
          }
        }
        class am extends lc {
          constructor(t3) {
            super(t3), this.buttonView = new Oc(t3), this._fileInputView = new lm(t3), this._fileInputView.bind("acceptedType").to(this), this._fileInputView.bind("allowMultipleFiles").to(this), this._fileInputView.delegate("done").to(this), this.setTemplate({ tag: "span", attributes: { class: "ck-file-dialog-button" }, children: [this.buttonView, this._fileInputView] }), this.buttonView.on("execute", () => {
              this._fileInputView.open();
            });
          }
          focus() {
            this.buttonView.focus();
          }
        }
        class lm extends lc {
          constructor(t3) {
            super(t3), this.set("acceptedType"), this.set("allowMultipleFiles", false);
            const e3 = this.bindTemplate;
            this.setTemplate({ tag: "input", attributes: { class: ["ck-hidden"], type: "file", tabindex: "-1", accept: e3.to("acceptedType"), multiple: e3.to("allowMultipleFiles") }, on: { change: e3.to(() => {
              this.element && this.element.files && this.element.files.length && this.fire("done", this.element.files), this.element.value = "";
            }) } });
          }
          open() {
            this.element.click();
          }
        }
        function cm(t3) {
          const e3 = t3.map((t4) => t4.replace("+", "\\+"));
          return new RegExp(`^image\\/(${e3.join("|")})$`);
        }
        class dm extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.t;
            t3.ui.componentFactory.add("imageUpload", (i3) => {
              const n2 = new am(i3), o2 = t3.commands.get("imageUpload"), r2 = t3.config.get("image.upload.types"), s4 = cm(r2);
              return n2.set({ acceptedType: r2.map((t4) => "image/" + t4).join(","), allowMultipleFiles: true }), n2.buttonView.set({ label: e3("Insert image"), icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>', tooltip: true }), n2.buttonView.bind("isEnabled").to(o2), n2.on("done", (e4, i4) => {
                const n3 = Array.from(i4).filter((t4) => s4.test(t4.type));
                n3.length && t3.execute("imageUpload", { file: n3 });
              }), n2;
            });
          }
        }
        i2(64), i2(66), i2(68);
        class hm extends Jc {
          constructor(t3) {
            super(t3), this.placeholder = "data:image/svg+xml;utf8," + encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>');
          }
          init() {
            this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image", (...t3) => this.uploadStatusChange(...t3));
          }
          uploadStatusChange(t3, e3, i3) {
            const n2 = this.editor, o2 = e3.item, r2 = o2.getAttribute("uploadId");
            if (!i3.consumable.consume(e3.item, t3.name)) return;
            const s4 = n2.plugins.get(Zd), a4 = r2 ? e3.attributeNewValue : null, l2 = this.placeholder, c3 = n2.editing.mapper.toViewElement(o2), d4 = i3.writer;
            if ("reading" == a4) return um(c3, d4), void mm(l2, c3, d4);
            if ("uploading" == a4) {
              const t4 = s4.loaders.get(r2);
              return um(c3, d4), void (t4 ? (gm(c3, d4), function(t5, e4, i4, n3) {
                const o3 = function(t6) {
                  const e5 = t6.createUIElement("div", { class: "ck-progress-bar" });
                  return t6.setCustomProperty("progressBar", true, e5), e5;
                }(e4);
                e4.insert(e4.createPositionAt(t5, "end"), o3), i4.on("change:uploadedPercent", (t6, e5, i5) => {
                  n3.change((t7) => {
                    t7.setStyle("width", i5 + "%", o3);
                  });
                });
              }(c3, d4, t4, n2.editing.view), function(t5, e4, i4) {
                if (i4.data) {
                  const n3 = Dh(t5);
                  e4.setAttribute("src", i4.data, n3);
                }
              }(c3, d4, t4)) : mm(l2, c3, d4));
            }
            "complete" == a4 && s4.loaders.get(r2) && function(t4, e4, i4) {
              const n3 = e4.createUIElement("div", { class: "ck-image-upload-complete-icon" });
              e4.insert(e4.createPositionAt(t4, "end"), n3), setTimeout(() => {
                i4.change((t5) => t5.remove(t5.createRangeOn(n3)));
              }, 3e3);
            }(c3, d4, n2.editing.view), function(t4, e4) {
              pm(t4, e4, "progressBar");
            }(c3, d4), gm(c3, d4), function(t4, e4) {
              e4.removeClass("ck-appear", t4);
            }(c3, d4);
          }
        }
        function um(t3, e3) {
          t3.hasClass("ck-appear") || e3.addClass("ck-appear", t3);
        }
        function mm(t3, e3, i3) {
          e3.hasClass("ck-image-upload-placeholder") || i3.addClass("ck-image-upload-placeholder", e3);
          const n2 = Dh(e3);
          n2.getAttribute("src") !== t3 && i3.setAttribute("src", t3, n2), fm(e3, "placeholder") || i3.insert(i3.createPositionAfter(n2), function(t4) {
            const e4 = t4.createUIElement("div", { class: "ck-upload-placeholder-loader" });
            return t4.setCustomProperty("placeholder", true, e4), e4;
          }(i3));
        }
        function gm(t3, e3) {
          t3.hasClass("ck-image-upload-placeholder") && e3.removeClass("ck-image-upload-placeholder", t3), pm(t3, e3, "placeholder");
        }
        function fm(t3, e3) {
          for (const i3 of t3.getChildren()) if (i3.getCustomProperty(e3)) return i3;
        }
        function pm(t3, e3, i3) {
          const n2 = fm(t3, i3);
          n2 && e3.remove(e3.createRangeOn(n2));
        }
        class bm {
          constructor(t3) {
            this.document = t3;
          }
          createDocumentFragment(t3) {
            return new xo(this.document, t3);
          }
          createElement(t3, e3, i3) {
            return new Nn(this.document, t3, e3, i3);
          }
          createText(t3) {
            return new Ni(this.document, t3);
          }
          clone(t3, e3 = false) {
            return t3._clone(e3);
          }
          appendChild(t3, e3) {
            return e3._appendChild(t3);
          }
          insertChild(t3, e3, i3) {
            return i3._insertChild(t3, e3);
          }
          removeChildren(t3, e3, i3) {
            return i3._removeChildren(t3, e3);
          }
          remove(t3) {
            const e3 = t3.parent;
            return e3 ? this.removeChildren(e3.getChildIndex(t3), 1, e3) : [];
          }
          replace(t3, e3) {
            const i3 = t3.parent;
            if (i3) {
              const n2 = i3.getChildIndex(t3);
              return this.removeChildren(n2, 1, i3), this.insertChild(n2, e3, i3), true;
            }
            return false;
          }
          unwrapElement(t3) {
            const e3 = t3.parent;
            if (e3) {
              const i3 = e3.getChildIndex(t3);
              this.remove(t3), this.insertChild(i3, t3.getChildren(), e3);
            }
          }
          rename(t3, e3) {
            const i3 = new Nn(this.document, t3, e3.getAttributes(), e3.getChildren());
            return this.replace(e3, i3) ? i3 : null;
          }
          setAttribute(t3, e3, i3) {
            i3._setAttribute(t3, e3);
          }
          removeAttribute(t3, e3) {
            e3._removeAttribute(t3);
          }
          addClass(t3, e3) {
            e3._addClass(t3);
          }
          removeClass(t3, e3) {
            e3._removeClass(t3);
          }
          setStyle(t3, e3, i3) {
            y3(t3) && void 0 === i3 && (i3 = e3), i3._setStyle(t3, e3);
          }
          removeStyle(t3, e3) {
            e3._removeStyle(t3);
          }
          setCustomProperty(t3, e3, i3) {
            i3._setCustomProperty(t3, e3);
          }
          removeCustomProperty(t3, e3) {
            return e3._removeCustomProperty(t3);
          }
          createPositionAt(t3, e3) {
            return Kn._createAt(t3, e3);
          }
          createPositionAfter(t3) {
            return Kn._createAfter(t3);
          }
          createPositionBefore(t3) {
            return Kn._createBefore(t3);
          }
          createRange(t3, e3) {
            return new Zn(t3, e3);
          }
          createRangeOn(t3) {
            return Zn._createOn(t3);
          }
          createRangeIn(t3) {
            return Zn._createIn(t3);
          }
          createSelection(t3, e3, i3) {
            return new io(t3, e3, i3);
          }
        }
        class wm extends td {
          refresh() {
            this.isEnabled = jh(this.editor.model);
          }
          execute(t3) {
            const e3 = this.editor, i3 = e3.model, n2 = e3.plugins.get(Zd);
            i3.change((e4) => {
              const o2 = Array.isArray(t3.file) ? t3.file : [t3.file];
              for (const t4 of o2) _m(e4, i3, n2, t4);
            });
          }
        }
        function _m(t3, e3, i3, n2) {
          const o2 = i3.createLoader(n2);
          o2 && Lh(t3, e3, { uploadId: o2.id });
        }
        class km extends Jc {
          static get requires() {
            return [Zd, xu, Zc];
          }
          static get pluginName() {
            return "ImageUploadEditing";
          }
          constructor(t3) {
            super(t3), t3.config.define("image", { upload: { types: ["jpeg", "png", "gif", "bmp", "webp", "tiff"] } });
          }
          init() {
            const t3 = this.editor, e3 = t3.model.document, i3 = t3.model.schema, n2 = t3.conversion, o2 = t3.plugins.get(Zd), r2 = cm(t3.config.get("image.upload.types"));
            i3.extend("image", { allowAttributes: ["uploadId", "uploadStatus"] }), t3.commands.add("imageUpload", new wm(t3)), n2.for("upcast").attributeToAttribute({ view: { name: "img", key: "uploadId" }, model: "uploadId" }), this.listenTo(t3.editing.view.document, "clipboardInput", (e4, i4) => {
              if (n3 = i4.dataTransfer, Array.from(n3.types).includes("text/html") && "" !== n3.getData("text/html")) return;
              var n3;
              const o3 = Array.from(i4.dataTransfer.files).filter((t4) => !!t4 && r2.test(t4.type)), s4 = i4.targetRanges.map((e5) => t3.editing.mapper.toModelRange(e5));
              t3.model.change((i5) => {
                i5.setSelection(s4), o3.length && (e4.stop(), t3.model.enqueueChange("default", () => {
                  t3.execute("imageUpload", { file: o3 });
                }));
              });
            }), this.listenTo(t3.plugins.get(Zc), "inputTransformation", (e4, i4) => {
              const n3 = Array.from(t3.editing.view.createRangeIn(i4.content)).filter((t4) => {
                return !(!(e5 = t4.item).is("element", "img") || !e5.getAttribute("src")) && (e5.getAttribute("src").match(/^data:image\/\w+;base64,/g) || e5.getAttribute("src").match(/^blob:/g)) && !t4.item.getAttribute("uploadProcessed");
                var e5;
              }).map((t4) => {
                return { promise: (e5 = t4.item, new Promise((t5, i5) => {
                  const n4 = e5.getAttribute("src");
                  fetch(n4).then((t6) => t6.blob()).then((e6) => {
                    const i6 = function(t6, e7) {
                      return t6.type ? t6.type : e7.match(/data:(image\/\w+);base64/) ? e7.match(/data:(image\/\w+);base64/)[1].toLowerCase() : "image/jpeg";
                    }(e6, n4), o3 = i6.replace("image/", ""), r4 = new File([e6], "image." + o3, { type: i6 });
                    t5(r4);
                  }).catch(i5);
                })), imageElement: t4.item };
                var e5;
              });
              if (!n3.length) return;
              const r3 = new bm(t3.editing.view.document);
              for (const t4 of n3) {
                r3.setAttribute("uploadProcessed", true, t4.imageElement);
                const e5 = o2.createLoader(t4.promise);
                e5 && (r3.setAttribute("src", "", t4.imageElement), r3.setAttribute("uploadId", e5.id, t4.imageElement));
              }
            }), t3.editing.view.document.on("dragover", (t4, e4) => {
              e4.preventDefault();
            }), e3.on("change", () => {
              const i4 = e3.differ.getChanges({ includeChangesInGraveyard: true });
              for (const e4 of i4) if ("insert" == e4.type && "$text" != e4.name) {
                const i5 = e4.position.nodeAfter, n3 = "$graveyard" == e4.position.root.rootName;
                for (const e5 of vm(t3, i5)) {
                  const t4 = e5.getAttribute("uploadId");
                  if (!t4) continue;
                  const i6 = o2.loaders.get(t4);
                  i6 && (n3 ? i6.abort() : "idle" == i6.status && this._readAndUpload(i6, e5));
                }
              }
            });
          }
          _readAndUpload(t3, e3) {
            const i3 = this.editor, n2 = i3.model, o2 = i3.locale.t, r2 = i3.plugins.get(Zd), s4 = i3.plugins.get(xu);
            return n2.enqueueChange("transparent", (t4) => {
              t4.setAttribute("uploadStatus", "reading", e3);
            }), t3.read().then(() => {
              const o3 = t3.upload();
              if (uo.isSafari) {
                const t4 = Dh(i3.editing.mapper.toViewElement(e3));
                i3.editing.view.once("render", () => {
                  if (!t4.parent) return;
                  const e4 = i3.editing.view.domConverter.mapViewToDom(t4.parent);
                  if (!e4) return;
                  const n3 = e4.style.display;
                  e4.style.display = "none", e4._ckHack = e4.offsetHeight, e4.style.display = n3;
                });
              }
              return n2.enqueueChange("transparent", (t4) => {
                t4.setAttribute("uploadStatus", "uploading", e3);
              }), o3;
            }).then((t4) => {
              n2.enqueueChange("transparent", (i4) => {
                i4.setAttributes({ uploadStatus: "complete", src: t4.default }, e3), this._parseAndSetSrcsetAttributeOnImage(t4, e3, i4);
              }), a4();
            }).catch((i4) => {
              if ("error" !== t3.status && "aborted" !== t3.status) throw i4;
              "error" == t3.status && i4 && s4.showWarning(i4, { title: o2("Upload failed"), namespace: "upload" }), a4(), n2.enqueueChange("transparent", (t4) => {
                t4.remove(e3);
              });
            });
            function a4() {
              n2.enqueueChange("transparent", (t4) => {
                t4.removeAttribute("uploadId", e3), t4.removeAttribute("uploadStatus", e3);
              }), r2.destroyLoader(t3);
            }
          }
          _parseAndSetSrcsetAttributeOnImage(t3, e3, i3) {
            let n2 = 0;
            const o2 = Object.keys(t3).filter((t4) => {
              const e4 = parseInt(t4, 10);
              if (!isNaN(e4)) return n2 = Math.max(n2, e4), true;
            }).map((e4) => `${t3[e4]} ${e4}w`).join(", ");
            "" != o2 && i3.setAttribute("srcset", { data: o2, width: n2 }, e3);
          }
        }
        function vm(t3, e3) {
          return Array.from(t3.model.createRangeOn(e3)).filter((t4) => t4.item.is("image")).map((t4) => t4.item);
        }
        class ym extends Jc {
          static get pluginName() {
            return "ImageUpload";
          }
          static get requires() {
            return [km, dm, hm];
          }
        }
        class xm extends td {
          refresh() {
            const t3 = this.editor.model, e3 = gh(t3.document.selection.getSelectedBlocks());
            this.value = !!e3 && e3.is("paragraph"), this.isEnabled = !!e3 && Am(e3, t3.schema);
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.document;
            e3.change((n2) => {
              const o2 = (t3.selection || i3.selection).getSelectedBlocks();
              for (const t4 of o2) !t4.is("paragraph") && Am(t4, e3.schema) && n2.rename(t4, "paragraph");
            });
          }
        }
        function Am(t3, e3) {
          return e3.checkChild(t3.parent, "paragraph") && !e3.isObject(t3);
        }
        class Cm extends Jc {
          static get pluginName() {
            return "Paragraph";
          }
          init() {
            const t3 = this.editor, e3 = t3.model, i3 = t3.data;
            t3.commands.add("paragraph", new xm(t3)), e3.schema.register("paragraph", { inheritAllFrom: "$block" }), t3.conversion.elementToElement({ model: "paragraph", view: "p" }), t3.conversion.for("upcast").elementToElement({ model: (t4, e4) => Cm.paragraphLikeElements.has(t4.name) ? t4.isEmpty ? null : e4.createElement("paragraph") : null, converterPriority: "low" }), i3.upcastDispatcher.on("element", (t4, e4, i4) => {
              i4.consumable.test(e4.viewItem, { name: e4.viewItem.name }) && Mm(e4.viewItem, e4.modelCursor, i4.schema) && Object.assign(e4, Tm(e4.viewItem, e4.modelCursor, i4));
            }, { priority: "low" }), i3.upcastDispatcher.on("text", (t4, e4, i4) => {
              e4.modelRange || Mm(e4.viewItem, e4.modelCursor, i4.schema) && Object.assign(e4, Tm(e4.viewItem, e4.modelCursor, i4));
            }, { priority: "lowest" }), e3.document.registerPostFixer((t4) => this._autoparagraphEmptyRoots(t4)), t3.data.on("ready", () => {
              e3.enqueueChange("transparent", (t4) => this._autoparagraphEmptyRoots(t4));
            }, { priority: "lowest" });
          }
          _autoparagraphEmptyRoots(t3) {
            const e3 = this.editor.model;
            for (const i3 of e3.document.getRootNames()) {
              const n2 = e3.document.getRoot(i3);
              if (n2.isEmpty && "$graveyard" != n2.rootName && e3.schema.checkChild(n2, "paragraph")) return t3.insertElement("paragraph", n2), true;
            }
          }
        }
        function Tm(t3, e3, i3) {
          const n2 = i3.writer.createElement("paragraph");
          return i3.writer.insert(n2, e3), i3.convertItem(t3, i3.writer.createPositionAt(n2, 0));
        }
        function Mm(t3, e3, i3) {
          const n2 = i3.createContext(e3);
          return !!i3.checkChild(n2, "paragraph") && !!i3.checkChild(n2.push("paragraph"), t3);
        }
        Cm.paragraphLikeElements = /* @__PURE__ */ new Set(["blockquote", "dd", "div", "dt", "h1", "h2", "h3", "h4", "h5", "h6", "li", "p", "td"]);
        class Em extends td {
          constructor(t3, e3) {
            super(t3), this.modelElements = e3;
          }
          refresh() {
            const t3 = gh(this.editor.model.document.selection.getSelectedBlocks());
            this.value = !!t3 && this.modelElements.includes(t3.name) && t3.name, this.isEnabled = !!t3 && this.modelElements.some((e3) => Pm(t3, e3, this.editor.model.schema));
          }
          execute(t3) {
            const e3 = this.editor.model, i3 = e3.document, n2 = t3.value;
            e3.change((t4) => {
              const o2 = Array.from(i3.selection.getSelectedBlocks()).filter((t5) => Pm(t5, n2, e3.schema));
              for (const e4 of o2) e4.is(n2) || t4.rename(e4, n2);
            });
          }
        }
        function Pm(t3, e3, i3) {
          return i3.checkChild(t3.parent, e3) && !i3.isObject(t3);
        }
        class Sm extends Jc {
          static get pluginName() {
            return "HeadingEditing";
          }
          constructor(t3) {
            super(t3), t3.config.define("heading", { options: [{ model: "paragraph", title: "Paragraph", class: "ck-heading_paragraph" }, { model: "heading1", view: "h2", title: "Heading 1", class: "ck-heading_heading1" }, { model: "heading2", view: "h3", title: "Heading 2", class: "ck-heading_heading2" }, { model: "heading3", view: "h4", title: "Heading 3", class: "ck-heading_heading3" }] });
          }
          static get requires() {
            return [Cm];
          }
          init() {
            const t3 = this.editor, e3 = t3.config.get("heading.options"), i3 = [];
            for (const n2 of e3) "paragraph" !== n2.model && (t3.model.schema.register(n2.model, { inheritAllFrom: "$block" }), t3.conversion.elementToElement(n2), i3.push(n2.model));
            this._addDefaultH1Conversion(t3), t3.commands.add("heading", new Em(t3, i3));
          }
          afterInit() {
            const t3 = this.editor, e3 = t3.commands.get("enter"), i3 = t3.config.get("heading.options");
            e3 && this.listenTo(e3, "afterExecute", (e4, n2) => {
              const o2 = t3.model.document.selection.getFirstPosition().parent;
              i3.some((t4) => o2.is(t4.model)) && !o2.is("paragraph") && 0 === o2.childCount && n2.writer.rename(o2, "paragraph");
            });
          }
          _addDefaultH1Conversion(t3) {
            t3.conversion.for("upcast").elementToElement({ model: "heading1", view: "h1", converterPriority: di.get("low") + 1 });
          }
        }
        class Im {
          constructor(t3, e3) {
            e3 && Dn(this, e3), t3 && this.set(t3);
          }
        }
        yi(Im, Hn);
        i2(11);
        class Om extends Jc {
          init() {
            const t3 = this.editor, e3 = t3.t, i3 = function(t4) {
              const e4 = t4.t, i4 = { Paragraph: e4("Paragraph"), "Heading 1": e4("Heading 1"), "Heading 2": e4("Heading 2"), "Heading 3": e4("Heading 3"), "Heading 4": e4("Heading 4"), "Heading 5": e4("Heading 5"), "Heading 6": e4("Heading 6") };
              return t4.config.get("heading.options").map((t5) => {
                const e5 = i4[t5.title];
                return e5 && e5 != t5.title && (t5.title = e5), t5;
              });
            }(t3), n2 = e3("Choose heading"), o2 = e3("Heading");
            t3.ui.componentFactory.add("heading", (e4) => {
              const r2 = {}, s4 = new xi(), a4 = t3.commands.get("heading"), l2 = t3.commands.get("paragraph"), c3 = [a4];
              for (const t4 of i3) {
                const e5 = { type: "button", model: new Im({ label: t4.title, class: t4.class, withText: true }) };
                "paragraph" === t4.model ? (e5.model.bind("isOn").to(l2, "value"), e5.model.set("commandName", "paragraph"), c3.push(l2)) : (e5.model.bind("isOn").to(a4, "value", (e6) => e6 === t4.model), e5.model.set({ commandName: "heading", commandValue: t4.model })), s4.add(e5), r2[t4.model] = t4.title;
              }
              const d4 = Vc(e4);
              return Fc(d4, s4), d4.buttonView.set({ isOn: false, withText: true, tooltip: o2 }), d4.extendTemplate({ attributes: { class: ["ck-heading-dropdown"] } }), d4.bind("isEnabled").toMany(c3, "isEnabled", (...t4) => t4.some((t5) => t5)), d4.buttonView.bind("label").to(a4, "value", l2, "value", (t4, e5) => {
                const i4 = t4 || e5 && "paragraph";
                return r2[i4] ? r2[i4] : n2;
              }), this.listenTo(d4, "execute", (e5) => {
                t3.execute(e5.source.commandName, e5.source.commandValue ? { value: e5.source.commandValue } : void 0), t3.editing.view.focus();
              }), d4;
            });
          }
        }
        function Nm(t3) {
          for (const e3 of t3.getChildren()) if (e3 && e3.is("caption")) return e3;
          return null;
        }
        function Rm(t3) {
          const e3 = t3.parent;
          return "figcaption" == t3.name && e3 && "figure" == e3.name && e3.hasClass("image") ? { name: true } : null;
        }
        class Lm extends Jc {
          static get pluginName() {
            return "ImageCaptionEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.editing.view, i3 = t3.model.schema, n2 = t3.data, o2 = t3.editing, r2 = t3.t;
            i3.register("caption", { allowIn: "image", allowContentOf: "$block", isLimit: true }), t3.model.document.registerPostFixer((t4) => this._insertMissingModelCaptionElement(t4)), t3.conversion.for("upcast").elementToElement({ view: Rm, model: "caption" });
            n2.downcastDispatcher.on("insert:caption", jm((t4) => t4.createContainerElement("figcaption"), false));
            const s4 = /* @__PURE__ */ function(t4, e4) {
              return (i4) => {
                const n3 = i4.createEditableElement("figcaption");
                return i4.setCustomProperty("imageCaption", true, n3), jl({ view: t4, element: n3, text: e4 }), Sh(n3, i4);
              };
            }(e3, r2("Enter image caption"));
            o2.downcastDispatcher.on("insert:caption", jm(s4)), o2.downcastDispatcher.on("insert", this._fixCaptionVisibility((t4) => t4.item), { priority: "high" }), o2.downcastDispatcher.on("remove", this._fixCaptionVisibility((t4) => t4.position.parent), { priority: "high" }), e3.document.registerPostFixer((t4) => this._updateCaptionVisibility(t4));
          }
          _updateCaptionVisibility(t3) {
            const e3 = this.editor.editing.mapper, i3 = this._lastSelectedCaption;
            let n2;
            const o2 = this.editor.model.document.selection, r2 = o2.getSelectedElement();
            if (r2 && r2.is("image")) {
              const t4 = Nm(r2);
              n2 = e3.toViewElement(t4);
            }
            const s4 = Dm(o2.getFirstPosition().parent);
            if (s4 && (n2 = e3.toViewElement(s4)), n2) return i3 ? (i3 === n2 || (zm(i3, t3), this._lastSelectedCaption = n2), Bm(n2, t3)) : (this._lastSelectedCaption = n2, Bm(n2, t3));
            if (i3) {
              const e4 = zm(i3, t3);
              return this._lastSelectedCaption = null, e4;
            }
            return false;
          }
          _fixCaptionVisibility(t3) {
            return (e3, i3, n2) => {
              const o2 = Dm(t3(i3)), r2 = this.editor.editing.mapper, s4 = n2.writer;
              if (o2) {
                const t4 = r2.toViewElement(o2);
                t4 && (o2.childCount ? s4.removeClass("ck-hidden", t4) : s4.addClass("ck-hidden", t4));
              }
            };
          }
          _insertMissingModelCaptionElement(t3) {
            const e3 = this.editor.model, i3 = e3.document.differ.getChanges(), n2 = [];
            for (const t4 of i3) if ("insert" == t4.type && "$text" != t4.name) {
              const i4 = t4.position.nodeAfter;
              if (i4.is("image") && !Nm(i4) && n2.push(i4), !i4.is("image") && i4.childCount) for (const t5 of e3.createRangeIn(i4).getItems()) t5.is("image") && !Nm(t5) && n2.push(t5);
            }
            for (const e4 of n2) t3.appendElement("caption", e4);
            return !!n2.length;
          }
        }
        function jm(t3, e3 = true) {
          return (i3, n2, o2) => {
            const r2 = n2.item;
            if ((r2.childCount || e3) && Rh(r2.parent)) {
              if (!o2.consumable.consume(n2.item, "insert")) return;
              const e4 = o2.mapper.toViewElement(n2.range.start.parent), i4 = t3(o2.writer), s4 = o2.writer;
              r2.childCount || s4.addClass("ck-hidden", i4), function(t4, e5, i5, n3) {
                const o3 = n3.writer.createPositionAt(i5, "end");
                n3.writer.insert(o3, t4), n3.mapper.bindElements(e5, t4);
              }(i4, n2.item, e4, o2);
            }
          };
        }
        function Dm(t3) {
          const e3 = t3.getAncestors({ includeSelf: true }).find((t4) => "caption" == t4.name);
          return e3 && e3.parent && "image" == e3.parent.name ? e3 : null;
        }
        function zm(t3, e3) {
          return !t3.childCount && !t3.hasClass("ck-hidden") && (e3.addClass("ck-hidden", t3), true);
        }
        function Bm(t3, e3) {
          return !!t3.hasClass("ck-hidden") && (e3.removeClass("ck-hidden", t3), true);
        }
        i2(71);
        class Vm extends td {
          constructor(t3, e3) {
            super(t3), this.defaultStyle = false, this.styles = e3.reduce((t4, e4) => (t4[e4.name] = e4, e4.isDefault && (this.defaultStyle = e4.name), t4), {});
          }
          refresh() {
            const t3 = this.editor.model.document.selection.getSelectedElement();
            if (this.isEnabled = Rh(t3), t3) if (t3.hasAttribute("imageStyle")) {
              const e3 = t3.getAttribute("imageStyle");
              this.value = !!this.styles[e3] && e3;
            } else this.value = this.defaultStyle;
            else this.value = false;
          }
          execute(t3) {
            const e3 = t3.value, i3 = this.editor.model, n2 = i3.document.selection.getSelectedElement();
            i3.change((t4) => {
              this.styles[e3].isDefault ? t4.removeAttribute("imageStyle", n2) : t4.setAttribute("imageStyle", e3, n2);
            });
          }
        }
        function Fm(t3, e3) {
          for (const i3 of e3) if (i3.name === t3) return i3;
        }
        var Hm = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>', Um = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>', Wm = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>', qm = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>';
        const Ym = { full: { name: "full", title: "Full size image", icon: Hm, isDefault: true }, side: { name: "side", title: "Side image", icon: qm, className: "image-style-side" }, alignLeft: { name: "alignLeft", title: "Left aligned image", icon: Um, className: "image-style-align-left" }, alignCenter: { name: "alignCenter", title: "Centered image", icon: Wm, className: "image-style-align-center" }, alignRight: { name: "alignRight", title: "Right aligned image", icon: qm, className: "image-style-align-right" } }, $m = { full: Hm, left: Um, right: qm, center: Wm };
        function Jm(t3 = []) {
          return t3.map(Gm);
        }
        function Gm(t3) {
          if ("string" == typeof t3) {
            const e3 = t3;
            Ym[e3] ? t3 = Object.assign({}, Ym[e3]) : (console.warn(Object(hi.a)("image-style-not-found: There is no such image style of given name."), { name: e3 }), t3 = { name: e3 });
          } else if (Ym[t3.name]) {
            const e3 = Ym[t3.name], i3 = Object.assign({}, t3);
            for (const n2 in e3) t3.hasOwnProperty(n2) || (i3[n2] = e3[n2]);
            t3 = i3;
          }
          return "string" == typeof t3.icon && $m[t3.icon] && (t3.icon = $m[t3.icon]), t3;
        }
        class Qm extends Jc {
          static get pluginName() {
            return "ImageStyleEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.model.schema, i3 = t3.data, n2 = t3.editing;
            t3.config.define("image.styles", ["full", "side"]);
            const o2 = Jm(t3.config.get("image.styles"));
            e3.extend("image", { allowAttributes: "imageStyle" });
            const r2 = /* @__PURE__ */ function(t4) {
              return (e4, i4, n3) => {
                if (!n3.consumable.consume(i4.item, e4.name)) return;
                const o3 = Fm(i4.attributeNewValue, t4), r3 = Fm(i4.attributeOldValue, t4), s4 = n3.mapper.toViewElement(i4.item), a4 = n3.writer;
                r3 && a4.removeClass(r3.className, s4), o3 && a4.addClass(o3.className, s4);
              };
            }(o2);
            n2.downcastDispatcher.on("attribute:imageStyle:image", r2), i3.downcastDispatcher.on("attribute:imageStyle:image", r2), i3.upcastDispatcher.on("element:figure", function(t4) {
              const e4 = t4.filter((t5) => !t5.isDefault);
              return (t5, i4, n3) => {
                if (!i4.modelRange) return;
                const o3 = i4.viewItem, r3 = gh(i4.modelRange.getItems());
                if (n3.schema.checkAttribute(r3, "imageStyle")) for (const t6 of e4) n3.consumable.consume(o3, { classes: t6.className }) && n3.writer.setAttribute("imageStyle", t6.name, r3);
              };
            }(o2), { priority: "low" }), t3.commands.add("imageStyle", new Vm(t3, o2));
          }
        }
        i2(73);
        class Xm extends Jc {
          static get pluginName() {
            return "ImageStyleUI";
          }
          get localizedDefaultStylesTitles() {
            const t3 = this.editor.t;
            return { "Full size image": t3("Full size image"), "Side image": t3("Side image"), "Left aligned image": t3("Left aligned image"), "Centered image": t3("Centered image"), "Right aligned image": t3("Right aligned image") };
          }
          init() {
            const t3 = function(t4, e3) {
              for (const i3 of t4) e3[i3.title] && (i3.title = e3[i3.title]);
              return t4;
            }(Jm(this.editor.config.get("image.styles")), this.localizedDefaultStylesTitles);
            for (const e3 of t3) this._createButton(e3);
          }
          _createButton(t3) {
            const e3 = this.editor, i3 = "imageStyle:" + t3.name;
            e3.ui.componentFactory.add(i3, (i4) => {
              const n2 = e3.commands.get("imageStyle"), o2 = new Oc(i4);
              return o2.set({ label: t3.title, icon: t3.icon, tooltip: true, isToggleable: true }), o2.bind("isEnabled").to(n2, "isEnabled"), o2.bind("isOn").to(n2, "value", (e4) => e4 === t3.name), this.listenTo(o2, "execute", () => {
                e3.execute("imageStyle", { value: t3.name }), e3.editing.view.focus();
              }), o2;
            });
          }
        }
        class Km extends Jc {
          static get requires() {
            return [tm];
          }
          static get pluginName() {
            return "WidgetToolbarRepository";
          }
          init() {
            const t3 = this.editor;
            if (t3.plugins.has("BalloonToolbar")) {
              const e3 = t3.plugins.get("BalloonToolbar");
              this.listenTo(e3, "show", (e4) => {
                (function(t4) {
                  const e5 = t4.getSelectedElement();
                  return !(!e5 || !Mh(e5));
                })(t3.editing.view.document.selection) && e4.stop();
              }, { priority: "high" });
            }
            this._toolbarDefinitions = /* @__PURE__ */ new Map(), this._balloon = this.editor.plugins.get("ContextualBalloon"), this.on("change:isEnabled", () => {
              this._updateToolbarsVisibility();
            }), this.listenTo(t3.ui, "update", () => {
              this._updateToolbarsVisibility();
            }), this.listenTo(t3.ui.focusTracker, "change:isFocused", () => {
              this._updateToolbarsVisibility();
            }, { priority: "low" });
          }
          destroy() {
            super.destroy();
            for (const t3 of this._toolbarDefinitions.values()) t3.view.destroy();
          }
          register(t3, { ariaLabel: e3, items: i3, getRelatedElement: n2, balloonClassName: o2 = "ck-toolbar-container" }) {
            const r2 = this.editor, s4 = r2.t, a4 = new Hc(r2.locale);
            if (a4.ariaLabel = e3 || s4("Widget toolbar"), this._toolbarDefinitions.has(t3)) throw new hi.b("widget-toolbar-duplicated: Toolbar with the given id was already added.", this, { toolbarId: t3 });
            a4.fillFromConfig(i3, r2.ui.componentFactory), this._toolbarDefinitions.set(t3, { view: a4, getRelatedElement: n2, balloonClassName: o2 });
          }
          _updateToolbarsVisibility() {
            let t3 = 0, e3 = null, i3 = null;
            for (const n2 of this._toolbarDefinitions.values()) {
              const o2 = n2.getRelatedElement(this.editor.editing.view.document.selection);
              if (this.isEnabled && o2) if (this.editor.ui.focusTracker.isFocused) {
                const r2 = o2.getAncestors().length;
                r2 > t3 && (t3 = r2, e3 = o2, i3 = n2);
              } else this._isToolbarVisible(n2) && this._hideToolbar(n2);
              else this._isToolbarInBalloon(n2) && this._hideToolbar(n2);
            }
            i3 && this._showToolbar(i3, e3);
          }
          _hideToolbar(t3) {
            this._balloon.remove(t3.view), this.stopListening(this._balloon, "change:visibleView");
          }
          _showToolbar(t3, e3) {
            this._isToolbarVisible(t3) ? Zm(this.editor, e3) : this._isToolbarInBalloon(t3) || (this._balloon.add({ view: t3.view, position: tg(this.editor, e3), balloonClassName: t3.balloonClassName }), this.listenTo(this._balloon, "change:visibleView", () => {
              for (const t4 of this._toolbarDefinitions.values()) if (this._isToolbarVisible(t4)) {
                const e4 = t4.getRelatedElement(this.editor.editing.view.document.selection);
                Zm(this.editor, e4);
              }
            }));
          }
          _isToolbarVisible(t3) {
            return this._balloon.visibleView === t3.view;
          }
          _isToolbarInBalloon(t3) {
            return this._balloon.hasView(t3.view);
          }
        }
        function Zm(t3, e3) {
          const i3 = t3.plugins.get("ContextualBalloon"), n2 = tg(t3, e3);
          i3.updatePosition(n2);
        }
        function tg(t3, e3) {
          const i3 = t3.editing.view, n2 = Gu.defaultPositions;
          return { target: i3.domConverter.mapViewToDom(e3), positions: [n2.northArrowSouth, n2.northArrowSouthWest, n2.northArrowSouthEast, n2.southArrowNorth, n2.southArrowNorthWest, n2.southArrowNorthEast] };
        }
        class eg extends td {
          constructor(t3) {
            super(t3), this._childCommands = [];
          }
          refresh() {
          }
          execute(...t3) {
            this._getFirstEnabledCommand().execute(t3);
          }
          registerChildCommand(t3) {
            this._childCommands.push(t3), t3.on("change:isEnabled", () => this._checkEnabled()), this._checkEnabled();
          }
          _checkEnabled() {
            this.isEnabled = !!this._getFirstEnabledCommand();
          }
          _getFirstEnabledCommand() {
            return this._childCommands.find((t3) => t3.isEnabled);
          }
        }
        class ig extends Jc {
          static get pluginName() {
            return "IndentEditing";
          }
          init() {
            const t3 = this.editor;
            t3.commands.add("indent", new eg(t3)), t3.commands.add("outdent", new eg(t3));
          }
        }
        var ng = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>', og = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';
        class rg extends Jc {
          static get pluginName() {
            return "IndentUI";
          }
          init() {
            const t3 = this.editor, e3 = t3.locale, i3 = t3.t, n2 = "ltr" == e3.uiLanguageDirection ? ng : og, o2 = "ltr" == e3.uiLanguageDirection ? og : ng;
            this._defineButton("indent", i3("Increase indent"), n2), this._defineButton("outdent", i3("Decrease indent"), o2);
          }
          _defineButton(t3, e3, i3) {
            const n2 = this.editor;
            n2.ui.componentFactory.add(t3, (o2) => {
              const r2 = n2.commands.get(t3), s4 = new Oc(o2);
              return s4.set({ label: e3, icon: i3, tooltip: true }), s4.bind("isOn", "isEnabled").to(r2, "value", "isEnabled"), this.listenTo(s4, "execute", () => {
                n2.execute(t3), n2.editing.view.focus();
              }), s4;
            });
          }
        }
        class sg extends Or {
          constructor(t3) {
            super(t3), this.domEventType = "click";
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
        }
        i2(75);
        class ag extends lc {
          constructor(t3, e3) {
            super(t3);
            const i3 = t3.t;
            this.focusTracker = new Nl(), this.keystrokes = new Al(), this.urlInputView = this._createUrlInput(), this.saveButtonView = this._createButton(i3("Save"), Wu, "ck-button-save"), this.saveButtonView.type = "submit", this.cancelButtonView = this._createButton(i3("Cancel"), qu, "ck-button-cancel", "cancel"), this._manualDecoratorSwitches = this._createManualDecoratorSwitches(e3), this.children = this._createFormChildren(e3.manualDecorators), this._focusables = new Hl(), this._focusCycler = new _c({ focusables: this._focusables, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } });
            const n2 = ["ck", "ck-link-form"];
            e3.manualDecorators.length && n2.push("ck-link-form_layout-vertical"), this.setTemplate({ tag: "form", attributes: { class: n2, tabindex: "-1" }, children: this.children });
          }
          getDecoratorSwitchesState() {
            return Array.from(this._manualDecoratorSwitches).reduce((t3, e3) => (t3[e3.name] = e3.isOn, t3), {});
          }
          render() {
            super.render(), Uu({ view: this });
            [this.urlInputView, ...this._manualDecoratorSwitches, this.saveButtonView, this.cancelButtonView].forEach((t3) => {
              this._focusables.add(t3), this.focusTracker.add(t3.element);
            }), this.keystrokes.listenTo(this.element);
          }
          focus() {
            this._focusCycler.focusFirst();
          }
          _createUrlInput() {
            const t3 = this.locale.t, e3 = new Vu(this.locale, Hu);
            return e3.label = t3("Link URL"), e3.fieldView.placeholder = "https://example.com", e3;
          }
          _createButton(t3, e3, i3, n2) {
            const o2 = new Oc(this.locale);
            return o2.set({ label: t3, icon: e3, tooltip: true }), o2.extendTemplate({ attributes: { class: i3 } }), n2 && o2.delegate("execute").to(this, n2), o2;
          }
          _createManualDecoratorSwitches(t3) {
            const e3 = this.createCollection();
            for (const i3 of t3.manualDecorators) {
              const n2 = new zc(this.locale);
              n2.set({ name: i3.id, label: i3.label, withText: true }), n2.bind("isOn").toMany([i3, t3], "value", (t4, e4) => void 0 === e4 && void 0 === t4 ? i3.defaultValue : t4), n2.on("execute", () => {
                i3.set("value", !n2.isOn);
              }), e3.add(n2);
            }
            return e3;
          }
          _createFormChildren(t3) {
            const e3 = this.createCollection();
            if (e3.add(this.urlInputView), t3.length) {
              const t4 = new lc();
              t4.setTemplate({ tag: "ul", children: this._manualDecoratorSwitches.map((t5) => ({ tag: "li", children: [t5], attributes: { class: ["ck", "ck-list__item"] } })), attributes: { class: ["ck", "ck-reset", "ck-list"] } }), e3.add(t4);
            }
            return e3.add(this.saveButtonView), e3.add(this.cancelButtonView), e3;
          }
        }
        i2(77);
        class lg extends lc {
          constructor(t3) {
            super(t3);
            const e3 = t3.t;
            this.focusTracker = new Nl(), this.keystrokes = new Al(), this.previewButtonView = this._createPreviewButton(), this.unlinkButtonView = this._createButton(e3("Unlink"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>', "unlink"), this.editButtonView = this._createButton(e3("Edit link"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>', "edit"), this.set("href"), this._focusables = new Hl(), this._focusCycler = new _c({ focusables: this._focusables, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-link-actions"], tabindex: "-1" }, children: [this.previewButtonView, this.editButtonView, this.unlinkButtonView] });
          }
          render() {
            super.render();
            [this.previewButtonView, this.editButtonView, this.unlinkButtonView].forEach((t3) => {
              this._focusables.add(t3), this.focusTracker.add(t3.element);
            }), this.keystrokes.listenTo(this.element);
          }
          focus() {
            this._focusCycler.focusFirst();
          }
          _createButton(t3, e3, i3) {
            const n2 = new Oc(this.locale);
            return n2.set({ label: t3, icon: e3, tooltip: true }), n2.delegate("execute").to(this, i3), n2;
          }
          _createPreviewButton() {
            const t3 = new Oc(this.locale), e3 = this.bindTemplate, i3 = this.t;
            return t3.set({ withText: true, tooltip: i3("Open link in new tab") }), t3.extendTemplate({ attributes: { class: ["ck", "ck-link-actions__preview"], href: e3.to("href", (t4) => t4 && uu(t4)), target: "_blank", rel: "noopener noreferrer" } }), t3.bind("label").to(this, "href", (t4) => t4 || i3("This link has no URL")), t3.bind("isEnabled").to(this, "href", (t4) => !!t4), t3.template.tag = "a", t3.template.eventListeners = {}, t3;
          }
        }
        class cg extends Jc {
          static get requires() {
            return [tm];
          }
          static get pluginName() {
            return "LinkUI";
          }
          init() {
            const t3 = this.editor;
            t3.editing.view.addObserver(sg), this.actionsView = this._createActionsView(), this.formView = this._createFormView(), this._balloon = t3.plugins.get(tm), this._createToolbarLinkButton(), this._enableUserBalloonInteractions();
          }
          destroy() {
            super.destroy(), this.formView.destroy();
          }
          _createActionsView() {
            const t3 = this.editor, e3 = new lg(t3.locale), i3 = t3.commands.get("link"), n2 = t3.commands.get("unlink");
            return e3.bind("href").to(i3, "value"), e3.editButtonView.bind("isEnabled").to(i3), e3.unlinkButtonView.bind("isEnabled").to(n2), this.listenTo(e3, "edit", () => {
              this._addFormView();
            }), this.listenTo(e3, "unlink", () => {
              t3.execute("unlink"), this._hideUI();
            }), e3.keystrokes.set("Esc", (t4, e4) => {
              this._hideUI(), e4();
            }), e3.keystrokes.set("Ctrl+K", (t4, e4) => {
              this._addFormView(), e4();
            }), e3;
          }
          _createFormView() {
            const t3 = this.editor, e3 = t3.commands.get("link"), i3 = new ag(t3.locale, e3);
            return i3.urlInputView.fieldView.bind("value").to(e3, "value"), i3.urlInputView.bind("isReadOnly").to(e3, "isEnabled", (t4) => !t4), i3.saveButtonView.bind("isEnabled").to(e3), this.listenTo(i3, "submit", () => {
              t3.execute("link", i3.urlInputView.fieldView.element.value, i3.getDecoratorSwitchesState()), this._closeFormView();
            }), this.listenTo(i3, "cancel", () => {
              this._closeFormView();
            }), i3.keystrokes.set("Esc", (t4, e4) => {
              this._closeFormView(), e4();
            }), i3;
          }
          _createToolbarLinkButton() {
            const t3 = this.editor, e3 = t3.commands.get("link"), i3 = t3.t;
            t3.keystrokes.set("Ctrl+K", (t4, e4) => {
              e4(), this._showUI(true);
            }), t3.ui.componentFactory.add("link", (t4) => {
              const n2 = new Oc(t4);
              return n2.isEnabled = true, n2.label = i3("Link"), n2.icon = '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>', n2.keystroke = "Ctrl+K", n2.tooltip = true, n2.isToggleable = true, n2.bind("isEnabled").to(e3, "isEnabled"), n2.bind("isOn").to(e3, "value", (t5) => !!t5), this.listenTo(n2, "execute", () => this._showUI(true)), n2;
            });
          }
          _enableUserBalloonInteractions() {
            const t3 = this.editor.editing.view.document;
            this.listenTo(t3, "click", () => {
              this._getSelectedLinkElement() && this._showUI();
            }), this.editor.keystrokes.set("Tab", (t4, e3) => {
              this._areActionsVisible && !this.actionsView.focusTracker.isFocused && (this.actionsView.focus(), e3());
            }, { priority: "high" }), this.editor.keystrokes.set("Esc", (t4, e3) => {
              this._isUIVisible && (this._hideUI(), e3());
            }), Bc({ emitter: this.formView, activator: () => this._isUIInPanel, contextElements: [this._balloon.view.element], callback: () => this._hideUI() });
          }
          _addActionsView() {
            this._areActionsInPanel || this._balloon.add({ view: this.actionsView, position: this._getBalloonPositionData() });
          }
          _addFormView() {
            if (this._isFormInPanel) return;
            const t3 = this.editor.commands.get("link");
            this._balloon.add({ view: this.formView, position: this._getBalloonPositionData() }), this._balloon.visibleView === this.formView && this.formView.urlInputView.fieldView.select(), this.formView.urlInputView.fieldView.element.value = t3.value || "";
          }
          _closeFormView() {
            const t3 = this.editor.commands.get("link");
            t3.restoreManualDecoratorStates(), void 0 !== t3.value ? this._removeFormView() : this._hideUI();
          }
          _removeFormView() {
            this._isFormInPanel && (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus());
          }
          _showUI(t3 = false) {
            this._getSelectedLinkElement() ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), t3 && this._balloon.showStack("main")) : (this._addActionsView(), t3 && this._balloon.showStack("main"), this._addFormView()), this._startUpdatingUI();
          }
          _hideUI() {
            if (!this._isUIInPanel) return;
            const t3 = this.editor;
            this.stopListening(t3.ui, "update"), this.stopListening(this._balloon, "change:visibleView"), t3.editing.view.focus(), this._removeFormView(), this._balloon.remove(this.actionsView);
          }
          _startUpdatingUI() {
            const t3 = this.editor, e3 = t3.editing.view.document;
            let i3 = this._getSelectedLinkElement(), n2 = r2();
            const o2 = () => {
              const t4 = this._getSelectedLinkElement(), e4 = r2();
              i3 && !t4 || !i3 && e4 !== n2 ? this._hideUI() : this._isUIVisible && this._balloon.updatePosition(this._getBalloonPositionData()), i3 = t4, n2 = e4;
            };
            function r2() {
              return e3.selection.focus.getAncestors().reverse().find((t4) => t4.is("element"));
            }
            this.listenTo(t3.ui, "update", o2), this.listenTo(this._balloon, "change:visibleView", o2);
          }
          get _isFormInPanel() {
            return this._balloon.hasView(this.formView);
          }
          get _areActionsInPanel() {
            return this._balloon.hasView(this.actionsView);
          }
          get _areActionsVisible() {
            return this._balloon.visibleView === this.actionsView;
          }
          get _isUIInPanel() {
            return this._isFormInPanel || this._areActionsInPanel;
          }
          get _isUIVisible() {
            return this._balloon.visibleView == this.formView || this._areActionsVisible;
          }
          _getBalloonPositionData() {
            const t3 = this.editor.editing.view, e3 = t3.document, i3 = this._getSelectedLinkElement();
            return { target: i3 ? t3.domConverter.mapViewToDom(i3) : t3.domConverter.viewRangeToDom(e3.selection.getFirstRange()) };
          }
          _getSelectedLinkElement() {
            const t3 = this.editor.editing.view, e3 = t3.document.selection;
            if (e3.isCollapsed) return dg(e3.getFirstPosition());
            {
              const i3 = e3.getFirstRange().getTrimmed(), n2 = dg(i3.start), o2 = dg(i3.end);
              return n2 && n2 == o2 && t3.createRangeIn(n2).getTrimmed().isEqual(i3) ? n2 : null;
            }
          }
        }
        function dg(t3) {
          return t3.getAncestors().find((t4) => {
            return (e3 = t4).is("attributeElement") && !!e3.getCustomProperty("link");
            var e3;
          });
        }
        class hg extends td {
          constructor(t3, e3) {
            super(t3), this.type = e3;
          }
          refresh() {
            this.value = this._getValue(), this.isEnabled = this._checkEnabled();
          }
          execute() {
            const t3 = this.editor.model, e3 = t3.document, i3 = Array.from(e3.selection.getSelectedBlocks()).filter((e4) => mg(e4, t3.schema)), n2 = true === this.value;
            t3.change((t4) => {
              if (n2) {
                let e4 = i3[i3.length - 1].nextSibling, n3 = Number.POSITIVE_INFINITY, o2 = [];
                for (; e4 && "listItem" == e4.name && 0 !== e4.getAttribute("listIndent"); ) {
                  const t5 = e4.getAttribute("listIndent");
                  t5 < n3 && (n3 = t5);
                  const i4 = t5 - n3;
                  o2.push({ element: e4, listIndent: i4 }), e4 = e4.nextSibling;
                }
                o2 = o2.reverse();
                for (const e5 of o2) t4.setAttribute("listIndent", e5.listIndent, e5.element);
              }
              if (!n2) {
                let t5 = Number.POSITIVE_INFINITY;
                for (const e4 of i3) e4.is("listItem") && e4.getAttribute("listIndent") < t5 && (t5 = e4.getAttribute("listIndent"));
                t5 = 0 === t5 ? 1 : t5, ug(i3, true, t5), ug(i3, false, t5);
              }
              for (const e4 of i3.reverse()) n2 && "listItem" == e4.name ? t4.rename(e4, "paragraph") : n2 || "listItem" == e4.name ? n2 || "listItem" != e4.name || e4.getAttribute("listType") == this.type || t4.setAttribute("listType", this.type, e4) : (t4.setAttributes({ listType: this.type, listIndent: 0 }, e4), t4.rename(e4, "listItem"));
            });
          }
          _getValue() {
            const t3 = gh(this.editor.model.document.selection.getSelectedBlocks());
            return !!t3 && t3.is("listItem") && t3.getAttribute("listType") == this.type;
          }
          _checkEnabled() {
            if (this.value) return true;
            const t3 = this.editor.model.document.selection, e3 = this.editor.model.schema, i3 = gh(t3.getSelectedBlocks());
            return !!i3 && mg(i3, e3);
          }
        }
        function ug(t3, e3, i3) {
          const n2 = e3 ? t3[0] : t3[t3.length - 1];
          if (n2.is("listItem")) {
            let o2 = n2[e3 ? "previousSibling" : "nextSibling"], r2 = n2.getAttribute("listIndent");
            for (; o2 && o2.is("listItem") && o2.getAttribute("listIndent") >= i3; ) r2 > o2.getAttribute("listIndent") && (r2 = o2.getAttribute("listIndent")), o2.getAttribute("listIndent") == r2 && t3[e3 ? "unshift" : "push"](o2), o2 = o2[e3 ? "previousSibling" : "nextSibling"];
          }
        }
        function mg(t3, e3) {
          return e3.checkChild(t3.parent, "listItem") && !e3.isObject(t3);
        }
        class gg extends td {
          constructor(t3, e3) {
            super(t3), this._indentBy = "forward" == e3 ? 1 : -1;
          }
          refresh() {
            this.isEnabled = this._checkEnabled();
          }
          execute() {
            const t3 = this.editor.model, e3 = t3.document;
            let i3 = Array.from(e3.selection.getSelectedBlocks());
            t3.change((t4) => {
              const e4 = i3[i3.length - 1];
              let n2 = e4.nextSibling;
              for (; n2 && "listItem" == n2.name && n2.getAttribute("listIndent") > e4.getAttribute("listIndent"); ) i3.push(n2), n2 = n2.nextSibling;
              this._indentBy < 0 && (i3 = i3.reverse());
              for (const e5 of i3) {
                const i4 = e5.getAttribute("listIndent") + this._indentBy;
                i4 < 0 ? t4.rename(e5, "paragraph") : t4.setAttribute("listIndent", i4, e5);
              }
            });
          }
          _checkEnabled() {
            const t3 = gh(this.editor.model.document.selection.getSelectedBlocks());
            if (!t3 || !t3.is("listItem")) return false;
            if (this._indentBy > 0) {
              const e3 = t3.getAttribute("listIndent"), i3 = t3.getAttribute("listType");
              let n2 = t3.previousSibling;
              for (; n2 && n2.is("listItem") && n2.getAttribute("listIndent") >= e3; ) {
                if (n2.getAttribute("listIndent") == e3) return n2.getAttribute("listType") == i3;
                n2 = n2.previousSibling;
              }
              return false;
            }
            return true;
          }
        }
        function fg(t3, e3) {
          const i3 = e3.mapper, n2 = e3.writer, o2 = "numbered" == t3.getAttribute("listType") ? "ol" : "ul", r2 = function(t4) {
            const e4 = t4.createContainerElement("li");
            return e4.getFillerOffset = vg, e4;
          }(n2), s4 = n2.createContainerElement(o2, null);
          return n2.insert(n2.createPositionAt(s4, 0), r2), i3.bindElements(t3, r2), r2;
        }
        function pg(t3, e3, i3, n2) {
          const o2 = e3.parent, r2 = i3.mapper, s4 = i3.writer;
          let a4 = r2.toViewPosition(n2.createPositionBefore(t3));
          const l2 = _g(t3.previousSibling, { sameIndent: true, smallerIndent: true, listIndent: t3.getAttribute("listIndent") }), c3 = t3.previousSibling;
          if (l2 && l2.getAttribute("listIndent") == t3.getAttribute("listIndent")) {
            const t4 = r2.toViewElement(l2);
            a4 = s4.breakContainer(s4.createPositionAfter(t4));
          } else a4 = c3 && "listItem" == c3.name ? r2.toViewPosition(n2.createPositionAt(c3, "end")) : r2.toViewPosition(n2.createPositionBefore(t3));
          if (a4 = wg(a4), s4.insert(a4, o2), c3 && "listItem" == c3.name) {
            const t4 = r2.toViewElement(c3), i4 = s4.createRange(s4.createPositionAt(t4, 0), a4).getWalker({ ignoreElementEnd: true });
            for (const t5 of i4) if (t5.item.is("li")) {
              const n3 = s4.breakContainer(s4.createPositionBefore(t5.item)), o3 = t5.item.parent, r3 = s4.createPositionAt(e3, "end");
              bg(s4, r3.nodeBefore, r3.nodeAfter), s4.move(s4.createRangeOn(o3), r3), i4.position = n3;
            }
          } else {
            const i4 = o2.nextSibling;
            if (i4 && (i4.is("ul") || i4.is("ol"))) {
              let n3 = null;
              for (const e4 of i4.getChildren()) {
                const i5 = r2.toModelElement(e4);
                if (!(i5 && i5.getAttribute("listIndent") > t3.getAttribute("listIndent"))) break;
                n3 = e4;
              }
              n3 && (s4.breakContainer(s4.createPositionAfter(n3)), s4.move(s4.createRangeOn(n3.parent), s4.createPositionAt(e3, "end")));
            }
          }
          bg(s4, o2, o2.nextSibling), bg(s4, o2.previousSibling, o2);
        }
        function bg(t3, e3, i3) {
          return !e3 || !i3 || "ul" != e3.name && "ol" != e3.name || e3.name != i3.name || e3.getAttribute("class") !== i3.getAttribute("class") ? null : t3.mergeContainers(t3.createPositionAfter(e3));
        }
        function wg(t3) {
          return t3.getLastMatchingPosition((t4) => t4.item.is("uiElement"));
        }
        function _g(t3, e3) {
          const i3 = !!e3.sameIndent, n2 = !!e3.smallerIndent, o2 = e3.listIndent;
          let r2 = t3;
          for (; r2 && "listItem" == r2.name; ) {
            const t4 = r2.getAttribute("listIndent");
            if (i3 && o2 == t4 || n2 && o2 > t4) return r2;
            r2 = r2.previousSibling;
          }
          return null;
        }
        function kg(t3, e3, i3, n2) {
          t3.ui.componentFactory.add(e3, (o2) => {
            const r2 = t3.commands.get(e3), s4 = new Oc(o2);
            return s4.set({ label: i3, icon: n2, tooltip: true, isToggleable: true }), s4.bind("isOn", "isEnabled").to(r2, "value", "isEnabled"), s4.on("execute", () => {
              t3.execute(e3), t3.editing.view.focus();
            }), s4;
          });
        }
        function vg() {
          const t3 = !this.isEmpty && ("ul" == this.getChild(0).name || "ol" == this.getChild(0).name);
          return this.isEmpty || t3 ? 0 : jn.call(this);
        }
        function yg(t3) {
          return (e3, i3, n2) => {
            const o2 = n2.consumable;
            if (!o2.test(i3.item, "insert") || !o2.test(i3.item, "attribute:listType") || !o2.test(i3.item, "attribute:listIndent")) return;
            o2.consume(i3.item, "insert"), o2.consume(i3.item, "attribute:listType"), o2.consume(i3.item, "attribute:listIndent");
            const r2 = i3.item;
            pg(r2, fg(r2, n2), n2, t3);
          };
        }
        function xg(t3, e3, i3) {
          if (!i3.consumable.consume(e3.item, "attribute:listType")) return;
          const n2 = i3.mapper.toViewElement(e3.item), o2 = i3.writer;
          o2.breakContainer(o2.createPositionBefore(n2)), o2.breakContainer(o2.createPositionAfter(n2));
          const r2 = n2.parent, s4 = "numbered" == e3.attributeNewValue ? "ol" : "ul";
          o2.rename(s4, r2);
        }
        function Ag(t3, e3, i3) {
          const n2 = i3.mapper.toViewElement(e3.item).parent, o2 = i3.writer;
          bg(o2, n2, n2.nextSibling), bg(o2, n2.previousSibling, n2);
          for (const t4 of e3.item.getChildren()) i3.consumable.consume(t4, "insert");
        }
        function Cg(t3, e3, i3) {
          if ("listItem" != e3.item.name) {
            let t4 = i3.mapper.toViewPosition(e3.range.start);
            const n2 = i3.writer, o2 = [];
            for (; ("ul" == t4.parent.name || "ol" == t4.parent.name) && (t4 = n2.breakContainer(t4), "li" == t4.parent.name); ) {
              const e4 = t4, i4 = n2.createPositionAt(t4.parent, "end");
              if (!e4.isEqual(i4)) {
                const t5 = n2.remove(n2.createRange(e4, i4));
                o2.push(t5);
              }
              t4 = n2.createPositionAfter(t4.parent);
            }
            if (o2.length > 0) {
              for (let e4 = 0; e4 < o2.length; e4++) {
                const i4 = t4.nodeBefore;
                if (t4 = n2.insert(t4, o2[e4]).end, e4 > 0) {
                  const e5 = bg(n2, i4, i4.nextSibling);
                  e5 && e5.parent == i4 && t4.offset--;
                }
              }
              bg(n2, t4.nodeBefore, t4.nodeAfter);
            }
          }
        }
        function Tg(t3, e3, i3) {
          const n2 = i3.mapper.toViewPosition(e3.position), o2 = n2.nodeBefore, r2 = n2.nodeAfter;
          bg(i3.writer, o2, r2);
        }
        function Mg(t3, e3, i3) {
          if (i3.consumable.consume(e3.viewItem, { name: true })) {
            const t4 = i3.writer, n2 = t4.createElement("listItem"), o2 = function(t5) {
              let e4 = 0, i4 = t5.parent;
              for (; i4; ) {
                if (i4.is("li")) e4++;
                else {
                  const t6 = i4.previousSibling;
                  t6 && t6.is("li") && e4++;
                }
                i4 = i4.parent;
              }
              return e4;
            }(e3.viewItem);
            t4.setAttribute("listIndent", o2, n2);
            const r2 = e3.viewItem.parent && "ol" == e3.viewItem.parent.name ? "numbered" : "bulleted";
            t4.setAttribute("listType", r2, n2);
            const s4 = i3.splitToAllowedParent(n2, e3.modelCursor);
            if (!s4) return;
            t4.insert(n2, s4.position);
            const a4 = function(t5, e4, i4) {
              const { writer: n3, schema: o3 } = i4;
              let r3 = n3.createPositionAfter(t5);
              for (const s5 of e4) if ("ul" == s5.name || "ol" == s5.name) r3 = i4.convertItem(s5, r3).modelCursor;
              else {
                const e5 = i4.convertItem(s5, n3.createPositionAt(t5, "end")), a5 = e5.modelRange.start.nodeAfter;
                a5 && a5.is("element") && !o3.checkChild(t5, a5.name) && (t5 = e5.modelCursor.parent.is("listItem") ? e5.modelCursor.parent : Og(e5.modelCursor), r3 = n3.createPositionAfter(t5));
              }
              return r3;
            }(n2, e3.viewItem.getChildren(), i3);
            e3.modelRange = t4.createRange(e3.modelCursor, a4), s4.cursorParent ? e3.modelCursor = t4.createPositionAt(s4.cursorParent, 0) : e3.modelCursor = e3.modelRange.end;
          }
        }
        function Eg(t3, e3, i3) {
          if (i3.consumable.test(e3.viewItem, { name: true })) {
            const t4 = Array.from(e3.viewItem.getChildren());
            for (const e4 of t4) {
              !(e4.is("li") || Rg(e4)) && e4._remove();
            }
          }
        }
        function Pg(t3, e3, i3) {
          if (i3.consumable.test(e3.viewItem, { name: true })) {
            if (0 === e3.viewItem.childCount) return;
            const t4 = [...e3.viewItem.getChildren()];
            let i4 = false, n2 = true;
            for (const e4 of t4) i4 && !Rg(e4) && e4._remove(), e4.is("text") ? (n2 && (e4._data = e4.data.replace(/^\s+/, "")), e4.nextSibling && !Rg(e4.nextSibling) || (e4._data = e4.data.replace(/\s+$/, ""))) : Rg(e4) && (i4 = true), n2 = false;
          }
        }
        function Sg(t3) {
          return (e3, i3) => {
            if (i3.isPhantom) return;
            const n2 = i3.modelPosition.nodeBefore;
            if (n2 && n2.is("listItem")) {
              const e4 = i3.mapper.toViewElement(n2), o2 = e4.getAncestors().find(Rg), r2 = t3.createPositionAt(e4, 0).getWalker();
              for (const t4 of r2) {
                if ("elementStart" == t4.type && t4.item.is("li")) {
                  i3.viewPosition = t4.previousPosition;
                  break;
                }
                if ("elementEnd" == t4.type && t4.item == o2) {
                  i3.viewPosition = t4.nextPosition;
                  break;
                }
              }
            }
          };
        }
        function Ig(t3, [e3, i3]) {
          let n2, o2 = e3.is("documentFragment") ? e3.getChild(0) : e3;
          if (n2 = i3 ? this.createSelection(i3) : this.document.selection, o2 && o2.is("listItem")) {
            const t4 = n2.getFirstPosition();
            let e4 = null;
            if (t4.parent.is("listItem") ? e4 = t4.parent : t4.nodeBefore && t4.nodeBefore.is("listItem") && (e4 = t4.nodeBefore), e4) {
              const t5 = e4.getAttribute("listIndent");
              if (t5 > 0) for (; o2 && o2.is("listItem"); ) o2._setAttribute("listIndent", o2.getAttribute("listIndent") + t5), o2 = o2.nextSibling;
            }
          }
        }
        function Og(t3) {
          const e3 = new bs({ startPosition: t3 });
          let i3;
          do {
            i3 = e3.next();
          } while (!i3.value.item.is("listItem"));
          return i3.value.item;
        }
        function Ng(t3, e3, i3, n2, o2, r2) {
          const s4 = _g(e3.nodeBefore, { sameIndent: true, smallerIndent: true, listIndent: t3, foo: "b" }), a4 = o2.mapper, l2 = o2.writer, c3 = s4 ? s4.getAttribute("listIndent") : null;
          let d4;
          if (s4) if (c3 == t3) {
            const t4 = a4.toViewElement(s4).parent;
            d4 = l2.createPositionAfter(t4);
          } else {
            const t4 = r2.createPositionAt(s4, "end");
            d4 = a4.toViewPosition(t4);
          }
          else d4 = i3;
          d4 = wg(d4);
          for (const t4 of [...n2.getChildren()]) Rg(t4) && (d4 = l2.move(l2.createRangeOn(t4), d4).end, bg(l2, t4, t4.nextSibling), bg(l2, t4.previousSibling, t4));
        }
        function Rg(t3) {
          return t3.is("ol") || t3.is("ul");
        }
        class Lg extends Jc {
          static get pluginName() {
            return "ListEditing";
          }
          static get requires() {
            return [Cm];
          }
          init() {
            const t3 = this.editor;
            t3.model.schema.register("listItem", { inheritAllFrom: "$block", allowAttributes: ["listType", "listIndent"] });
            const e3 = t3.data, i3 = t3.editing;
            var n2;
            t3.model.document.registerPostFixer((e4) => function(t4, e5) {
              const i4 = t4.document.differ.getChanges(), n3 = /* @__PURE__ */ new Map();
              let o3 = false;
              for (const n4 of i4) if ("insert" == n4.type && "listItem" == n4.name) r3(n4.position);
              else if ("insert" == n4.type && "listItem" != n4.name) {
                if ("$text" != n4.name) {
                  const i5 = n4.position.nodeAfter;
                  i5.hasAttribute("listIndent") && (e5.removeAttribute("listIndent", i5), o3 = true), i5.hasAttribute("listType") && (e5.removeAttribute("listType", i5), o3 = true);
                  for (const e6 of Array.from(t4.createRangeIn(i5)).filter((t5) => t5.item.is("listItem"))) r3(e6.previousPosition);
                }
                r3(n4.position.getShiftedBy(n4.length));
              } else "remove" == n4.type && "listItem" == n4.name ? r3(n4.position) : ("attribute" == n4.type && "listIndent" == n4.attributeKey || "attribute" == n4.type && "listType" == n4.attributeKey) && r3(n4.range.start);
              for (const t5 of n3.values()) s4(t5), a4(t5);
              return o3;
              function r3(t5) {
                const e6 = t5.nodeBefore;
                if (e6 && e6.is("listItem")) {
                  let t6 = e6;
                  if (n3.has(t6)) return;
                  for (let e7 = t6.previousSibling; e7 && e7.is("listItem"); e7 = t6.previousSibling) if (t6 = e7, n3.has(t6)) return;
                  n3.set(e6, t6);
                } else {
                  const e7 = t5.nodeAfter;
                  e7 && e7.is("listItem") && n3.set(e7, e7);
                }
              }
              function s4(t5) {
                let i5 = 0, n4 = null;
                for (; t5 && t5.is("listItem"); ) {
                  const r4 = t5.getAttribute("listIndent");
                  if (r4 > i5) {
                    let s5;
                    null === n4 ? (n4 = r4 - i5, s5 = i5) : (n4 > r4 && (n4 = r4), s5 = r4 - n4), e5.setAttribute("listIndent", s5, t5), o3 = true;
                  } else n4 = null, i5 = t5.getAttribute("listIndent") + 1;
                  t5 = t5.nextSibling;
                }
              }
              function a4(t5) {
                let i5 = [], n4 = null;
                for (; t5 && t5.is("listItem"); ) {
                  const r4 = t5.getAttribute("listIndent");
                  if (n4 && n4.getAttribute("listIndent") > r4 && (i5 = i5.slice(0, r4 + 1)), 0 != r4) if (i5[r4]) {
                    const n5 = i5[r4];
                    t5.getAttribute("listType") != n5 && (e5.setAttribute("listType", n5, t5), o3 = true);
                  } else i5[r4] = t5.getAttribute("listType");
                  n4 = t5, t5 = t5.nextSibling;
                }
              }
            }(t3.model, e4)), i3.mapper.registerViewToModelLength("li", jg), e3.mapper.registerViewToModelLength("li", jg), i3.mapper.on("modelToViewPosition", Sg(i3.view)), i3.mapper.on("viewToModelPosition", (n2 = t3.model, (t4, e4) => {
              const i4 = e4.viewPosition, o3 = i4.parent, r3 = e4.mapper;
              if ("ul" == o3.name || "ol" == o3.name) {
                if (i4.isAtEnd) {
                  const t5 = r3.toModelElement(i4.nodeBefore), o4 = r3.getModelLength(i4.nodeBefore);
                  e4.modelPosition = n2.createPositionBefore(t5).getShiftedBy(o4);
                } else {
                  const t5 = r3.toModelElement(i4.nodeAfter);
                  e4.modelPosition = n2.createPositionBefore(t5);
                }
                t4.stop();
              } else if ("li" == o3.name && i4.nodeBefore && ("ul" == i4.nodeBefore.name || "ol" == i4.nodeBefore.name)) {
                const s4 = r3.toModelElement(o3);
                let a4 = 1, l2 = i4.nodeBefore;
                for (; l2 && Rg(l2); ) a4 += r3.getModelLength(l2), l2 = l2.previousSibling;
                e4.modelPosition = n2.createPositionBefore(s4).getShiftedBy(a4), t4.stop();
              }
            })), e3.mapper.on("modelToViewPosition", Sg(i3.view)), t3.conversion.for("editingDowncast").add((e4) => {
              e4.on("insert", Cg, { priority: "high" }), e4.on("insert:listItem", yg(t3.model)), e4.on("attribute:listType:listItem", xg, { priority: "high" }), e4.on("attribute:listType:listItem", Ag, { priority: "low" }), e4.on("attribute:listIndent:listItem", /* @__PURE__ */ function(t4) {
                return (e5, i4, n3) => {
                  if (!n3.consumable.consume(i4.item, "attribute:listIndent")) return;
                  const o3 = n3.mapper.toViewElement(i4.item), r3 = n3.writer;
                  r3.breakContainer(r3.createPositionBefore(o3)), r3.breakContainer(r3.createPositionAfter(o3));
                  const s4 = o3.parent, a4 = s4.previousSibling, l2 = r3.createRangeOn(s4);
                  r3.remove(l2), a4 && a4.nextSibling && bg(r3, a4, a4.nextSibling), Ng(i4.attributeOldValue + 1, i4.range.start, l2.start, o3, n3, t4), pg(i4.item, o3, n3, t4);
                  for (const t5 of i4.item.getChildren()) n3.consumable.consume(t5, "insert");
                };
              }(t3.model)), e4.on("remove:listItem", /* @__PURE__ */ function(t4) {
                return (e5, i4, n3) => {
                  const o3 = n3.mapper.toViewPosition(i4.position).getLastMatchingPosition((t5) => !t5.item.is("li")).nodeAfter, r3 = n3.writer;
                  r3.breakContainer(r3.createPositionBefore(o3)), r3.breakContainer(r3.createPositionAfter(o3));
                  const s4 = o3.parent, a4 = s4.previousSibling, l2 = r3.createRangeOn(s4), c3 = r3.remove(l2);
                  a4 && a4.nextSibling && bg(r3, a4, a4.nextSibling);
                  Ng(n3.mapper.toModelElement(o3).getAttribute("listIndent") + 1, i4.position, l2.start, o3, n3, t4);
                  for (const t5 of r3.createRangeIn(c3).getItems()) n3.mapper.unbindViewElement(t5);
                  e5.stop();
                };
              }(t3.model)), e4.on("remove", Tg, { priority: "low" });
            }), t3.conversion.for("dataDowncast").add((e4) => {
              e4.on("insert", Cg, { priority: "high" }), e4.on("insert:listItem", yg(t3.model));
            }), t3.conversion.for("upcast").add((t4) => {
              t4.on("element:ul", Eg, { priority: "high" }), t4.on("element:ol", Eg, { priority: "high" }), t4.on("element:li", Pg, { priority: "high" }), t4.on("element:li", Mg);
            }), t3.model.on("insertContent", Ig, { priority: "high" }), t3.commands.add("numberedList", new hg(t3, "numbered")), t3.commands.add("bulletedList", new hg(t3, "bulleted")), t3.commands.add("indentList", new gg(t3, "forward")), t3.commands.add("outdentList", new gg(t3, "backward"));
            const o2 = i3.view.document;
            this.listenTo(o2, "enter", (t4, e4) => {
              const i4 = this.editor.model.document, n3 = i4.selection.getLastPosition().parent;
              i4.selection.isCollapsed && "listItem" == n3.name && n3.isEmpty && (this.editor.execute("outdentList"), e4.preventDefault(), t4.stop());
            }), this.listenTo(o2, "delete", (t4, e4) => {
              if ("backward" !== e4.direction) return;
              const i4 = this.editor.model.document.selection;
              if (!i4.isCollapsed) return;
              const n3 = i4.getFirstPosition();
              if (!n3.isAtStart) return;
              const o3 = n3.parent;
              if ("listItem" !== o3.name) return;
              o3.previousSibling && "listItem" === o3.previousSibling.name || (this.editor.execute("outdentList"), e4.preventDefault(), t4.stop());
            }, { priority: "high" });
            const r2 = (t4) => (e4, i4) => {
              this.editor.commands.get(t4).isEnabled && (this.editor.execute(t4), i4());
            };
            t3.keystrokes.set("Tab", r2("indentList")), t3.keystrokes.set("Shift+Tab", r2("outdentList"));
          }
          afterInit() {
            const t3 = this.editor.commands, e3 = t3.get("indent"), i3 = t3.get("outdent");
            e3 && e3.registerChildCommand(t3.get("indentList")), i3 && i3.registerChildCommand(t3.get("outdentList"));
          }
        }
        function jg(t3) {
          let e3 = 1;
          for (const i3 of t3.getChildren()) if ("ul" == i3.name || "ol" == i3.name) for (const t4 of i3.getChildren()) e3 += jg(t4);
          return e3;
        }
        class Dg extends Jc {
          init() {
            const t3 = this.editor.t;
            kg(this.editor, "numberedList", t3("Numbered List"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'), kg(this.editor, "bulletedList", t3("Bulleted List"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>');
          }
        }
        function zg(t3, e3) {
          return (t4) => {
            t4.on("attribute:url:media", i3);
          };
          function i3(i4, n2, o2) {
            if (!o2.consumable.consume(n2.item, i4.name)) return;
            const r2 = n2.attributeNewValue, s4 = o2.writer, a4 = o2.mapper.toViewElement(n2.item);
            s4.remove(s4.createRangeIn(a4));
            const l2 = t3.getMediaViewElement(s4, r2, e3);
            s4.insert(s4.createPositionAt(a4, 0), l2);
          }
        }
        function Bg(t3, e3, i3, n2) {
          const o2 = t3.createContainerElement("figure", { class: "media" });
          return o2.getFillerOffset = Hg, t3.insert(t3.createPositionAt(o2, 0), e3.getMediaViewElement(t3, i3, n2)), o2;
        }
        function Vg(t3) {
          const e3 = t3.getSelectedElement();
          return e3 && e3.is("media") ? e3 : null;
        }
        function Fg(t3, e3, i3) {
          t3.change((n2) => {
            const o2 = n2.createElement("media", { url: e3 });
            t3.insertContent(o2, i3), n2.setSelection(o2, "on");
          });
        }
        function Hg() {
          return null;
        }
        class Ug extends td {
          refresh() {
            const t3 = this.editor.model, e3 = t3.document.selection, i3 = t3.schema, n2 = e3.getFirstPosition(), o2 = Vg(e3);
            let r2 = n2.parent;
            r2 != r2.root && (r2 = r2.parent), this.value = o2 ? o2.getAttribute("url") : null, this.isEnabled = i3.checkChild(r2, "media");
          }
          execute(t3) {
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = Vg(i3);
            if (n2) e3.change((e4) => {
              e4.setAttribute("url", t3, n2);
            });
            else {
              const n3 = Ih(i3, e3);
              Fg(e3, t3, n3);
            }
          }
        }
        class Wg {
          constructor(t3, e3) {
            const i3 = e3.providers, n2 = e3.extraProviders || [], o2 = new Set(e3.removeProviders), r2 = i3.concat(n2).filter((t4) => {
              const e4 = t4.name;
              return e4 ? !o2.has(e4) : (console.warn(Object(hi.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."), { provider: t4 }), false);
            });
            this.locale = t3, this.providerDefinitions = r2;
          }
          hasMedia(t3) {
            return !!this._getMedia(t3);
          }
          getMediaViewElement(t3, e3, i3) {
            return this._getMedia(e3).getViewElement(t3, i3);
          }
          _getMedia(t3) {
            if (!t3) return new qg(this.locale);
            t3 = t3.trim();
            for (const e3 of this.providerDefinitions) {
              const i3 = e3.html;
              let n2 = e3.url;
              Array.isArray(n2) || (n2 = [n2]);
              for (const e4 of n2) {
                const n3 = this._getUrlMatches(t3, e4);
                if (n3) return new qg(this.locale, t3, n3, i3);
              }
            }
            return null;
          }
          _getUrlMatches(t3, e3) {
            let i3 = t3.match(e3);
            if (i3) return i3;
            let n2 = t3.replace(/^https?:\/\//, "");
            return i3 = n2.match(e3), i3 || (n2 = n2.replace(/^www\./, ""), i3 = n2.match(e3), i3 || null);
          }
        }
        class qg {
          constructor(t3, e3, i3, n2) {
            this.url = this._getValidUrl(e3), this._t = t3.t, this._match = i3, this._previewRenderer = n2;
          }
          getViewElement(t3, e3) {
            const i3 = {};
            if (e3.renderForEditingView || e3.renderMediaPreview && this.url && this._previewRenderer) {
              this.url && (i3["data-oembed-url"] = this.url), e3.renderForEditingView && (i3.class = "ck-media__wrapper");
              const n2 = this._getPreviewHtml(e3);
              return t3.createUIElement("div", i3, function(t4) {
                const e4 = this.toDomElement(t4);
                return e4.innerHTML = n2, e4;
              });
            }
            return this.url && (i3.url = this.url), t3.createEmptyElement("oembed", i3);
          }
          _getPreviewHtml(t3) {
            return this._previewRenderer ? this._previewRenderer(this._match) : this.url && t3.renderForEditingView ? this._getPlaceholderHtml() : "";
          }
          _getPlaceholderHtml() {
            const t3 = new Ic(), e3 = new Sc();
            t3.text = this._t("Open media in new tab"), e3.content = '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>', e3.viewBox = "0 0 64 42";
            return new Ul({ tag: "div", attributes: { class: "ck ck-reset_all ck-media__placeholder" }, children: [{ tag: "div", attributes: { class: "ck-media__placeholder__icon" }, children: [e3] }, { tag: "a", attributes: { class: "ck-media__placeholder__url", target: "_blank", rel: "noopener noreferrer", href: this.url }, children: [{ tag: "span", attributes: { class: "ck-media__placeholder__url__text" }, children: [this.url] }, t3] }] }).render().outerHTML;
          }
          _getValidUrl(t3) {
            return t3 ? t3.match(/^https?/) ? t3 : "https://" + t3 : null;
          }
        }
        i2(79);
        class Yg extends Jc {
          static get pluginName() {
            return "MediaEmbedEditing";
          }
          constructor(t3) {
            super(t3), t3.config.define("mediaEmbed", { providers: [{ name: "dailymotion", url: /^dailymotion\.com\/video\/(\w+)/, html: (t4) => `<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${t4[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>` }, { name: "spotify", url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/], html: (t4) => `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${t4[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>` }, { name: "youtube", url: [/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/, /^(?:m\.)?youtube\.com\/v\/([\w-]+)/, /^youtube\.com\/embed\/([\w-]+)/, /^youtu\.be\/([\w-]+)/], html: (t4) => `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t4[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>` }, { name: "vimeo", url: [/^vimeo\.com\/(\d+)/, /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/, /^vimeo\.com\/channels\/[^/]+\/(\d+)/, /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/, /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/, /^player\.vimeo\.com\/video\/(\d+)/], html: (t4) => `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${t4[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>` }, { name: "instagram", url: /^instagram\.com\/p\/(\w+)/ }, { name: "twitter", url: /^twitter\.com/ }, { name: "googleMaps", url: /^google\.com\/maps/ }, { name: "flickr", url: /^flickr\.com/ }, { name: "facebook", url: /^facebook\.com/ }] }), this.registry = new Wg(t3.locale, t3.config.get("mediaEmbed"));
          }
          init() {
            const t3 = this.editor, e3 = t3.model.schema, i3 = t3.t, n2 = t3.conversion, o2 = t3.config.get("mediaEmbed.previewsInData"), r2 = this.registry;
            t3.commands.add("mediaEmbed", new Ug(t3)), e3.register("media", { isObject: true, isBlock: true, allowWhere: "$block", allowAttributes: ["url"] }), n2.for("dataDowncast").elementToElement({ model: "media", view: (t4, e4) => {
              const i4 = t4.getAttribute("url");
              return Bg(e4, r2, i4, { renderMediaPreview: i4 && o2 });
            } }), n2.for("dataDowncast").add(zg(r2, { renderMediaPreview: o2 })), n2.for("editingDowncast").elementToElement({ model: "media", view: (t4, e4) => {
              const n3 = t4.getAttribute("url"), o3 = Bg(e4, r2, n3, { renderForEditingView: true });
              return s4 = o3, a4 = e4, l2 = i3("media widget"), a4.setCustomProperty("media", true, s4), Eh(s4, a4, { label: l2 });
              var s4, a4, l2;
            } }), n2.for("editingDowncast").add(zg(r2, { renderForEditingView: true })), n2.for("upcast").elementToElement({ view: { name: "oembed", attributes: { url: true } }, model: (t4, e4) => {
              const i4 = t4.getAttribute("url");
              if (r2.hasMedia(i4)) return e4.createElement("media", { url: i4 });
            } }).elementToElement({ view: { name: "div", attributes: { "data-oembed-url": true } }, model: (t4, e4) => {
              const i4 = t4.getAttribute("data-oembed-url");
              if (r2.hasMedia(i4)) return e4.createElement("media", { url: i4 });
            } });
          }
        }
        const $g = /^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;
        class Jg extends Jc {
          static get requires() {
            return [Zc, Gd];
          }
          static get pluginName() {
            return "AutoMediaEmbed";
          }
          constructor(t3) {
            super(t3), this._timeoutId = null, this._positionToInsert = null;
          }
          init() {
            const t3 = this.editor, e3 = t3.model.document;
            this.listenTo(t3.plugins.get(Zc), "inputTransformation", () => {
              const t4 = e3.selection.getFirstRange(), i3 = al.fromPosition(t4.start);
              i3.stickiness = "toPrevious";
              const n2 = al.fromPosition(t4.end);
              n2.stickiness = "toNext", e3.once("change:data", () => {
                this._embedMediaBetweenPositions(i3, n2), i3.detach(), n2.detach();
              }, { priority: "high" });
            }), t3.commands.get("undo").on("execute", () => {
              this._timeoutId && (Zo.window.clearTimeout(this._timeoutId), this._positionToInsert.detach(), this._timeoutId = null, this._positionToInsert = null);
            }, { priority: "high" });
          }
          _embedMediaBetweenPositions(t3, e3) {
            const i3 = this.editor, n2 = i3.plugins.get(Yg).registry, o2 = new Rs(t3, e3), r2 = o2.getWalker({ ignoreElementEnd: true });
            let s4 = "";
            for (const t4 of r2) t4.item.is("textProxy") && (s4 += t4.item.data);
            if (s4 = s4.trim(), !s4.match($g)) return;
            if (!n2.hasMedia(s4)) return;
            i3.commands.get("mediaEmbed").isEnabled && (this._positionToInsert = al.fromPosition(t3), this._timeoutId = Zo.window.setTimeout(() => {
              i3.model.change((t4) => {
                let e4;
                this._timeoutId = null, t4.remove(o2), "$graveyard" !== this._positionToInsert.root.rootName && (e4 = this._positionToInsert), Fg(i3.model, s4, e4), this._positionToInsert.detach(), this._positionToInsert = null;
              });
            }, 100));
          }
        }
        i2(81);
        class Gg extends lc {
          constructor(t3, e3) {
            super(e3);
            const i3 = e3.t;
            this.focusTracker = new Nl(), this.keystrokes = new Al(), this.urlInputView = this._createUrlInput(), this.saveButtonView = this._createButton(i3("Save"), Wu, "ck-button-save"), this.saveButtonView.type = "submit", this.cancelButtonView = this._createButton(i3("Cancel"), qu, "ck-button-cancel", "cancel"), this._focusables = new Hl(), this._focusCycler = new _c({ focusables: this._focusables, focusTracker: this.focusTracker, keystrokeHandler: this.keystrokes, actions: { focusPrevious: "shift + tab", focusNext: "tab" } }), this._validators = t3, this.setTemplate({ tag: "form", attributes: { class: ["ck", "ck-media-form"], tabindex: "-1" }, children: [this.urlInputView, this.saveButtonView, this.cancelButtonView] });
          }
          render() {
            super.render(), Uu({ view: this });
            [this.urlInputView, this.saveButtonView, this.cancelButtonView].forEach((t4) => {
              this._focusables.add(t4), this.focusTracker.add(t4.element);
            }), this.keystrokes.listenTo(this.element);
            const t3 = (t4) => t4.stopPropagation();
            this.keystrokes.set("arrowright", t3), this.keystrokes.set("arrowleft", t3), this.keystrokes.set("arrowup", t3), this.keystrokes.set("arrowdown", t3), this.listenTo(this.urlInputView.element, "selectstart", (t4, e3) => {
              e3.stopPropagation();
            }, { priority: "high" });
          }
          focus() {
            this._focusCycler.focusFirst();
          }
          get url() {
            return this.urlInputView.fieldView.element.value.trim();
          }
          set url(t3) {
            this.urlInputView.fieldView.element.value = t3.trim();
          }
          isValid() {
            this.resetFormStatus();
            for (const t3 of this._validators) {
              const e3 = t3(this);
              if (e3) return this.urlInputView.errorText = e3, false;
            }
            return true;
          }
          resetFormStatus() {
            this.urlInputView.errorText = null, this.urlInputView.infoText = this._urlInputViewInfoDefault;
          }
          _createUrlInput() {
            const t3 = this.locale.t, e3 = new Vu(this.locale, Hu), i3 = e3.fieldView;
            return this._urlInputViewInfoDefault = t3("Paste the media URL in the input."), this._urlInputViewInfoTip = t3("Tip: Paste the URL into the content to embed faster."), e3.label = t3("Media URL"), e3.infoText = this._urlInputViewInfoDefault, i3.placeholder = "https://example.com", i3.on("input", () => {
              e3.infoText = i3.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault;
            }), e3;
          }
          _createButton(t3, e3, i3, n2) {
            const o2 = new Oc(this.locale);
            return o2.set({ label: t3, icon: e3, tooltip: true }), o2.extendTemplate({ attributes: { class: i3 } }), n2 && o2.delegate("execute").to(this, n2), o2;
          }
        }
        class Qg extends Jc {
          static get requires() {
            return [Yg];
          }
          static get pluginName() {
            return "MediaEmbedUI";
          }
          init() {
            const t3 = this.editor, e3 = t3.commands.get("mediaEmbed"), i3 = t3.plugins.get(Yg).registry;
            this.form = new Gg(/* @__PURE__ */ function(t4, e4) {
              return [(e5) => {
                if (!e5.url.length) return t4("The URL must not be empty.");
              }, (i4) => {
                if (!e4.hasMedia(i4.url)) return t4("This media URL is not supported.");
              }];
            }(t3.t, i3), t3.locale), t3.ui.componentFactory.add("mediaEmbed", (i4) => {
              const n2 = Vc(i4);
              return this._setUpDropdown(n2, this.form, e3, t3), this._setUpForm(this.form, n2, e3), n2;
            });
          }
          _setUpDropdown(t3, e3, i3) {
            const n2 = this.editor, o2 = n2.t, r2 = t3.buttonView;
            function s4() {
              n2.editing.view.focus(), t3.isOpen = false;
            }
            t3.bind("isEnabled").to(i3), t3.panelView.children.add(e3), r2.set({ label: o2("Insert media"), icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>\n', tooltip: true }), r2.on("open", () => {
              e3.url = i3.value || "", e3.urlInputView.fieldView.select(), e3.focus();
            }, { priority: "low" }), t3.on("submit", () => {
              e3.isValid() && (n2.execute("mediaEmbed", e3.url), s4());
            }), t3.on("change:isOpen", () => e3.resetFormStatus()), t3.on("cancel", () => s4());
          }
          _setUpForm(t3, e3, i3) {
            t3.delegate("submit", "cancel").to(e3), t3.urlInputView.bind("value").to(i3, "value"), t3.urlInputView.bind("isReadOnly").to(i3, "isEnabled", (t4) => !t4), t3.saveButtonView.bind("isEnabled").to(i3);
          }
        }
        i2(83);
        function Xg(t3, e3) {
          if (!t3.childCount) return;
          const i3 = new bm(t3.document), n2 = function(t4, e4) {
            const i4 = e4.createRangeIn(t4), n3 = new ji({ name: /^p|h\d+$/, styles: { "mso-list": /.*/ } }), o3 = [];
            for (const t5 of i4) if ("elementStart" === t5.type && n3.match(t5.item)) {
              const e5 = Zg(t5.item);
              o3.push({ element: t5.item, id: e5.id, order: e5.order, indent: e5.indent });
            }
            return o3;
          }(t3, i3);
          if (!n2.length) return;
          let o2 = null, r2 = 1;
          n2.forEach((t4, s4) => {
            const a4 = function(t5, e4) {
              if (!t5) return true;
              if (t5.id !== e4.id) return true;
              const i4 = e4.element.previousSibling;
              if (!i4) return true;
              return n3 = i4, !(n3.is("ol") || n3.is("ul"));
              var n3;
            }(n2[s4 - 1], t4), l2 = a4 ? null : n2[s4 - 1], c3 = (h4 = t4, (d4 = l2) ? h4.indent - d4.indent : h4.indent - 1);
            var d4, h4;
            if (a4 && (o2 = null, r2 = 1), !o2 || 0 !== c3) {
              const n3 = function(t5, e4) {
                const i4 = new RegExp(`@list l${t5.id}:level${t5.indent}\\s*({[^}]*)`, "gi"), n4 = /mso-level-number-format:([^;]*);/gi, o3 = i4.exec(e4);
                let r3 = "decimal";
                if (o3 && o3[1]) {
                  const t6 = n4.exec(o3[1]);
                  t6 && t6[1] && (r3 = t6[1].trim());
                }
                return { type: "bullet" !== r3 && "image" !== r3 ? "ol" : "ul", style: r3 };
              }(t4, e3);
              if (o2) {
                if (t4.indent > r2) {
                  const t5 = o2.getChild(o2.childCount - 1), e4 = t5.getChild(t5.childCount - 1);
                  o2 = Kg(n3, e4, i3), r2 += 1;
                } else if (t4.indent < r2) {
                  const e4 = r2 - t4.indent;
                  o2 = function(t5, e5) {
                    const i4 = t5.getAncestors({ parentFirst: true });
                    let n4 = null, o3 = 0;
                    for (const t6 of i4) if ("ul" !== t6.name && "ol" !== t6.name || o3++, o3 === e5) {
                      n4 = t6;
                      break;
                    }
                    return n4;
                  }(o2, e4), r2 = parseInt(t4.indent);
                }
              } else o2 = Kg(n3, t4.element, i3);
              t4.indent <= r2 && (o2.is(n3.type) || (o2 = i3.rename(n3.type, o2)));
            }
            const u3 = function(t5, e4) {
              return function(t6, e5) {
                const i4 = new ji({ name: "span", styles: { "mso-list": "Ignore" } }), n3 = e5.createRangeIn(t6);
                for (const t7 of n3) "elementStart" === t7.type && i4.match(t7.item) && e5.remove(t7.item);
              }(t5, e4), e4.rename("li", t5);
            }(t4.element, i3);
            i3.appendChild(u3, o2);
          });
        }
        function Kg(t3, e3, i3) {
          const n2 = e3.parent, o2 = i3.createElement(t3.type), r2 = n2.getChildIndex(e3) + 1;
          return i3.insertChild(r2, o2, n2), o2;
        }
        function Zg(t3) {
          const e3 = {}, i3 = t3.getStyle("mso-list");
          if (i3) {
            const t4 = i3.match(/(^|\s+)l(\d+)/i), n2 = i3.match(/\s*lfo(\d+)/i), o2 = i3.match(/\s*level(\d+)/i);
            t4 && n2 && o2 && (e3.id = t4[2], e3.order = n2[1], e3.indent = o2[1]);
          }
          return e3;
        }
        const tf = /id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;
        class ef {
          constructor(t3) {
            this.document = t3;
          }
          isActive(t3) {
            return tf.test(t3);
          }
          execute(t3) {
            const e3 = new bm(this.document);
            !function(t4, e4) {
              for (const i3 of t4.getChildren()) if (i3.is("b") && "normal" === i3.getStyle("font-weight")) {
                const n2 = t4.getChildIndex(i3);
                e4.remove(i3), e4.insertChild(n2, i3.getChildren(), t4);
              }
            }(t3.content, e3), function(t4, e4) {
              for (const i3 of e4.createRangeIn(t4)) {
                const t5 = i3.item;
                if (t5.is("li")) {
                  const i4 = t5.getChild(0);
                  i4.is("p") && e4.unwrapElement(i4);
                }
              }
            }(t3.content, e3);
          }
        }
        function nf(t3) {
          return t3.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g, (t4, e3) => 1 === e3.length ? " " : Array(e3.length + 1).join("\xA0 ").substr(0, e3.length));
        }
        function of(t3) {
          const e3 = new DOMParser(), i3 = function(t4) {
            return nf(nf(t4)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g, "$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g, "").replace(/ <\//g, "\xA0</").replace(/ <o:p><\/o:p>/g, "\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g, "").replace(/>(\s*[\r\n]\s*)</g, "><");
          }(function(t4) {
            const e4 = t4.match(/<\/body>(.*?)(<\/html>|$)/);
            e4 && e4[1] && (t4 = t4.slice(0, e4.index) + t4.slice(e4.index).replace(e4[1], ""));
            return t4;
          }(t3 = t3.replace(/<!--\[if gte vml 1]>/g, ""))), n2 = e3.parseFromString(i3, "text/html");
          !function(t4) {
            t4.querySelectorAll("span[style*=spacerun]").forEach((t5) => {
              const e4 = t5.innerText.length || 0;
              t5.innerHTML = Array(e4 + 1).join("\xA0 ").substr(0, e4);
            });
          }(n2);
          const o2 = n2.body.innerHTML, r2 = function(t4) {
            const e4 = new oo(new Sn()), i4 = new nr(e4, { blockFillerMode: "nbsp" }), n3 = t4.createDocumentFragment(), o3 = t4.body.childNodes;
            for (; o3.length > 0; ) n3.appendChild(o3[0]);
            return i4.domToView(n3);
          }(n2), s4 = function(t4) {
            const e4 = [], i4 = [], n3 = Array.from(t4.getElementsByTagName("style"));
            for (const t5 of n3) t5.sheet && t5.sheet.cssRules && t5.sheet.cssRules.length && (e4.push(t5.sheet), i4.push(t5.innerHTML));
            return { styles: e4, stylesString: i4.join(" ") };
          }(n2);
          return { body: r2, bodyString: o2, styles: s4.styles, stylesString: s4.stylesString };
        }
        function rf(t3, e3) {
          if (!t3.childCount) return;
          const i3 = new bm();
          !function(t4, e4, i4) {
            const n3 = i4.createRangeIn(e4), o2 = new ji({ name: "img" }), r2 = [];
            for (const e5 of n3) if (o2.match(e5.item)) {
              const i5 = e5.item, n4 = i5.getAttribute("v:shapes") ? i5.getAttribute("v:shapes").split(" ") : [];
              n4.length && n4.every((e6) => t4.indexOf(e6) > -1) ? r2.push(i5) : i5.getAttribute("src") || r2.push(i5);
            }
            for (const t5 of r2) i4.remove(t5);
          }(function(t4, e4) {
            const i4 = e4.createRangeIn(t4), n3 = new ji({ name: /v:(.+)/ }), o2 = [];
            for (const t5 of i4) {
              const e5 = t5.item, i5 = e5.previousSibling && e5.previousSibling.name || null;
              n3.match(e5) && e5.getAttribute("o:gfxdata") && "v:shapetype" !== i5 && o2.push(t5.item.getAttribute("id"));
            }
            return o2;
          }(t3, i3), t3, i3), function(t4, e4) {
            const i4 = e4.createRangeIn(t4), n3 = new ji({ name: /v:(.+)/ }), o2 = [];
            for (const t5 of i4) n3.match(t5.item) && o2.push(t5.item);
            for (const t5 of o2) e4.remove(t5);
          }(t3, i3);
          const n2 = function(t4, e4) {
            const i4 = e4.createRangeIn(t4), n3 = new ji({ name: "img" }), o2 = [];
            for (const t5 of i4) n3.match(t5.item) && t5.item.getAttribute("src").startsWith("file://") && o2.push(t5.item);
            return o2;
          }(t3, i3);
          n2.length && function(t4, e4, i4) {
            if (t4.length === e4.length) for (let o2 = 0; o2 < t4.length; o2++) {
              const r2 = `data:${e4[o2].type};base64,${n3 = e4[o2].hex, btoa(n3.match(/\w{2}/g).map((t5) => String.fromCharCode(parseInt(t5, 16))).join(""))}`;
              i4.setAttribute("src", r2, t4[o2]);
            }
            var n3;
          }(n2, function(t4) {
            if (!t4) return [];
            const e4 = /{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/, i4 = new RegExp("(?:(" + e4.source + "))([\\da-fA-F\\s]+)\\}", "g"), n3 = t4.match(i4), o2 = [];
            if (n3) for (const t5 of n3) {
              let i5 = false;
              t5.includes("\\pngblip") ? i5 = "image/png" : t5.includes("\\jpegblip") && (i5 = "image/jpeg"), i5 && o2.push({ hex: t5.replace(e4, "").replace(/[^\da-fA-F]/g, ""), type: i5 });
            }
            return o2;
          }(e3), i3);
        }
        const sf = /<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i, af = /xmlns:o="urn:schemas-microsoft-com/i;
        class lf {
          isActive(t3) {
            return sf.test(t3) || af.test(t3);
          }
          execute(t3) {
            const { body: e3, stylesString: i3 } = of(t3.dataTransfer.getData("text/html"));
            Xg(e3, i3), rf(e3, t3.dataTransfer.getData("text/rtf")), t3.content = e3;
          }
        }
        function cf(t3, e3) {
          let i3 = e3.parent;
          for (; i3; ) {
            if (i3.name === t3) return i3;
            i3 = i3.parent;
          }
        }
        function df(t3, e3, i3, n2, o2 = 1) {
          e3 > o2 ? n2.setAttribute(t3, e3, i3) : n2.removeAttribute(t3, i3);
        }
        function hf(t3, e3, i3 = {}) {
          const n2 = t3.createElement("tableCell", i3);
          t3.insertElement("paragraph", n2), t3.insert(n2, e3);
        }
        function uf(t3, e3) {
          const i3 = e3.parent.parent, n2 = parseInt(i3.getAttribute("headingColumns") || 0), { column: o2 } = t3.getCellLocation(e3);
          return !!n2 && o2 < n2;
        }
        function mf() {
          return (t3) => {
            t3.on("element:table", (t4, e3, i3) => {
              const n2 = e3.viewItem;
              if (!i3.consumable.test(n2, { name: true })) return;
              const { rows: o2, headingRows: r2, headingColumns: s4 } = function(t5) {
                const e4 = { headingRows: 0, headingColumns: 0 }, i4 = [], n3 = [];
                let o3;
                for (const r3 of Array.from(t5.getChildren())) if ("tbody" === r3.name || "thead" === r3.name || "tfoot" === r3.name) {
                  "thead" !== r3.name || o3 || (o3 = r3);
                  const t6 = Array.from(r3.getChildren()).filter((t7) => t7.is("element", "tr"));
                  for (const r4 of t6) if ("thead" === r4.parent.name && r4.parent === o3) e4.headingRows++, i4.push(r4);
                  else {
                    n3.push(r4);
                    const t7 = ff(r4);
                    t7 > e4.headingColumns && (e4.headingColumns = t7);
                  }
                }
                return e4.rows = [...i4, ...n3], e4;
              }(n2), a4 = {};
              s4 && (a4.headingColumns = s4), r2 && (a4.headingRows = r2);
              const l2 = i3.writer.createElement("table", a4), c3 = i3.splitToAllowedParent(l2, e3.modelCursor);
              if (c3) {
                if (i3.writer.insert(l2, c3.position), i3.consumable.consume(n2, { name: true }), o2.length) o2.forEach((t5) => i3.convertItem(t5, i3.writer.createPositionAt(l2, "end")));
                else {
                  const t5 = i3.writer.createElement("tableRow");
                  i3.writer.insert(t5, i3.writer.createPositionAt(l2, "end")), hf(i3.writer, i3.writer.createPositionAt(t5, "end"));
                }
                e3.modelRange = i3.writer.createRange(i3.writer.createPositionBefore(l2), i3.writer.createPositionAfter(l2)), c3.cursorParent ? e3.modelCursor = i3.writer.createPositionAt(c3.cursorParent, 0) : e3.modelCursor = e3.modelRange.end;
              }
            });
          };
        }
        function gf(t3) {
          return (e3) => {
            e3.on("element:" + t3, (t4, e4, i3) => {
              const n2 = e4.viewItem;
              if (!i3.consumable.test(n2, { name: true })) return;
              const o2 = i3.writer.createElement("tableCell"), r2 = i3.splitToAllowedParent(o2, e4.modelCursor);
              if (!r2) return;
              i3.writer.insert(o2, r2.position), i3.consumable.consume(n2, { name: true });
              const s4 = i3.writer.createPositionAt(o2, 0);
              i3.convertChildren(n2, s4), o2.childCount || i3.writer.insertElement("paragraph", s4), e4.modelRange = i3.writer.createRange(i3.writer.createPositionBefore(o2), i3.writer.createPositionAfter(o2)), e4.modelCursor = e4.modelRange.end;
            });
          };
        }
        function ff(t3) {
          let e3 = 0, i3 = 0;
          const n2 = Array.from(t3.getChildren()).filter((t4) => "th" === t4.name || "td" === t4.name);
          for (; i3 < n2.length && "th" === n2[i3].name; ) {
            const t4 = n2[i3];
            e3 += parseInt(t4.getAttribute("colspan") || 1), i3++;
          }
          return e3;
        }
        class pf {
          constructor(t3, e3 = {}) {
            this.table = t3, this.startRow = e3.startRow || 0, this.endRow = "number" == typeof e3.endRow ? e3.endRow : void 0, this.includeSpanned = !!e3.includeSpanned, this.column = "number" == typeof e3.column ? e3.column : void 0, this._skipRows = /* @__PURE__ */ new Set(), this._row = 0, this._column = 0, this._cellIndex = 0, this._spannedCells = /* @__PURE__ */ new Map(), this._nextCellAtColumn = -1;
          }
          [Symbol.iterator]() {
            return this;
          }
          next() {
            const t3 = this.table.getChild(this._row);
            if (!t3 || this._isOverEndRow()) return { done: true };
            let e3, i3, n2;
            if (this._isSpanned(this._row, this._column)) e3 = this._getSpanned(this._row, this._column), i3 = !this.includeSpanned || this._shouldSkipRow() || this._shouldSkipColumn(), n2 = this._formatOutValue(e3, this._column, true);
            else {
              if (e3 = t3.getChild(this._cellIndex), !e3) return this._row++, this._column = 0, this._cellIndex = 0, this._nextCellAtColumn = -1, this.next();
              const o2 = parseInt(e3.getAttribute("colspan") || 1), r2 = parseInt(e3.getAttribute("rowspan") || 1);
              (o2 > 1 || r2 > 1) && this._recordSpans(this._row, this._column, r2, o2, e3), this._nextCellAtColumn = this._column + o2, i3 = this._shouldSkipRow() || this._shouldSkipColumn(), n2 = this._formatOutValue(e3, this._column, false, r2, o2);
            }
            return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, i3 ? this.next() : n2;
          }
          skipRow(t3) {
            this._skipRows.add(t3);
          }
          _isOverEndRow() {
            return void 0 !== this.endRow && this._row > this.endRow;
          }
          _formatOutValue(t3, e3, i3, n2 = 1, o2 = 1) {
            return { done: false, value: { cell: t3, row: this._row, column: e3, isSpanned: i3, rowspan: n2, colspan: o2, cellIndex: this._cellIndex } };
          }
          _shouldSkipRow() {
            const t3 = this._row < this.startRow, e3 = this._skipRows.has(this._row);
            return t3 || e3;
          }
          _shouldSkipColumn() {
            return void 0 !== this.column && this.column != this._column;
          }
          _isSpanned(t3, e3) {
            if (!this._spannedCells.has(t3)) return false;
            return this._spannedCells.get(t3).has(e3);
          }
          _getSpanned(t3, e3) {
            return this._spannedCells.get(t3).get(e3);
          }
          _recordSpans(t3, e3, i3, n2, o2) {
            for (let i4 = e3 + 1; i4 <= e3 + n2 - 1; i4++) this._markSpannedCell(t3, i4, o2);
            for (let r2 = t3 + 1; r2 < t3 + i3; r2++) for (let t4 = e3; t4 <= e3 + n2 - 1; t4++) this._markSpannedCell(r2, t4, o2);
          }
          _markSpannedCell(t3, e3, i3) {
            this._spannedCells.has(t3) || this._spannedCells.set(t3, /* @__PURE__ */ new Map());
            this._spannedCells.get(t3).set(e3, i3);
          }
        }
        function bf(t3) {
          return !!t3.getCustomProperty("table") && Mh(t3);
        }
        function wf(t3) {
          const e3 = t3.getSelectedElement();
          return e3 && bf(e3) ? e3 : null;
        }
        function _f(t3) {
          const e3 = cf("table", t3.getFirstPosition());
          return e3 && bf(e3.parent) ? e3.parent : null;
        }
        function kf(t3) {
          const e3 = [];
          for (const n2 of (i3 = t3.getRanges(), Array.from(i3).sort(Tf))) {
            const t4 = n2.getContainedElement();
            t4 && t4.is("tableCell") && e3.push(t4);
          }
          var i3;
          return e3;
        }
        function vf(t3) {
          const e3 = [];
          for (const i3 of t3.getRanges()) {
            const t4 = cf("tableCell", i3.start);
            t4 && e3.push(t4);
          }
          return e3;
        }
        function yf(t3) {
          const e3 = kf(t3);
          return e3.length ? e3 : vf(t3);
        }
        function xf(t3) {
          return Cf(t3.map((t4) => t4.parent.index));
        }
        function Af(t3) {
          const e3 = cf("table", t3[0]);
          return Cf([...new pf(e3)].filter((e4) => t3.includes(e4.cell)).map((t4) => t4.column));
        }
        function Cf(t3) {
          const e3 = t3.sort((t4, e4) => t4 - e4);
          return { first: e3[0], last: e3[e3.length - 1] };
        }
        function Tf(t3, e3) {
          const i3 = t3.start, n2 = e3.start;
          return i3.isBefore(n2) ? -1 : 1;
        }
        function Mf(t3 = {}) {
          return (e3) => e3.on("insert:table", (e4, i3, n2) => {
            const o2 = i3.item;
            if (!n2.consumable.consume(o2, "insert")) return;
            n2.consumable.consume(o2, "attribute:headingRows:table"), n2.consumable.consume(o2, "attribute:headingColumns:table");
            const r2 = t3 && t3.asWidget, s4 = n2.writer.createContainerElement("figure", { class: "table" }), a4 = n2.writer.createContainerElement("table");
            let l2;
            var c3, d4;
            n2.writer.insert(n2.writer.createPositionAt(s4, 0), a4), r2 && (c3 = s4, (d4 = n2.writer).setCustomProperty("table", true, c3), l2 = Eh(c3, d4, { hasSelectionHandle: true }));
            const h4 = new pf(o2), u3 = { headingRows: o2.getAttribute("headingRows") || 0, headingColumns: o2.getAttribute("headingColumns") || 0 }, m4 = /* @__PURE__ */ new Map();
            for (const e5 of h4) {
              const { row: i4, cell: r3 } = e5, s5 = zf(Df(i4, u3), a4, n2), l3 = o2.getChild(i4), c4 = m4.get(i4) || Lf(l3, i4, s5, n2);
              m4.set(i4, c4), n2.consumable.consume(r3, "insert");
              Rf(e5, u3, n2.writer.createPositionAt(c4, "end"), n2, t3);
            }
            const g2 = n2.mapper.toViewPosition(i3.range.start);
            n2.mapper.bindElements(o2, r2 ? l2 : s4), n2.writer.insert(g2, r2 ? l2 : s4);
          });
        }
        function Ef(t3 = {}) {
          return (e3) => e3.on("insert:tableRow", (e4, i3, n2) => {
            const o2 = i3.item;
            if (!n2.consumable.consume(o2, "insert")) return;
            const r2 = o2.parent, s4 = Hf(n2.mapper.toViewElement(r2)), a4 = r2.getChildIndex(o2), l2 = new pf(r2, { startRow: a4, endRow: a4 }), c3 = { headingRows: r2.getAttribute("headingRows") || 0, headingColumns: r2.getAttribute("headingColumns") || 0 }, d4 = /* @__PURE__ */ new Map();
            for (const e5 of l2) {
              const i4 = zf(Df(a4, c3), s4, n2), r3 = d4.get(a4) || Lf(o2, a4, i4, n2);
              d4.set(a4, r3), n2.consumable.consume(e5.cell, "insert");
              Rf(e5, c3, n2.writer.createPositionAt(r3, "end"), n2, t3);
            }
          });
        }
        function Pf(t3 = {}) {
          return (e3) => e3.on("insert:tableCell", (e4, i3, n2) => {
            const o2 = i3.item;
            if (!n2.consumable.consume(o2, "insert")) return;
            const r2 = o2.parent, s4 = r2.parent, a4 = s4.getChildIndex(r2), l2 = new pf(s4, { startRow: a4, endRow: a4 }), c3 = { headingRows: s4.getAttribute("headingRows") || 0, headingColumns: s4.getAttribute("headingColumns") || 0 };
            for (const e5 of l2) if (e5.cell === o2) {
              const i4 = n2.mapper.toViewElement(r2);
              return void Rf(e5, c3, n2.writer.createPositionAt(i4, r2.getChildIndex(o2)), n2, t3);
            }
          });
        }
        function Sf(t3 = {}) {
          const e3 = !!t3.asWidget;
          return (t4) => t4.on("attribute:headingRows:table", (t5, i3, n2) => {
            const o2 = i3.item;
            if (!n2.consumable.consume(i3.item, t5.name)) return;
            const r2 = Hf(n2.mapper.toViewElement(o2)), s4 = i3.attributeOldValue, a4 = i3.attributeNewValue;
            if (a4 > s4) {
              const t6 = Array.from(o2.getChildren()).filter(({ index: t7 }) => l2(t7, s4 - 1, a4));
              Ff(t6, zf("thead", r2, n2), n2, "end");
              for (const i4 of t6) for (const t7 of i4.getChildren()) Of(t7, "th", n2, e3);
            } else {
              Ff(Array.from(o2.getChildren()).filter(({ index: t7 }) => l2(t7, a4 - 1, s4)).reverse(), zf("tbody", r2, n2), n2, 0);
              const t6 = new pf(o2, { startRow: a4 ? a4 - 1 : a4, endRow: s4 - 1 }), i4 = { headingRows: o2.getAttribute("headingRows") || 0, headingColumns: o2.getAttribute("headingColumns") || 0 };
              for (const o3 of t6) Nf(o3, i4, n2, e3);
            }
            function l2(t6, e4, i4) {
              return t6 > e4 && t6 < i4;
            }
            Vf("thead", r2, n2), Vf("tbody", r2, n2);
          });
        }
        function If(t3 = {}) {
          const e3 = !!t3.asWidget;
          return (t4) => t4.on("attribute:headingColumns:table", (t5, i3, n2) => {
            const o2 = i3.item;
            if (!n2.consumable.consume(i3.item, t5.name)) return;
            const r2 = { headingRows: o2.getAttribute("headingRows") || 0, headingColumns: o2.getAttribute("headingColumns") || 0 }, s4 = i3.attributeOldValue, a4 = i3.attributeNewValue, l2 = (s4 > a4 ? s4 : a4) - 1;
            for (const t6 of new pf(o2)) t6.column > l2 || Nf(t6, r2, n2, e3);
          });
        }
        function Of(t3, e3, i3, n2) {
          const o2 = i3.writer, r2 = i3.mapper.toViewElement(t3);
          if (!r2) return;
          let s4;
          if (n2) {
            s4 = Sh(o2.createEditableElement(e3, r2.getAttributes()), o2), o2.insert(o2.createPositionAfter(r2), s4), o2.move(o2.createRangeIn(r2), o2.createPositionAt(s4, 0)), o2.remove(o2.createRangeOn(r2));
          } else s4 = o2.rename(e3, r2);
          i3.mapper.unbindViewElement(r2), i3.mapper.bindElements(t3, s4);
        }
        function Nf(t3, e3, i3, n2) {
          const { cell: o2 } = t3, r2 = jf(t3, e3), s4 = i3.mapper.toViewElement(o2);
          s4 && s4.name !== r2 && Of(o2, r2, i3, n2);
        }
        function Rf(t3, e3, i3, n2, o2) {
          const r2 = o2 && o2.asWidget, s4 = jf(t3, e3), a4 = r2 ? Sh(n2.writer.createEditableElement(s4), n2.writer) : n2.writer.createContainerElement(s4), l2 = t3.cell, c3 = l2.getChild(0), d4 = 1 === l2.childCount && "paragraph" === c3.name;
          if (n2.writer.insert(i3, a4), d4 && ![...c3.getAttributeKeys()].length) {
            const t4 = l2.getChild(0), e4 = n2.writer.createPositionAt(a4, "end");
            if (n2.consumable.consume(t4, "insert"), o2.asWidget) {
              const i4 = n2.writer.createContainerElement("span", { style: "display:inline-block" });
              n2.mapper.bindElements(t4, i4), n2.writer.insert(e4, i4), n2.mapper.bindElements(l2, a4);
            } else n2.mapper.bindElements(l2, a4), n2.mapper.bindElements(t4, a4);
          } else n2.mapper.bindElements(l2, a4);
        }
        function Lf(t3, e3, i3, n2) {
          n2.consumable.consume(t3, "insert");
          const o2 = n2.writer.createContainerElement("tr");
          n2.mapper.bindElements(t3, o2);
          const r2 = t3.parent.getAttribute("headingRows") || 0, s4 = r2 > 0 && e3 >= r2 ? e3 - r2 : e3, a4 = n2.writer.createPositionAt(i3, s4);
          return n2.writer.insert(a4, o2), o2;
        }
        function jf(t3, e3) {
          const { row: i3, column: n2 } = t3, { headingColumns: o2, headingRows: r2 } = e3;
          if (r2 && r2 > i3) return "th";
          return o2 && o2 > n2 ? "th" : "td";
        }
        function Df(t3, e3) {
          return t3 < e3.headingRows ? "thead" : "tbody";
        }
        function zf(t3, e3, i3) {
          const n2 = Bf(t3, e3);
          return n2 || function(t4, e4, i4) {
            const n3 = i4.writer.createContainerElement(t4), o2 = i4.writer.createPositionAt(e4, "tbody" == t4 ? "end" : 0);
            return i4.writer.insert(o2, n3), n3;
          }(t3, e3, i3);
        }
        function Bf(t3, e3) {
          for (const i3 of e3.getChildren()) if (i3.name == t3) return i3;
        }
        function Vf(t3, e3, i3) {
          const n2 = Bf(t3, e3);
          n2 && 0 === n2.childCount && i3.writer.remove(i3.writer.createRangeOn(n2));
        }
        function Ff(t3, e3, i3, n2) {
          for (const o2 of t3) {
            const t4 = i3.mapper.toViewElement(o2);
            t4 && i3.writer.move(i3.writer.createRangeOn(t4), i3.writer.createPositionAt(e3, n2));
          }
        }
        function Hf(t3) {
          for (const e3 of t3.getChildren()) if ("table" === e3.name) return e3;
        }
        class Uf extends td {
          refresh() {
            const t3 = this.editor.model, e3 = t3.document.selection, i3 = t3.schema, n2 = function(t4) {
              const e4 = t4.parent;
              return e4 === e4.root ? e4 : e4.parent;
            }(e3.getFirstPosition());
            this.isEnabled = i3.checkChild(n2, "table");
          }
          execute(t3 = {}) {
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = this.editor.plugins.get("TableUtils"), o2 = parseInt(t3.rows) || 2, r2 = parseInt(t3.columns) || 2, s4 = Ih(i3, e3);
            e3.change((t4) => {
              const i4 = n2.createTable(t4, o2, r2);
              e3.insertContent(i4, s4), t4.setSelection(t4.createPositionAt(i4.getNodeByPath([0, 0, 0]), 0));
            });
          }
        }
        class Wf extends td {
          constructor(t3, e3 = {}) {
            super(t3), this.order = e3.order || "below";
          }
          refresh() {
            const t3 = cf("table", this.editor.model.document.selection.getFirstPosition());
            this.isEnabled = !!t3;
          }
          execute() {
            const t3 = this.editor, e3 = t3.model.document.selection, i3 = t3.plugins.get("TableUtils"), n2 = "above" === this.order, o2 = n2 ? e3.getFirstPosition() : e3.getLastPosition(), r2 = ((n2 ? e3.getFirstRange() : e3.getLastRange()).getContainedElement() || cf("tableCell", o2)).parent, s4 = r2.parent, a4 = s4.getChildIndex(r2);
            i3.insertRows(s4, { rows: 1, at: "below" === this.order ? a4 + 1 : a4 });
          }
        }
        class qf extends td {
          constructor(t3, e3 = {}) {
            super(t3), this.order = e3.order || "right";
          }
          refresh() {
            const t3 = cf("table", this.editor.model.document.selection.getFirstPosition());
            this.isEnabled = !!t3;
          }
          execute() {
            const t3 = this.editor, e3 = t3.model.document.selection, i3 = t3.plugins.get("TableUtils"), n2 = "left" === this.order, o2 = n2 ? e3.getFirstPosition() : e3.getLastPosition(), r2 = (n2 ? e3.getFirstRange() : e3.getLastRange()).getContainedElement() || cf("tableCell", o2), s4 = r2.parent.parent, { column: a4 } = i3.getCellLocation(r2);
            i3.insertColumns(s4, { columns: 1, at: n2 ? a4 : a4 + 1 });
          }
        }
        class Yf extends td {
          constructor(t3, e3 = {}) {
            super(t3), this.direction = e3.direction || "horizontally";
          }
          refresh() {
            const t3 = yf(this.editor.model.document.selection);
            this.isEnabled = 1 === t3.length;
          }
          execute() {
            const t3 = yf(this.editor.model.document.selection)[0], e3 = "horizontally" === this.direction, i3 = this.editor.plugins.get("TableUtils");
            e3 ? i3.splitCellHorizontally(t3, 2) : i3.splitCellVertically(t3, 2);
          }
        }
        class $f extends td {
          constructor(t3, e3) {
            super(t3), this.direction = e3.direction, this.isHorizontal = "right" == this.direction || "left" == this.direction;
          }
          refresh() {
            const t3 = this._getMergeableCell();
            this.value = t3, this.isEnabled = !!t3;
          }
          execute() {
            const t3 = this.editor.model, e3 = vf(t3.document.selection)[0], i3 = this.value, n2 = this.direction;
            t3.change((t4) => {
              const o2 = "right" == n2 || "down" == n2, r2 = o2 ? e3 : i3, s4 = o2 ? i3 : e3, a4 = s4.parent;
              !function(t5, e4, i4) {
                Jf(t5) || (Jf(e4) && i4.remove(i4.createRangeIn(e4)), i4.move(i4.createRangeIn(t5), i4.createPositionAt(e4, "end")));
                i4.remove(t5);
              }(s4, r2, t4);
              const l2 = this.isHorizontal ? "colspan" : "rowspan", c3 = parseInt(e3.getAttribute(l2) || 1), d4 = parseInt(i3.getAttribute(l2) || 1);
              t4.setAttribute(l2, c3 + d4, r2), t4.setSelection(t4.createRangeIn(r2)), a4.childCount || function(t5, e4) {
                const i4 = t5.parent, n3 = i4.getChildIndex(t5);
                for (const { cell: t6, row: o3, rowspan: r3 } of new pf(i4, { endRow: n3 })) {
                  o3 + r3 - 1 >= n3 && df("rowspan", r3 - 1, t6, e4);
                }
                e4.remove(t5);
              }(a4, t4);
            });
          }
          _getMergeableCell() {
            const t3 = vf(this.editor.model.document.selection)[0];
            if (!t3) return;
            const e3 = this.editor.plugins.get("TableUtils"), i3 = this.isHorizontal ? function(t4, e4, i4) {
              const n3 = t4.parent.parent, o3 = "right" == e4 ? t4.nextSibling : t4.previousSibling, r2 = (n3.getAttribute("headingColumns") || 0) > 0;
              if (!o3) return;
              const s4 = "right" == e4 ? t4 : o3, a4 = "right" == e4 ? o3 : t4, { column: l2 } = i4.getCellLocation(s4), { column: c3 } = i4.getCellLocation(a4), d4 = parseInt(s4.getAttribute("colspan") || 1), h4 = uf(i4, s4), u3 = uf(i4, a4);
              if (r2 && h4 != u3) return;
              return l2 + d4 === c3 ? o3 : void 0;
            }(t3, this.direction, e3) : function(t4, e4) {
              const i4 = t4.parent, n3 = i4.parent, o3 = n3.getChildIndex(i4);
              if ("down" == e4 && o3 === n3.childCount - 1 || "up" == e4 && 0 === o3) return;
              const r2 = parseInt(t4.getAttribute("rowspan") || 1), s4 = n3.getAttribute("headingRows") || 0, a4 = "down" == e4 && o3 + r2 === s4, l2 = "up" == e4 && o3 === s4;
              if (s4 && (a4 || l2)) return;
              const c3 = parseInt(t4.getAttribute("rowspan") || 1), d4 = "down" == e4 ? o3 + c3 : o3, h4 = [...new pf(n3, { endRow: d4 })], u3 = h4.find((e5) => e5.cell === t4).column, m4 = h4.find(({ row: t5, rowspan: i5, column: n4 }) => n4 === u3 && ("down" == e4 ? t5 === d4 : d4 === t5 + i5));
              return m4 && m4.cell;
            }(t3, this.direction);
            if (!i3) return;
            const n2 = this.isHorizontal ? "rowspan" : "colspan", o2 = parseInt(t3.getAttribute(n2) || 1);
            return parseInt(i3.getAttribute(n2) || 1) === o2 ? i3 : void 0;
          }
        }
        function Jf(t3) {
          return 1 == t3.childCount && t3.getChild(0).is("paragraph") && t3.getChild(0).isEmpty;
        }
        class Gf extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection), e3 = t3[0];
            if (e3) {
              const i3 = cf("table", e3), n2 = this.editor.plugins.get("TableUtils").getRows(i3) - 1, o2 = xf(t3), r2 = 0 === o2.first && o2.last === n2;
              this.isEnabled = !r2;
            } else this.isEnabled = false;
          }
          execute() {
            const t3 = this.editor.model, e3 = yf(t3.document.selection), i3 = xf(e3), n2 = e3[0], o2 = cf("table", n2), r2 = this.editor.plugins.get("TableUtils").getCellLocation(n2).column, s4 = t3.createBatch();
            t3.enqueueChange(s4, (t4) => {
              t4.setSelection(t4.createSelection(o2, "on"));
              const e4 = i3.last - i3.first + 1;
              this.editor.plugins.get("TableUtils").removeRows(o2, { at: i3.first, rows: e4, batch: s4 });
            }), t3.enqueueChange(s4, (t4) => {
              const e4 = function(t5, e5, i4) {
                const n3 = t5.getChild(e5) || t5.getChild(t5.childCount - 1);
                let o3 = n3.getChild(0), r3 = 0;
                for (const t6 of n3.getChildren()) {
                  if (r3 > i4) return o3;
                  o3 = t6, r3 += parseInt(t6.getAttribute("colspan") || 1);
                }
                return o3;
              }(o2, i3.first, r2);
              t4.setSelection(t4.createPositionAt(e4, 0));
            });
          }
        }
        class Qf extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection), e3 = t3[0];
            if (e3) {
              const i3 = cf("table", e3), n2 = this.editor.plugins.get("TableUtils").getColumns(i3), { first: o2, last: r2 } = Af(t3);
              this.isEnabled = r2 - o2 < n2 - 1;
            } else this.isEnabled = false;
          }
          execute() {
            const [t3, e3] = function(t4) {
              const e4 = yf(t4), i4 = e4[0], n3 = e4.pop(), o3 = [i4, n3];
              return i4.isBefore(n3) ? o3 : o3.reverse();
            }(this.editor.model.document.selection), i3 = t3.parent.parent, n2 = [...new pf(i3)], o2 = { first: n2.find((e4) => e4.cell === t3).column, last: n2.find((t4) => t4.cell === e3).column }, r2 = function(t4, e4, i4, n3) {
              return parseInt(i4.getAttribute("colspan") || 1) > 1 ? i4 : e4.previousSibling || i4.nextSibling ? i4.nextSibling || e4.previousSibling : n3.first ? t4.reverse().find(({ column: t5 }) => t5 < n3.first).cell : t4.reverse().find(({ column: t5 }) => t5 > n3.last).cell;
            }(n2, t3, e3, o2);
            this.editor.model.change((t4) => {
              const e4 = o2.last - o2.first + 1;
              this.editor.plugins.get("TableUtils").removeColumns(i3, { at: o2.first, columns: e4 }), t4.setSelection(t4.createPositionAt(r2, 0));
            });
          }
        }
        class Xf extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection), e3 = t3.length > 0;
            this.isEnabled = e3, this.value = e3 && t3.every((t4) => this._isInHeading(t4, t4.parent.parent));
          }
          execute(t3 = {}) {
            if (t3.forceValue === this.value) return;
            const e3 = this.editor.model, i3 = yf(e3.document.selection), n2 = cf("table", i3[0]), { first: o2, last: r2 } = xf(i3), s4 = this.value ? o2 : r2 + 1, a4 = n2.getAttribute("headingRows") || 0;
            e3.change((t4) => {
              if (s4) {
                const e4 = function(t5, e5, i4) {
                  const n3 = [], o3 = new pf(t5, { startRow: e5 > i4 ? i4 : 0, endRow: e5 - 1 });
                  for (const { row: t6, rowspan: i5, cell: r3 } of o3) i5 > 1 && t6 + i5 > e5 && n3.push(r3);
                  return n3;
                }(n2, s4, a4);
                for (const i4 of e4) Kf(i4, s4, t4);
              }
              df("headingRows", s4, n2, t4, 0);
            });
          }
          _isInHeading(t3, e3) {
            const i3 = parseInt(e3.getAttribute("headingRows") || 0);
            return !!i3 && t3.parent.index < i3;
          }
        }
        function Kf(t3, e3, i3) {
          const n2 = t3.parent, o2 = n2.parent, r2 = e3 - n2.index, s4 = {}, a4 = parseInt(t3.getAttribute("rowspan")) - r2;
          a4 > 1 && (s4.rowspan = a4);
          const l2 = parseInt(t3.getAttribute("colspan") || 1);
          l2 > 1 && (s4.colspan = l2);
          const c3 = o2.getChildIndex(n2), d4 = c3 + r2, h4 = [...new pf(o2, { startRow: c3, endRow: d4, includeSpanned: true })];
          let u3;
          for (const { row: e4, column: n3, cell: r3, cellIndex: a5 } of h4) if (r3 === t3 && void 0 === u3 && (u3 = n3), void 0 !== u3 && u3 === n3 && e4 === d4) {
            const t4 = o2.getChild(e4), n4 = i3.createPositionAt(t4, a5);
            hf(i3, n4, s4);
          }
          df("rowspan", r2, t3, i3);
        }
        class Zf extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection), e3 = this.editor.plugins.get("TableUtils"), i3 = t3.length > 0;
            this.isEnabled = i3, this.value = i3 && t3.every((t4) => uf(e3, t4));
          }
          execute(t3 = {}) {
            if (t3.forceValue === this.value) return;
            const e3 = this.editor.model, i3 = yf(e3.document.selection), { first: n2, last: o2 } = Af(i3), r2 = this.value ? n2 : o2 + 1;
            e3.change((t4) => {
              const e4 = cf("table", i3[0]);
              df("headingColumns", r2, e4, t4, 0);
            });
          }
        }
        class tp extends Jc {
          static get pluginName() {
            return "TableUtils";
          }
          getCellLocation(t3) {
            const e3 = t3.parent, i3 = e3.parent, n2 = i3.getChildIndex(e3), o2 = new pf(i3, { startRow: n2, endRow: n2 });
            for (const { cell: e4, row: i4, column: n3 } of o2) if (e4 === t3) return { row: i4, column: n3 };
          }
          createTable(t3, e3, i3) {
            const n2 = t3.createElement("table");
            return ep(t3, n2, 0, e3, i3), n2;
          }
          insertRows(t3, e3 = {}) {
            const i3 = this.editor.model, n2 = e3.at || 0, o2 = e3.rows || 1;
            i3.change((e4) => {
              const i4 = t3.getAttribute("headingRows") || 0;
              if (i4 > n2 && e4.setAttribute("headingRows", i4 + o2, t3), 0 === n2 || n2 === t3.childCount) return void ep(e4, t3, n2, o2, this.getColumns(t3));
              const r2 = new pf(t3, { endRow: n2 });
              let s4 = 0;
              for (const { row: t4, rowspan: i5, colspan: a4, cell: l2 } of r2) {
                const r3 = t4 + i5 > n2;
                t4 < n2 && r3 && e4.setAttribute("rowspan", i5 + o2, l2), t4 === n2 && (s4 += a4);
              }
              ep(e4, t3, n2, o2, s4);
            });
          }
          insertColumns(t3, e3 = {}) {
            const i3 = this.editor.model, n2 = e3.at || 0, o2 = e3.columns || 1;
            i3.change((e4) => {
              const i4 = t3.getAttribute("headingColumns");
              n2 < i4 && e4.setAttribute("headingColumns", i4 + o2, t3);
              const r2 = this.getColumns(t3);
              if (0 === n2 || r2 === n2) {
                for (const i5 of t3.getChildren()) ip(o2, e4, e4.createPositionAt(i5, n2 ? "end" : 0));
                return;
              }
              const s4 = new pf(t3, { column: n2, includeSpanned: true });
              for (const { row: i5, cell: r3, cellIndex: a4 } of s4) {
                const l2 = parseInt(r3.getAttribute("rowspan") || 1), c3 = parseInt(r3.getAttribute("colspan") || 1);
                if (a4 !== n2 && c3 > 1) {
                  if (e4.setAttribute("colspan", c3 + o2, r3), s4.skipRow(i5), l2 > 1) for (let t4 = i5 + 1; t4 < i5 + l2; t4++) s4.skipRow(t4);
                } else {
                  const n3 = e4.createPositionAt(t3.getChild(i5), a4);
                  ip(o2, e4, n3);
                }
              }
            });
          }
          removeRows(t3, e3) {
            const i3 = this.editor.model, n2 = e3.rows || 1, o2 = e3.at, r2 = o2 + n2 - 1, s4 = e3.batch || "default", { cellsToMove: a4, cellsToTrim: l2 } = function(t4, e4, i4) {
              const n3 = /* @__PURE__ */ new Map(), o3 = [];
              for (const { row: r3, column: s5, rowspan: a5, cell: l3 } of new pf(t4, { endRow: i4 })) {
                const t5 = r3 + a5 - 1;
                if (r3 >= e4 && r3 <= i4 && t5 > i4) {
                  const t6 = a5 - (i4 - r3 + 1);
                  n3.set(s5, { cell: l3, rowspan: t6 });
                }
                if (r3 < e4 && t5 >= e4) {
                  let n4;
                  n4 = t5 >= i4 ? i4 - e4 + 1 : t5 - e4 + 1, o3.push({ cell: l3, rowspan: a5 - n4 });
                }
              }
              return { cellsToMove: n3, cellsToTrim: o3 };
            }(t3, o2, r2);
            i3.enqueueChange(s4, (e4) => {
              !function(t4, e5, i4, n3) {
                const o3 = [...new pf(t4, { includeSpanned: true, startRow: e5, endRow: e5 })], r3 = t4.getChild(e5);
                let s5;
                for (const { column: t5, cell: e6, isSpanned: a5 } of o3) if (i4.has(t5)) {
                  const { cell: e7, rowspan: o4 } = i4.get(t5), a6 = s5 ? n3.createPositionAfter(s5) : n3.createPositionAt(r3, 0);
                  n3.move(n3.createRangeOn(e7), a6), df("rowspan", o4, e7, n3), s5 = e7;
                } else a5 || (s5 = e6);
              }(t3, r2 + 1, a4, e4);
              for (let i4 = r2; i4 >= o2; i4--) e4.remove(t3.getChild(i4));
              for (const { rowspan: t4, cell: i4 } of l2) df("rowspan", t4, i4, e4);
              !function(t4, e5, i4, n3, o3) {
                const r3 = t4.getAttribute("headingRows") || 0;
                if (e5 < r3) {
                  const s5 = i4 < r3 ? r3 - (i4 - e5 + 1) : e5;
                  n3.enqueueChange(o3, (e6) => {
                    df("headingRows", s5, t4, e6, 0);
                  });
                }
              }(t3, o2, r2, i3, s4);
            });
          }
          removeColumns(t3, e3) {
            const i3 = this.editor.model, n2 = e3.at, o2 = e3.columns || 1, r2 = e3.at + o2 - 1;
            i3.change((e4) => {
              !function(t4, e5, i4) {
                const n3 = t4.getAttribute("headingColumns") || 0;
                if (n3 && e5.first < n3) {
                  const o3 = Math.min(n3 - 1, e5.last) - e5.first + 1;
                  i4.setAttribute("headingColumns", n3 - o3, t4);
                }
              }(t3, { first: n2, last: r2 }, e4);
              for (let i4 = r2; i4 >= n2; i4--) for (const { cell: n3, column: o3, colspan: r3 } of [...new pf(t3)]) if (o3 <= i4 && r3 > 1 && o3 + r3 > i4) df("colspan", r3 - 1, n3, e4);
              else if (o3 === i4) {
                const i5 = n3.parent;
                e4.remove(n3), i5.childCount || this.removeRows(t3, { at: i5.index });
              }
            });
          }
          splitCellVertically(t3, e3 = 2) {
            const i3 = this.editor.model, n2 = t3.parent.parent, o2 = parseInt(t3.getAttribute("rowspan") || 1), r2 = parseInt(t3.getAttribute("colspan") || 1);
            i3.change((i4) => {
              if (r2 > 1) {
                const { newCellsSpan: n3, updatedSpan: s4 } = np(r2, e3);
                df("colspan", s4, t3, i4);
                const a4 = {};
                n3 > 1 && (a4.colspan = n3), o2 > 1 && (a4.rowspan = o2);
                ip(r2 > e3 ? e3 - 1 : r2 - 1, i4, i4.createPositionAfter(t3), a4);
              }
              if (r2 < e3) {
                const s4 = e3 - r2, a4 = [...new pf(n2)], { column: l2 } = a4.find(({ cell: e4 }) => e4 === t3), c3 = a4.filter(({ cell: e4, colspan: i5, column: n3 }) => e4 !== t3 && n3 === l2 || n3 < l2 && n3 + i5 > l2);
                for (const { cell: t4, colspan: e4 } of c3) i4.setAttribute("colspan", e4 + s4, t4);
                const d4 = {};
                o2 > 1 && (d4.rowspan = o2), ip(s4, i4, i4.createPositionAfter(t3), d4);
                const h4 = n2.getAttribute("headingColumns") || 0;
                h4 > l2 && df("headingColumns", h4 + s4, n2, i4);
              }
            });
          }
          splitCellHorizontally(t3, e3 = 2) {
            const i3 = this.editor.model, n2 = t3.parent, o2 = n2.parent, r2 = o2.getChildIndex(n2), s4 = parseInt(t3.getAttribute("rowspan") || 1), a4 = parseInt(t3.getAttribute("colspan") || 1);
            i3.change((i4) => {
              if (s4 > 1) {
                const n3 = [...new pf(o2, { startRow: r2, endRow: r2 + s4 - 1, includeSpanned: true })], { newCellsSpan: l2, updatedSpan: c3 } = np(s4, e3);
                df("rowspan", c3, t3, i4);
                const { column: d4 } = n3.find(({ cell: e4 }) => e4 === t3), h4 = {};
                l2 > 1 && (h4.rowspan = l2), a4 > 1 && (h4.colspan = a4);
                for (const { column: t4, row: e4, cellIndex: s5 } of n3) {
                  const n4 = t4 === d4, a5 = (e4 + r2 + c3) % l2 == 0;
                  if (e4 >= r2 + c3 && n4 && a5) {
                    const t5 = i4.createPositionAt(o2.getChild(e4), s5);
                    ip(1, i4, t5, h4);
                  }
                }
              }
              if (s4 < e3) {
                const n3 = e3 - s4, l2 = [...new pf(o2, { startRow: 0, endRow: r2 })];
                for (const { cell: e4, rowspan: o3, row: s5 } of l2) if (e4 !== t3 && s5 + o3 > r2) {
                  const t4 = o3 + n3;
                  i4.setAttribute("rowspan", t4, e4);
                }
                const c3 = {};
                a4 > 1 && (c3.colspan = a4), ep(i4, o2, r2 + 1, n3, 1, c3);
                const d4 = o2.getAttribute("headingRows") || 0;
                d4 > r2 && df("headingRows", d4 + n3, o2, i4);
              }
            });
          }
          getColumns(t3) {
            return [...t3.getChild(0).getChildren()].reduce((t4, e3) => t4 + parseInt(e3.getAttribute("colspan") || 1), 0);
          }
          getRows(t3) {
            return t3.childCount;
          }
        }
        function ep(t3, e3, i3, n2, o2, r2 = {}) {
          for (let s4 = 0; s4 < n2; s4++) {
            const n3 = t3.createElement("tableRow");
            t3.insert(n3, e3, i3), ip(o2, t3, t3.createPositionAt(n3, "end"), r2);
          }
        }
        function ip(t3, e3, i3, n2 = {}) {
          for (let o2 = 0; o2 < t3; o2++) hf(e3, i3, n2);
        }
        function np(t3, e3) {
          if (t3 < e3) return { newCellsSpan: 1, updatedSpan: 1 };
          const i3 = Math.floor(t3 / e3);
          return { newCellsSpan: i3, updatedSpan: t3 - i3 * e3 + i3 };
        }
        class op extends td {
          refresh() {
            this.isEnabled = function(t3, e3) {
              const i3 = kf(t3);
              if (i3.length < 2 || !function(t4) {
                const e4 = cf("table", t4[0]), i4 = xf(t4), n3 = parseInt(e4.getAttribute("headingRows") || 0);
                if (!lp(i4, n3)) return false;
                const o3 = parseInt(e4.getAttribute("headingColumns") || 0);
                return lp(Af(t4), o3);
              }(i3)) return false;
              const n2 = /* @__PURE__ */ new Set(), o2 = /* @__PURE__ */ new Set();
              let r2 = 0;
              for (const t4 of i3) {
                const { row: i4, column: s4 } = e3.getCellLocation(t4), a4 = parseInt(t4.getAttribute("rowspan") || 1), l2 = parseInt(t4.getAttribute("colspan") || 1);
                n2.add(i4), o2.add(s4), a4 > 1 && n2.add(i4 + a4 - 1), l2 > 1 && o2.add(s4 + l2 - 1), r2 += a4 * l2;
              }
              return function(t4, e4) {
                const i4 = Array.from(t4.values()), n3 = Array.from(e4.values()), o3 = Math.max(...i4), r3 = Math.min(...i4), s4 = Math.max(...n3), a4 = Math.min(...n3);
                return (o3 - r3 + 1) * (s4 - a4 + 1);
              }(n2, o2) == r2;
            }(this.editor.model.document.selection, this.editor.plugins.get(tp));
          }
          execute() {
            const t3 = this.editor.model, e3 = this.editor.plugins.get(tp);
            t3.change((i3) => {
              const n2 = kf(t3.document.selection), o2 = n2.shift();
              i3.setSelection(o2, 0);
              const { mergeWidth: r2, mergeHeight: s4 } = function(t4, e4, i4) {
                let n3 = 0, o3 = 0;
                for (const t5 of e4) {
                  const { row: e5, column: r4 } = i4.getCellLocation(t5);
                  n3 = cp(t5, r4, n3, "colspan"), o3 = cp(t5, e5, o3, "rowspan");
                }
                const { row: r3, column: s5 } = i4.getCellLocation(t4);
                return { mergeWidth: n3 - s5, mergeHeight: o3 - r3 };
              }(o2, n2, e3);
              df("colspan", r2, o2, i3), df("rowspan", s4, o2, i3);
              for (const t4 of n2) {
                const e4 = t4.parent;
                sp(t4, o2, i3), rp(e4, i3);
              }
              i3.setSelection(o2, "in");
            });
          }
        }
        function rp(t3, e3) {
          if (t3.childCount) return;
          const i3 = t3.parent, n2 = i3.getChildIndex(t3);
          for (const { cell: t4, row: o2, rowspan: r2 } of new pf(i3, { endRow: n2 })) {
            o2 + r2 - 1 >= n2 && df("rowspan", r2 - 1, t4, e3);
          }
          e3.remove(t3);
        }
        function sp(t3, e3, i3) {
          ap(t3) || (ap(e3) && i3.remove(i3.createRangeIn(e3)), i3.move(i3.createRangeIn(t3), i3.createPositionAt(e3, "end"))), i3.remove(t3);
        }
        function ap(t3) {
          return 1 == t3.childCount && t3.getChild(0).is("paragraph") && t3.getChild(0).isEmpty;
        }
        function lp({ first: t3, last: e3 }, i3) {
          return t3 < i3 === e3 < i3;
        }
        function cp(t3, e3, i3, n2) {
          const o2 = parseInt(t3.getAttribute(n2) || 1);
          return Math.max(i3, e3 + o2);
        }
        class dp extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection);
            this.isEnabled = t3.length > 0;
          }
          execute() {
            const t3 = this.editor.model, e3 = yf(t3.document.selection), i3 = xf(e3), n2 = cf("table", e3[0]), o2 = [];
            for (let e4 = i3.first; e4 <= i3.last; e4++) for (const i4 of n2.getChild(e4).getChildren()) o2.push(t3.createRangeOn(i4));
            t3.change((t4) => {
              t4.setSelection(o2);
            });
          }
        }
        class hp extends td {
          refresh() {
            const t3 = yf(this.editor.model.document.selection);
            this.isEnabled = t3.length > 0;
          }
          execute() {
            const t3 = this.editor.model, e3 = yf(t3.document.selection), i3 = e3[0], n2 = e3.pop(), o2 = this.editor.plugins.get("TableUtils"), r2 = o2.getCellLocation(i3), s4 = o2.getCellLocation(n2), a4 = Math.min(r2.column, s4.column), l2 = Math.max(r2.column, s4.column), c3 = [];
            for (const e4 of new pf(cf("table", i3))) e4.column >= a4 && e4.column <= l2 && c3.push(t3.createRangeOn(e4.cell));
            t3.change((t4) => {
              t4.setSelection(c3);
            });
          }
        }
        function up(t3) {
          t3.document.registerPostFixer((e3) => function(t4, e4) {
            const i3 = e4.document.differ.getChanges();
            let n2 = false;
            const o2 = /* @__PURE__ */ new Set();
            for (const e5 of i3) {
              let i4;
              "table" == e5.name && "insert" == e5.type && (i4 = e5.position.nodeAfter), "tableRow" != e5.name && "tableCell" != e5.name || (i4 = cf("table", e5.position)), fp(e5) && (i4 = cf("table", e5.range.start)), i4 && !o2.has(i4) && (n2 = mp(i4, t4) || n2, n2 = gp(i4, t4) || n2, o2.add(i4));
            }
            return n2;
          }(e3, t3));
        }
        function mp(t3, e3) {
          let i3 = false;
          const n2 = function(t4) {
            const e4 = parseInt(t4.getAttribute("headingRows") || 0), i4 = t4.childCount, n3 = [];
            for (const { row: o2, rowspan: r2, cell: s4 } of new pf(t4)) {
              if (r2 < 2) continue;
              const t5 = o2 < e4 ? e4 : i4;
              if (o2 + r2 > t5) {
                const e5 = t5 - o2;
                n3.push({ cell: s4, rowspan: e5 });
              }
            }
            return n3;
          }(t3);
          if (n2.length) {
            i3 = true;
            for (const t4 of n2) df("rowspan", t4.rowspan, t4.cell, e3, 1);
          }
          return i3;
        }
        function gp(t3, e3) {
          let i3 = false;
          const n2 = function(t4) {
            const e4 = {};
            for (const { row: i4 } of new pf(t4, { includeSpanned: true })) e4[i4] || (e4[i4] = 0), e4[i4] += 1;
            return e4;
          }(t3), o2 = n2[0];
          if (!Object.values(n2).every((t4) => t4 === o2)) {
            const o3 = Object.values(n2).reduce((t4, e4) => e4 > t4 ? e4 : t4, 0);
            for (const [r2, s4] of Object.entries(n2)) {
              const n3 = o3 - s4;
              if (n3) {
                for (let i4 = 0; i4 < n3; i4++) hf(e3, e3.createPositionAt(t3.getChild(r2), "end"));
                i3 = true;
              }
            }
          }
          return i3;
        }
        function fp(t3) {
          const e3 = "attribute" === t3.type, i3 = t3.attributeKey;
          return e3 && ("headingRows" === i3 || "colspan" === i3 || "rowspan" === i3);
        }
        function pp(t3) {
          t3.document.registerPostFixer((e3) => function(t4, e4) {
            const i3 = e4.document.differ.getChanges();
            let n2 = false;
            for (const e5 of i3) "insert" == e5.type && "table" == e5.name && (n2 = bp(e5.position.nodeAfter, t4) || n2), "insert" == e5.type && "tableRow" == e5.name && (n2 = wp(e5.position.nodeAfter, t4) || n2), "insert" == e5.type && "tableCell" == e5.name && (n2 = _p(e5.position.nodeAfter, t4) || n2), kp(e5) && (n2 = _p(e5.position.parent, t4) || n2);
            return n2;
          }(e3, t3));
        }
        function bp(t3, e3) {
          let i3 = false;
          for (const n2 of t3.getChildren()) i3 = wp(n2, e3) || i3;
          return i3;
        }
        function wp(t3, e3) {
          let i3 = false;
          for (const n2 of t3.getChildren()) i3 = _p(n2, e3) || i3;
          return i3;
        }
        function _p(t3, e3) {
          if (0 == t3.childCount) return e3.insertElement("paragraph", t3), true;
          const i3 = Array.from(t3.getChildren()).filter((t4) => t4.is("text"));
          for (const t4 of i3) e3.wrap(e3.createRangeOn(t4), "paragraph");
          return !!i3.length;
        }
        function kp(t3) {
          return !(!t3.position || !t3.position.parent.is("tableCell")) && ("insert" == t3.type && "$text" == t3.name || "remove" == t3.type);
        }
        function vp(t3) {
          t3.document.registerPostFixer(() => function(t4) {
            const e3 = t4.document.differ, i3 = /* @__PURE__ */ new Set();
            for (const t5 of e3.getChanges()) {
              const e4 = "insert" == t5.type || "remove" == t5.type ? t5.position.parent : t5.range.start.parent;
              e4.is("tableCell") && yp(e4, t5.type) && i3.add(e4);
            }
            if (i3.size) {
              for (const t5 of i3.values()) e3.refreshItem(t5);
              return true;
            }
            return false;
          }(t3));
        }
        function yp(t3, e3) {
          if (!Array.from(t3.getChildren()).some((t4) => t4.is("paragraph"))) return false;
          if ("attribute" == e3) {
            const e4 = Array.from(t3.getChild(0).getAttributeKeys()).length;
            return 1 === t3.childCount && e4 < 2;
          }
          return t3.childCount <= ("insert" == e3 ? 2 : 1);
        }
        i2(85);
        class xp extends Jc {
          static get pluginName() {
            return "TableEditing";
          }
          init() {
            const t3 = this.editor, e3 = t3.model, i3 = e3.schema, n2 = t3.conversion;
            i3.register("table", { allowWhere: "$block", allowAttributes: ["headingRows", "headingColumns"], isLimit: true, isObject: true, isBlock: true }), i3.register("tableRow", { allowIn: "table", isLimit: true }), i3.register("tableCell", { allowIn: "tableRow", allowAttributes: ["colspan", "rowspan"], isObject: true }), i3.extend("$block", { allowIn: "tableCell" }), i3.addChildCheck((t4, e4) => {
              if ("table" == e4.name && Array.from(t4.getNames()).includes("table")) return false;
            }), n2.for("upcast").add(mf()), n2.for("editingDowncast").add(Mf({ asWidget: true })), n2.for("dataDowncast").add(Mf()), n2.for("upcast").elementToElement({ model: "tableRow", view: "tr" }), n2.for("editingDowncast").add(Ef({ asWidget: true })), n2.for("dataDowncast").add(Ef()), n2.for("downcast").add((t4) => t4.on("remove:tableRow", (t5, e4, i4) => {
              t5.stop();
              const n3 = i4.writer, o2 = i4.mapper, r2 = o2.toViewPosition(e4.position).getLastMatchingPosition((t6) => !t6.item.is("tr")).nodeAfter, s4 = r2.parent.parent, a4 = n3.createRangeOn(r2), l2 = n3.remove(a4);
              for (const t6 of n3.createRangeIn(l2).getItems()) o2.unbindViewElement(t6);
              Vf("thead", s4, i4), Vf("tbody", s4, i4);
            }, { priority: "higher" })), n2.for("upcast").add(gf("td")), n2.for("upcast").add(gf("th")), n2.for("editingDowncast").add(Pf({ asWidget: true })), n2.for("dataDowncast").add(Pf()), n2.attributeToAttribute({ model: "colspan", view: "colspan" }), n2.attributeToAttribute({ model: "rowspan", view: "rowspan" }), n2.for("editingDowncast").add(If({ asWidget: true })), n2.for("dataDowncast").add(If()), n2.for("editingDowncast").add(Sf({ asWidget: true })), n2.for("dataDowncast").add(Sf()), t3.commands.add("insertTable", new Uf(t3)), t3.commands.add("insertTableRowAbove", new Wf(t3, { order: "above" })), t3.commands.add("insertTableRowBelow", new Wf(t3, { order: "below" })), t3.commands.add("insertTableColumnLeft", new qf(t3, { order: "left" })), t3.commands.add("insertTableColumnRight", new qf(t3, { order: "right" })), t3.commands.add("removeTableRow", new Gf(t3)), t3.commands.add("removeTableColumn", new Qf(t3)), t3.commands.add("splitTableCellVertically", new Yf(t3, { direction: "vertically" })), t3.commands.add("splitTableCellHorizontally", new Yf(t3, { direction: "horizontally" })), t3.commands.add("mergeTableCells", new op(t3)), t3.commands.add("mergeTableCellRight", new $f(t3, { direction: "right" })), t3.commands.add("mergeTableCellLeft", new $f(t3, { direction: "left" })), t3.commands.add("mergeTableCellDown", new $f(t3, { direction: "down" })), t3.commands.add("mergeTableCellUp", new $f(t3, { direction: "up" })), t3.commands.add("setTableColumnHeader", new Zf(t3)), t3.commands.add("setTableRowHeader", new Xf(t3)), t3.commands.add("selectTableRow", new dp(t3)), t3.commands.add("selectTableColumn", new hp(t3)), up(e3), vp(e3), pp(e3);
          }
          static get requires() {
            return [tp];
          }
        }
        i2(87);
        class Ap extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate;
            this.set("icon"), this.set("isEnabled", true), this.set("isOn", false), this.set("isToggleable", false), this.set("isVisible", true), this.set("keystroke"), this.set("label"), this.set("tabindex", -1), this.set("tooltip"), this.set("tooltipPosition", "s"), this.set("type", "button"), this.set("withText", false), this.children = this.createCollection(), this.actionView = this._createActionView(), this.arrowView = this._createArrowView(), this.keystrokes = new Al(), this.focusTracker = new Nl(), this.setTemplate({ tag: "div", attributes: { class: ["ck", "ck-splitbutton", e3.if("isVisible", "ck-hidden", (t4) => !t4), this.arrowView.bindTemplate.if("isOn", "ck-splitbutton_open")] }, children: this.children });
          }
          render() {
            super.render(), this.children.add(this.actionView), this.children.add(this.arrowView), this.focusTracker.add(this.actionView.element), this.focusTracker.add(this.arrowView.element), this.keystrokes.listenTo(this.element), this.keystrokes.set("arrowright", (t3, e3) => {
              this.focusTracker.focusedElement === this.actionView.element && (this.arrowView.focus(), e3());
            }), this.keystrokes.set("arrowleft", (t3, e3) => {
              this.focusTracker.focusedElement === this.arrowView.element && (this.actionView.focus(), e3());
            });
          }
          focus() {
            this.actionView.focus();
          }
          _createActionView() {
            const t3 = new Oc();
            return t3.bind("icon", "isEnabled", "isOn", "isToggleable", "keystroke", "label", "tabindex", "tooltip", "tooltipPosition", "type", "withText").to(this), t3.extendTemplate({ attributes: { class: "ck-splitbutton__action" } }), t3.delegate("execute").to(this), t3;
          }
          _createArrowView() {
            const t3 = new Oc(), e3 = t3.bindTemplate;
            return t3.icon = Nc, t3.extendTemplate({ attributes: { class: "ck-splitbutton__arrow", "aria-haspopup": true, "aria-expanded": e3.to("isOn", (t4) => String(t4)) } }), t3.bind("isEnabled").to(this), t3.delegate("execute").to(this, "open"), t3;
          }
        }
        i2(89);
        class Cp extends lc {
          constructor(t3) {
            super(t3);
            const e3 = this.bindTemplate;
            this.items = this._createGridCollection(), this.set("rows", 0), this.set("columns", 0), this.bind("label").to(this, "columns", this, "rows", (t4, e4) => `${e4} \xD7 ${t4}`), this.setTemplate({ tag: "div", attributes: { class: ["ck"] }, children: [{ tag: "div", attributes: { class: ["ck-insert-table-dropdown__grid"] }, on: { "mouseover@.ck-insert-table-dropdown-grid-box": e3.to("boxover") }, children: this.items }, { tag: "div", attributes: { class: ["ck-insert-table-dropdown__label"] }, children: [{ text: e3.to("label") }] }], on: { mousedown: e3.to((t4) => {
              t4.preventDefault();
            }), click: e3.to(() => {
              this.fire("execute");
            }) } }), this.on("boxover", (t4, e4) => {
              const { row: i3, column: n2 } = e4.target.dataset;
              this.set({ rows: parseInt(i3), columns: parseInt(n2) });
            }), this.on("change:columns", () => {
              this._highlightGridBoxes();
            }), this.on("change:rows", () => {
              this._highlightGridBoxes();
            });
          }
          focus() {
          }
          focusLast() {
          }
          _highlightGridBoxes() {
            const t3 = this.rows, e3 = this.columns;
            this.items.map((i3, n2) => {
              const o2 = Math.floor(n2 / 10) < t3 && n2 % 10 < e3;
              i3.set("isOn", o2);
            });
          }
          _createGridCollection() {
            const t3 = [];
            for (let e3 = 0; e3 < 100; e3++) {
              const i3 = Math.floor(e3 / 10), n2 = e3 % 10;
              t3.push(new Tp(this.locale, i3 + 1, n2 + 1));
            }
            return this.createCollection(t3);
          }
        }
        class Tp extends lc {
          constructor(t3, e3, i3) {
            super(t3);
            const n2 = this.bindTemplate;
            this.set("isOn", false), this.setTemplate({ tag: "div", attributes: { class: ["ck-insert-table-dropdown-grid-box", n2.if("isOn", "ck-on")], "data-row": e3, "data-column": i3 } });
          }
        }
        class Mp extends Jc {
          init() {
            const t3 = this.editor, e3 = this.editor.t, i3 = "ltr" === t3.locale.contentLanguageDirection;
            t3.ui.componentFactory.add("insertTable", (i4) => {
              const n2 = t3.commands.get("insertTable"), o2 = Vc(i4);
              let r2;
              return o2.bind("isEnabled").to(n2), o2.buttonView.set({ icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>', label: e3("Insert table"), tooltip: true }), o2.on("change:isOpen", () => {
                r2 || (r2 = new Cp(i4), o2.panelView.children.add(r2), r2.delegate("execute").to(o2), o2.buttonView.on("open", () => {
                  r2.rows = 0, r2.columns = 0;
                }), o2.on("execute", () => {
                  t3.execute("insertTable", { rows: r2.rows, columns: r2.columns }), t3.editing.view.focus();
                }));
              }), o2;
            }), t3.ui.componentFactory.add("tableColumn", (t4) => {
              const n2 = [{ type: "switchbutton", model: { commandName: "setTableColumnHeader", label: e3("Header column"), bindIsOn: true } }, { type: "separator" }, { type: "button", model: { commandName: i3 ? "insertTableColumnLeft" : "insertTableColumnRight", label: e3("Insert column left") } }, { type: "button", model: { commandName: i3 ? "insertTableColumnRight" : "insertTableColumnLeft", label: e3("Insert column right") } }, { type: "button", model: { commandName: "removeTableColumn", label: e3("Delete column") } }, { type: "button", model: { commandName: "selectTableColumn", label: e3("Select column") } }];
              return this._prepareDropdown(e3("Column"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>', n2, t4);
            }), t3.ui.componentFactory.add("tableRow", (t4) => {
              const i4 = [{ type: "switchbutton", model: { commandName: "setTableRowHeader", label: e3("Header row"), bindIsOn: true } }, { type: "separator" }, { type: "button", model: { commandName: "insertTableRowBelow", label: e3("Insert row below") } }, { type: "button", model: { commandName: "insertTableRowAbove", label: e3("Insert row above") } }, { type: "button", model: { commandName: "removeTableRow", label: e3("Delete row") } }, { type: "button", model: { commandName: "selectTableRow", label: e3("Select row") } }];
              return this._prepareDropdown(e3("Row"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>', i4, t4);
            }), t3.ui.componentFactory.add("mergeTableCells", (t4) => {
              const n2 = [{ type: "button", model: { commandName: "mergeTableCellUp", label: e3("Merge cell up") } }, { type: "button", model: { commandName: i3 ? "mergeTableCellRight" : "mergeTableCellLeft", label: e3("Merge cell right") } }, { type: "button", model: { commandName: "mergeTableCellDown", label: e3("Merge cell down") } }, { type: "button", model: { commandName: i3 ? "mergeTableCellLeft" : "mergeTableCellRight", label: e3("Merge cell left") } }, { type: "separator" }, { type: "button", model: { commandName: "splitTableCellVertically", label: e3("Split cell vertically") } }, { type: "button", model: { commandName: "splitTableCellHorizontally", label: e3("Split cell horizontally") } }];
              return this._prepareMergeSplitButtonDropdown(e3("Merge cells"), '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>', n2, t4);
            });
          }
          _prepareDropdown(t3, e3, i3, n2) {
            const o2 = this.editor, r2 = Vc(n2), s4 = this._fillDropdownWithListOptions(r2, i3);
            return r2.buttonView.set({ label: t3, icon: e3, tooltip: true }), r2.bind("isEnabled").toMany(s4, "isEnabled", (...t4) => t4.some((t5) => t5)), this.listenTo(r2, "execute", (t4) => {
              o2.execute(t4.source.commandName), o2.editing.view.focus();
            }), r2;
          }
          _prepareMergeSplitButtonDropdown(t3, e3, i3, n2) {
            const o2 = this.editor, r2 = Vc(n2, Ap);
            return this._fillDropdownWithListOptions(r2, i3), r2.buttonView.set({ label: t3, icon: e3, tooltip: true, isEnabled: true }), this.listenTo(r2.buttonView, "execute", () => {
              o2.execute("mergeTableCells"), o2.editing.view.focus();
            }), this.listenTo(r2, "execute", (t4) => {
              o2.execute(t4.source.commandName), o2.editing.view.focus();
            }), r2;
          }
          _fillDropdownWithListOptions(t3, e3) {
            const i3 = this.editor, n2 = [], o2 = new xi();
            for (const t4 of e3) Ep(t4, i3, n2, o2);
            return Fc(t3, o2, i3.ui.componentFactory), n2;
          }
        }
        function Ep(t3, e3, i3, n2) {
          const o2 = t3.model = new Im(t3.model), { commandName: r2, bindIsOn: s4 } = t3.model;
          if ("button" === t3.type || "switchbutton" === t3.type) {
            const t4 = e3.commands.get(r2);
            i3.push(t4), o2.set({ commandName: r2 }), o2.bind("isEnabled").to(t4), s4 && o2.bind("isOn").to(t4, "value");
          }
          o2.set({ withText: true }), n2.add(t3);
        }
        class Pp extends Or {
          constructor(t3) {
            super(t3), this.domEventType = ["mousemove", "mouseup", "mouseleave"];
          }
          onDomEvent(t3) {
            this.fire(t3.type, t3);
          }
        }
        function Sp(t3, e3, i3) {
          const n2 = Array.from(t3), o2 = n2[0], r2 = n2[n2.length - 1], { row: s4, column: a4 } = e3.getCellLocation(o2), l2 = function(t4, e4, i4, n3) {
            const o3 = i4.createElement("table"), r3 = /* @__PURE__ */ new Map(), s5 = /* @__PURE__ */ new Map();
            for (const e5 of t4) {
              const t5 = cf("tableRow", e5);
              if (!r3.has(t5)) {
                const e6 = t5._clone();
                i4.append(e6, o3), r3.set(t5, e6);
              }
              const a5 = e5._clone(true), { column: l3 } = n3.getCellLocation(e5);
              s5.set(a5, l3), i4.append(a5, r3.get(t5));
            }
            return function(t5, e5, i5, n4, o4) {
              for (const r4 of t5.getChildren()) for (const t6 of Array.from(r4.getChildren())) {
                const { column: r5 } = o4.getCellLocation(t6), s6 = i5.get(t6) - e5;
                if (r5 !== s6) for (let e6 = 0; e6 < s6 - r5; e6++) {
                  const e7 = n4.createElement("tableCell");
                  n4.insert(e7, n4.createPositionBefore(t6));
                  const i6 = n4.createElement("paragraph");
                  n4.insert(i6, e7, 0), n4.insertText("", i6, 0);
                }
              }
            }(o3, e4, s5, i4, n3), o3;
          }(n2, a4, i3, e3), { row: c3, column: d4 } = e3.getCellLocation(r2);
          !function(t4, e4, i4, n3, o3) {
            for (const r3 of t4.getChildren()) for (const t5 of r3.getChildren()) {
              const r4 = parseInt(t5.getAttribute("colspan") || 1), s5 = parseInt(t5.getAttribute("rowspan") || 1), { row: a5, column: l3 } = o3.getCellLocation(t5);
              if (l3 + r4 > e4) {
                const i5 = e4 - l3;
                i5 > 1 ? n3.setAttribute("colspan", i5, t5) : n3.removeAttribute("colspan", t5);
              }
              if (a5 + s5 > i4) {
                const e5 = i4 - a5;
                e5 > 1 ? n3.setAttribute("rowspan", e5, t5) : n3.removeAttribute("rowspan", t5);
              }
            }
          }(l2, d4 - a4 + 1, c3 - s4 + 1, i3, e3);
          return function(t4, e4, i4, n3, o3) {
            const r3 = parseInt(e4.getAttribute("headingRows") || 0);
            if (r3 > 0) {
              const e5 = r3 - i4;
              o3.setAttribute("headingRows", e5, t4);
            }
            const s5 = parseInt(e4.getAttribute("headingColumns") || 0);
            if (s5 > 0) {
              const e5 = s5 - n3;
              o3.setAttribute("headingColumns", e5, t4);
            }
          }(l2, cf("table", o2), s4, a4, i3), l2;
        }
        i2(91);
        class Ip extends Jc {
          static get pluginName() {
            return "TableSelection";
          }
          static get requires() {
            return [tp];
          }
          init() {
            const t3 = this.editor, e3 = t3.model;
            this.listenTo(e3, "deleteContent", (t4, e4) => this._handleDeleteContent(t4, e4), { priority: "high" }), t3.editing.view.addObserver(Pp), this._defineSelectionConverter(), this._enableShiftClickSelection(), this._enableMouseDragSelection(), this._enablePluginDisabling();
          }
          getSelectedTableCells() {
            const t3 = kf(this.editor.model.document.selection);
            return 0 == t3.length ? null : t3;
          }
          getSelectionAsFragment() {
            const t3 = this.getSelectedTableCells();
            return t3 ? this.editor.model.change((e3) => {
              const i3 = e3.createDocumentFragment(), n2 = Sp(t3, this.editor.plugins.get("TableUtils"), e3);
              return e3.insert(n2, i3, 0), i3;
            }) : null;
          }
          _defineSelectionConverter() {
            const t3 = this.editor, e3 = /* @__PURE__ */ new Set();
            t3.conversion.for("editingDowncast").add((t4) => t4.on("selection", (t5, i3, n2) => {
              const o2 = n2.writer;
              !function(t6) {
                for (const i4 of e3) t6.removeClass("ck-editor__editable_selected", i4);
                e3.clear();
              }(o2);
              const r2 = this.getSelectedTableCells();
              if (!r2) return;
              for (const t6 of r2) {
                const i4 = n2.mapper.toViewElement(t6);
                o2.addClass("ck-editor__editable_selected", i4), e3.add(i4);
              }
              const s4 = n2.mapper.toViewElement(r2[r2.length - 1]);
              o2.setSelection(s4, 0);
            }, { priority: "lowest" }));
          }
          _enableShiftClickSelection() {
            const t3 = this.editor;
            let e3 = false;
            this.listenTo(t3.editing.view.document, "mousedown", (i3, n2) => {
              if (!this.isEnabled) return;
              if (!n2.domEvent.shiftKey) return;
              const o2 = vf(t3.model.document.selection)[0];
              if (!o2) return;
              const r2 = this._getModelTableCellFromDomEvent(n2);
              r2 && Op(o2, r2) && (e3 = true, this._setCellSelection(o2, r2), n2.preventDefault());
            }), this.listenTo(t3.editing.view.document, "mouseup", () => {
              e3 = false;
            }), this.listenTo(t3.editing.view.document, "selectionChange", (t4) => {
              e3 && t4.stop();
            }, { priority: "highest" });
          }
          _enableMouseDragSelection() {
            const t3 = this.editor;
            let e3, i3, n2 = false, o2 = false;
            this.listenTo(t3.editing.view.document, "mousedown", (t4, i4) => {
              this.isEnabled && (i4.domEvent.shiftKey || i4.domEvent.ctrlKey || i4.domEvent.altKey || (e3 = this._getModelTableCellFromDomEvent(i4)));
            }), this.listenTo(t3.editing.view.document, "mousemove", (t4, r2) => {
              if (!r2.domEvent.buttons) return;
              if (!e3) return;
              const s4 = this._getModelTableCellFromDomEvent(r2);
              s4 && Op(e3, s4) && (i3 = s4, n2 || i3 == e3 || (n2 = true)), n2 && (o2 = true, this._setCellSelection(e3, i3), r2.preventDefault());
            }), this.listenTo(t3.editing.view.document, "mouseup", () => {
              n2 = false, o2 = false, e3 = null, i3 = null;
            }), this.listenTo(t3.editing.view.document, "selectionChange", (t4) => {
              o2 && t4.stop();
            }, { priority: "highest" });
          }
          _enablePluginDisabling() {
            const t3 = this.editor;
            this.on("change:isEnabled", () => {
              if (!this.isEnabled) {
                const e3 = this.getSelectedTableCells();
                if (!e3) return;
                t3.model.change((i3) => {
                  const n2 = i3.createPositionAt(e3[0], 0), o2 = t3.model.schema.getNearestSelectionRange(n2);
                  i3.setSelection(o2);
                });
              }
            });
          }
          _handleDeleteContent(t3, e3) {
            const [i3, n2] = e3, o2 = this.editor.model, r2 = !n2 || "backward" == n2.direction, s4 = kf(i3);
            s4.length && (t3.stop(), o2.change((t4) => {
              const e4 = s4[r2 ? s4.length - 1 : 0];
              o2.change((t5) => {
                for (const e5 of s4) o2.deleteContent(t5.createSelection(e5, "in"));
              });
              const n3 = o2.schema.getNearestSelectionRange(t4.createPositionAt(e4, 0));
              i3.is("documentSelection") ? t4.setSelection(n3) : i3.setTo(n3);
            }));
          }
          _setCellSelection(t3, e3) {
            const i3 = this._getCellsToSelect(t3, e3);
            this.editor.model.change((t4) => {
              t4.setSelection(i3.cells.map((e4) => t4.createRangeOn(e4)), { backward: i3.backward });
            });
          }
          _getModelTableCellFromDomEvent(t3) {
            const e3 = t3.target, i3 = this.editor.editing.view.createPositionAt(e3, 0), n2 = this.editor.editing.mapper.toModelPosition(i3).parent;
            return n2.is("tableCell") ? n2 : cf("tableCell", n2);
          }
          _getCellsToSelect(t3, e3) {
            const i3 = this.editor.plugins.get("TableUtils"), n2 = i3.getCellLocation(t3), o2 = i3.getCellLocation(e3), r2 = Math.min(n2.row, o2.row), s4 = Math.max(n2.row, o2.row), a4 = Math.min(n2.column, o2.column), l2 = Math.max(n2.column, o2.column), c3 = [];
            for (const e4 of new pf(cf("table", t3), { startRow: r2, endRow: s4 })) e4.column >= a4 && e4.column <= l2 && c3.push(e4.cell);
            return function(t4, e4) {
              if (t4.row > e4.row) return true;
              if (t4.row == e4.row && t4.column > e4.column) return true;
              return false;
            }(n2, o2) ? { cells: c3.reverse(), backward: true } : { cells: c3, backward: false };
          }
        }
        function Op(t3, e3) {
          return t3.parent.parent == e3.parent.parent;
        }
        class Np extends Jc {
          static get pluginName() {
            return "TableClipboard";
          }
          static get requires() {
            return [Ip];
          }
          init() {
            const t3 = this.editor.editing.view.document;
            this.listenTo(t3, "copy", (t4, e3) => this._onCopyCut(t4, e3)), this.listenTo(t3, "cut", (t4, e3) => this._onCopyCut(t4, e3));
          }
          _onCopyCut(t3, e3) {
            const i3 = this.editor.plugins.get("TableSelection");
            if (!i3.getSelectedTableCells()) return;
            if ("cut" == t3.name && this.editor.isReadOnly) return;
            e3.preventDefault(), t3.stop();
            const n2 = this.editor.data, o2 = this.editor.editing.view.document, r2 = n2.toView(i3.getSelectionAsFragment());
            o2.fire("clipboardOutput", { dataTransfer: e3.dataTransfer, content: r2, method: t3.name });
          }
        }
        class Rp extends Jc {
          static get pluginName() {
            return "TableNavigation";
          }
          init() {
            const t3 = this.editor.editing.view.document;
            this.editor.keystrokes.set("Tab", (...t4) => this._handleTabOnSelectedTable(...t4), { priority: "low" }), this.editor.keystrokes.set("Tab", this._getTabHandler(true), { priority: "low" }), this.editor.keystrokes.set("Shift+Tab", this._getTabHandler(false), { priority: "low" }), this.listenTo(t3, "keydown", (...t4) => this._onKeydown(...t4), { priority: di.get("high") + 1 });
          }
          _handleTabOnSelectedTable(t3, e3) {
            const i3 = this.editor, n2 = i3.model.document.selection;
            if (!n2.isCollapsed && 1 === n2.rangeCount && n2.getFirstRange().isFlat) {
              const t4 = n2.getSelectedElement();
              if (!t4 || !t4.is("table")) return;
              e3(), i3.model.change((e4) => {
                e4.setSelection(e4.createRangeIn(t4.getChild(0).getChild(0)));
              });
            }
          }
          _getTabHandler(t3) {
            const e3 = this.editor;
            return (i3, n2) => {
              const o2 = vf(e3.model.document.selection)[0];
              if (!o2) return;
              n2();
              const r2 = o2.parent, s4 = r2.parent, a4 = s4.getChildIndex(r2), l2 = r2.getChildIndex(o2), c3 = 0 === l2;
              if (!t3 && c3 && 0 === a4) return;
              const d4 = l2 === r2.childCount - 1, h4 = a4 === s4.childCount - 1;
              if (t3 && h4 && d4 && (e3.execute("insertTableRowBelow"), a4 === s4.childCount - 1)) return;
              let u3;
              if (t3 && d4) {
                const t4 = s4.getChild(a4 + 1);
                u3 = t4.getChild(0);
              } else if (!t3 && c3) {
                const t4 = s4.getChild(a4 - 1);
                u3 = t4.getChild(t4.childCount - 1);
              } else u3 = r2.getChild(l2 + (t3 ? 1 : -1));
              e3.model.change((t4) => {
                t4.setSelection(t4.createRangeIn(u3));
              });
            };
          }
          _onKeydown(t3, e3) {
            const i3 = e3.keyCode;
            if (!function(t4) {
              return t4 == fo.arrowright || t4 == fo.arrowleft || t4 == fo.arrowup || t4 == fo.arrowdown;
            }(i3)) return;
            this._handleArrowKeys(function(t4, e4) {
              const i4 = "ltr" === e4;
              switch (t4) {
                case fo.arrowleft:
                  return i4 ? "left" : "right";
                case fo.arrowright:
                  return i4 ? "right" : "left";
                case fo.arrowup:
                  return "up";
                case fo.arrowdown:
                  return "down";
              }
            }(i3, this.editor.locale.contentLanguageDirection)) && (e3.preventDefault(), e3.stopPropagation(), t3.stop());
          }
          _handleArrowKeys(t3) {
            const e3 = this.editor.model, i3 = e3.document.selection, n2 = ["right", "down"].includes(t3), o2 = kf(i3);
            if (o2.length) {
              const e4 = n2 ? o2[o2.length - 1] : o2[0];
              return this._navigateFromCellInDirection(e4, t3), true;
            }
            const r2 = cf("tableCell", i3.focus);
            if (!r2) return false;
            const s4 = e3.createRangeIn(r2);
            if (this._isSelectionAtCellEdge(i3, n2)) return this._navigateFromCellInDirection(r2, t3), true;
            const a4 = i3.getSelectedElement();
            if (a4 && e3.schema.isObject(a4)) return false;
            if (this._isObjectElementNextToSelection(i3, n2)) return false;
            const l2 = this._findTextRangeFromSelection(s4, i3, n2);
            return l2 ? !["left", "right"].includes(t3) && (this._isSingleLineRange(l2, n2) ? (e3.change((t4) => {
              t4.setSelection(n2 ? s4.end : s4.start);
            }), true) : void 0) : (this._navigateFromCellInDirection(r2, t3), true);
          }
          _isSelectionAtCellEdge(t3, e3) {
            const i3 = this.editor.model, n2 = this.editor.model.schema, o2 = e3 ? t3.getLastPosition() : t3.getFirstPosition();
            if (!n2.getLimitElement(o2).is("tableCell")) return false;
            const r2 = i3.createSelection(o2);
            return i3.modifySelection(r2, { direction: e3 ? "forward" : "backward" }), o2.isEqual(r2.focus);
          }
          _isObjectElementNextToSelection(t3, e3) {
            const i3 = this.editor.model, n2 = i3.schema, o2 = i3.createSelection(t3);
            i3.modifySelection(o2, { direction: e3 ? "forward" : "backward" });
            const r2 = e3 ? o2.focus.nodeBefore : o2.focus.nodeAfter;
            return r2 && n2.isObject(r2);
          }
          _findTextRangeFromSelection(t3, e3, i3) {
            const n2 = this.editor.model;
            if (i3) {
              const i4 = e3.getLastPosition(), o2 = this._getNearestVisibleTextPosition(t3, "backward");
              return o2 && i4.isBefore(o2) ? n2.createRange(i4, o2) : null;
            }
            {
              const i4 = e3.getFirstPosition(), o2 = this._getNearestVisibleTextPosition(t3, "forward");
              return o2 && i4.isAfter(o2) ? n2.createRange(o2, i4) : null;
            }
          }
          _getNearestVisibleTextPosition(t3, e3) {
            const i3 = this.editor.model.schema, n2 = this.editor.editing.mapper;
            for (const { nextPosition: o2, item: r2 } of t3.getWalker({ direction: e3 })) if (i3.checkChild(o2, "$text")) {
              const t4 = n2.toViewElement(r2);
              if (t4 && !t4.hasClass("ck-hidden")) return o2;
            }
          }
          _isSingleLineRange(t3, e3) {
            const i3 = this.editor.model, n2 = this.editor.editing, o2 = n2.view.domConverter;
            if (e3) {
              const e4 = i3.createSelection(t3.start);
              i3.modifySelection(e4), e4.focus.isAtEnd || t3.start.isEqual(e4.focus) || (t3 = i3.createRange(e4.focus, t3.end));
            }
            const r2 = n2.mapper.toViewRange(t3), s4 = o2.viewRangeToDom(r2), a4 = Kr.getDomRangeRects(s4);
            let l2;
            for (const t4 of a4) if (void 0 !== l2) {
              if (Math.round(t4.top) >= l2) return false;
              l2 = Math.max(l2, Math.round(t4.bottom));
            } else l2 = Math.round(t4.bottom);
            return true;
          }
          _navigateFromCellInDirection(t3, e3) {
            const i3 = this.editor.model, n2 = cf("table", t3), o2 = [...new pf(n2, { includeSpanned: true })], { row: r2, column: s4 } = o2[o2.length - 1], a4 = o2.find(({ cell: e4 }) => e4 == t3);
            let { row: l2, column: c3 } = a4;
            switch (e3) {
              case "left":
                c3--;
                break;
              case "up":
                l2--;
                break;
              case "right":
                c3 += a4.colspan;
                break;
              case "down":
                l2 += a4.rowspan;
            }
            if (l2 < 0 || l2 > r2 || c3 < 0 && l2 <= 0 || c3 > s4 && l2 >= r2) return void i3.change((t4) => {
              t4.setSelection(t4.createRangeOn(n2));
            });
            c3 < 0 ? (c3 = s4, l2--) : c3 > s4 && (c3 = 0, l2++);
            const d4 = o2.find((t4) => t4.row == l2 && t4.column == c3).cell, h4 = ["right", "down"].includes(e3), u3 = i3.createPositionAt(d4, h4 ? 0 : "end");
            i3.change((t4) => {
              t4.setSelection(u3);
            });
          }
        }
        i2(93);
        class Lp {
          constructor(t3, e3) {
            this.model = t3, this.testCallback = e3, this.hasMatch = false, this.set("isEnabled", true), this.on("change:isEnabled", () => {
              this.isEnabled ? this._startListening() : (this.stopListening(t3.document.selection), this.stopListening(t3.document));
            }), this._startListening();
          }
          _startListening() {
            const t3 = this.model.document;
            this.listenTo(t3.selection, "change:range", (e3, { directChange: i3 }) => {
              i3 && (t3.selection.isCollapsed ? this._evaluateTextBeforeSelection("selection") : this.hasMatch && (this.fire("unmatched"), this.hasMatch = false));
            }), this.listenTo(t3, "change:data", (t4, e3) => {
              "transparent" != e3.type && this._evaluateTextBeforeSelection("data", { batch: e3 });
            });
          }
          _evaluateTextBeforeSelection(t3, e3 = {}) {
            const i3 = this.model, n2 = i3.document.selection, o2 = i3.createRange(i3.createPositionAt(n2.focus.parent, 0), n2.focus), { text: r2, range: s4 } = rh(o2, i3), a4 = this.testCallback(r2);
            if (!a4 && this.hasMatch && this.fire("unmatched"), this.hasMatch = !!a4, a4) {
              const i4 = Object.assign(e3, { text: r2, range: s4 });
              "object" == typeof a4 && Object.assign(i4, a4), this.fire("matched:" + t3, i4);
            }
          }
        }
        yi(Lp, Hn);
        var jp = /[\\^$.*+?()[\]{}|]/g, Dp = RegExp(jp.source);
        var zp = function(t3) {
          return (t3 = Xi(t3)) && Dp.test(t3) ? t3.replace(jp, "\\$&") : t3;
        };
        const Bp = { copyright: { from: "(c)", to: "\xA9" }, registeredTrademark: { from: "(r)", to: "\xAE" }, trademark: { from: "(tm)", to: "\u2122" }, oneHalf: { from: "1/2", to: "\xBD" }, oneThird: { from: "1/3", to: "\u2153" }, twoThirds: { from: "2/3", to: "\u2154" }, oneForth: { from: "1/4", to: "\xBC" }, threeQuarters: { from: "3/4", to: "\xBE" }, lessThanOrEqual: { from: "<=", to: "\u2264" }, greaterThanOrEqual: { from: ">=", to: "\u2265" }, notEqual: { from: "!=", to: "\u2260" }, arrowLeft: { from: "<-", to: "\u2190" }, arrowRight: { from: "->", to: "\u2192" }, horizontalEllipsis: { from: "...", to: "\u2026" }, enDash: { from: /(^| )(--)( )$/, to: [null, "\u2013", null] }, emDash: { from: /(^| )(---)( )$/, to: [null, "\u2014", null] }, quotesPrimary: { from: qp('"'), to: [null, "\u201C", null, "\u201D"] }, quotesSecondary: { from: qp("'"), to: [null, "\u2018", null, "\u2019"] }, quotesPrimaryEnGb: { from: qp("'"), to: [null, "\u2018", null, "\u2019"] }, quotesSecondaryEnGb: { from: qp('"'), to: [null, "\u201C", null, "\u201D"] }, quotesPrimaryPl: { from: qp('"'), to: [null, "\u201E", null, "\u201D"] }, quotesSecondaryPl: { from: qp("'"), to: [null, "\u201A", null, "\u2019"] } }, Vp = { symbols: ["copyright", "registeredTrademark", "trademark"], mathematical: ["oneHalf", "oneThird", "twoThirds", "oneForth", "threeQuarters", "lessThanOrEqual", "greaterThanOrEqual", "notEqual", "arrowLeft", "arrowRight"], typography: ["horizontalEllipsis", "enDash", "emDash"], quotes: ["quotesPrimary", "quotesSecondary"] }, Fp = ["symbols", "mathematical", "typography", "quotes"];
        function Hp(t3) {
          return "string" == typeof t3 ? new RegExp(`(${zp(t3)})$`) : t3;
        }
        function Up(t3) {
          return "string" == typeof t3 ? () => [t3] : t3 instanceof Array ? () => t3 : t3;
        }
        function Wp(t3) {
          return (t3.textNode ? t3.textNode : t3.nodeAfter).getAttributes();
        }
        function qp(t3) {
          return new RegExp(`(^|\\s)(${t3})([^${t3}]*)(${t3})$`);
        }
        class Yp {
          constructor(t3, e3 = {}) {
            this.namespaces = e3.namespaces || [], this._domParser = new DOMParser(), this._domConverter = new nr(t3, { blockFillerMode: "nbsp" }), this._htmlWriter = new Pl();
          }
          toData(t3) {
            const e3 = this._domConverter.viewToDom(t3, document);
            return this._htmlWriter.getHtml(e3);
          }
          toView(t3) {
            const e3 = this._toDom(t3);
            return this._domConverter.domToView(e3, { keepOriginalCase: true });
          }
          _toDom(t3) {
            t3 = `<xml ${this.namespaces.map((t4) => `xmlns:${t4}="nsp"`).join(" ")}>${t3}</xml>`;
            const e3 = this._domParser.parseFromString(t3, "text/xml"), i3 = e3.querySelector("parsererror");
            if (i3) throw new Error("Parse error - " + i3.textContent);
            const n2 = e3.createDocumentFragment(), o2 = e3.documentElement.childNodes;
            for (; o2.length > 0; ) n2.appendChild(o2[0]);
            return n2;
          }
        }
        class $p {
          static get safeXmlCharactersEntities() {
            return { tagOpener: "&laquo;", tagCloser: "&raquo;", doubleQuote: "&uml;", realDoubleQuote: "&quot;" };
          }
          static get safeBadBlackboardCharacters() {
            return { ltElement: "\xABmo\xBB<\xAB/mo\xBB", gtElement: "\xABmo\xBB>\xAB/mo\xBB", ampElement: "\xABmo\xBB&\xAB/mo\xBB" };
          }
          static get safeGoodBlackboardCharacters() {
            return { ltElement: "\xABmo\xBB\xA7lt;\xAB/mo\xBB", gtElement: "\xABmo\xBB\xA7gt;\xAB/mo\xBB", ampElement: "\xABmo\xBB\xA7amp;\xAB/mo\xBB" };
          }
          static get xmlCharacters() {
            return { id: "xmlCharacters", tagOpener: "<", tagCloser: ">", doubleQuote: '"', ampersand: "&", quote: "'" };
          }
          static get safeXmlCharacters() {
            return { id: "safeXmlCharacters", tagOpener: "\xAB", tagCloser: "\xBB", doubleQuote: "\xA8", ampersand: "\xA7", quote: "`", realDoubleQuote: "\xA8" };
          }
        }
        class Jp {
          static isMathmlInAttribute(t3, e3) {
            const i3 = new RegExp(`^['"][\\s]*=[\\s]*[\\w-]+('[\\s]*("[^"]*"|'[^']*')[\\s]*=[\\s]*[\\w-]+[\\s]*')*[\\s]+gmi<`), n2 = t3.substring(0, e3).split("").reverse().join("");
            return i3.test(n2);
          }
          static safeXmlDecode(t3) {
            let { tagOpener: e3 } = $p.safeXmlCharactersEntities, { tagCloser: i3 } = $p.safeXmlCharactersEntities, { doubleQuote: n2 } = $p.safeXmlCharactersEntities, { realDoubleQuote: o2 } = $p.safeXmlCharactersEntities;
            t3 = (t3 = (t3 = (t3 = t3.split(e3).join($p.safeXmlCharacters.tagOpener)).split(i3).join($p.safeXmlCharacters.tagCloser)).split(n2).join($p.safeXmlCharacters.doubleQuote)).split(o2).join($p.safeXmlCharacters.realDoubleQuote);
            const { ltElement: r2 } = $p.safeBadBlackboardCharacters, { gtElement: s4 } = $p.safeBadBlackboardCharacters, { ampElement: a4 } = $p.safeBadBlackboardCharacters;
            "_wrs_blackboard" in window && window._wrs_blackboard && (t3 = (t3 = (t3 = t3.split(r2).join($p.safeGoodBlackboardCharacters.ltElement)).split(s4).join($p.safeGoodBlackboardCharacters.gtElement)).split(a4).join($p.safeGoodBlackboardCharacters.ampElement)), { tagOpener: e3 } = $p.safeXmlCharacters, { tagCloser: i3 } = $p.safeXmlCharacters, { doubleQuote: n2 } = $p.safeXmlCharacters, { realDoubleQuote: o2 } = $p.safeXmlCharacters;
            const { ampersand: l2 } = $p.safeXmlCharacters, { quote: c3 } = $p.safeXmlCharacters;
            t3 = (t3 = (t3 = (t3 = (t3 = t3.split(e3).join($p.xmlCharacters.tagOpener)).split(i3).join($p.xmlCharacters.tagCloser)).split(n2).join($p.xmlCharacters.doubleQuote)).split(l2).join($p.xmlCharacters.ampersand)).split(c3).join($p.xmlCharacters.quote);
            let d4 = "", h4 = null;
            for (let e4 = 0; e4 < t3.length; e4 += 1) {
              const i4 = t3.charAt(e4);
              null == h4 ? "$" === i4 ? h4 = "" : d4 += i4 : ";" === i4 ? (d4 += "&" + h4, h4 = null) : i4.match(/([a-zA-Z0-9#._-] | '-')/) ? h4 += i4 : (d4 += "$" + h4, h4 = null, e4 -= 1);
            }
            return d4;
          }
          static safeXmlEncode(t3) {
            const { tagOpener: e3 } = $p.xmlCharacters, { tagCloser: i3 } = $p.xmlCharacters, { doubleQuote: n2 } = $p.xmlCharacters, { ampersand: o2 } = $p.xmlCharacters, { quote: r2 } = $p.xmlCharacters;
            return t3 = (t3 = (t3 = (t3 = (t3 = t3.split(e3).join($p.safeXmlCharacters.tagOpener)).split(i3).join($p.safeXmlCharacters.tagCloser)).split(n2).join($p.safeXmlCharacters.doubleQuote)).split(o2).join($p.safeXmlCharacters.ampersand)).split(r2).join($p.safeXmlCharacters.quote);
          }
          static mathMLEntities(t3) {
            let e3 = "";
            for (let i3 = 0; i3 < t3.length; i3 += 1) {
              const n2 = t3.charAt(i3);
              if (t3.codePointAt(i3) > 128) e3 += `&#${t3.codePointAt(i3)};`, t3.codePointAt(i3) > 65535 && (i3 += 1);
              else if ("&" === n2) {
                const o2 = t3.indexOf(";", i3 + 1);
                if (o2 >= 0) {
                  const n3 = document.createElement("span");
                  n3.innerHTML = t3.substring(i3, o2 + 1), e3 += `&#${ib.fixedCharCodeAt(n3.textContent || n3.innerText, 0)};`, i3 = o2;
                } else e3 += n2;
              } else e3 += n2;
            }
            return e3;
          }
          static addCustomEditorClassAttribute(t3, e3) {
            let i3 = "";
            const n2 = t3.indexOf("<math");
            if (0 === n2) {
              const o2 = t3.indexOf(">");
              if (-1 === t3.indexOf("class")) return i3 = `${t3.substr(n2, o2)} class="wrs_${e3}">`, i3 += t3.substr(o2 + 1, t3.length), i3;
            }
            return t3;
          }
          static removeCustomEditorClassAttribute(t3, e3) {
            return -1 === t3.indexOf("class") || -1 === t3.indexOf("wrs_" + e3) ? t3 : -1 !== t3.indexOf(`class="wrs_${e3}"`) ? t3.replace(`class="wrs_${e3}"`, "") : t3.replace("wrs_" + e3, "");
          }
          static addAnnotation(t3, e3, i3) {
            let n2 = "";
            if (-1 !== t3.indexOf("<annotation")) {
              const o2 = t3.indexOf("</semantics>");
              n2 = `${t3.substring(0, o2)}<annotation encoding="${i3}">${e3}</annotation>${t3.substring(o2)}`;
            } else if (Jp.isEmpty(t3)) {
              const o2 = t3.indexOf("/>"), r2 = t3.indexOf(">"), s4 = r2 === o2 ? o2 : r2;
              n2 = `${t3.substring(0, s4)}><semantics><annotation encoding="${i3}">${e3}</annotation></semantics></math>`;
            } else {
              const o2 = t3.indexOf(">") + 1, r2 = t3.lastIndexOf("</math>"), s4 = t3.substring(o2, r2);
              n2 = `${t3.substring(0, o2)}<semantics>${s4}<annotation encoding="${i3}">${e3}</annotation></semantics></math>`;
            }
            return n2;
          }
          static removeAnnotation(t3, e3) {
            let i3 = t3;
            const n2 = `<annotation encoding="${e3}">`, o2 = t3.indexOf(n2);
            if (-1 !== o2) {
              let e4 = false, n3 = t3.indexOf("<annotation");
              for (; -1 !== n3; ) n3 !== o2 && (e4 = true), n3 = t3.indexOf("<annotation", n3 + 1);
              if (e4) {
                const e5 = t3.indexOf("</annotation>", o2) + "</annotation>".length;
                i3 = t3.substring(0, o2) + t3.substring(e5);
              } else i3 = Jp.removeSemantics(t3);
            }
            return i3;
          }
          static removeSemantics(t3) {
            let e3 = t3;
            const i3 = t3.indexOf("<semantics>");
            if (-1 !== i3) {
              const n2 = t3.indexOf("<annotation", i3 + "<semantics>".length);
              -1 !== n2 && (e3 = t3.substring(0, i3) + t3.substring(i3 + "<semantics>".length, n2) + "</math>");
            }
            return e3;
          }
          static removeSemanticsOcurrences(t3, e3 = $p.xmlCharacters) {
            const i3 = e3.tagOpener + "math", n2 = `${e3.tagOpener}/math${e3.tagCloser}`, o2 = "/" + e3.tagCloser, { tagCloser: r2 } = e3, s4 = `${e3.tagOpener}semantics${e3.tagCloser}`, a4 = e3.tagOpener + "annotation encoding=";
            let l2 = "", c3 = t3.indexOf(i3), d4 = 0;
            for (; -1 !== c3; ) {
              l2 += t3.substring(d4, c3);
              const e4 = t3.indexOf(n2, c3), h4 = t3.indexOf(o2, c3), u3 = t3.indexOf(r2, c3);
              -1 !== e4 ? d4 = e4 : h4 === u3 - 1 && (d4 = h4);
              const m4 = t3.indexOf(s4, c3);
              if (-1 !== m4) {
                const e5 = t3.substring(c3, m4), o3 = t3.indexOf(a4, c3);
                if (-1 !== o3) {
                  const r3 = m4 + s4.length;
                  l2 += e5 + t3.substring(r3, o3) + n2, c3 = t3.indexOf(i3, c3 + i3.length), d4 += n2.length;
                } else d4 = c3, c3 = t3.indexOf(i3, c3 + i3.length);
              } else d4 = c3, c3 = t3.indexOf(i3, c3 + i3.length);
            }
            return l2 += t3.substring(d4, t3.length), l2;
          }
          static containClass(t3, e3) {
            const i3 = t3.indexOf("class");
            if (-1 === i3) return false;
            const n2 = t3.indexOf(">", i3);
            return -1 !== t3.substring(i3, n2).indexOf(e3);
          }
          static isEmpty(t3) {
            const e3 = t3.indexOf(">"), i3 = t3.indexOf("/>");
            let n2 = false;
            if (-1 !== i3 && i3 === e3 - 1 && (n2 = true), !n2) {
              const i4 = new RegExp("</(.+:)?math>").exec(t3);
              i4 && (n2 = e3 + 1 === i4.index);
            }
            return n2;
          }
          static encodeProperties(t3) {
            return t3.replace(/\w+=".*?"/g, (t4) => {
              const e3 = t4.indexOf('"'), i3 = t4.substring(e3 + 1, t4.length - 1), n2 = ib.htmlEntities(i3);
              return `${t4.substring(0, e3 + 1)}${n2}"`;
            });
          }
        }
        class Gp {
          static addConfiguration(t3) {
            Object.assign(Gp.properties, t3);
          }
          static get properties() {
            return Gp._properties;
          }
          static set properties(t3) {
            Gp._properties = t3;
          }
          static get(t3) {
            return Object.prototype.hasOwnProperty.call(Gp.properties, t3) ? Gp.properties[t3] : !!Object.prototype.hasOwnProperty.call(Gp.properties, "_wrs_conf_") && Gp.properties["_wrs_conf_" + t3];
          }
          static set(t3, e3) {
            Gp.properties[t3] = e3;
          }
          static update(t3, e3) {
            if (Gp.get(t3)) {
              const i3 = Object.assign(Gp.get(t3), e3);
              Gp.set(t3, i3);
            } else Gp.set(t3, e3);
          }
        }
        Gp._properties = {};
        class Qp {
          constructor() {
            this.cache = [];
          }
          populate(t3, e3) {
            this.cache[t3] = e3;
          }
          get(t3) {
            return !!Object.prototype.hasOwnProperty.call(this.cache, t3) && this.cache[t3];
          }
        }
        class Xp {
          constructor() {
            this.listeners = [];
          }
          add(t3) {
            this.listeners.push(t3);
          }
          fire(t3, e3) {
            for (let i3 = 0; i3 < this.listeners.length && !e3.cancelled; i3 += 1) this.listeners[i3].eventName === t3 && this.listeners[i3].callback(e3);
            return e3.defaultPrevented;
          }
          static newListener(t3, e3) {
            const i3 = {};
            return i3.eventName = t3, i3.callback = e3, i3;
          }
        }
        class Kp {
          static get listeners() {
            return Kp._listeners;
          }
          static addListener(t3) {
            Kp.listeners.add(t3);
          }
          static fireEvent(t3, e3) {
            Kp.listeners.fire(t3, e3);
          }
          static get parameters() {
            return Kp._parameters;
          }
          static set parameters(t3) {
            Kp._parameters = t3;
          }
          static get servicePaths() {
            return Kp._servicePaths;
          }
          static set servicePaths(t3) {
            Kp._servicePaths = t3;
          }
          static setServicePath(t3, e3) {
            Kp.servicePaths[t3] = e3;
          }
          static getServicePath(t3) {
            return Kp.servicePaths[t3];
          }
          static get integrationPath() {
            return Kp._integrationPath;
          }
          static set integrationPath(t3) {
            Kp._integrationPath = t3;
          }
          static getServerURL() {
            const t3 = window.location.href.split("/");
            return `${t3[0]}//${t3[2]}`;
          }
          static init(t3) {
            Kp.parameters = t3;
            let e3 = Kp.createServiceURI("configurationjs"), i3 = Kp.createServiceURI("createimage"), n2 = Kp.createServiceURI("showimage"), o2 = Kp.createServiceURI("getmathml"), r2 = Kp.createServiceURI("service");
            if (0 === Kp.parameters.URI.indexOf("/")) {
              const t4 = Kp.getServerURL();
              e3 = t4 + e3, n2 = t4 + n2, i3 = t4 + i3, o2 = t4 + o2, r2 = t4 + r2;
            }
            Kp.setServicePath("configurationjs", e3), Kp.setServicePath("showimage", n2), Kp.setServicePath("createimage", i3), Kp.setServicePath("service", r2), Kp.setServicePath("getmathml", o2), Kp.setServicePath("configurationjs", e3), Kp.listeners.fire("onInit", {});
          }
          static getUrl(t3, e3) {
            const i3 = window.location.toString().substr(0, window.location.toString().lastIndexOf("/") + 1), n2 = ib.createHttpRequest();
            return n2 ? (void 0 === e3 || void 0 === e3 ? n2.open("GET", t3, false) : "/" === t3.substr(0, 1) || "http://" === t3.substr(0, 7) || "https://" === t3.substr(0, 8) ? n2.open("POST", t3, false) : n2.open("POST", i3 + t3, false), void 0 !== e3 && e3 ? (n2.setRequestHeader("Content-type", "application/x-www-form-urlencoded; charset=UTF-8"), n2.send(ib.httpBuildQuery(e3))) : n2.send(null), n2.responseText) : "";
          }
          static getService(t3, e3, i3) {
            let n2;
            if (true === i3) {
              const i4 = `${Kp.getServicePath(t3)}?${e3}`;
              n2 = Kp.getUrl(i4);
            } else {
              const i4 = Kp.getServicePath(t3);
              n2 = Kp.getUrl(i4, e3);
            }
            return n2;
          }
          static getServerLanguageFromService(t3) {
            return -1 !== t3.indexOf(".php") ? "php" : -1 !== t3.indexOf(".aspx") ? "aspx" : -1 !== t3.indexOf("wirispluginengine") ? "ruby" : "java";
          }
          static createServiceURI(t3) {
            const e3 = Kp.serverExtension();
            return ib.concatenateUrl(Kp.parameters.URI, t3) + e3;
          }
          static serverExtension() {
            return -1 !== Kp.parameters.server.indexOf("php") ? ".php" : -1 !== Kp.parameters.server.indexOf("aspx") ? ".aspx" : "";
          }
        }
        Kp._servicePaths = {}, Kp._integrationPath = "", Kp._listeners = new Xp(), Kp._parameters = {};
        class Zp {
          static get cache() {
            return Zp._cache;
          }
          static set cache(t3) {
            Zp._cache = t3;
          }
          static getLatexFromMathML(t3) {
            const e3 = Jp.removeSemantics(t3), { cache: i3 } = Zp, n2 = { service: "mathml2latex", mml: e3 }, o2 = JSON.parse(Kp.getService("service", n2));
            let r2 = "";
            if ("ok" === o2.status) {
              r2 = o2.result.text;
              const e4 = ib.htmlEntities(r2), n3 = Jp.addAnnotation(t3, e4, "LaTeX");
              i3.populate(r2, n3);
            }
            return r2;
          }
          static getMathMLFromLatex(t3, e3) {
            const i3 = Zp.cache;
            if (Zp.cache.get(t3)) return Zp.cache.get(t3);
            const n2 = { service: "latex2mathml", latex: t3 };
            e3 && (n2.saveLatex = "");
            const o2 = JSON.parse(Kp.getService("service", n2));
            let r2;
            if ("ok" === o2.status) {
              let e4 = o2.result.text;
              e4 = e4.split("\r").join("").split("\n").join(" "), -1 === e4.indexOf("semantics") && -1 === e4.indexOf("annotation") ? (e4 = Jp.addAnnotation(e4, t3, "LaTeX"), r2 = e4) : r2 = e4, i3.get(t3) || i3.populate(t3, e4);
            } else r2 = `$$${t3}$$`;
            return r2;
          }
          static parseMathmlToLatex(t3, e3) {
            let i3 = "";
            const n2 = e3.tagOpener + "math", o2 = `${e3.tagOpener}/math${e3.tagCloser}`, r2 = `${e3.tagOpener}annotation encoding=${e3.doubleQuote}LaTeX${e3.doubleQuote}${e3.tagCloser}`, s4 = `${e3.tagOpener}/annotation${e3.tagCloser}`;
            let a4, l2, c3, d4 = t3.indexOf(n2), h4 = 0;
            for (; -1 !== d4; ) {
              if (i3 += t3.substring(h4, d4), h4 = t3.indexOf(o2, d4), -1 === h4 ? h4 = t3.length - 1 : h4 += o2.length, a4 = t3.substring(d4, h4), l2 = a4.indexOf(r2), -1 !== l2) {
                l2 += r2.length, c3 = a4.indexOf(s4);
                let t4 = a4.substring(l2, c3);
                e3 === $p.safeXmlCharacters && (t4 = Jp.safeXmlDecode(t4)), i3 += `$$${t4}$$`, Zp.cache.populate(t4, a4);
              } else i3 += a4;
              d4 = t3.indexOf(n2, h4);
            }
            return i3 += t3.substring(h4, t3.length), i3;
          }
          static getLatexFromTextNode(t3, e3, i3) {
            void 0 !== i3 && null != i3 || (i3 = { open: "$$", close: "$$" });
            let n2, o2 = t3;
            for (; o2.previousSibling && 3 === o2.previousSibling.nodeType; ) o2 = o2.previousSibling;
            function r2(t4, e4, n3) {
              let o3 = t4.nodeValue.indexOf(n3, e4);
              for (; -1 === o3; ) {
                if (!(t4 = t4.nextSibling)) return null;
                o3 = t4.nodeValue ? t4.nodeValue.indexOf(i3.close) : -1;
              }
              return { node: t4, position: o3 };
            }
            function s4(t4, e4, i4, n3) {
              if (t4 === i4) return e4 <= n3;
              for (; t4 && t4 !== i4; ) t4 = t4.nextSibling;
              return t4 === i4;
            }
            let a4 = { node: o2, position: 0 };
            const l2 = i3.open.length;
            do {
              if (n2 = r2(a4.node, a4.position, i3.open), null == n2 || s4(t3, e3, n2.node, n2.position)) return null;
              if (a4 = r2(n2.node, n2.position + l2, i3.close), null == a4) return null;
              a4.position += l2;
            } while (s4(a4.node, a4.position, t3, e3));
            let c3;
            if (n2.node === a4.node) c3 = n2.node.nodeValue.substring(n2.position + l2, a4.position - l2);
            else {
              const t4 = n2.position + l2;
              c3 = n2.node.nodeValue.substring(t4, n2.node.nodeValue.length);
              let e4 = n2.node;
              do {
                e4 = e4.nextSibling, e4 === a4.node ? c3 += a4.node.nodeValue.substring(0, a4.position - l2) : c3 += e4.nodeValue ? e4.nodeValue : "";
              } while (e4 !== a4.node);
            }
            return { latex: c3, startNode: n2.node, startPosition: n2.position, endNode: a4.node, endPosition: a4.position };
          }
        }
        Zp._cache = new Qp();
        var tb = i2(13);
        class eb {
          constructor() {
            throw new Error("Static class StringManager can not be instantiated.");
          }
          static get(t3) {
            let { language: e3 } = this;
            return e3 in this.strings || (console.warn(`Unknown language ${e3} set in StringManager.`), e3 = "en"), t3 in this.strings[e3] ? this.strings[e3][t3] : (console.warn(`Unknown key ${t3} in StringManager.`), t3);
          }
        }
        eb.strings = tb, eb.language = "en";
        class ib {
          static fireEvent(t3, e3) {
            if (document.createEvent) {
              const i4 = document.createEvent("HTMLEvents");
              return i4.initEvent(e3, true, true), !t3.dispatchEvent(i4);
            }
            const i3 = document.createEventObject();
            return t3.fireEvent("on" + e3, i3);
          }
          static addEvent(t3, e3, i3) {
            t3.addEventListener ? t3.addEventListener(e3, i3, true) : t3.attachEvent && t3.attachEvent("on" + e3, i3);
          }
          static removeEvent(t3, e3, i3) {
            t3.removeEventListener ? t3.removeEventListener(e3, i3, true) : t3.detachEvent && t3.detachEvent("on" + e3, i3);
          }
          static addElementEvents(t3, e3, i3, n2) {
            e3 && ib.addEvent(t3, "dblclick", (t4) => {
              const i4 = t4 || window.event, n3 = i4.srcElement ? i4.srcElement : i4.target;
              e3(n3, i4);
            }), i3 && ib.addEvent(t3, "mousedown", (t4) => {
              const e4 = t4 || window.event, n3 = e4.srcElement ? e4.srcElement : e4.target;
              i3(n3, e4);
            }), n2 && ib.addEvent(t3, "mouseup", (t4) => {
              const e4 = t4 || window.event, i4 = e4.srcElement ? e4.srcElement : e4.target;
              n2(i4, e4);
            });
          }
          static addClass(t3, e3) {
            ib.containsClass(t3, e3) || (t3.className += " " + e3);
          }
          static containsClass(t3, e3) {
            if (null == t3 || !("className" in t3)) return false;
            const i3 = t3.className.split(" ");
            for (let t4 = i3.length - 1; t4 >= 0; t4 -= 1) if (i3[t4] === e3) return true;
            return false;
          }
          static removeClass(t3, e3) {
            let i3 = "";
            const n2 = t3.className.split(" ");
            for (let t4 = 0; t4 < n2.length; t4 += 1) n2[t4] !== e3 && (i3 += n2[t4] + " ");
            t3.className = i3.trim();
          }
          static convertOldXmlinitialtextAttribute(t3) {
            const e3 = "value=", i3 = t3.indexOf("xmlinitialtext"), n2 = t3.indexOf(e3, i3), o2 = t3.charAt(n2 + e3.length), r2 = n2 + e3.length + 1, s4 = t3.indexOf(o2, r2), a4 = t3.substring(r2, s4);
            let l2 = a4.split("\xAB").join("\xA7lt;");
            return l2 = l2.split("\xBB").join("\xA7gt;"), l2 = l2.split("&").join("\xA7"), l2 = l2.split("\xA8").join("\xA7quot;"), t3 = t3.split(a4).join(l2);
          }
          static createElement(t3, e3, i3) {
            let n2;
            void 0 === e3 && (e3 = {}), void 0 === i3 && (i3 = document);
            try {
              let o2 = "<" + t3;
              Object.keys(e3).forEach((t4) => {
                o2 += ` ${t4}="${ib.htmlEntities(e3[t4])}"`;
              }), o2 += ">", n2 = i3.createElement(o2);
            } catch (o2) {
              n2 = i3.createElement(t3), Object.keys(e3).forEach((t4) => {
                n2.setAttribute(t4, e3[t4]);
              });
            }
            return n2;
          }
          static createObject(t3, e3) {
            void 0 === e3 && (e3 = document), t3 = (t3 = (t3 = (t3 = t3.split("<applet ").join('<span wirisObject="WirisApplet" ').split("<APPLET ").join('<span wirisObject="WirisApplet" ')).split("</applet>").join("</span>").split("</APPLET>").join("</span>")).split("<param ").join('<br wirisObject="WirisParam" ').split("<PARAM ").join('<br wirisObject="WirisParam" ')).split("</param>").join("</br>").split("</PARAM>").join("</br>");
            const i3 = ib.createElement("div", {}, e3);
            return i3.innerHTML = t3, function t4(i4) {
              if (i4.getAttribute && "WirisParam" === i4.getAttribute("wirisObject")) {
                const t5 = {};
                for (let e4 = 0; e4 < i4.attributes.length; e4 += 1) null !== i4.attributes[e4].nodeValue && (t5[i4.attributes[e4].nodeName] = i4.attributes[e4].nodeValue);
                const n2 = ib.createElement("param", t5, e3);
                n2.NAME && (n2.name = n2.NAME, n2.value = n2.VALUE), n2.removeAttribute("wirisObject"), i4.parentNode.replaceChild(n2, i4);
              } else if (i4.getAttribute && "WirisApplet" === i4.getAttribute("wirisObject")) {
                const n2 = {};
                for (let t5 = 0; t5 < i4.attributes.length; t5 += 1) null !== i4.attributes[t5].nodeValue && (n2[i4.attributes[t5].nodeName] = i4.attributes[t5].nodeValue);
                const o2 = ib.createElement("applet", n2, e3);
                o2.removeAttribute("wirisObject");
                for (let e4 = 0; e4 < i4.childNodes.length; e4 += 1) t4(i4.childNodes[e4]), "param" === i4.childNodes[e4].nodeName.toLowerCase() && (o2.appendChild(i4.childNodes[e4]), e4 -= 1);
                i4.parentNode.replaceChild(o2, i4);
              } else for (let e4 = 0; e4 < i4.childNodes.length; e4 += 1) t4(i4.childNodes[e4]);
            }(i3), i3.firstChild;
          }
          static createObjectCode(t3) {
            if (null == t3) return null;
            if (1 === t3.nodeType) {
              let e3 = "<" + t3.tagName;
              for (let i3 = 0; i3 < t3.attributes.length; i3 += 1) t3.attributes[i3].specified && (e3 += ` ${t3.attributes[i3].name}="${ib.htmlEntities(t3.attributes[i3].value)}"`);
              if (t3.childNodes.length > 0) {
                e3 += ">";
                for (let i3 = 0; i3 < t3.childNodes.length; i3 += 1) e3 += ib.createObject(t3.childNodes[i3]);
                e3 += `</${t3.tagName}>`;
              } else "DIV" === t3.nodeName || "SCRIPT" === t3.nodeName ? e3 += `></${t3.tagName}>` : e3 += "/>";
              return e3;
            }
            return 3 === t3.nodeType ? ib.htmlEntities(t3.nodeValue) : "";
          }
          static concatenateUrl(t3, e3) {
            let i3 = "";
            return t3.indexOf("/") !== t3.length && 0 !== e3.indexOf("/") && (i3 = "/"), (t3 + i3 + e3).replace(/([^:]\/)\/+/g, "$1");
          }
          static htmlEntities(t3) {
            return t3.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;").split('"').join("&quot;");
          }
          static htmlEntitiesDecode(t3) {
            const e3 = document.createElement("textarea");
            return e3.innerHTML = t3, e3.value;
          }
          static createHttpRequest() {
            if ("file://" === window.location.toString().substr(0, window.location.toString().lastIndexOf("/") + 1).substr(0, 7)) throw eb.get("exception_cross_site");
            if ("undefined" != typeof XMLHttpRequest) return new XMLHttpRequest();
            try {
              return new ActiveXObject("Msxml2.XMLHTTP");
            } catch (t3) {
              try {
                return new ActiveXObject("Microsoft.XMLHTTP");
              } catch (t4) {
                return null;
              }
            }
          }
          static httpBuildQuery(t3) {
            let e3 = "";
            return Object.keys(t3).forEach((i3) => {
              null != t3[i3] && (e3 += `${ib.urlEncode(i3)}=${ib.urlEncode(t3[i3])}&`);
            }), "&" === e3.substring(e3.length - 1) && (e3 = e3.substring(0, e3.length - 1)), e3;
          }
          static propertiesToString(t3) {
            const e3 = [];
            Object.keys(t3).forEach((i4) => {
              Object.prototype.hasOwnProperty.call(t3, i4) && e3.push(i4);
            });
            const i3 = e3.length;
            for (let t4 = 0; t4 < i3; t4 += 1) for (let n3 = t4 + 1; n3 < i3; n3 += 1) {
              const i4 = e3[t4], o2 = e3[n3];
              ib.compareStrings(i4, o2) > 0 && (e3[t4] = o2, e3[n3] = i4);
            }
            let n2 = "";
            for (let o2 = 0; o2 < i3; o2 += 1) {
              const i4 = e3[o2];
              n2 += i4, n2 += "=";
              let r2 = t3[i4];
              r2 = r2.replace("\\", "\\\\"), r2 = r2.replace("\n", "\\n"), r2 = r2.replace("\r", "\\r"), r2 = r2.replace("	", "\\t"), n2 += r2, n2 += "\n";
            }
            return n2;
          }
          static compareStrings(t3, e3) {
            let i3;
            const n2 = t3.length, o2 = e3.length, r2 = n2 > o2 ? o2 : n2;
            for (i3 = 0; i3 < r2; i3 += 1) {
              const n3 = ib.fixedCharCodeAt(t3, i3) - ib.fixedCharCodeAt(e3, i3);
              if (0 !== n3) return n3;
            }
            return t3.length - e3.length;
          }
          static fixedCharCodeAt(t3, e3) {
            e3 = e3 || 0;
            const i3 = t3.charCodeAt(e3);
            let n2, o2;
            if (i3 >= 55296 && i3 <= 56319) {
              if (n2 = i3, o2 = t3.charCodeAt(e3 + 1), Number.isNaN(o2)) throw eb.get("exception_high_surrogate");
              return 1024 * (n2 - 55296) + (o2 - 56320) + 65536;
            }
            return !(i3 >= 56320 && i3 <= 57343) && i3;
          }
          static urlToAssArray(t3) {
            let e3;
            if (e3 = t3.indexOf("?"), e3 > 0) {
              const i3 = t3.substring(e3 + 1).split("&"), n2 = {};
              for (e3 = 0; e3 < i3.length; e3 += 1) {
                const t4 = i3[e3].split("=");
                t4.length > 1 && (n2[t4[0]] = decodeURIComponent(t4[1].replace(/\+/g, " ")));
              }
              return n2;
            }
            return {};
          }
          static urlEncode(t3) {
            let e3 = "";
            return e3 = encodeURIComponent(t3), e3;
          }
          static getWIRISImageOutput(t3, e3, i3) {
            const n2 = ib.createObject(t3);
            if (n2 && (n2.className === Gp.get("imageClassName") || n2.getAttribute(Gp.get("imageMathmlAttribute")))) {
              if (!e3) return t3;
              const o2 = n2.getAttribute(Gp.get("imageMathmlAttribute"));
              let r2 = Jp.safeXmlDecode(o2);
              if (Gp.get("saveHandTraces") || (r2 = Jp.removeAnnotation(r2, "application/json")), null == r2 && (r2 = n2.getAttribute("alt")), i3) {
                return Jp.safeXmlEncode(r2);
              }
              return r2;
            }
            return t3;
          }
          static getNodeLength(t3) {
            const e3 = { IMG: 1, BR: 1 };
            if (3 === t3.nodeType) return t3.nodeValue.length;
            if (1 === t3.nodeType) {
              let i3 = e3[t3.nodeName.toUpperCase()];
              void 0 === i3 && (i3 = 0);
              for (let e4 = 0; e4 < t3.childNodes.length; e4 += 1) i3 += ib.getNodeLength(t3.childNodes[e4]);
              return i3;
            }
            return 0;
          }
          static getSelectedItem(t3, e3, i3) {
            let n2;
            if (e3 ? (n2 = t3.contentWindow, n2.focus()) : (n2 = window, t3.focus()), document.selection && !i3) {
              const i4 = n2.document.selection.createRange();
              if (i4.parentElement) {
                if (i4.htmlText.length > 0) return 0 === i4.text.length ? ib.getSelectedItem(t3, e3, true) : null;
                n2.document.execCommand("InsertImage", false, "#");
                let o2, r2, s4 = i4.parentElement();
                return "IMG" !== s4.nodeName.toUpperCase() && (i4.pasteHTML('<span id="wrs_openEditorWindow_temporalObject"></span>'), s4 = n2.document.getElementById("wrs_openEditorWindow_temporalObject")), s4.nextSibling && 3 === s4.nextSibling.nodeType ? (o2 = s4.nextSibling, r2 = 0) : s4.previousSibling && 3 === s4.previousSibling.nodeType ? (o2 = s4.previousSibling, r2 = o2.nodeValue.length) : (o2 = n2.document.createTextNode(""), s4.parentNode.insertBefore(o2, s4), r2 = 0), s4.parentNode.removeChild(s4), { node: o2, caretPosition: r2 };
              }
              return i4.length > 1 ? null : { node: i4.item(0) };
            }
            if (n2.getSelection) {
              let t4;
              const e4 = n2.getSelection();
              try {
                t4 = e4.getRangeAt(0);
              } catch (e5) {
                t4 = n2.document.createRange();
              }
              const i4 = t4.startContainer;
              if (3 === i4.nodeType) return { node: i4, caretPosition: t4.startOffset };
              if (i4 !== t4.endContainer) return null;
              if (1 === i4.nodeType) {
                const e5 = t4.startOffset;
                if (i4.childNodes[e5]) return { node: i4.childNodes[e5] };
              }
            }
            return null;
          }
          static getSelectedItemOnTextarea(t3) {
            const e3 = document.createTextNode(t3.value), i3 = Zp.getLatexFromTextNode(e3, t3.selectionStart);
            return null === i3 ? null : { node: e3, caretPosition: t3.selectionStart, startPosition: i3.startPosition, endPosition: i3.endPosition };
          }
          static getElementsByNameFromString(t3, e3, i3) {
            const n2 = [];
            t3 = t3.toLowerCase(), e3 = e3.toLowerCase();
            let o2 = t3.indexOf(`<${e3} `);
            for (; -1 !== o2; ) {
              let r2;
              r2 = i3 ? ">" : `</${e3}>`;
              let s4 = t3.indexOf(r2, o2);
              -1 !== s4 ? (s4 += r2.length, n2.push({ start: o2, end: s4 })) : s4 = o2 + 1, o2 = t3.indexOf(`<${e3} `, s4);
            }
            return n2;
          }
          static decode64(t3) {
            const e3 = "+".charCodeAt(0), i3 = "/".charCodeAt(0), n2 = "0".charCodeAt(0), o2 = "a".charCodeAt(0), r2 = "A".charCodeAt(0), s4 = "-".charCodeAt(0), a4 = "_".charCodeAt(0), l2 = t3.charCodeAt(0);
            return l2 === e3 || l2 === s4 ? 62 : l2 === i3 || l2 === a4 ? 63 : l2 < n2 ? -1 : l2 < n2 + 10 ? l2 - n2 + 26 + 26 : l2 < r2 + 26 ? l2 - r2 : l2 < o2 + 26 ? l2 - o2 + 26 : null;
          }
          static b64ToByteArray(t3, e3) {
            let i3;
            if (t3.length % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
            const n2 = [];
            let o2, r2, s4;
            for (e3 ? o2 = e3 : (r2 = "=" === t3.charAt(t3.length - 2) ? 2 : "=" === t3.charAt(t3.length - 1) ? 1 : 0, o2 = r2 > 0 ? t3.length - 4 : t3.length), s4 = 0; s4 < o2; s4 += 4) i3 = ib.decode64(t3.charAt(s4)) << 18 | ib.decode64(t3.charAt(s4 + 1)) << 12 | ib.decode64(t3.charAt(s4 + 2)) << 6 | ib.decode64(t3.charAt(s4 + 3)), n2.push(i3 >> 16 & 255), n2.push(i3 >> 8 & 255), n2.push(255 & i3);
            return r2 && (2 === r2 ? (i3 = ib.decode64(t3.charAt(s4)) << 2 | ib.decode64(t3.charAt(s4 + 1)) >> 4, n2.push(255 & i3)) : 1 === r2 && (i3 = ib.decode64(t3.charAt(s4)) << 10 | ib.decode64(t3.charAt(s4 + 1)) << 4 | ib.decode64(t3.charAt(s4 + 2)) >> 2, n2.push(i3 >> 8 & 255), n2.push(255 & i3))), n2;
          }
          static readInt32(t3) {
            if (t3.length < 4) return false;
            const e3 = t3.splice(0, 4);
            return e3[0] << 24 | e3[1] << 16 | e3[2] << 8 | e3[3] << 0;
          }
          static readByte(t3) {
            return t3.shift() << 0;
          }
          static readBytes(t3, e3, i3) {
            return t3.splice(e3, i3);
          }
          static updateTextArea(t3, e3) {
            if (t3 && e3) if (t3.focus(), null != t3.selectionStart) {
              const { selectionEnd: i3 } = t3, n2 = t3.value.substring(0, t3.selectionStart), o2 = t3.value.substring(i3, t3.value.length);
              t3.value = n2 + e3 + o2, t3.selectionEnd = i3 + e3.length;
            } else {
              document.selection.createRange().text = e3;
            }
          }
          static updateExistingTextOnTextarea(t3, e3, i3, n2) {
            t3.focus();
            const o2 = t3.value.substring(0, i3);
            t3.value = o2 + e3 + t3.value.substring(n2, t3.value.length), t3.selectionEnd = i3 + e3.length;
          }
          static addArgument(t3, e3, i3) {
            let n2;
            return n2 = t3.indexOf("?") > 0 ? "&" : "?", `${t3 + n2 + e3}=${i3}`;
          }
        }
        class nb {
          static removeImgDataAttributes(t3) {
            const e3 = [], { attributes: i3 } = t3;
            Object.keys(i3).forEach((t4) => {
              const n2 = i3[t4];
              0 === n2.name.indexOf("data-") && e3.push(n2.name);
            }), e3.forEach((e4) => {
              t3.removeAttribute(e4);
            });
          }
          static clone(t3, e3) {
            const i3 = Gp.get("imageCustomEditorName");
            t3.hasAttribute(i3) || e3.removeAttribute(i3);
            [Gp.get("imageMathmlAttribute"), i3, "alt", "height", "width", "style", "src", "role"].forEach((i4) => {
              const n2 = t3.getAttribute(i4);
              n2 && e3.setAttribute(i4, n2);
            });
          }
          static setImgSize(t3, e3, i3) {
            let n2, o2, r2, s4;
            if (i3) if ("svg" === Gp.get("imageFormat")) if ("base64" !== Gp.get("saveMode")) n2 = nb.getMetricsFromSvgString(e3);
            else {
              o2 = t3.src.substr(t3.src.indexOf("base64,") + 7, t3.src.length), s4 = "", r2 = ib.b64ToByteArray(o2, o2.length);
              for (let t4 = 0; t4 < r2.length; t4 += 1) s4 += String.fromCharCode(r2[t4]);
              n2 = nb.getMetricsFromSvgString(s4);
            }
            else o2 = t3.src.substr(t3.src.indexOf("base64,") + 7, t3.src.length), r2 = ib.b64ToByteArray(o2, 88), n2 = nb.getMetricsFromBytes(r2);
            else n2 = ib.urlToAssArray(e3);
            let a4 = n2.cw;
            if (!a4) return;
            let l2 = n2.ch, c3 = n2.cb;
            const { dpi: d4 } = n2;
            d4 && (a4 = 96 * a4 / d4, l2 = 96 * l2 / d4, c3 = 96 * c3 / d4), t3.width = a4, t3.height = l2, t3.style.verticalAlign = `-${l2 - c3}px`;
          }
          static fixAfterResize(t3) {
            if (t3.removeAttribute("style"), t3.removeAttribute("width"), t3.removeAttribute("height"), t3.style.maxWidth = "none", -1 !== t3.src.indexOf("data:image")) if ("svg" === Gp.get("imageFormat")) {
              const e3 = decodeURIComponent(t3.src.substring(32, t3.src.length));
              nb.setImgSize(t3, e3, true);
            } else {
              const e3 = t3.src.substring(22, t3.src.length);
              nb.setImgSize(t3, e3, true);
            }
            else nb.setImgSize(t3, t3.src);
          }
          static getMetricsFromSvgString(t3) {
            let e3 = t3.indexOf('height="'), i3 = t3.indexOf('"', e3 + 8, t3.length);
            const n2 = t3.substring(e3 + 8, i3);
            e3 = t3.indexOf('width="'), i3 = t3.indexOf('"', e3 + 7, t3.length);
            const o2 = t3.substring(e3 + 7, i3);
            e3 = t3.indexOf('wrs:baseline="'), i3 = t3.indexOf('"', e3 + 14, t3.length);
            const r2 = t3.substring(e3 + 14, i3);
            if (void 0 !== o2) {
              const t4 = [];
              return t4.cw = o2, t4.ch = n2, void 0 !== r2 && (t4.cb = r2), t4;
            }
            return [];
          }
          static getMetricsFromBytes(t3) {
            let e3, i3, n2, o2, r2;
            for (ib.readBytes(t3, 0, 8); t3.length >= 4; ) n2 = ib.readInt32(t3), 1229472850 === n2 ? (e3 = ib.readInt32(t3), i3 = ib.readInt32(t3), ib.readInt32(t3), ib.readByte(t3)) : 1650545477 === n2 ? o2 = ib.readInt32(t3) : 1883789683 === n2 && (r2 = ib.readInt32(t3), r2 = Math.round(r2 / 39.37), ib.readInt32(t3), ib.readByte(t3)), ib.readInt32(t3);
            if (void 0 !== e3) {
              const t4 = [];
              return t4.cw = e3, t4.ch = i3, t4.dpi = r2, o2 && (t4.cb = o2), t4;
            }
            return [];
          }
        }
        class ob {
          static get cache() {
            return ob._cache;
          }
          static set cache(t3) {
            ob._cache = t3;
          }
          static mathMLToAccessible(t3, e3, i3) {
            void 0 === e3 && (e3 = "en"), Jp.containClass(t3, "wrs_chemistry") && (i3.mode = "chemistry");
            let n2 = "";
            if (ob.cache.get(t3)) n2 = ob.cache.get(t3);
            else {
              i3.service = "mathml2accessible", i3.lang = e3;
              const o2 = JSON.parse(Kp.getService("service", i3));
              "error" !== o2.status ? (n2 = o2.result.text, ob.cache.populate(t3, n2)) : n2 = eb.get("error_convert_accessibility");
            }
            return n2;
          }
        }
        ob._cache = new Qp();
        i2(95);
        class rb {
          static mathmlToImgObject(t3, e3, i3, n2) {
            const o2 = t3.createElement("img");
            o2.align = "middle", o2.style.maxWidth = "none";
            const r2 = i3 || {};
            if (r2.mml = e3, r2.lang = n2, r2.metrics = "true", r2.centerbaseline = "false", "base64" === Gp.get("saveMode") && "default" === Gp.get("base64savemode") && (r2.base64 = true), o2.className = Gp.get("imageClassName"), -1 !== e3.indexOf('class="')) {
              let t4 = e3.substring(e3.indexOf('class="') + 'class="'.length, e3.length);
              t4 = t4.substring(0, t4.indexOf('"')), t4 = t4.substring(4, t4.length), o2.setAttribute(Gp.get("imageCustomEditorName"), t4);
            }
            if (!Gp.get("wirisPluginPerformance") || "xml" !== Gp.get("saveMode") && "safeXml" !== Gp.get("saveMode")) {
              const t4 = rb.createImageSrc(e3, r2);
              o2.setAttribute(Gp.get("imageMathmlAttribute"), Jp.safeXmlEncode(e3)), o2.src = t4, nb.setImgSize(o2, t4, "base64" === Gp.get("saveMode") && "default" === Gp.get("base64savemode")), Gp.get("enableAccessibility") && (o2.alt = ob.mathMLToAccessible(e3, n2, r2));
            } else {
              let t4 = JSON.parse(rb.createShowImageSrc(r2, n2));
              if ("warning" === t4.status) try {
                t4 = JSON.parse(Kp.getService("showimage", r2));
              } catch (t5) {
                return null;
              }
              ({ result: t4 } = t4), "png" === t4.format ? o2.src = "data:image/png;base64," + t4.content : o2.src = "data:image/svg+xml;charset=utf8," + ib.urlEncode(t4.content), o2.setAttribute(Gp.get("imageMathmlAttribute"), Jp.safeXmlEncode(e3)), nb.setImgSize(o2, t4.content, true), Gp.get("enableAccessibility") && (void 0 === t4.alt ? o2.alt = ob.mathMLToAccessible(e3, n2, r2) : o2.alt = t4.alt);
            }
            return void 0 !== rb.observer && rb.observer.observe(o2), o2.setAttribute("role", "math"), o2;
          }
          static createImageSrc(t3, e3) {
            "base64" === Gp.get("saveMode") && "default" === Gp.get("base64savemode") && (e3.base64 = true);
            let i3 = Kp.getService("createimage", e3);
            if (-1 !== i3.indexOf("@BASE@")) {
              const t4 = Kp.getServicePath("createimage").split("/");
              t4.pop(), i3 = i3.split("@BASE@").join(t4.join("/"));
            }
            return i3;
          }
          static initParse(t3, e3) {
            return t3 = rb.initParseSaveMode(t3, e3), rb.initParseEditMode(t3);
          }
          static initParseSaveMode(t3, e3) {
            return Gp.get("saveMode") && (t3 = Zp.parseMathmlToLatex(t3, $p.safeXmlCharacters), t3 = Zp.parseMathmlToLatex(t3, $p.xmlCharacters), t3 = rb.parseMathmlToImg(t3, $p.safeXmlCharacters, e3), t3 = rb.parseMathmlToImg(t3, $p.xmlCharacters, e3), "base64" === Gp.get("saveMode") && "image" === Gp.get("base64savemode") && (t3 = rb.codeImgTransform(t3, "base642showimage"))), t3;
          }
          static initParseEditMode(t3) {
            if (-1 !== Gp.get("parseModes").indexOf("latex")) {
              const e3 = ib.getElementsByNameFromString(t3, "img", true), i3 = 'encoding="LaTeX">';
              let n2 = 0;
              for (let o2 = 0; o2 < e3.length; o2 += 1) {
                const r2 = t3.substring(e3[o2].start + n2, e3[o2].end + n2);
                if (-1 !== r2.indexOf(` class="${Gp.get("imageClassName")}"`)) {
                  let s4 = ` ${Gp.get("imageMathmlAttribute")}="`, a4 = r2.indexOf(s4);
                  if (-1 === a4 && (s4 = ' alt="', a4 = r2.indexOf(s4)), -1 !== a4) {
                    a4 += s4.length;
                    const l2 = r2.indexOf('"', a4), c3 = Jp.safeXmlDecode(r2.substring(a4, l2));
                    let d4 = c3.indexOf(i3);
                    if (-1 !== d4) {
                      d4 += i3.length;
                      const r3 = c3.indexOf("</annotation>", d4), s5 = c3.substring(d4, r3), a5 = `$$${ib.htmlEntitiesDecode(s5)}$$`, l3 = t3.substring(0, e3[o2].start + n2), h4 = t3.substring(e3[o2].end + n2);
                      t3 = l3 + a5 + h4, n2 += a5.length - (e3[o2].end - e3[o2].start);
                    }
                  }
                }
              }
            }
            return t3;
          }
          static endParse(t3) {
            const e3 = rb.endParseEditMode(t3);
            return rb.endParseSaveMode(e3);
          }
          static endParseEditMode(t3) {
            if (-1 !== Gp.get("parseModes").indexOf("latex")) {
              let e3 = "", i3 = 0, n2 = t3.indexOf("$$");
              for (; -1 !== n2; ) {
                if (e3 += t3.substring(i3, n2), i3 = t3.indexOf("$$", n2 + 2), -1 !== i3) {
                  const o2 = t3.substring(n2 + 2, i3), r2 = ib.htmlEntitiesDecode(o2);
                  let s4 = Zp.getMathMLFromLatex(r2, true);
                  Gp.get("saveHandTraces") || (s4 = Jp.removeAnnotation(s4, "application/json")), e3 += s4, i3 += 2;
                } else e3 += "$$", i3 = n2 + 2;
                n2 = t3.indexOf("$$", i3);
              }
              e3 += t3.substring(i3, t3.length), t3 = e3;
            }
            return t3;
          }
          static endParseSaveMode(t3) {
            return Gp.get("saveMode") && ("safeXml" === Gp.get("saveMode") || "xml" === Gp.get("saveMode") ? t3 = rb.codeImgTransform(t3, "img2mathml") : "base64" === Gp.get("saveMode") && "image" === Gp.get("base64savemode") && (t3 = rb.codeImgTransform(t3, "img264"))), t3;
          }
          static createShowImageSrc(t3, e3) {
            const i3 = [], n2 = ["mml", "color", "centerbaseline", "zoom", "dpi", "fontSize", "fontFamily", "defaultStretchy", "backgroundColor", "format"];
            n2.forEach((e4) => {
              const o3 = n2[e4];
              void 0 !== t3[o3] && (i3[o3] = t3[o3]);
            });
            const o2 = {};
            Object.keys(t3).forEach((e4) => {
              "mml" !== e4 && (o2[e4] = t3[e4]);
            }), o2.formula = com.wiris.js.JsPluginTools.md5encode(ib.propertiesToString(i3)), o2.lang = void 0 === e3 ? "en" : e3, o2.version = Gp.get("version");
            return Kp.getService("showimage", ib.httpBuildQuery(o2), true);
          }
          static codeImgTransform(t3, e3) {
            let i3 = "", n2 = 0;
            const o2 = /<img/gi, r2 = o2.source.length;
            for (; o2.test(t3); ) {
              const s4 = o2.lastIndex - r2;
              i3 += t3.substring(n2, s4);
              let a4 = s4 + 1;
              for (; a4 < t3.length && n2 <= s4; ) {
                const e4 = t3.charAt(a4);
                if ('"' === e4 || "'" === e4) {
                  const i4 = t3.indexOf(e4, a4 + 1);
                  a4 = -1 === i4 ? t3.length : i4;
                } else ">" === e4 && (n2 = a4 + 1);
                a4 += 1;
              }
              if (n2 < s4) return i3 += t3.substring(s4, t3.length), i3;
              let l2 = t3.substring(s4, n2);
              const c3 = ib.createObject(l2);
              let d4, h4, u3 = c3.getAttribute(Gp.get("imageMathmlAttribute"));
              if ("base642showimage" === e3) null == u3 && (u3 = c3.getAttribute("alt")), u3 = Jp.safeXmlDecode(u3), l2 = rb.mathmlToImgObject(document, u3, null, null), i3 += ib.createObjectCode(l2);
              else if ("img2mathml" === e3) Gp.get("saveMode") && ("safeXml" === Gp.get("saveMode") ? (d4 = true, h4 = true) : "xml" === Gp.get("saveMode") && (d4 = true, h4 = false)), i3 += ib.getWIRISImageOutput(l2, d4, h4);
              else if ("img264" === e3) {
                null === u3 && (u3 = c3.getAttribute("alt")), u3 = Jp.safeXmlDecode(u3);
                const t4 = { base64: "true" };
                l2 = rb.mathmlToImgObject(document, u3, t4, null), nb.setImgSize(l2, l2.src, true), i3 += ib.createObjectCode(l2);
              }
            }
            return i3 += t3.substring(n2, t3.length), i3;
          }
          static parseMathmlToImg(t3, e3, i3) {
            let n2 = "";
            const o2 = e3.tagOpener + "math", r2 = `${e3.tagOpener}/math${e3.tagCloser}`;
            let s4 = t3.indexOf(o2), a4 = 0;
            for (; -1 !== s4; ) {
              n2 += t3.substring(a4, s4);
              const l2 = t3.indexOf(Gp.get("imageMathmlAttribute"));
              if (a4 = t3.indexOf(r2, s4), -1 === a4 ? a4 = t3.length - 1 : a4 += -1 !== l2 ? t3.indexOf("/>", s4) : r2.length, Jp.isMathmlInAttribute(t3, s4) || -1 !== l2) n2 += t3.substring(s4, a4);
              else {
                let o3 = t3.substring(s4, a4);
                o3 = e3.id === $p.safeXmlCharacters.id ? Jp.safeXmlDecode(o3) : Jp.mathMLEntities(o3), n2 += ib.createObjectCode(rb.mathmlToImgObject(document, o3, null, i3));
              }
              s4 = t3.indexOf(o2, a4);
            }
            return n2 += t3.substring(a4, t3.length), n2;
          }
        }
        if ("undefined" != typeof MutationObserver) {
          const t3 = new MutationObserver((t4) => {
            t4.forEach((t5) => {
              t5.oldValue === Gp.get("imageClassName") && "class" === t5.attributeName && -1 === t5.target.className.indexOf(Gp.get("imageClassName")) && (t5.target.className = Gp.get("imageClassName"));
            });
          });
          rb.observer = Object.create(t3), rb.observer.Config = { attributes: true, attributeOldValue: true }, rb.observer.observe = function(t4) {
            Object.getPrototypeOf(this).observe(t4, this.Config);
          };
        }
        class sb {
          constructor() {
            this.isContentChanged = false, this.waitingForChanges = false;
          }
          setIsContentChanged(t3) {
            this.isContentChanged = t3;
          }
          getIsContentChanged() {
            return this.isContentChanged;
          }
          setWaitingForChanges(t3) {
            this.waitingForChanges = t3;
          }
          caretPositionChanged(t3) {
          }
          clipboardChanged(t3) {
          }
          contentChanged(t3) {
            true === this.waitingForChanges && false === this.isContentChanged && (this.isContentChanged = true);
          }
          styleChanged(t3) {
          }
          transformationReceived(t3) {
          }
        }
        class ab {
          constructor(t3) {
            if (this.editorAttributes = {}, !("editorAttributes" in t3)) throw new Error("ContentManager constructor error: editorAttributes property missed.");
            if (this.editorAttributes = t3.editorAttributes, this.customEditors = null, "customEditors" in t3 && (this.customEditors = t3.customEditors), this.environment = {}, !("environment" in t3)) throw new Error("ContentManager constructor error: environment property missed");
            if (this.environment = t3.environment, this.language = "", !("language" in t3)) throw new Error("ContentManager constructor error: language property missed");
            this.language = t3.language, this.editorListener = new sb(), this.editor = null, this.ua = navigator.userAgent.toLowerCase(), this.deviceProperties = {}, this.deviceProperties.isAndroid = this.ua.indexOf("android") > -1, this.deviceProperties.isIOS = this.ua.indexOf("ipad") > -1 || this.ua.indexOf("iphone") > -1, this.toolbar = null, this.modalDialogInstance = null, this.listeners = new Xp(), this.mathML = null, this.isNewElement = true, this.integrationModel = null;
          }
          addListener(t3) {
            this.listeners.add(t3);
          }
          setIntegrationModel(t3) {
            this.integrationModel = t3;
          }
          setModalDialogInstance(t3) {
            this.modalDialogInstance = t3;
          }
          insert() {
            this.updateTitle(this.modalDialogInstance), this.insertEditor(this.modalDialogInstance);
          }
          insertEditor() {
            if (ab.isEditorLoaded()) {
              if (this.editor = window.com.wiris.jsEditor.JsEditor.newInstance(this.editorAttributes), this.editor.insertInto(this.modalDialogInstance.contentContainer), this.editor.focus(), this.modalDialogInstance.rtl && this.editor.action("rtl"), this.editor.getEditorModel().isRTL() && (this.editor.element.style.direction = "rtl"), this.editor.getEditorModel().addEditorListener(this.editorListener), this.modalDialogInstance.deviceProperties.isIOS) {
                setTimeout(function() {
                  this.modalDialogInstance.hideKeyboard();
                }, 400);
                const t3 = document.getElementsByClassName("wrs_formulaDisplay")[0];
                ib.addEvent(t3, "focus", this.modalDialogInstance.handleOpenedIosSoftkeyboard), ib.addEvent(t3, "blur", this.modalDialogInstance.handleClosedIosSoftkeyboard);
              }
              this.listeners.fire("onLoad", {});
            } else setTimeout(ab.prototype.insertEditor.bind(this), 100);
          }
          init() {
            ab.isEditorLoaded() || this.addEditorAsExternalDependency();
          }
          addEditorAsExternalDependency() {
            const t3 = document.createElement("script");
            t3.type = "text/javascript";
            let e3 = Gp.get("editorUrl");
            const i3 = document.createElement("a");
            ab.setHrefToAnchorElement(i3, e3), ab.setProtocolToAnchorElement(i3), e3 = ab.getURLFromAnchorElement(i3);
            const n2 = this.getEditorStats();
            t3.src = `${e3}?lang=${this.language}&stats-editor=${n2.editor}&stats-mode=${n2.mode}&stats-version=${n2.version}`, document.getElementsByTagName("head")[0].appendChild(t3);
          }
          static setHrefToAnchorElement(t3, e3) {
            t3.href = e3;
          }
          static setProtocolToAnchorElement(t3) {
            0 === window.location.href.indexOf("https://") && "http:" === t3.protocol && (t3.protocol = "https:");
          }
          static getURLFromAnchorElement(t3) {
            if ("80" === t3.port || "443" === t3.port || "" === t3.port) return `${t3.protocol}//${t3.hostname}/${t3.pathname}`;
          }
          getEditorStats() {
            const t3 = {};
            return "editor" in this.environment ? t3.editor = this.environment.editor : t3.editor = "unknown", "mode" in this.environment ? t3.mode = this.environment.mode : t3.mode = Gp.get("saveMode"), "version" in this.environment ? t3.version = this.environment.version : t3.version = Gp.get("version"), t3;
          }
          static isEditorLoaded() {
            return window.com && window.com.wiris && window.com.wiris.jsEditor && window.com.wiris.jsEditor.JsEditor && window.com.wiris.jsEditor.JsEditor.newInstance;
          }
          setInitialContent() {
            this.isNewElement || this.setMathML(this.mathML);
          }
          setMathML(t3, e3) {
            void 0 === e3 && (e3 = false), this.editor.setMathMLWithCallback(t3, () => {
              this.editorListener.setWaitingForChanges(true);
            }), setTimeout(() => {
              this.editorListener.setIsContentChanged(false);
            }, 500), e3 || this.onFocus();
          }
          onFocus() {
            void 0 !== this.editor && null != this.editor && this.editor.focus();
          }
          submitAction() {
            if (this.editor.isFormulaEmpty()) this.integrationModel.updateFormula(null);
            else {
              let t3 = this.editor.getMathMLWithSemantics();
              if (null !== this.customEditors.getActiveEditor()) {
                const { toolbar: e4 } = this.customEditors.getActiveEditor();
                t3 = Jp.addCustomEditorClassAttribute(t3, e4);
              } else Object.keys(this.customEditors.editors).forEach((e4) => {
                t3 = Jp.removeCustomEditorClassAttribute(t3, e4);
              });
              const e3 = Jp.mathMLEntities(t3);
              this.integrationModel.updateFormula(e3);
            }
            this.customEditors.disable(), this.integrationModel.notifyWindowClosed(), this.setEmptyMathML(), this.customEditors.disable();
          }
          setEmptyMathML() {
            this.deviceProperties.isAndroid || this.deviceProperties.isIOS ? this.editor.getEditorModel().isRTL() ? this.setMathML('<math dir="rtl"><semantics><annotation encoding="application/json">[]</annotation></semantics></math>', true) : this.setMathML('<math><semantics><annotation encoding="application/json">[]</annotation></semantics></math>', true) : this.editor.getEditorModel().isRTL() ? this.setMathML('<math dir="rtl"/>', true) : this.setMathML("<math/>", true);
          }
          onOpen() {
            this.isNewElement ? this.setEmptyMathML() : this.setMathML(this.mathML), this.updateToolbar(), this.onFocus();
          }
          updateToolbar() {
            this.updateTitle(this.modalDialogInstance);
            const t3 = this.customEditors.getActiveEditor();
            if (t3) {
              const e3 = t3.toolbar ? t3.toolbar : _wrs_int_wirisProperties.toolbar;
              null != this.toolbar && this.toolbar === e3 || this.setToolbar(e3);
            } else {
              const t4 = this.getToolbar();
              null != this.toolbar && this.toolbar === t4 || (this.setToolbar(t4), this.customEditors.disable());
            }
          }
          updateTitle() {
            const t3 = this.customEditors.getActiveEditor();
            t3 ? this.modalDialogInstance.setTitle(t3.title) : this.modalDialogInstance.setTitle("MathType");
          }
          getToolbar() {
            let t3 = "general";
            return "toolbar" in this.editorAttributes && ({ toolbar: t3 } = this.editorAttributes), "general" === t3 && (t3 = "undefined" == typeof _wrs_int_wirisProperties || void 0 === _wrs_int_wirisProperties.toolbar ? "general" : _wrs_int_wirisProperties.toolbar), t3;
          }
          setToolbar(t3) {
            this.toolbar = t3, this.editor.setParams({ toolbar: this.toolbar });
          }
          hasChanges() {
            return !this.editor.isFormulaEmpty() && this.editorListener.getIsContentChanged();
          }
          onKeyDown(t3) {
            if (void 0 !== t3.key && false === t3.repeat) {
              if ("Escape" === t3.key || "Esc" === t3.key) {
                let e3 = document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor3RowsLayout wrs_pressed");
                0 === e3.length && (e3 = document.getElementsByClassName("wrs_expandButton wrs_expandButtonFor2RowsLayout wrs_pressed"), 0 === e3.length && (e3 = document.getElementsByClassName("wrs_select wrs_pressed"), 0 === e3.length && (this.modalDialogInstance.cancelAction(), t3.stopPropagation(), t3.preventDefault())));
              } else if (t3.shiftKey && "Tab" === t3.key) if (document.activeElement === this.modalDialogInstance.submitButton) this.editor.focus(), t3.stopPropagation(), t3.preventDefault();
              else {
                const e3 = document.querySelector('[title="Manual"]');
                document.activeElement === e3 && (this.modalDialogInstance.cancelButton.focus(), t3.stopPropagation(), t3.preventDefault());
              }
              else if ("Tab" === t3.key) if (document.activeElement === this.modalDialogInstance.cancelButton) {
                document.querySelector('[title="Manual"]').focus(), t3.stopPropagation(), t3.preventDefault();
              } else {
                "wrs_formulaDisplay wrs_focused" === document.getElementsByClassName("wrs_formulaDisplay")[0].getAttribute("class") && (this.modalDialogInstance.submitButton.focus(), t3.stopPropagation(), t3.preventDefault());
              }
            }
          }
        }
        class lb {
          constructor() {
            this.editors = [], this.activeEditor = "default";
          }
          addEditor(t3, e3) {
            const i3 = {};
            i3.name = e3.name, i3.toolbar = e3.toolbar, i3.icon = e3.icon, i3.confVariable = e3.confVariable, i3.title = e3.title, i3.tooltip = e3.tooltip, this.editors[t3] = i3;
          }
          enable(t3) {
            this.activeEditor = t3;
          }
          disable() {
            this.activeEditor = "default";
          }
          getActiveEditor() {
            return "default" !== this.activeEditor ? this.editors[this.activeEditor] : null;
          }
        }
        var cb = { imageCustomEditorName: "data-custom-editor", imageClassName: "Wirisformula", CASClassName: "Wiriscas" };
        class db {
          constructor() {
            this.cancelled = false, this.defaultPrevented = false;
          }
          cancel() {
            this.cancelled = true;
          }
          preventDefault() {
            this.defaultPrevented = true;
          }
        }
        class hb {
          constructor(t3) {
            this.overlayElement = t3.overlayElement, this.callbacks = t3.callbacks, this.overlayWrapper = this.overlayElement.appendChild(document.createElement("div")), this.overlayWrapper.setAttribute("class", "wrs_popupmessage_overlay_envolture"), this.message = this.overlayWrapper.appendChild(document.createElement("div")), this.message.id = "wrs_popupmessage", this.message.setAttribute("class", "wrs_popupmessage_panel"), this.message.setAttribute("role", "dialog"), this.message.setAttribute("aria-describedby", "description_txt");
            const e3 = document.createElement("p"), i3 = document.createTextNode(t3.strings.message);
            e3.appendChild(i3), e3.id = "description_txt", this.message.appendChild(e3);
            const n2 = this.overlayWrapper.appendChild(document.createElement("div"));
            n2.setAttribute("class", "wrs_popupmessage_overlay"), n2.addEventListener("click", this.cancelAction.bind(this)), this.buttonArea = this.message.appendChild(document.createElement("div")), this.buttonArea.setAttribute("class", "wrs_popupmessage_button_area"), this.buttonArea.id = "wrs_popup_button_area";
            const o2 = { class: "wrs_button_accept", innerHTML: t3.strings.submitString, id: "wrs_popup_accept_button" };
            this.closeButton = this.createButton(o2, this.closeAction.bind(this)), this.buttonArea.appendChild(this.closeButton);
            const r2 = { class: "wrs_button_cancel", innerHTML: t3.strings.cancelString, id: "wrs_popup_cancel_button" };
            this.cancelButton = this.createButton(r2, this.cancelAction.bind(this)), this.buttonArea.appendChild(this.cancelButton);
          }
          createButton(t3, e3) {
            let i3 = {};
            return i3 = document.createElement("button"), i3.setAttribute("id", t3.id), i3.setAttribute("class", t3.class), i3.innerHTML = t3.innerHTML, i3.addEventListener("click", e3), i3;
          }
          show() {
            "block" !== this.overlayWrapper.style.display ? (document.activeElement.blur(), this.overlayWrapper.style.display = "block", this.closeButton.focus()) : (this.overlayWrapper.style.display = "none", _wrs_modalWindow.focus());
          }
          cancelAction() {
            this.overlayWrapper.style.display = "none", void 0 !== this.callbacks.cancelCallback && this.callbacks.cancelCallback();
          }
          closeAction() {
            this.cancelAction(), void 0 !== this.callbacks.closeCallback && this.callbacks.closeCallback();
          }
          onKeyDown(t3) {
            void 0 !== t3.key && ("Escape" === t3.key || "Esc" === t3.key ? (this.cancelAction(), t3.stopPropagation(), t3.preventDefault()) : "Tab" === t3.key && (document.activeElement === this.closeButton ? this.cancelButton.focus() : this.closeButton.focus(), t3.stopPropagation(), t3.preventDefault()));
          }
        }
        var ub = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3813"\n   version="1.1">\n  <metadata\n     id="metadata3819">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3817" />\n  <image\n     y="0"\n     x="0"\n     id="image3821"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nnUlEQVRYw+3Z0QnCMBSF4T/FATqCG1g3cISO0NE6iiPoCE5gneD40ohPvgkJ/AcC9/EjHELgliT0\nkoGOIlasWLFixYoVK1asWLFixYoVK1bsjxy+5hlYgLEx47ofSEKSJW1nTUJJMgLPDlpwHoCpk8rO\nvgZixf4Zu3Vi3cq+WroBp4ahL+BYa3AB7o1CH7vvc7M1U4N/g2sdSk8bxjfDaMNdr+hmAQAAAABJ\nRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n', mb = '<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg32"\n   version="1.1">\n  <metadata\n     id="metadata38">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs36" />\n  <image\n     y="0"\n     x="0"\n     id="image40"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\npklEQVRYw+3ZLQ4CMRCG4bcbFOvXg99T7FG4BafAw1VALx7dWyy2mIoGgSOZJu/n6p70ZybppFIK\nvWSgo4gVK1asWLFixYoVK1asWLFixYoV+yO7r/UMHIAxiO8FZGBrsUfgDEwBN/QNXIA11S/PW1Bo\nCz4N9ein4Nd1Dyw9PbDR0iVW7J+xudax6HkOtZVdg0MfQE7N0G4GlmANYgNW4A6QepowfgDMXB26\nb1V6LAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n';
        class gb {
          constructor(t3) {
            this.attributes = t3;
            const e3 = navigator.userAgent.toLowerCase(), i3 = e3.indexOf("android") > -1, n2 = e3.indexOf("ipad") > -1 || e3.indexOf("iphone") > -1;
            this.iosSoftkeyboardOpened = false, this.iosMeasureUnit = -1 === e3.indexOf("crios") ? "%" : "vh", this.iosDivHeight = "100%" + this.iosMeasureUnit;
            const o2 = window.outerWidth, r2 = window.outerHeight, s4 = o2 > r2, a4 = o2 < r2, l2 = s4 && this.attributes.height > r2, c3 = a4 && this.attributes.width > o2, d4 = l2 || c3;
            this.instanceId = document.getElementsByClassName("wrs_modal_dialogContainer").length, this.deviceProperties = { orientation: s4 ? "landscape" : "portait", isAndroid: i3, isIOS: n2, isMobile: d4, isDesktop: !d4 && !n2 && !i3 }, this.properties = { created: false, state: "", previousState: "", position: { bottom: 0, right: 10 }, size: { height: 338, width: 580 } }, this.websiteBeforeLockParameters = null;
            let h4 = { class: "wrs_modal_overlay" };
            h4.id = this.getElementId(h4.class), this.overlay = ib.createElement("div", h4), h4 = {}, h4.class = "wrs_modal_title_bar", h4.id = this.getElementId(h4.class), this.titleBar = ib.createElement("div", h4), h4 = {}, h4.class = "wrs_modal_title", h4.id = this.getElementId(h4.class), this.title = ib.createElement("div", h4), this.title.innerHTML = "", h4 = {}, h4.class = "wrs_modal_close_button", h4.id = this.getElementId(h4.class), h4.title = eb.get("close"), h4.style = {}, this.closeDiv = ib.createElement("a", h4), this.closeDiv.setAttribute("role", "button");
            let u3 = `background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3783"\n   version="1.1">\n  <metadata\n     id="metadata3789">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3787" />\n  <image\n     y="0"\n     x="0"\n     id="image3791"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\nvklEQVRYw83Z23GDMBAF0AsNhBIowSVQgjuISnAJKSEdZNOBS6CDOBUkqSC4gs2PyGhAQg92se4M\n4w8bccYW2hVumBmRdAB6ADfopQcw2SOYNoIkAL8APgB8AzgLI0/2S/iy1xkt3B9m9h0dM9/YHxM4\nJ/c4MfPkGX+y763OyYVKgUPQTXAJdC84Bg2CS6Gl4FSoF7wHmgvOhbrgzsW+8L4YJegccrEj749R\ngs7ZXGdz8wbAeNbREcDTzrHvblEgBbAUFACuy6JALJeL0E/P9sbvmBnNojcgAM+oJ58AhrlnWM5Z\nA+C9RmiokakBvIJuNTLSc7hojqY0Mo8EB6Ep2CPBm9BU7BHgKDQHqwlOguZiNcDJ0JLe4FV4iaLY\nJjF16dLqnoob+EdDs8A1QJPBtUCTwDVBo+DaoJvgNvBIR6rDl9wirbA1QIPgVgl6VwHb+dAr7Jkk\nS/Pg3mCkVOslxxV9yBFqSqTA/3N2Utkzye3pftw5OxzQ5tHeddcdzGj3o4VgClUwowgtAVOs3BpF\naA6YUnsDowhNAVNu12UUoVtgCn2+ifxp1wO42Ner4KPR5dJ2tsse2ZLvTQxbVf4AmC2z7WnSvpIA\nAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`, m4 = `background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg2"\n   version="1.1">\n  <metadata\n     id="metadata8">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs6" />\n  <image\n     y="0"\n     x="0"\n     id="image10"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAACXBIWXMAAC4jAAAuIwF4pT92AAAB\n2ElEQVRYw9XZoXPCMBTH8S+5KfDzQ29606CH3/SmQTO96aGHHn/F0Himh8eDZSblQknSJH2F0DtE\nQw8+12vyfulr7XY7LuW4qvj+DugD18AC+AE2woa+/mz07y9cF7Y8d7YPDEtjK2AsCB4BvdLYHPi0\nXawioAA3wAfQaQiKHhuFYl1QSbAL6gWrSKgEuArqBKsEaB1wKNQKVsasHybcpRhwLNQED0zsoMbz\nFwJOhWL6Cmzd2e0D14Wi1/k9di2wFNnAEtBifd9jv4GtIPgaeBOCAkzLFayr/6idWSSY6DJ8sHT9\n6VK6zRFqKwo5gQ+grnKbA/gI6gsy5wRboT7sucBOaBX21GAvNAR7KnAlNBTbNDgIGoMtwO/C0Gko\nNBZbN525tk+dJrAj4F4YGxXgVQS019DkCgarM0OjwCoDaDBYZQINAquMoJVglRnUC1YZQp1g1RB0\nJryn65jYJ0HoRGPHguDX8hsZ6VAiGX4eUrJBbHqSArdN7LLBmCcBnpvYWfHWo6E8Wge8Ar7Kj8E4\nARwcnBPBB20BE7uJBMdAU8BH/YvyBAsFp0BjwNZGi201qALXgYaAnR0hX2upAzwDj/p8raFL5I4u\n8ALc6vNfvc+ztq5al9Rh/AfwZZ/LmlMllAAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`;
            this.closeDiv.setAttribute("style", u3), this.closeDiv.setAttribute("onmouseover", `this.style = "${m4}";`), this.closeDiv.setAttribute("onmouseout", `this.style = "${u3}";`), h4 = {}, h4.class = "wrs_modal_stack_button", h4.id = this.getElementId(h4.class), h4.title = eb.get("exit_fullscreen"), this.stackDiv = ib.createElement("a", h4), this.stackDiv.setAttribute("role", "button"), u3 = `background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3823"\n   version="1.1">\n  <metadata\n     id="metadata3829">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3827" />\n  <image\n     y="0"\n     x="0"\n     id="image3831"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAHOSURBVFhH1ZiLUcMwEEQNDcQl0AEuISVABZhO\nUkroICVAB6ECoINQgdmVfR5FlmQrkZzjzezEzsc8NPqcdNd1XfVfuB9ec3NAmv4yiRo5ImzBlm+c\nwZYtEHJCGsT3eSgHxKZFxs/tL+aMkCK8R3yMwu4PcsVmiXBIVDDCvh/miEtMeE5UaEsNMJcN8o64\ng26PvPSXs9S+/zRHQtgtvLRFCb9blZpnYw/9Rb6RR3M3zxtiprFbyKYwipK1+uwlnIkSrbITUaJR\n1itKtMkGRYk2WRZAQbTNBpzWtggrrwnaWja00hk0DrCgsEZZ4hXWKksmwjLAHobkgOv+V3+ZhXHQ\niWxKqXYLKNyILDdqbPKlldASPhA+Mxc7uwatkSOSix1iP//q2APshLBvfJo7hbizgQj/mDtl+KYu\nCj8h7NSqCM2zXJvZwqqEY4uCOuGYLKEwJ3kVzMlyscg5915FTFbdqhaSVbn8+mTV1gmurOqCxpZN\nEeUu9BlZd1obioTkQ7IhPGTjYZuPIoUMK/GUFrX39asuHJTlH3w1d3FCBxCrCUufZX+NCUdPSsAq\nwu4A8wnPiQrFhW1Z4govFRWKCoeOjzjoZF92CdwpZy6AquoPvJRHJxB8bJ8AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`, m4 = `background-size: 10px; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg42"\n   version="1.1">\n  <metadata\n     id="metadata48">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs46" />\n  <image\n     y="0"\n     x="0"\n     id="image50"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG/SURBVFhH1ZgxUsMwEEUNJRyAGmp6qKGn5xRQ\nQ08NNfRQQw11DpAaanIAWrMv8WaELSlexhLLm/mRnImiF48jr7zVtm3zX9ju2ik5llxLdpdHNg4k\nT5I7yWB8Cdl9yZHkRmIRRpQxOxK+YzC+hKwSnTBBKKoMxpeUBSbkksgRE1V+CJeWhUPJ5ao7ICeq\nrIVryMKJpC88RlTZk1SThVDYIvoluZIsSqyz511SfEg4UxbRdw5qnlmFa9AsCn8hO4aBKHiUjYqC\nN9mkKHiSzYqCJ9lPSVIUPMmySqTudEu8XbOxO90ab7KQFPYoC1Fhr7IwENbagMLCUtXnoCTM1QZW\n3iS3dFT2mRfHvEjuVfZUckFnQh67dgqo1GYqC1MLn3XtZIR/sFcJW2C39FcD18KxpcutcGqddSmc\nuykg/LDq+iAnC/OudUFOVrfLbkjJWvb11YjJuhSFvqxbUQhlXYuCylpE2YXy2SkLlVEgaxVluzyT\nIEutWQ1kKZYtouF2maK4mjCyFN6bJsw9gKgmrNdsbsKNT0qEKsIqC7EJx4gqxYVDWQgntIgqRYXD\nbY3CLpcVgmdPC974BYy3/MgRNM03hR9ubFTHT48AAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`, this.stackDiv.setAttribute("style", u3), this.stackDiv.setAttribute("onmouseover", `this.style = "${m4}";`), this.stackDiv.setAttribute("onmouseout", `this.style = "${u3}";`), h4 = {}, h4.class = "wrs_modal_maximize_button", h4.id = this.getElementId(h4.class), h4.title = eb.get("fullscreen"), this.maximizeDiv = ib.createElement("a", h4), this.maximizeDiv.setAttribute("role", "button"), u3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg3793"\n   version="1.1">\n  <metadata\n     id="metadata3799">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3797" />\n  <image\n     y="0"\n     x="0"\n     id="image3801"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAG4SURBVFhHvZnhUYNAEEbRBkwH2oGUkA40FWgJ\nKSEdaAmxA0vQDmIHKSFWgPuAHZkEAnd8y5v5kuNHMm+WY1mSm6qqCiGlZdUspXzxopY9Wu6bpZQf\nSxlRWapwVx9p2dy2CxUHy9ryWx9pKdWyECYcIQshwlGyIBeOlAWpcLQsyISXkAWEX5tlPkvJwnP7\nns1SsnvLS7PMZwlZiShEy8pEIVJWKgpRsnJRiJBNFf2wbCzjfZgRUZi9JYWDxT9bWk6WIXbKym4t\nKRVloObO5oze6ZClWX9a5jyOcOrfmuUkXPRUH/1zVRhZpvsnCxN+jnDqHh0SdQaFu9vg0ZIqrBZ1\neoXP92yKcJSocyHcd4FNEY4WdbrCR1rGrukMF9BWVhZvLZ7U9rS2nH9HVvoq63iFu+RUlOpIuCYL\nCCPIqVjq1A9j5R3aBnMY2kKzMlbZHPQVbVHLhomCUjZUFFSy35ZQUVDIMo+Gi4JCltFwERSy75Y5\n4+VkFLLcKHLHyyRUF1jOeJmMShbChZWy0Df8yFDLgg8/cpCN6I9cdHJhZHmy7X2anAnCtDUZ/j/Y\ng2X2j709MHhTDAFF8QdK9SRpUl2yFgAAAABJRU5ErkJggg==\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`, m4 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.76 13.76"\n   height="13.76"\n   width="13.76"\n   id="svg12"\n   version="1.1">\n  <metadata\n     id="metadata18">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs16" />\n  <image\n     y="0"\n     x="0"\n     id="image20"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACsAAAArCAYAAADhXXHAAAAAAXNSR0IArs4c6QAAAARnQU1BAACx\njwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAAGMSURBVFhHvdk7TsNAFIVhQ0l6elLDJqCGngXQ\nU7MA6rALahZATQ81C6APrXP/jEaKHD/i8TnzS1eaICF/2I4f4qxt20bYOmaVlrK2Mb8s1Nj3mIu0\nlPYZszlPa1kvMf9pKe02Zq3Gcrhc4JUaSzawA0sWsAtLcrATS1KwG0sycA0sAd6kZXm1sNzVHtOy\nvBpYoK8xV/tPC3JjZVByYqVQcmHlUHJgLVBSY0ugPP7xO5PXYSW2FMr19ytm8sahxD7ElEBzk3c6\nsFysn/afymKPvsXMueh3oblRMNibmPuYZ34wsyWHfqhB8OFpwKvDHLADmusFd8/ZU8FOaO4I3PcF\nmwLXgOYOwVtexdnwdUy3vg2UQPnD2eji+vZsrruHS/eoBEpjWMpgrhi1Dv1gY6fBkuRQmtqzJVmg\npMbaoKTEWqGkwtqhpMBWgZICWwVKCuwpzxKSFNi5T2vFqb5gVcAqLNnBSixZwWos2cBg/9JSmgUM\n9iMt5QFe8tZ8VP6n3WXMHQtxPzHfabm0ptkBwWhpthzMp7YAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.76" />\n</svg>\n')})`, this.maximizeDiv.setAttribute("style", u3), this.maximizeDiv.setAttribute("onmouseover", `this.style = "${m4}";`), this.maximizeDiv.setAttribute("onmouseout", `this.style = "${u3}";`), h4 = {}, h4.class = "wrs_modal_minimize_button", h4.id = this.getElementId(h4.class), h4.title = eb.get("minimize"), this.minimizeDiv = ib.createElement("a", h4), this.minimizeDiv.setAttribute("role", "button"), u3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ub)})`, m4 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(mb)})`, this.minimizeDiv.setAttribute("style", u3), this.minimizeDiv.setAttribute("onmouseover", `this.style = "${m4}";`), this.minimizeDiv.setAttribute("onmouseout", `this.style = "${u3}";`), h4 = {}, h4.class = "wrs_modal_dialogContainer", h4.id = this.getElementId(h4.class), h4.role = "dialog", this.container = ib.createElement("div", h4), this.container.setAttribute("aria-labeledby", "wrs_modal_title[0]"), h4 = {}, h4.class = "wrs_modal_wrapper", h4.id = this.getElementId(h4.class), this.wrapper = ib.createElement("div", h4), h4 = {}, h4.class = "wrs_content_container", h4.id = this.getElementId(h4.class), this.contentContainer = ib.createElement("div", h4), h4 = {}, h4.class = "wrs_modal_controls", h4.id = this.getElementId(h4.class), this.controls = ib.createElement("div", h4), h4 = {}, h4.class = "wrs_modal_buttons_container", h4.id = this.getElementId(h4.class), this.buttonContainer = ib.createElement("div", h4), this.submitButton = this.createSubmitButton({ id: this.getElementId("wrs_modal_button_accept"), class: "wrs_modal_button_accept", innerHTML: eb.get("accept") }, this.submitAction.bind(this)), this.cancelButton = this.createSubmitButton({ id: this.getElementId("wrs_modal_button_cancel"), class: "wrs_modal_button_cancel", innerHTML: eb.get("cancel") }, this.cancelAction.bind(this)), this.contentManager = null;
            const g2 = { cancelString: eb.get("cancel"), submitString: eb.get("close"), message: eb.get("close_modal_warning") }, f2 = { closeCallback: () => {
              this.close();
            }, cancelCallback: () => {
              this.focus();
            } }, p2 = { overlayElement: this.container, callbacks: f2, strings: g2 };
            this.popup = new hb(p2), this.rtl = false, "rtl" in this.attributes && (this.rtl = this.attributes.rtl), this.handleOpenedIosSoftkeyboard = this.handleOpenedIosSoftkeyboard.bind(this), this.handleClosedIosSoftkeyboard = this.handleClosedIosSoftkeyboard.bind(this);
          }
          setContentManager(t3) {
            this.contentManager = t3;
          }
          getContentManager() {
            return this.contentManager;
          }
          submitAction() {
            void 0 !== this.contentManager.submitAction && this.contentManager.submitAction(), this.close();
          }
          cancelAction() {
            void 0 === this.contentManager.hasChanges ? this.close() : this.contentManager.hasChanges() ? this.showPopUpMessage() : this.close();
          }
          createSubmitButton(t3, e3) {
            return new class {
              constructor() {
                this.element = document.createElement("button"), this.element.id = t3.id, this.element.className = t3.class, this.element.innerHTML = t3.innerHTML, ib.addEvent(this.element, "click", e3);
              }
              getElement() {
                return this.element;
              }
            }(t3, e3).getElement();
          }
          create() {
            this.titleBar.appendChild(this.closeDiv), this.titleBar.appendChild(this.stackDiv), this.titleBar.appendChild(this.maximizeDiv), this.titleBar.appendChild(this.minimizeDiv), this.titleBar.appendChild(this.title), this.deviceProperties.isDesktop && this.container.appendChild(this.titleBar), this.wrapper.appendChild(this.contentContainer), this.wrapper.appendChild(this.controls), this.controls.appendChild(this.buttonContainer), this.buttonContainer.appendChild(this.submitButton), this.buttonContainer.appendChild(this.cancelButton), this.container.appendChild(this.wrapper), this.recalculateScrollBar(), document.body.appendChild(this.container), document.body.appendChild(this.overlay), this.deviceProperties.isDesktop ? (this.createModalWindowDesktop(), this.createResizeButtons(), this.addListeners(), Gp.get("modalWindowFullScreen") && this.maximize()) : this.deviceProperties.isAndroid ? this.createModalWindowAndroid() : this.deviceProperties.isIOS && !this.deviceProperties.isMobile && this.createModalWindowIos(), null != this.contentManager && this.contentManager.insert(this), this.properties.open = true, this.properties.created = true, this.isRTL() && (this.container.style.right = window.innerWidth - this.scrollbarWidth - this.container.offsetWidth + "px", this.container.className += " wrs_modal_rtl");
          }
          createResizeButtons() {
            this.resizerBR = document.createElement("div"), this.resizerBR.className = "wrs_bottom_right_resizer", this.resizerBR.innerHTML = "\u25E2", this.resizerTL = document.createElement("div"), this.resizerTL.className = "wrs_bottom_left_resizer", this.container.appendChild(this.resizerBR), this.titleBar.appendChild(this.resizerTL), ib.addEvent(this.resizerBR, "mousedown", this.activateResizeStateBR.bind(this)), ib.addEvent(this.resizerTL, "mousedown", this.activateResizeStateTL.bind(this));
          }
          activateResizeStateBR(t3) {
            this.initializeResizeProperties(t3, false);
          }
          activateResizeStateTL(t3) {
            this.initializeResizeProperties(t3, true);
          }
          initializeResizeProperties(t3, e3) {
            ib.addClass(document.body, "wrs_noselect"), ib.addClass(this.overlay, "wrs_overlay_active"), this.resizeDataObject = { x: this.eventClient(t3).X, y: this.eventClient(t3).Y }, this.initialWidth = parseInt(this.container.style.width, 10), this.initialHeight = parseInt(this.container.style.height, 10), e3 ? this.leftScale = true : (this.initialRight = parseInt(this.container.style.right, 10), this.initialBottom = parseInt(this.container.style.bottom, 10)), this.initialRight || (this.initialRight = 0), this.initialBottom || (this.initialBottom = 0), document.body.style["user-select"] = "none";
          }
          open() {
            this.removeClass("wrs_closed");
            const { isIOS: t3 } = this.deviceProperties, { isAndroid: e3 } = this.deviceProperties, { isMobile: i3 } = this.deviceProperties;
            if ((t3 || e3 || i3) && (this.restoreWebsiteScale(), this.lockWebsiteScroll(), setTimeout(() => {
              this.hideKeyboard();
            }, 400)), this.properties.created ? (this.properties.open || (this.properties.open = true, this.deviceProperties.isAndroid || this.deviceProperties.isIOS || this.restoreState()), this.deviceProperties.isDesktop && Gp.get("modalWindowFullScreen") && this.maximize(), this.deviceProperties.isIOS && (this.iosSoftkeyboardOpened = false, this.setContainerHeight("" + (100 + this.iosMeasureUnit)))) : this.create(), ab.isEditorLoaded()) this.contentManager.onOpen(this);
            else {
              const t4 = Xp.newListener("onLoad", () => {
                this.contentManager.onOpen(this);
              });
              this.contentManager.addListener(t4);
            }
          }
          close() {
            this.removeClass("wrs_maximized"), this.removeClass("wrs_minimized"), this.removeClass("wrs_stack"), this.addClass("wrs_closed"), this.saveModalProperties(), this.unlockWebsiteScroll(), this.properties.open = false;
          }
          restoreWebsiteScale() {
            let t3 = document.querySelector("meta[name=viewport]");
            const e3 = ["initial-scale=", "minimum-scale=", "maximum-scale="], i3 = ["1.0", "1.0", "1.0"], n2 = (t4, e4) => {
              const n3 = t4.getAttribute("content");
              if (n3) {
                const o2 = n3.split(",");
                let r2 = "";
                const s4 = [];
                for (let t5 = 0; t5 < o2.length; t5 += 1) {
                  let i4 = false, n4 = 0;
                  for (; !i4 && n4 < e4.length; ) o2[t5].indexOf(e4[n4]) && (i4 = true), n4 += 1;
                  i4 || s4.push(o2[t5]);
                }
                for (let t5 = 0; t5 < e4.length; t5 += 1) {
                  const n4 = e4[t5] + i3[t5];
                  r2 += 0 === t5 ? n4 : "," + n4;
                }
                for (let t5 = 0; t5 < s4.length; t5 += 1) r2 += "," + s4[t5];
                t4.setAttribute("content", r2), t4.setAttribute("content", ""), t4.setAttribute("content", n3);
              } else t4.setAttribute("content", "initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0"), t4.removeAttribute("content");
            };
            t3 ? n2(t3, e3) : (t3 = document.createElement("meta"), document.getElementsByTagName("head")[0].appendChild(t3), n2(t3, e3), t3.remove());
          }
          lockWebsiteScroll() {
            this.websiteBeforeLockParameters = { bodyStylePosition: document.body.style.position ? document.body.style.position : "", bodyStyleOverflow: document.body.style.overflow ? document.body.style.overflow : "", htmlStyleOverflow: document.documentElement.style.overflow ? document.documentElement.style.overflow : "", windowScrollX: window.scrollX, windowScrollY: window.scrollY };
          }
          unlockWebsiteScroll() {
            if (this.websiteBeforeLockParameters) {
              document.body.style.position = this.websiteBeforeLockParameters.bodyStylePosition, document.body.style.overflow = this.websiteBeforeLockParameters.bodyStyleOverflow, document.documentElement.style.overflow = this.websiteBeforeLockParameters.htmlStyleOverflow;
              const { windowScrollX: t3 } = this.websiteBeforeLockParameters, { windowScrollY: e3 } = this.websiteBeforeLockParameters;
              window.scrollTo(t3, e3), this.websiteBeforeLockParameters = null;
            }
          }
          isIE11() {
            return navigator.userAgent.search("Msie/") >= 0 || navigator.userAgent.search("Trident/") >= 0 || navigator.userAgent.search("Edge/") >= 0;
          }
          isRTL() {
            return "ar" === this.attributes.language || "he" === this.attributes.language || this.rtl;
          }
          addClass(t3) {
            ib.addClass(this.overlay, t3), ib.addClass(this.titleBar, t3), ib.addClass(this.overlay, t3), ib.addClass(this.container, t3), ib.addClass(this.contentContainer, t3), ib.addClass(this.stackDiv, t3), ib.addClass(this.minimizeDiv, t3), ib.addClass(this.maximizeDiv, t3), ib.addClass(this.wrapper, t3);
          }
          removeClass(t3) {
            ib.removeClass(this.overlay, t3), ib.removeClass(this.titleBar, t3), ib.removeClass(this.overlay, t3), ib.removeClass(this.container, t3), ib.removeClass(this.contentContainer, t3), ib.removeClass(this.stackDiv, t3), ib.removeClass(this.minimizeDiv, t3), ib.removeClass(this.maximizeDiv, t3), ib.removeClass(this.wrapper, t3);
          }
          createModalWindowDesktop() {
            this.addClass("wrs_modal_desktop"), this.stack();
          }
          createModalWindowAndroid() {
            this.addClass("wrs_modal_android"), window.addEventListener("resize", this.orientationChangeAndroidSoftkeyboard.bind(this));
          }
          createModalWindowIos() {
            this.addClass("wrs_modal_ios"), window.addEventListener("resize", this.orientationChangeIosSoftkeyboard.bind(this));
          }
          restoreState() {
            "maximized" === this.properties.state ? this.maximize() : "minimized" === this.properties.state ? (this.properties.state = this.properties.previousState, this.properties.previousState = "", this.minimize()) : this.stack();
          }
          stack() {
            this.properties.previousState = this.properties.state, this.properties.state = "stack", this.removeClass("wrs_maximized"), this.minimizeDiv.title = eb.get("minimize"), this.removeClass("wrs_minimized"), this.addClass("wrs_stack");
            const t3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ub)})`, e3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(mb)})`;
            this.minimizeDiv.setAttribute("style", t3), this.minimizeDiv.setAttribute("onmouseover", `this.style = "${e3}";`), this.minimizeDiv.setAttribute("onmouseout", `this.style = "${t3}";`), this.restoreModalProperties(), void 0 !== this.resizerBR && void 0 !== this.resizerTL && this.setResizeButtonsVisibility(), this.recalculateScrollBar(), this.recalculatePosition(), this.recalculateScale(), this.focus();
          }
          minimize() {
            if (this.saveModalProperties(), this.title.style.cursor = "pointer", "minimized" === this.properties.state && "stack" === this.properties.previousState) this.stack();
            else if ("minimized" === this.properties.state && "maximized" === this.properties.previousState) this.maximize();
            else {
              this.container.style.height = "30px", this.container.style.width = "250px", this.container.style.bottom = "0px", this.container.style.right = "10px", this.removeListeners(), this.properties.previousState = this.properties.state, this.properties.state = "minimized", this.setResizeButtonsVisibility(), this.minimizeDiv.title = eb.get("maximize"), ib.containsClass(this.overlay, "wrs_stack") ? this.removeClass("wrs_stack") : this.removeClass("wrs_maximized"), this.addClass("wrs_minimized");
              const t3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg3803"\n   version="1.1">\n  <metadata\n     id="metadata3809">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs3807" />\n  <image\n     y="0"\n     x="0"\n     id="image3811"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvElEQVRYw+3ZSw0CMRSF4b8T9iAFB4wDkDAWcICEkTA4GAeAA3AADurgsCkbAgsSMrmFczZNd1/a\n3vSVJFFDGipJNdBZaRdAB2wC2TIwAgNAkrQEjsA86GBegDZJGoF18JnfJtVR9idXvaGGGmrod/b6\nV9kD14k9LbD6FDqUM8CU2b2Deo0aaqihhhpqqKGGGhr1hH/wiP469FaBMzflEhc9PZKQ1CtmsqRO\nEunpHbeNNN3A+dFJ/mf6V+gduGPIoUgKLbAAAAAASUVORK5CYII=\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n')})`, e3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa('<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg\n   xmlns:dc="http://purl.org/dc/elements/1.1/"\n   xmlns:cc="http://creativecommons.org/ns#"\n   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"\n   xmlns:svg="http://www.w3.org/2000/svg"\n   xmlns="http://www.w3.org/2000/svg"\n   xmlns:xlink="http://www.w3.org/1999/xlink"\n   viewBox="0 0 13.44 13.76"\n   height="13.76"\n   width="13.44"\n   id="svg22"\n   version="1.1">\n  <metadata\n     id="metadata28">\n    <rdf:RDF>\n      <cc:Work\n         rdf:about="">\n        <dc:format>image/svg+xml</dc:format>\n        <dc:type\n           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />\n        <dc:title></dc:title>\n      </cc:Work>\n    </rdf:RDF>\n  </metadata>\n  <defs\n     id="defs26" />\n  <image\n     y="0"\n     x="0"\n     id="image30"\n     xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAArCAYAAAAOnxr+AAAACXBIWXMAAC4jAAAuIwF4pT92AAAA\nvUlEQVRYw+3ZsQ3CMBCF4d8WFekZgBqWIDUDZACmYBQWYIn0pGYAegZIexROERHRIBTdhXeVy08+\nyT4/JzMjQmWCVBjoarSugK0z3/0degKODjeyBy5Am8ysARrnnT8nM7sCa+fQLgdAAlQ6ngQVVFBB\nfzeUTK6t8VAwU328ztV6QQUVVFBBBRVUUEG9Ds41sJvZs/8GelDrlw7tAjhvmZLo9o6RD4bEGUp+\nX1My/I0T4HN4rrcASf9M/wp9ASNzIKYYz2hAAAAAAElFTkSuQmCC\n"\n     style="image-rendering:optimizeQuality"\n     preserveAspectRatio="none"\n     height="13.76"\n     width="13.44" />\n</svg>\n')})`;
              this.minimizeDiv.setAttribute("style", t3), this.minimizeDiv.setAttribute("onmouseover", `this.style = "${e3}";`), this.minimizeDiv.setAttribute("onmouseout", `this.style = "${t3}";`);
            }
          }
          maximize() {
            this.saveModalProperties(), "maximized" !== this.properties.state && (this.properties.previousState = this.properties.state, this.properties.state = "maximized"), this.setResizeButtonsVisibility(), ib.containsClass(this.overlay, "wrs_minimized") ? (this.minimizeDiv.title = eb.get("minimize"), this.removeClass("wrs_minimized")) : ib.containsClass(this.overlay, "wrs_stack") && (this.container.style.left = null, this.container.style.top = null, this.removeClass("wrs_stack")), this.addClass("wrs_maximized");
            const t3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(ub)})`, e3 = `background-size: 10px; background-repeat: no-repeat; background-image: url(data:image/svg+xml;base64,${window.btoa(mb)})`;
            this.minimizeDiv.setAttribute("style", t3), this.minimizeDiv.setAttribute("onmouseover", `this.style = "${e3}";`), this.minimizeDiv.setAttribute("onmouseout", `this.style = "${t3}";`), this.setSize(parseInt(0.8 * window.innerHeight, 10), parseInt(0.8 * window.innerWidth, 10)), this.container.clientHeight > 700 && (this.container.style.height = "700px"), this.container.clientWidth > 1200 && (this.container.style.width = "1200px");
            const { innerHeight: i3 } = window, { innerWidth: n2 } = window, { offsetHeight: o2 } = this.container, { offsetWidth: r2 } = this.container, s4 = i3 / 2 - o2 / 2, a4 = n2 / 2 - r2 / 2;
            this.setPosition(s4, a4), this.recalculateScale(), this.recalculatePosition(), this.recalculateSize(), this.focus();
          }
          reExpand() {
            "minimized" === this.properties.state && ("maximized" === this.properties.previousState ? this.maximize() : this.stack(), this.title.style.cursor = "");
          }
          setSize(t3, e3) {
            this.container.style.height = t3 + "px", this.container.style.width = e3 + "px", this.recalculateSize();
          }
          setPosition(t3, e3) {
            this.container.style.bottom = t3 + "px", this.container.style.right = e3 + "px";
          }
          saveModalProperties() {
            "stack" === this.properties.state && (this.properties.position.bottom = parseInt(this.container.style.bottom, 10), this.properties.position.right = parseInt(this.container.style.right, 10), this.properties.size.width = parseInt(this.container.style.width, 10), this.properties.size.height = parseInt(this.container.style.height, 10));
          }
          restoreModalProperties() {
            "stack" === this.properties.state && (this.setPosition(this.properties.position.bottom, this.properties.position.right), this.setSize(this.properties.size.height, this.properties.size.width));
          }
          recalculateSize() {
            this.wrapper.style.width = this.container.clientWidth - 12 + "px", this.wrapper.style.height = this.container.clientHeight - 38 + "px", this.contentContainer.style.height = parseInt(this.wrapper.offsetHeight - 50, 10) + "px";
          }
          setResizeButtonsVisibility() {
            "stack" === this.properties.state ? (this.resizerTL.style.visibility = "visible", this.resizerBR.style.visibility = "visible") : (this.resizerTL.style.visibility = "hidden", this.resizerBR.style.visibility = "hidden");
          }
          addListeners() {
            this.maximizeDiv.addEventListener("click", this.maximize.bind(this), true), this.stackDiv.addEventListener("click", this.stack.bind(this), true), this.minimizeDiv.addEventListener("click", this.minimize.bind(this), true), this.closeDiv.addEventListener("click", this.cancelAction.bind(this)), this.title.addEventListener("click", this.reExpand.bind(this)), this.overlay.addEventListener("click", this.cancelAction.bind(this)), ib.addEvent(window, "mousedown", this.startDrag.bind(this)), ib.addEvent(window, "mouseup", this.stopDrag.bind(this)), ib.addEvent(window, "mousemove", this.drag.bind(this)), ib.addEvent(window, "resize", this.onWindowResize.bind(this)), ib.addEvent(this.container, "keydown", this.onKeyDown.bind(this));
          }
          removeListeners() {
            ib.removeEvent(window, "mousedown", this.startDrag), ib.removeEvent(window, "mouseup", this.stopDrag), ib.removeEvent(window, "mousemove", this.drag), ib.removeEvent(window, "resize", this.onWindowResize), ib.removeEvent(this.container, "keydown", this.onKeyDown);
          }
          eventClient(t3) {
            if (void 0 === t3.clientX && t3.changedTouches) {
              return { X: t3.changedTouches[0].clientX, Y: t3.changedTouches[0].clientY };
            }
            return { X: t3.clientX, Y: t3.clientY };
          }
          startDrag(t3) {
            "minimized" !== this.properties.state && t3.target === this.title && (void 0 !== this.dragDataObject && null !== this.dragDataObject || (this.dragDataObject = { x: this.eventClient(t3).X, y: this.eventClient(t3).Y }, this.lastDrag = { x: "0px", y: "0px" }, "" === this.container.style.right && (this.container.style.right = "0px"), "" === this.container.style.bottom && (this.container.style.bottom = "0px"), this.isIE11(), ib.addClass(document.body, "wrs_noselect"), ib.addClass(this.overlay, "wrs_overlay_active"), this.limitWindow = this.getLimitWindow()));
          }
          drag(t3) {
            if (this.dragDataObject) {
              t3.preventDefault();
              let e3 = Math.min(this.eventClient(t3).Y, this.limitWindow.minPointer.y);
              e3 = Math.max(this.limitWindow.maxPointer.y, e3);
              let i3 = Math.min(this.eventClient(t3).X, this.limitWindow.minPointer.x);
              i3 = Math.max(this.limitWindow.maxPointer.x, i3);
              const n2 = i3 - this.dragDataObject.x + "px", o2 = e3 - this.dragDataObject.y + "px";
              this.lastDrag = { x: n2, y: o2 }, this.container.style.transform = `translate3d(${n2},${o2},0)`;
            }
            if (this.resizeDataObject) {
              const { innerWidth: e3 } = window, { innerHeight: i3 } = window;
              let n2, o2 = Math.min(this.eventClient(t3).X, e3 - this.scrollbarWidth - 7), r2 = Math.min(this.eventClient(t3).Y, i3 - 7);
              o2 < 0 && (o2 = 0), r2 < 0 && (r2 = 0), n2 = this.leftScale ? -1 : 1, this.container.style.width = this.initialWidth + n2 * (o2 - this.resizeDataObject.x) + "px", this.container.style.height = this.initialHeight + n2 * (r2 - this.resizeDataObject.y) + "px", this.leftScale || (this.resizeDataObject.x - o2 - this.initialWidth < -580 ? this.container.style.right = this.initialRight - (o2 - this.resizeDataObject.x) + "px" : (this.container.style.right = this.initialRight + this.initialWidth - 580 + "px", this.container.style.width = "580px"), this.resizeDataObject.y - r2 < this.initialHeight - 338 ? this.container.style.bottom = this.initialBottom - (r2 - this.resizeDataObject.y) + "px" : (this.container.style.bottom = this.initialBottom + this.initialHeight - 338 + "px", this.container.style.height = "338px")), this.recalculateScale(), this.recalculatePosition();
            }
          }
          getLimitWindow() {
            const t3 = window.innerWidth, e3 = window.innerHeight, { offsetHeight: i3 } = this.container, n2 = parseInt(this.container.style.bottom, 10), o2 = parseInt(this.container.style.right, 10), { pageXOffset: r2 } = window, s4 = this.dragDataObject.y, a4 = this.dragDataObject.x, l2 = i3 + n2 - (e3 - (s4 - r2)), c3 = t3 - this.scrollbarWidth - (a4 - r2) - o2, d4 = e3 - this.container.offsetHeight + l2, h4 = this.title.offsetHeight - (this.title.offsetHeight - l2);
            return { minPointer: { x: t3 - c3 - this.scrollbarWidth, y: d4 }, maxPointer: { x: this.container.offsetWidth - c3, y: h4 } };
          }
          getScrollBarWidth() {
            const t3 = document.createElement("p");
            t3.style.width = "100%", t3.style.height = "200px";
            const e3 = document.createElement("div");
            e3.style.position = "absolute", e3.style.top = "0px", e3.style.left = "0px", e3.style.visibility = "hidden", e3.style.width = "200px", e3.style.height = "150px", e3.style.overflow = "hidden", e3.appendChild(t3), document.body.appendChild(e3);
            const i3 = t3.offsetWidth;
            e3.style.overflow = "scroll";
            let n2 = t3.offsetWidth;
            return i3 === n2 && (n2 = e3.clientWidth), document.body.removeChild(e3), i3 - n2;
          }
          stopDrag() {
            (this.dragDataObject || this.resizeDataObject) && (this.container.style.transform = "", this.dragDataObject && (this.container.style.right = parseInt(this.container.style.right, 10) - parseInt(this.lastDrag.x, 10) + "px", this.container.style.bottom = parseInt(this.container.style.bottom, 10) - parseInt(this.lastDrag.y, 10) + "px"), this.focus(), document.body.style["user-select"] = "", this.isIE11(), ib.removeClass(document.body, "wrs_noselect"), ib.removeClass(this.overlay, "wrs_overlay_active")), this.dragDataObject = null, this.resizeDataObject = null, this.initialWidth = null, this.leftScale = null;
          }
          onWindowResize() {
            this.recalculateScrollBar(), this.recalculatePosition(), this.recalculateScale();
          }
          onKeyDown(t3) {
            void 0 !== t3.key && ("block" !== this.popup.overlayWrapper.style.display ? "Escape" === t3.key || "Esc" === t3.key ? this.properties.open && this.contentManager.onKeyDown(t3) : t3.shiftKey && "Tab" === t3.key ? document.activeElement === this.cancelButton ? (this.submitButton.focus(), t3.stopPropagation(), t3.preventDefault()) : this.contentManager.onKeyDown(t3) : "Tab" === t3.key && (document.activeElement === this.submitButton ? (this.cancelButton.focus(), t3.stopPropagation(), t3.preventDefault()) : this.contentManager.onKeyDown(t3)) : this.popup.onKeyDown(t3));
          }
          recalculatePosition() {
            this.container.style.right = Math.min(parseInt(this.container.style.right, 10), window.innerWidth - this.scrollbarWidth - this.container.offsetWidth) + "px", parseInt(this.container.style.right, 10) < 0 && (this.container.style.right = "0px"), this.container.style.bottom = Math.min(parseInt(this.container.style.bottom, 10), window.innerHeight - this.container.offsetHeight) + "px", parseInt(this.container.style.bottom, 10) < 0 && (this.container.style.bottom = "0px");
          }
          recalculateScale() {
            let t3 = false;
            parseInt(this.container.style.width, 10) > 580 ? (this.container.style.width = Math.min(parseInt(this.container.style.width, 10), window.innerWidth - this.scrollbarWidth) + "px", t3 = true) : (this.container.style.width = "580px", t3 = true), parseInt(this.container.style.height, 10) > 338 ? (this.container.style.height = Math.min(parseInt(this.container.style.height, 10), window.innerHeight) + "px", t3 = true) : (this.container.style.height = "338px", t3 = true), t3 && this.recalculateSize();
          }
          recalculateScrollBar() {
            this.hasScrollBar = window.innerWidth > document.documentElement.clientWidth, this.hasScrollBar ? this.scrollbarWidth = this.getScrollBarWidth() : this.scrollbarWidth = 0;
          }
          hideKeyboard() {
            const t3 = document.createElement("input");
            this.container.appendChild(t3), t3.focus(), t3.blur(), t3.remove();
          }
          focus() {
            null != this.contentManager && void 0 !== this.contentManager.onFocus && this.contentManager.onFocus();
          }
          portraitMode() {
            return window.innerHeight > window.innerWidth;
          }
          handleOpenedIosSoftkeyboard() {
            this.iosSoftkeyboardOpened || null == this.iosDivHeight || this.iosDivHeight !== "100" + this.iosMeasureUnit || (this.portraitMode() ? this.setContainerHeight("63" + this.iosMeasureUnit) : this.setContainerHeight("40" + this.iosMeasureUnit)), this.iosSoftkeyboardOpened = true;
          }
          handleClosedIosSoftkeyboard() {
            this.iosSoftkeyboardOpened = false, this.setContainerHeight("100" + this.iosMeasureUnit);
          }
          orientationChangeIosSoftkeyboard() {
            this.iosSoftkeyboardOpened ? this.portraitMode() ? this.setContainerHeight("63" + this.iosMeasureUnit) : this.setContainerHeight("40" + this.iosMeasureUnit) : this.setContainerHeight("100" + this.iosMeasureUnit);
          }
          orientationChangeAndroidSoftkeyboard() {
            this.setContainerHeight("100%");
          }
          setContainerHeight(t3) {
            this.iosDivHeight = t3, this.wrapper.style.height = t3;
          }
          showPopUpMessage() {
            "minimized" === this.properties.state && this.stack(), this.popup.show();
          }
          setTitle(t3) {
            this.title.innerHTML = t3;
          }
          getElementId(t3) {
            return `${t3}[${this.instanceId}]`;
          }
        }
        var fb;
        String.prototype.codePointAt || (fb = function(t3) {
          if (null == this) throw TypeError();
          var e3 = String(this), i3 = e3.length, n2 = t3 ? Number(t3) : 0;
          if (n2 != n2 && (n2 = 0), !(n2 < 0 || n2 >= i3)) {
            var o2, r2 = e3.charCodeAt(n2);
            return r2 >= 55296 && r2 <= 56319 && i3 > n2 + 1 && (o2 = e3.charCodeAt(n2 + 1)) >= 56320 && o2 <= 57343 ? 1024 * (r2 - 55296) + o2 - 56320 + 65536 : r2;
          }
        }, Object.defineProperty ? Object.defineProperty(String.prototype, "codePointAt", { value: fb, configurable: true, writable: true }) : String.prototype.codePointAt = fb), "function" != typeof Object.assign && Object.defineProperty(Object, "assign", { value: function(t3, e3) {
          if (null == t3) throw new TypeError("Cannot convert undefined or null to object");
          for (var i3 = Object(t3), n2 = 1; n2 < arguments.length; n2++) {
            var o2 = arguments[n2];
            if (null != o2) for (var r2 in o2) Object.prototype.hasOwnProperty.call(o2, r2) && (i3[r2] = o2[r2]);
          }
          return i3;
        }, writable: true, configurable: true });
        i2(96);
        class pb {
          constructor(t3) {
            this.language = "en", this.editMode = "images", this.modalDialog = null, this.customEditors = new lb();
            if (this.customEditors.addEditor("chemistry", { name: "Chemistry", toolbar: "chemistry", icon: "chem.png", confVariable: "chemEnabled", title: "ChemType", tooltip: "Insert a chemistry formula - ChemType" }), this.environment = {}, this.editionProperties = {}, this.editionProperties.isNewElement = true, this.editionProperties.temporalImage = null, this.editionProperties.latexRange = null, this.editionProperties.range = null, this.integrationModel = null, this.contentManager = null, this.browser = (() => {
              const t4 = navigator.userAgent;
              let e3 = "none";
              return t4.search("Edge/") >= 0 ? e3 = "EDGE" : t4.search("Chrome/") >= 0 ? e3 = "CHROME" : t4.search("Trident/") >= 0 ? e3 = "IE" : t4.search("Firefox/") >= 0 ? e3 = "FIREFOX" : t4.search("Safari/") >= 0 && (e3 = "SAFARI"), e3;
            })(), this.listeners = new Xp(), this.serviceProviderProperties = {}, !("serviceProviderProperties" in t3)) throw new Error("serviceProviderProperties property missing.");
            this.serviceProviderProperties = t3.serviceProviderProperties;
          }
          static get globalListeners() {
            return pb._globalListeners;
          }
          static set globalListeners(t3) {
            pb._globalListeners = t3;
          }
          static get initialized() {
            return pb._initialized;
          }
          static set initialized(t3) {
            pb._initialized = t3;
          }
          setIntegrationModel(t3) {
            this.integrationModel = t3;
          }
          setEnvironment(t3) {
            "editor" in t3 && (this.environment.editor = t3.editor), "mode" in t3 && (this.environment.mode = t3.mode), "version" in t3 && (this.environment.version = t3.version);
          }
          getModalDialog() {
            return this.modalDialog;
          }
          init() {
            if (pb.initialized) this.listeners.fire("onLoad", {});
            else {
              const t3 = Xp.newListener("onInit", () => {
                const t4 = Kp.getService("configurationjs", "", "get"), e3 = JSON.parse(t4);
                Gp.addConfiguration(e3), Gp.addConfiguration(cb), eb.language = this.language, this.listeners.fire("onLoad", {});
              });
              Kp.addListener(t3), Kp.init(this.serviceProviderProperties), pb.initialized = true;
            }
          }
          addListener(t3) {
            this.listeners.add(t3);
          }
          static addGlobalListener(t3) {
            pb.globalListeners.add(t3);
          }
          beforeUpdateFormula(t3, e3) {
            const i3 = new db();
            return i3.mathml = t3, i3.wirisProperties = {}, null != e3 && Object.keys(e3).forEach((t4) => {
              i3.wirisProperties[t4] = e3[t4];
            }), i3.language = this.language, i3.editMode = this.editMode, this.listeners.fire("onBeforeFormulaInsertion", i3) || pb.globalListeners.fire("onBeforeFormulaInsertion", i3) ? {} : { mathml: i3.mathml, wirisProperties: i3.wirisProperties };
          }
          insertFormula(t3, e3, i3, n2) {
            const o2 = {};
            if (i3) if ("latex" === this.editMode) {
              if (o2.latex = Zp.getLatexFromMathML(i3), this.integrationModel.fillNonLatexNode && !o2.latex) {
                const n3 = new db();
                n3.editMode = this.editMode, n3.windowTarget = e3, n3.focusElement = t3, n3.latex = o2.latex, this.integrationModel.fillNonLatexNode(n3, e3, i3);
              } else o2.node = e3.document.createTextNode(`$$${o2.latex}$$`);
              this.insertElementOnSelection(o2.node, t3, e3);
            } else o2.node = rb.mathmlToImgObject(e3.document, i3, n2, this.language), this.insertElementOnSelection(o2.node, t3, e3);
            else this.insertElementOnSelection(null, t3, e3);
            return o2;
          }
          afterUpdateFormula(t3, e3, i3, n2) {
            const o2 = new db();
            return o2.editMode = this.editMode, o2.windowTarget = e3, o2.focusElement = t3, o2.node = i3, o2.latex = n2, this.listeners.fire("onAfterFormulaInsertion", o2) || pb.globalListeners.fire("onAfterFormulaInsertion", o2), {};
          }
          placeCaretAfterNode(t3) {
            this.integrationModel.getSelection();
            const e3 = t3.ownerDocument;
            if (void 0 !== e3.getSelection && t3.parentElement) {
              const i3 = e3.createRange();
              i3.setStartAfter(t3), i3.collapse(true);
              const n2 = e3.getSelection();
              n2.removeAllRanges(), n2.addRange(i3), e3.body.focus();
            }
          }
          insertElementOnSelection(t3, e3, i3) {
            if (this.editionProperties.isNewElement) if (t3) if ("textarea" === e3.type) ib.updateTextArea(e3, t3.textContent);
            else if (document.selection && 0 === document.getSelection) {
              let e4 = i3.document.selection.createRange();
              if (i3.document.execCommand("InsertImage", false, t3.src), "parentElement" in e4 || (i3.document.execCommand("delete", false), e4 = i3.document.selection.createRange(), i3.document.execCommand("InsertImage", false, t3.src)), "parentElement" in e4) {
                const i4 = e4.parentElement();
                "IMG" === i4.nodeName.toUpperCase() ? i4.parentNode.replaceChild(t3, i4) : e4.pasteHTML(ib.createObjectCode(t3));
              }
            } else {
              const e4 = this.integrationModel.getSelection();
              let i4 = null;
              this.editionProperties.range ? ({ range: i4 } = this.editionProperties, this.editionProperties.range = null) : i4 = e4.getRangeAt(0), i4.deleteContents();
              let n2 = i4.startContainer;
              const o2 = i4.startOffset;
              3 === n2.nodeType ? (n2 = n2.splitText(o2), n2.parentNode.insertBefore(t3, n2)) : 1 === n2.nodeType && n2.insertBefore(t3, n2.childNodes[o2]), this.placeCaretAfterNode(t3);
            }
            else if ("textarea" === e3.type) e3.focus();
            else {
              const t4 = this.integrationModel.getSelection();
              if (t4.removeAllRanges(), this.editionProperties.range) {
                const { range: e4 } = this.editionProperties;
                this.editionProperties.range = null, t4.addRange(e4);
              }
            }
            else if (this.editionProperties.latexRange) document.selection && 0 === document.getSelection ? (this.editionProperties.isNewElement = true, this.editionProperties.latexRange.select(), this.insertElementOnSelection(t3, e3, i3)) : (this.editionProperties.latexRange.deleteContents(), this.editionProperties.latexRange.insertNode(t3), this.placeCaretAfterNode(t3));
            else if ("textarea" === e3.type) {
              let i4;
              i4 = void 0 !== this.integrationModel.getSelectedItem ? this.integrationModel.getSelectedItem(e3, false) : ib.getSelectedItemOnTextarea(e3), ib.updateExistingTextOnTextarea(e3, t3.textContent, i4.startPosition, i4.endPosition);
            } else t3 && "img" === t3.nodeName.toLowerCase() ? (nb.removeImgDataAttributes(this.editionProperties.temporalImage), nb.clone(t3, this.editionProperties.temporalImage)) : this.editionProperties.temporalImage.remove(), this.placeCaretAfterNode(this.editionProperties.temporalImage);
          }
          openModalDialog(t3, e3) {
            this.editMode = "images";
            try {
              if (e3) {
                t3.contentWindow.focus();
                const e4 = t3.contentWindow.getSelection();
                this.editionProperties.range = e4.getRangeAt(0);
              } else {
                t3.focus();
                const e4 = getSelection();
                this.editionProperties.range = e4.getRangeAt(0);
              }
            } catch (t4) {
              this.editionProperties.range = null;
            }
            if (void 0 === e3 && (e3 = true), this.editionProperties.latexRange = null, t3) {
              let i4;
              if (i4 = void 0 !== this.integrationModel.getSelectedItem ? this.integrationModel.getSelectedItem(t3, e3) : ib.getSelectedItem(t3, e3), i4) {
                if (!i4.caretPosition && ib.containsClass(i4.node, Gp.get("imageClassName"))) this.editionProperties.temporalImage = i4.node, this.editionProperties.isNewElement = false;
                else if (3 === i4.node.nodeType) if (this.integrationModel.getMathmlFromTextNode) {
                  const t4 = this.integrationModel.getMathmlFromTextNode(i4.node, i4.caretPosition);
                  t4 && (this.editMode = "latex", this.editionProperties.isNewElement = false, this.editionProperties.temporalImage = document.createElement("img"), this.editionProperties.temporalImage.setAttribute(Gp.get("imageMathmlAttribute"), Jp.safeXmlEncode(t4)));
                } else {
                  const n3 = Zp.getLatexFromTextNode(i4.node, i4.caretPosition);
                  if (n3) {
                    const i5 = Zp.getMathMLFromLatex(n3.latex);
                    this.editMode = "latex", this.editionProperties.isNewElement = false, this.editionProperties.temporalImage = document.createElement("img"), this.editionProperties.temporalImage.setAttribute(Gp.get("imageMathmlAttribute"), Jp.safeXmlEncode(i5));
                    const o3 = e3 ? t3.contentWindow : window;
                    if ("textarea" !== t3.tagName.toLowerCase()) if (document.selection) {
                      let t4 = 0, e4 = n3.startNode.previousSibling;
                      for (; e4; ) t4 += ib.getNodeLength(e4), e4 = e4.previousSibling;
                      this.editionProperties.latexRange = o3.document.selection.createRange(), this.editionProperties.latexRange.moveToElementText(n3.startNode.parentNode), this.editionProperties.latexRange.move("character", t4 + n3.startPosition), this.editionProperties.latexRange.moveEnd("character", n3.latex.length + 4);
                    } else this.editionProperties.latexRange = o3.document.createRange(), this.editionProperties.latexRange.setStart(n3.startNode, n3.startPosition), this.editionProperties.latexRange.setEnd(n3.endNode, n3.endPosition);
                  }
                }
              } else "textarea" === t3.tagName.toLowerCase() && (this.editMode = "latex");
            }
            const i3 = Gp.get("editorAttributes").split(", "), n2 = {};
            for (let t4 = 0, e4 = i3.length; t4 < e4; t4 += 1) {
              const e5 = i3[t4].split("="), o3 = e5[0], r3 = e5[1];
              n2[o3] = r3;
            }
            const o2 = {}, r2 = Gp.get("editorParameters"), s4 = this.integrationModel.editorParameters;
            Object.assign(o2, n2, r2), Object.assign(o2, n2, s4), o2.language = this.language, o2.rtl = this.integrationModel.rtl;
            const a4 = {};
            if (a4.editorAttributes = o2, a4.language = this.language, a4.customEditors = this.customEditors, a4.environment = this.environment, null == this.modalDialog) {
              this.modalDialog = new gb(o2), this.contentManager = new ab(a4);
              const t4 = Xp.newListener("onLoad", () => {
                if (this.contentManager.isNewElement = this.editionProperties.isNewElement, null != this.editionProperties.temporalImage) {
                  const t5 = Jp.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Gp.get("imageMathmlAttribute")));
                  this.contentManager.mathML = t5;
                }
              });
              this.contentManager.addListener(t4), this.contentManager.init(), this.modalDialog.setContentManager(this.contentManager), this.contentManager.setModalDialogInstance(this.modalDialog);
            } else if (this.contentManager.isNewElement = this.editionProperties.isNewElement, null != this.editionProperties.temporalImage) {
              const t4 = Jp.safeXmlDecode(this.editionProperties.temporalImage.getAttribute(Gp.get("imageMathmlAttribute")));
              this.contentManager.mathML = t4;
            }
            this.contentManager.setIntegrationModel(this.integrationModel), this.modalDialog.open();
          }
          getCustomEditors() {
            return this.customEditors;
          }
        }
        pb._globalListeners = new Xp(), pb._initialized = false;
        class bb {
          constructor(t3) {
            if (this.language = "en", this.serviceProviderProperties = {}, "serviceProviderProperties" in t3 && (this.serviceProviderProperties = t3.serviceProviderProperties), this.configurationService = "", "configurationService" in t3 && (this.serviceProviderProperties.URI = t3.configurationService, console.warn("Deprecated property configurationService. Use serviceParameters on instead.", [t3.configurationService])), this.version = "version" in t3 ? t3.version : "", this.target = null, !("target" in t3)) throw new Error("IntegrationModel constructor error: target property missed.");
            this.target = t3.target, "scriptName" in t3 && (this.scriptName = t3.scriptName), this.callbackMethodArguments = {}, "callbackMethodArguments" in t3 && (this.callbackMethodArguments = t3.callbackMethodArguments), this.environment = {}, "environment" in t3 && (this.environment = t3.environment), this.isIframe = false, null != this.target && (this.isIframe = "IFRAME" === this.target.tagName.toUpperCase()), this.editorObject = null, "editorObject" in t3 && (this.editorObject = t3.editorObject), this.rtl = false, "rtl" in t3 && (this.rtl = t3.rtl), this.managesLanguage = false, "managesLanguage" in t3 && (this.managesLanguage = t3.managesLanguage), this.temporalImageResizing = false, this.core = null, this.listeners = new Xp(), "integrationParameters" in t3 && bb.integrationParameters.forEach((e3) => {
              if (e3 in t3.integrationParameters) {
                const i3 = t3.integrationParameters[e3];
                0 !== Object.keys(i3).length && (this[e3] = i3);
              }
            });
          }
          init() {
            this.language = this.getLanguage();
            const t3 = Xp.newListener("onLoad", () => {
              this.callbackFunction(this.callbackMethodArguments);
            });
            if (-1 !== this.serviceProviderProperties.URI.indexOf("configuration")) {
              const t4 = this.serviceProviderProperties.URI, e4 = Kp.getServerLanguageFromService(t4);
              this.serviceProviderProperties.server = e4;
              const i4 = this.serviceProviderProperties.URI.indexOf("configuration"), n2 = this.serviceProviderProperties.URI.substring(0, i4);
              this.serviceProviderProperties.URI = n2;
            }
            let e3 = this.serviceProviderProperties.URI;
            e3 = 0 === e3.indexOf("/") || 0 === e3.indexOf("http") ? e3 : ib.concatenateUrl(this.getPath(), e3), this.serviceProviderProperties.URI = e3;
            const i3 = {};
            i3.serviceProviderProperties = this.serviceProviderProperties, this.setCore(new pb(i3)), this.core.addListener(t3), this.core.language = this.language, this.core.init(), this.core.setEnvironment(this.environment);
          }
          getPath() {
            if (void 0 === this.scriptName) throw new Error("scriptName property needed for getPath.");
            const t3 = document.getElementsByTagName("script");
            let e3 = "";
            for (let i3 = 0; i3 < t3.length; i3 += 1) {
              const n2 = t3[i3].src.lastIndexOf(this.scriptName);
              n2 >= 0 && (e3 = t3[i3].src.substr(0, n2 - 1));
            }
            return e3;
          }
          getVersion() {
            return this.version;
          }
          setLanguage(t3) {
            this.language = t3;
          }
          setCore(t3) {
            this.core = t3, t3.setIntegrationModel(this);
          }
          getCore() {
            return this.core;
          }
          setTarget(t3) {
            this.target = t3, this.isIframe = "IFRAME" === this.target.tagName.toUpperCase();
          }
          setEditorObject(t3) {
            this.editorObject = t3;
          }
          openNewFormulaEditor() {
            this.core.editionProperties.isNewElement = true, this.core.openModalDialog(this.target, this.isIframe);
          }
          openExistingFormulaEditor() {
            this.core.editionProperties.isNewElement = false, this.core.openModalDialog(this.target, this.isIframe);
          }
          updateFormula(t3) {
            let e3, i3;
            this.editorParameters && (t3 = com.wiris.editor.util.EditorUtils.addAnnotation(t3, "application/vnd.wiris.mtweb-params+json", JSON.stringify(this.editorParameters)));
            this.isIframe ? (e3 = this.target.contentWindow, i3 = this.target.contentWindow) : (e3 = this.target, i3 = window);
            let n2 = this.core.beforeUpdateFormula(t3, null);
            return n2 ? (n2 = this.insertFormula(e3, i3, n2.mathml, n2.wirisProperties), n2 ? this.core.afterUpdateFormula(n2.focusElement, n2.windowTarget, n2.node, n2.latex) : "") : "";
          }
          insertFormula(t3, e3, i3, n2) {
            return this.core.insertFormula(t3, e3, i3, n2);
          }
          getSelection() {
            return this.isIframe ? (this.target.contentWindow.focus(), this.target.contentWindow.getSelection()) : (this.target.focus(), window.getSelection());
          }
          addEvents() {
            const t3 = this.isIframe ? this.target.contentWindow.document : this.target;
            ib.addElementEvents(t3, (t4, e3) => {
              this.doubleClickHandler(t4, e3);
            }, (t4, e3) => {
              this.mousedownHandler(t4, e3);
            }, (t4, e3) => {
              this.mouseupHandler(t4, e3);
            });
          }
          doubleClickHandler(t3) {
            if ("img" === t3.nodeName.toLowerCase()) {
              this.core.getCustomEditors().disable();
              const e3 = Gp.get("imageCustomEditorName");
              if (t3.hasAttribute(e3)) {
                const i3 = t3.getAttribute(e3);
                this.core.getCustomEditors().enable(i3);
              }
              ib.containsClass(t3, Gp.get("imageClassName")) && (this.core.editionProperties.temporalImage = t3, this.core.editionProperties.isNewElement = true, this.openExistingFormulaEditor());
            }
          }
          mouseupHandler() {
            this.temporalImageResizing && setTimeout(() => {
              nb.fixAfterResize(this.temporalImageResizing);
            }, 10);
          }
          mousedownHandler(t3) {
            "img" === t3.nodeName.toLowerCase() && ib.containsClass(t3, Gp.get("imageClassName")) && (this.temporalImageResizing = t3);
          }
          getLanguage() {
            return this.getBrowserLanguage();
          }
          getBrowserLanguage() {
            let t3 = "en";
            return t3 = navigator.userLanguage ? navigator.userLanguage.substring(0, 2) : navigator.language ? navigator.language.substring(0, 2) : "en", t3;
          }
          callbackFunction() {
            const t3 = Xp.newListener("onTargetReady", () => {
              this.addEvents(this.target);
            });
            this.listeners.add(t3);
          }
          notifyWindowClosed() {
          }
          getMathmlFromTextNode(t3, e3) {
          }
          fillNonLatexNode(t3, e3, i3) {
          }
          getSelectedItem(t3, e3) {
          }
        }
        bb.prototype.getMathmlFromTextNode = void 0, bb.prototype.fillNonLatexNode = void 0, bb.prototype.getSelectedItem = void 0, bb.integrationParameters = ["serviceProviderProperties", "editorParameters"];
        class wb extends bb {
          constructor(t3) {
            const e3 = t3.editorObject;
            void 0 !== e3.config && void 0 !== e3.config.get("mathTypeParameters") && (t3.integrationParameters = e3.config.get("mathTypeParameters")), super(t3), this.integrationFolderName = "ckeditor_wiris";
          }
          getLanguage() {
            return this.editorObject.config.get("language");
          }
          addEditorListeners() {
            const t3 = this.editorObject;
            void 0 !== t3.config.wirislistenersdisabled && t3.config.wirislistenersdisabled || this.checkElement();
          }
          checkElement() {
            const t3 = this.editorObject.sourceElement;
            t3.wirisActive || (this.setTarget(t3), this.addEvents(), t3.wirisActive = true);
          }
          doubleClickHandler(t3, e3) {
            if ("img" == t3.nodeName.toLowerCase() && ib.containsClass(t3, Gp.get("imageClassName"))) {
              void 0 !== e3.stopPropagation ? e3.stopPropagation() : e3.returnValue = false, this.core.getCustomEditors().disable();
              const i3 = t3.getAttribute(Gp.get("imageCustomEditorName"));
              i3 && this.core.getCustomEditors().enable(i3), this.core.editionProperties.temporalImage = t3, this.openExistingFormulaEditor();
            }
          }
          getCorePath() {
            return null;
          }
          callbackFunction() {
            super.callbackFunction(), this.addEditorListeners();
          }
          openNewFormulaEditor() {
            return this.core.editionProperties.selection = this.editorObject.editing.view.document.selection, super.openNewFormulaEditor();
          }
          insertMathml(t3) {
            return this.editorObject.model.change((e3) => {
              const i3 = this.getCore(), n2 = e3.createElement("mathml", { formula: t3 });
              if (i3.editionProperties.isNewElement) {
                if (!t3) return;
                let i4 = this.core.editionProperties.selection || this.editorObject.editing.view.document.selection, o2 = this.editorObject.editing.mapper.toModelPosition(i4.getLastPosition());
                if (e3.insert(n2, o2), !i4.isCollapsed) for (const t4 of i4.getRanges()) e3.remove(this.editorObject.editing.mapper.toModelRange(t4));
              } else {
                const o2 = i3.editionProperties.temporalImage, r2 = this.editorObject.editing.view.domConverter.domToView(o2).parent, s4 = this.editorObject.editing.mapper.toModelElement(r2), a4 = this.editorObject.model.createPositionBefore(s4);
                t3 && e3.insert(n2, a4), e3.remove(s4);
              }
              return n2;
            });
          }
          findText(t3) {
            let e3, i3 = t3;
            for (; !e3; ) e3 = this.editorObject.editing.mapper.toModelElement(this.editorObject.editing.view.domConverter.domToView(i3)), i3 = i3.parentElement;
            const n2 = this.editorObject.model.createRangeIn(e3), o2 = Array.from(n2.getItems());
            for (const e4 of o2) if (e4.is("textProxy") && e4.data == t3.data.replace(String.fromCharCode(160), " ")) return e4.textNode;
          }
          insertFormula(t3, e3, i3, n2) {
            let o2 = {};
            return i3 ? "latex" == this.core.editMode ? (o2.latex = Zp.getLatexFromMathML(i3), o2.node = e3.document.createTextNode("$$" + o2.latex + "$$"), this.editorObject.model.change((t4) => {
              const e4 = this.core.editionProperties.latexRange, i4 = this.findText(e4.startContainer), n3 = this.findText(e4.endContainer), r2 = t4.createPositionAt(i4.parent, i4.startOffset + e4.startOffset), s4 = t4.createPositionAt(n3.parent, n3.startOffset + e4.endOffset), a4 = t4.createRange(r2, s4);
              t4.remove(a4), t4.insertText("$$" + o2.latex + "$$", i4.getAttributes(), r2);
            })) : o2.node = this.editorObject.editing.view.domConverter.viewToDom(this.editorObject.editing.mapper.toViewElement(this.insertMathml(i3)), e3.document) : this.insertMathml(""), o2;
          }
          notifyWindowClosed() {
            this.editorObject.editing.view.focus();
          }
        }
        class _b extends td {
          constructor(t3) {
            super(t3);
          }
          execute(t3 = {}) {
            if (!(t3.hasOwnProperty("integration") && t3.integration instanceof wb)) throw 'Must pass a valid CKEditor5Integration instance as attribute "integration" of options';
            this.integration = t3.integration, this.setEditor(), this.openEditor();
          }
          setEditor() {
            this.integration.core.getCustomEditors().disable();
          }
          openEditor() {
            const t3 = this._getSelectedImage();
            null != t3 && t3.classList.contains(WirisPlugin.Configuration.get("imageClassName")) ? (this.integration.core.editionProperties.temporalImage = t3, this.integration.openExistingFormulaEditor()) : this.integration.openNewFormulaEditor();
          }
          _getSelectedImage() {
            const t3 = this.editor.editing.view.document.selection;
            if (t3.isCollapsed || 1 !== t3.rangeCount) return;
            const e3 = t3.getFirstRange();
            let i3;
            for (const t4 of e3) {
              if ("span" !== t4.item.name) return;
              i3 = t4.item.getChild(0);
              break;
            }
            return i3 ? this.editor.editing.view.domConverter.mapViewToDom(i3) : void 0;
          }
        }
        class kb extends _b {
          setEditor() {
            this.integration.core.getCustomEditors().enable("chemistry");
          }
        }
        class vb extends $c {
        }
        vb.builtinPlugins = [class extends Jc {
          static get requires() {
            return [Zc, sd, fd, dd, Pd, Gd];
          }
          static get pluginName() {
            return "Essentials";
          }
        }, ih, class extends Jc {
          static get pluginName() {
            return "Autoformat";
          }
          afterInit() {
            this._addListAutoformats(), this._addBasicStylesAutoformats(), this._addHeadingAutoformats(), this._addBlockQuoteAutoformats(), this._addCodeBlockAutoformats();
          }
          _addListAutoformats() {
            const t3 = this.editor.commands;
            t3.get("bulletedList") && new oh(this.editor, /^[*-]\s$/, "bulletedList"), t3.get("numberedList") && new oh(this.editor, /^1[.|)]\s$/, "numberedList");
          }
          _addBasicStylesAutoformats() {
            const t3 = this.editor.commands;
            if (t3.get("bold")) {
              const t4 = lh(this.editor, "bold");
              new sh(this.editor, /(\*\*)([^*]+)(\*\*)$/g, t4), new sh(this.editor, /(__)([^_]+)(__)$/g, t4);
            }
            if (t3.get("italic")) {
              const t4 = lh(this.editor, "italic");
              new sh(this.editor, /(?:^|[^*])(\*)([^*_]+)(\*)$/g, t4), new sh(this.editor, /(?:^|[^_])(_)([^_]+)(_)$/g, t4);
            }
            if (t3.get("code")) {
              const t4 = lh(this.editor, "code");
              new sh(this.editor, /(`)([^`]+)(`)$/g, t4);
            }
            if (t3.get("strikethrough")) {
              const t4 = lh(this.editor, "strikethrough");
              new sh(this.editor, /(~~)([^~]+)(~~)$/g, t4);
            }
          }
          _addHeadingAutoformats() {
            const t3 = this.editor.commands.get("heading");
            t3 && t3.modelElements.filter((t4) => t4.match(/^heading[1-6]$/)).forEach((e3) => {
              const i3 = e3[7], n2 = new RegExp(`^(#{${i3}})\\s$`);
              new oh(this.editor, n2, () => {
                if (!t3.isEnabled) return false;
                this.editor.execute("heading", { value: e3 });
              });
            });
          }
          _addBlockQuoteAutoformats() {
            this.editor.commands.get("blockQuote") && new oh(this.editor, /^>\s$/, "blockQuote");
          }
          _addCodeBlockAutoformats() {
            this.editor.commands.get("codeBlock") && new oh(this.editor, /^```$/, "codeBlock");
          }
        }, class extends Jc {
          static get requires() {
            return [dh, hh];
          }
          static get pluginName() {
            return "Bold";
          }
        }, class extends Jc {
          static get requires() {
            return [uh, mh];
          }
          static get pluginName() {
            return "Italic";
          }
        }, class extends Jc {
          static get requires() {
            return [_h, kh];
          }
          static get pluginName() {
            return "BlockQuote";
          }
        }, class extends Jc {
          static get pluginName() {
            return "CKFinder";
          }
          static get requires() {
            return [Tu, vh, ih];
          }
        }, class extends Jc {
          static get requires() {
            return [Nu, sm, ym];
          }
          static get pluginName() {
            return "EasyImage";
          }
        }, class extends Jc {
          static get requires() {
            return [Sm, Om];
          }
          static get pluginName() {
            return "Heading";
          }
        }, sm, class extends Jc {
          static get requires() {
            return [Lm];
          }
          static get pluginName() {
            return "ImageCaption";
          }
        }, class extends Jc {
          static get requires() {
            return [Qm, Xm];
          }
          static get pluginName() {
            return "ImageStyle";
          }
        }, class extends Jc {
          static get requires() {
            return [Km];
          }
          static get pluginName() {
            return "ImageToolbar";
          }
          afterInit() {
            const t3 = this.editor, e3 = t3.t;
            t3.plugins.get(Km).register("image", { ariaLabel: e3("Image toolbar"), items: t3.config.get("image.toolbar") || [], getRelatedElement: Nh });
          }
        }, ym, class extends Jc {
          static get pluginName() {
            return "Indent";
          }
          static get requires() {
            return [ig, rg];
          }
        }, class extends Jc {
          static get requires() {
            return [yu, cg];
          }
          static get pluginName() {
            return "Link";
          }
        }, class extends Jc {
          static get requires() {
            return [Lg, Dg];
          }
          static get pluginName() {
            return "List";
          }
        }, class extends Jc {
          static get requires() {
            return [Yg, Qg, Jg, ju];
          }
          static get pluginName() {
            return "MediaEmbed";
          }
        }, Cm, class extends Jc {
          static get pluginName() {
            return "PasteFromOffice";
          }
          static get requires() {
            return [Zc];
          }
          init() {
            const t3 = this.editor, e3 = [];
            e3.push(new lf()), e3.push(new ef(t3.editing.view.document)), t3.plugins.get("Clipboard").on("inputTransformation", (t4, i3) => {
              if (i3.isTransformedWithPasteFromOffice) return;
              const n2 = i3.dataTransfer.getData("text/html"), o2 = e3.find((t5) => t5.isActive(n2));
              o2 && (o2.execute(i3), i3.isTransformedWithPasteFromOffice = true);
            }, { priority: "high" });
          }
        }, class extends Jc {
          static get requires() {
            return [xp, Mp, Ip, Np, Rp, ju];
          }
          static get pluginName() {
            return "Table";
          }
        }, class extends Jc {
          static get requires() {
            return [Km];
          }
          static get pluginName() {
            return "TableToolbar";
          }
          afterInit() {
            const t3 = this.editor, e3 = t3.t, i3 = t3.plugins.get(Km), n2 = t3.config.get("table.contentToolbar"), o2 = t3.config.get("table.tableToolbar");
            n2 && i3.register("tableContent", { ariaLabel: e3("Table toolbar"), items: n2, getRelatedElement: _f }), o2 && i3.register("table", { ariaLabel: e3("Table toolbar"), items: o2, getRelatedElement: wf });
          }
        }, class extends Jc {
          static get pluginName() {
            return "TextTransformation";
          }
          constructor(t3) {
            super(t3), t3.config.define("typing", { transformations: { include: Fp } });
          }
          init() {
            const t3 = this.editor.model.document.selection;
            t3.on("change:range", () => {
              this.isEnabled = !t3.anchor.parent.is("codeBlock");
            }), this._enableTransformationWatchers();
          }
          _enableTransformationWatchers() {
            const t3 = this.editor, e3 = t3.model, i3 = t3.plugins.get("Input"), n2 = function(t4) {
              const e4 = t4.extra || [], i4 = t4.remove || [], n3 = (t5) => !i4.includes(t5);
              return function(t5) {
                const e5 = /* @__PURE__ */ new Set();
                for (const i5 of t5) if (Vp[i5]) for (const t6 of Vp[i5]) e5.add(t6);
                else e5.add(i5);
                return Array.from(e5);
              }(t4.include.concat(e4).filter(n3)).filter(n3).map((t5) => Bp[t5] || t5).map((t5) => ({ from: Hp(t5.from), to: Up(t5.to) }));
            }(t3.config.get("typing.transformations")), o2 = new Lp(t3.model, (t4) => {
              for (const e4 of n2) {
                if (e4.from.test(t4)) return { normalizedTransformation: e4 };
              }
            });
            o2.on("matched:data", (t4, n3) => {
              if (!i3.isInput(n3.batch)) return;
              const { from: o3, to: r2 } = n3.normalizedTransformation, s4 = o3.exec(n3.text), a4 = r2(s4.slice(1)), l2 = n3.range;
              let c3 = s4.index;
              e3.enqueueChange((t5) => {
                for (let i4 = 1; i4 < s4.length; i4++) {
                  const n4 = s4[i4], o4 = a4[i4 - 1];
                  if (null == o4) {
                    c3 += n4.length;
                    continue;
                  }
                  const r3 = l2.start.getShiftedBy(c3), d4 = e3.createRange(r3, r3.getShiftedBy(n4.length)), h4 = Wp(r3);
                  e3.insertContent(t5.createText(o4, h4), d4), c3 += o4.length;
                }
              });
            }), o2.bind("isEnabled").to(this);
          }
        }, class extends Jc {
          static get requires() {
            return [ju];
          }
          static get pluginName() {
            return "MathType";
          }
          init() {
            const t3 = this._addIntegration();
            this._addCommands(), this._addViews(t3), this._addSchema(), this._addConverters(), this._exposeWiris();
          }
          _addIntegration() {
            const t3 = this.editor, e3 = {};
            let i3;
            return e3.environment = {}, e3.environment.editor = "CKEditor5", e3.editorObject = t3, e3.serviceProviderProperties = {}, e3.serviceProviderProperties.URI = "https://www.wiris.net/demo/plugins/app", e3.serviceProviderProperties.server = "java", e3.target = t3.sourceElement, e3.scriptName = "bundle.js", e3.managesLanguage = true, e3.target && (i3 = new wb(e3), i3.init(), i3.listeners.fire("onTargetReady", {}), i3.checkElement(), this.listenTo(t3.editing.view.document, "click", (t4, e4) => {
              2 == e4.domEvent.detail && (i3.doubleClickHandler(e4.domTarget, e4.domEvent), t4.stop());
            }, { priority: "highest" })), i3;
          }
          _addCommands() {
            const t3 = this.editor;
            t3.commands.add("MathType", new _b(t3)), t3.commands.add("ChemType", new kb(t3));
          }
          _addViews(t3) {
            const e3 = this.editor;
            e3.ui.componentFactory.add("MathType", (i3) => {
              const n2 = new Oc(i3);
              return n2.bind("isEnabled").to(e3.commands.get("MathType"), "isEnabled"), n2.set({ label: "Insert a math equation - MathType", icon: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="0 0 300 261.7" style="enable-background:new 0 0 300 261.7;" xml:space="preserve">\n<style type="text/css">\n	.st0{fill:#FFFFFF;}\n	.st1{fill:#EF4A5F;}\n	.st2{fill:#C8202F;}\n</style>\n<path class="st0" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n	c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n<path class="st0" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n	l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n	C91.6,257.7,90.9,257.7,90.2,257.7"/>\n<g>\n	<g>\n		<path class="st1" d="M90.2,257.7c-11.4,0-21.9-6.4-27-16.7l-60-119.9c-7.5-14.9-1.4-33.1,13.5-40.5c14.9-7.5,33.1-1.4,40.5,13.5\n			l27.3,54.7L121.1,39c5.3-15.8,22.4-24.4,38.2-19.1c15.8,5.3,24.4,22.4,19.1,38.2l-59.6,179c-3.9,11.6-14.3,19.7-26.5,20.6\n			C91.6,257.7,90.9,257.7,90.2,257.7"/>\n	</g>\n</g>\n<g>\n	<g>\n		<path class="st2" d="M300,32.8c0-16.4-13.4-29.7-29.9-29.7c-2.9,0-7.2,0.8-7.2,0.8c-37.9,9.1-71.3,14-112,14c-0.3,0-0.6,0-1,0\n			c-16.5,0-29.9,13.3-29.9,29.7c0,16.4,13.4,29.7,29.9,29.7l0,0c45.3,0,83.1-5.3,125.3-15.3h0C289.3,59.5,300,47.4,300,32.8"/>\n	</g>\n</g>\n</svg>\n', tooltip: true }), n2.on("execute", () => {
                e3.execute("MathType", { integration: t3 });
              }), n2;
            }), e3.ui.componentFactory.add("ChemType", (i3) => {
              const n2 = new Oc(i3);
              return n2.bind("isEnabled").to(e3.commands.get("ChemType"), "isEnabled"), n2.set({ label: "Insert a chemistry formula - ChemType", icon: '<?xml version="1.0" encoding="utf-8"?>\n<!-- Generator: Adobe Illustrator 22.0.1, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n	 viewBox="0 0 40.3 49.5" style="enable-background:new 0 0 40.3 49.5;" xml:space="preserve">\n<style type="text/css">\n	.st0{fill:#A4CF61;}\n</style>\n<path class="st0" d="M39.2,12.1c0-1.9-1.1-3.6-2.7-4.4L24.5,0.9l0,0c-0.7-0.4-1.5-0.6-2.4-0.6c-0.9,0-1.7,0.2-2.4,0.6l0,0L2.3,10.8\n	l0,0C0.9,11.7,0,13.2,0,14.9h0v19.6h0c0,1.7,0.9,3.3,2.3,4.1l0,0l17.4,9.9l0,0c0.7,0.4,1.5,0.6,2.4,0.6c0.9,0,1.7-0.2,2.4-0.6l0,0\n	l12.2-6.9h0c1.5-0.8,2.6-2.5,2.6-4.3c0-2.7-2.2-4.9-4.9-4.9c-0.9,0-1.8,0.3-2.5,0.7l0,0l-9.7,5.6l-12.3-7V17.8l12.3-7l9.9,5.7l0,0\n	c0.7,0.4,1.5,0.6,2.4,0.6C37,17,39.2,14.8,39.2,12.1"/>\n</svg>\n', tooltip: true }), n2.on("execute", () => {
                e3.execute("ChemType", { integration: t3 });
              }), n2;
            }), e3.editing.view.addObserver(sg);
          }
          _addSchema() {
            this.editor.model.schema.register("mathml", { allowWhere: "$text", isObject: true, isInline: true, allowAttributes: ["formula"] });
          }
          _addConverters() {
            const t3 = this.editor;
            t3.conversion.for("upcast").elementToElement({ view: { name: "span", classes: "ck-math-widget" }, model: (t4, e3) => {
              const i3 = Jp.safeXmlDecode(t4.getChild(0).getAttribute("data-mathml"));
              return e3.createElement("mathml", { formula: i3 });
            } }), t3.data.upcastDispatcher.on("element:math", (e3, i3, n2) => {
              const { consumable: o2, writer: r2 } = n2, s4 = i3.viewItem;
              if (!o2.test(s4, { name: true })) return;
              let a4 = function(t4) {
                const e4 = t4.getChild(0);
                if (!e4 || "semantics" !== e4.name) return false;
                for (const t5 of e4.getChildren()) if ("annotation" === t5.name && "LaTeX" === t5.getAttribute("encoding")) return true;
                return false;
              }(s4);
              const l2 = new Yp(t3.editing.view.document), c3 = new bm(t3.editing.view.document).createDocumentFragment(s4.getChildren()), d4 = [...s4.getAttributes()].map(([t4, e4]) => ` ${t4}="${e4}"`).join("");
              let h4 = l2.toData(c3) || "";
              h4 = `<math${d4}>${h4}</math>`;
              const u3 = a4 ? r2.createText(rb.initParse(h4, t3.config.get("language"))) : r2.createElement("mathml", { formula: h4 }), m4 = n2.splitToAllowedParent(u3, i3.modelCursor);
              if (!m4) return;
              n2.writer.insert(u3, m4.position), o2.consume(s4, { name: true });
              const g2 = n2.getSplitParts(u3);
              i3.modelRange = r2.createRange(n2.writer.createPositionBefore(u3), n2.writer.createPositionAfter(g2[g2.length - 1])), m4.cursorParent ? i3.modelCursor = n2.writer.createPositionAt(m4.cursorParent, 0) : i3.modelCursor = i3.modelRange.end;
            }), t3.conversion.for("editingDowncast").elementToElement({ model: "mathml", view: function(e3, i3) {
              const n2 = i3.createContainerElement("span", { class: "ck-math-widget" }), o2 = function(e4, i4) {
                const n3 = new Sl(i4.document), o3 = e4.getAttribute("formula"), r2 = rb.initParse(o3, t3.config.get("language")), s4 = n3.toView(r2).getChild(0);
                return i4.createEmptyElement("img", s4.getAttributes());
              }(e3, i3);
              return i3.insert(i3.createPositionAt(n2, 0), o2), Eh(n2, i3);
            } }), t3.conversion.for("dataDowncast").elementToElement({ model: "mathml", view: function(t4, e3) {
              const i3 = new Sl(e3.document);
              let n2 = rb.endParseSaveMode(t4.getAttribute("formula"));
              Gp.get("saveHandTraces") || (n2 = Jp.removeAnnotation(n2, "application/json"));
              const o2 = i3.toView(n2).getChild(0);
              return function t5(e4, i4) {
                if (i4.is("text")) return e4.createText(i4.data);
                if (i4.is("element")) {
                  if (i4.is("emptyElement")) return e4.createEmptyElement(i4.name, i4.getAttributes());
                  {
                    const n3 = e4.createContainerElement(i4.name, i4.getAttributes());
                    for (const o3 of i4.getChildren()) e4.insert(e4.createPositionAt(n3, "end"), t5(e4, o3));
                    return n3;
                  }
                }
                throw new Exception("Given node has unsupported type.");
              }(e3, o2);
            } });
          }
          _exposeWiris() {
            window.WirisPlugin = { Core: pb, Parser: rb, Image: nb, MathML: Jp, Util: ib, Configuration: Gp, Listeners: Xp, IntegrationModel: bb, Latex: Zp };
          }
        }], vb.defaultConfig = { toolbar: { items: ["heading", "Mathtype", "|", "bold", "italic", "link", "bulletedList", "numberedList", "|", "indent", "outdent", "|", "imageUpload", "blockQuote", "insertTable", "mediaEmbed", "undo", "redo"] }, image: { toolbar: ["imageStyle:full", "imageStyle:side", "|", "imageTextAlternative"] }, table: { contentToolbar: ["tableColumn", "tableRow", "mergeTableCells"] }, language: "en" };
      }]).default;
    });
  }
});

// node_modules/classnames/index.js
var require_classnames = __commonJS({
  "node_modules/classnames/index.js"(exports2, module2) {
    (function() {
      "use strict";
      var hasOwn = {}.hasOwnProperty;
      function classNames9() {
        var classes = "";
        for (var i2 = 0; i2 < arguments.length; i2++) {
          var arg = arguments[i2];
          if (arg) {
            classes = appendClass(classes, parseValue(arg));
          }
        }
        return classes;
      }
      function parseValue(arg) {
        if (typeof arg === "string" || typeof arg === "number") {
          return arg;
        }
        if (typeof arg !== "object") {
          return "";
        }
        if (Array.isArray(arg)) {
          return classNames9.apply(null, arg);
        }
        if (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes("[native code]")) {
          return arg.toString();
        }
        var classes = "";
        for (var key in arg) {
          if (hasOwn.call(arg, key) && arg[key]) {
            classes = appendClass(classes, key);
          }
        }
        return classes;
      }
      function appendClass(value, newClass) {
        if (!newClass) {
          return value;
        }
        if (value) {
          return value + " " + newClass;
        }
        return value + newClass;
      }
      if (typeof module2 !== "undefined" && module2.exports) {
        classNames9.default = classNames9;
        module2.exports = classNames9;
      } else if (typeof define === "function" && typeof define.amd === "object" && define.amd) {
        define("classnames", [], function() {
          return classNames9;
        });
      } else {
        window.classNames = classNames9;
      }
    })();
  }
});

// node_modules/rc-util/node_modules/react-is/cjs/react-is.development.js
var require_react_is_development = __commonJS({
  "node_modules/rc-util/node_modules/react-is/cjs/react-is.development.js"(exports2) {
    "use strict";
    if (true) {
      (function() {
        "use strict";
        var REACT_ELEMENT_TYPE = Symbol.for("react.element");
        var REACT_PORTAL_TYPE = Symbol.for("react.portal");
        var REACT_FRAGMENT_TYPE2 = Symbol.for("react.fragment");
        var REACT_STRICT_MODE_TYPE = Symbol.for("react.strict_mode");
        var REACT_PROFILER_TYPE = Symbol.for("react.profiler");
        var REACT_PROVIDER_TYPE = Symbol.for("react.provider");
        var REACT_CONTEXT_TYPE = Symbol.for("react.context");
        var REACT_SERVER_CONTEXT_TYPE = Symbol.for("react.server_context");
        var REACT_FORWARD_REF_TYPE = Symbol.for("react.forward_ref");
        var REACT_SUSPENSE_TYPE = Symbol.for("react.suspense");
        var REACT_SUSPENSE_LIST_TYPE = Symbol.for("react.suspense_list");
        var REACT_MEMO_TYPE = Symbol.for("react.memo");
        var REACT_LAZY_TYPE = Symbol.for("react.lazy");
        var REACT_OFFSCREEN_TYPE = Symbol.for("react.offscreen");
        var enableScopeAPI = false;
        var enableCacheElement = false;
        var enableTransitionTracing = false;
        var enableLegacyHidden = false;
        var enableDebugTracing = false;
        var REACT_MODULE_REFERENCE;
        {
          REACT_MODULE_REFERENCE = Symbol.for("react.module.reference");
        }
        function isValidElementType(type) {
          if (typeof type === "string" || typeof type === "function") {
            return true;
          }
          if (type === REACT_FRAGMENT_TYPE2 || type === REACT_PROFILER_TYPE || enableDebugTracing || type === REACT_STRICT_MODE_TYPE || type === REACT_SUSPENSE_TYPE || type === REACT_SUSPENSE_LIST_TYPE || enableLegacyHidden || type === REACT_OFFSCREEN_TYPE || enableScopeAPI || enableCacheElement || enableTransitionTracing) {
            return true;
          }
          if (typeof type === "object" && type !== null) {
            if (type.$$typeof === REACT_LAZY_TYPE || type.$$typeof === REACT_MEMO_TYPE || type.$$typeof === REACT_PROVIDER_TYPE || type.$$typeof === REACT_CONTEXT_TYPE || type.$$typeof === REACT_FORWARD_REF_TYPE || // This needs to include all possible module reference object
            // types supported by any Flight configuration anywhere since
            // we don't know which Flight build this will end up being used
            // with.
            type.$$typeof === REACT_MODULE_REFERENCE || type.getModuleId !== void 0) {
              return true;
            }
          }
          return false;
        }
        function typeOf(object) {
          if (typeof object === "object" && object !== null) {
            var $$typeof = object.$$typeof;
            switch ($$typeof) {
              case REACT_ELEMENT_TYPE:
                var type = object.type;
                switch (type) {
                  case REACT_FRAGMENT_TYPE2:
                  case REACT_PROFILER_TYPE:
                  case REACT_STRICT_MODE_TYPE:
                  case REACT_SUSPENSE_TYPE:
                  case REACT_SUSPENSE_LIST_TYPE:
                    return type;
                  default:
                    var $$typeofType = type && type.$$typeof;
                    switch ($$typeofType) {
                      case REACT_SERVER_CONTEXT_TYPE:
                      case REACT_CONTEXT_TYPE:
                      case REACT_FORWARD_REF_TYPE:
                      case REACT_LAZY_TYPE:
                      case REACT_MEMO_TYPE:
                      case REACT_PROVIDER_TYPE:
                        return $$typeofType;
                      default:
                        return $$typeof;
                    }
                }
              case REACT_PORTAL_TYPE:
                return $$typeof;
            }
          }
          return void 0;
        }
        var ContextConsumer = REACT_CONTEXT_TYPE;
        var ContextProvider = REACT_PROVIDER_TYPE;
        var Element2 = REACT_ELEMENT_TYPE;
        var ForwardRef2 = REACT_FORWARD_REF_TYPE;
        var Fragment5 = REACT_FRAGMENT_TYPE2;
        var Lazy = REACT_LAZY_TYPE;
        var Memo = REACT_MEMO_TYPE;
        var Portal = REACT_PORTAL_TYPE;
        var Profiler = REACT_PROFILER_TYPE;
        var StrictMode = REACT_STRICT_MODE_TYPE;
        var Suspense = REACT_SUSPENSE_TYPE;
        var SuspenseList = REACT_SUSPENSE_LIST_TYPE;
        var hasWarnedAboutDeprecatedIsAsyncMode = false;
        var hasWarnedAboutDeprecatedIsConcurrentMode = false;
        function isAsyncMode(object) {
          {
            if (!hasWarnedAboutDeprecatedIsAsyncMode) {
              hasWarnedAboutDeprecatedIsAsyncMode = true;
              console["warn"]("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 18+.");
            }
          }
          return false;
        }
        function isConcurrentMode(object) {
          {
            if (!hasWarnedAboutDeprecatedIsConcurrentMode) {
              hasWarnedAboutDeprecatedIsConcurrentMode = true;
              console["warn"]("The ReactIs.isConcurrentMode() alias has been deprecated, and will be removed in React 18+.");
            }
          }
          return false;
        }
        function isContextConsumer(object) {
          return typeOf(object) === REACT_CONTEXT_TYPE;
        }
        function isContextProvider(object) {
          return typeOf(object) === REACT_PROVIDER_TYPE;
        }
        function isElement(object) {
          return typeof object === "object" && object !== null && object.$$typeof === REACT_ELEMENT_TYPE;
        }
        function isForwardRef(object) {
          return typeOf(object) === REACT_FORWARD_REF_TYPE;
        }
        function isFragment2(object) {
          return typeOf(object) === REACT_FRAGMENT_TYPE2;
        }
        function isLazy(object) {
          return typeOf(object) === REACT_LAZY_TYPE;
        }
        function isMemo2(object) {
          return typeOf(object) === REACT_MEMO_TYPE;
        }
        function isPortal(object) {
          return typeOf(object) === REACT_PORTAL_TYPE;
        }
        function isProfiler(object) {
          return typeOf(object) === REACT_PROFILER_TYPE;
        }
        function isStrictMode(object) {
          return typeOf(object) === REACT_STRICT_MODE_TYPE;
        }
        function isSuspense(object) {
          return typeOf(object) === REACT_SUSPENSE_TYPE;
        }
        function isSuspenseList(object) {
          return typeOf(object) === REACT_SUSPENSE_LIST_TYPE;
        }
        exports2.ContextConsumer = ContextConsumer;
        exports2.ContextProvider = ContextProvider;
        exports2.Element = Element2;
        exports2.ForwardRef = ForwardRef2;
        exports2.Fragment = Fragment5;
        exports2.Lazy = Lazy;
        exports2.Memo = Memo;
        exports2.Portal = Portal;
        exports2.Profiler = Profiler;
        exports2.StrictMode = StrictMode;
        exports2.Suspense = Suspense;
        exports2.SuspenseList = SuspenseList;
        exports2.isAsyncMode = isAsyncMode;
        exports2.isConcurrentMode = isConcurrentMode;
        exports2.isContextConsumer = isContextConsumer;
        exports2.isContextProvider = isContextProvider;
        exports2.isElement = isElement;
        exports2.isForwardRef = isForwardRef;
        exports2.isFragment = isFragment2;
        exports2.isLazy = isLazy;
        exports2.isMemo = isMemo2;
        exports2.isPortal = isPortal;
        exports2.isProfiler = isProfiler;
        exports2.isStrictMode = isStrictMode;
        exports2.isSuspense = isSuspense;
        exports2.isSuspenseList = isSuspenseList;
        exports2.isValidElementType = isValidElementType;
        exports2.typeOf = typeOf;
      })();
    }
  }
});

// node_modules/rc-util/node_modules/react-is/index.js
var require_react_is = __commonJS({
  "node_modules/rc-util/node_modules/react-is/index.js"(exports2, module2) {
    "use strict";
    if (false) {
      module2.exports = null;
    } else {
      module2.exports = require_react_is_development();
    }
  }
});

// node_modules/object-assign/index.js
var require_object_assign = __commonJS({
  "node_modules/object-assign/index.js"(exports2, module2) {
    "use strict";
    var getOwnPropertySymbols = Object.getOwnPropertySymbols;
    var hasOwnProperty = Object.prototype.hasOwnProperty;
    var propIsEnumerable = Object.prototype.propertyIsEnumerable;
    function toObject(val) {
      if (val === null || val === void 0) {
        throw new TypeError("Object.assign cannot be called with null or undefined");
      }
      return Object(val);
    }
    function shouldUseNative() {
      try {
        if (!Object.assign) {
          return false;
        }
        var test1 = new String("abc");
        test1[5] = "de";
        if (Object.getOwnPropertyNames(test1)[0] === "5") {
          return false;
        }
        var test2 = {};
        for (var i2 = 0; i2 < 10; i2++) {
          test2["_" + String.fromCharCode(i2)] = i2;
        }
        var order2 = Object.getOwnPropertyNames(test2).map(function(n) {
          return test2[n];
        });
        if (order2.join("") !== "0123456789") {
          return false;
        }
        var test3 = {};
        "abcdefghijklmnopqrst".split("").forEach(function(letter) {
          test3[letter] = letter;
        });
        if (Object.keys(Object.assign({}, test3)).join("") !== "abcdefghijklmnopqrst") {
          return false;
        }
        return true;
      } catch (err) {
        return false;
      }
    }
    module2.exports = shouldUseNative() ? Object.assign : function(target, source) {
      var from;
      var to = toObject(target);
      var symbols;
      for (var s3 = 1; s3 < arguments.length; s3++) {
        from = Object(arguments[s3]);
        for (var key in from) {
          if (hasOwnProperty.call(from, key)) {
            to[key] = from[key];
          }
        }
        if (getOwnPropertySymbols) {
          symbols = getOwnPropertySymbols(from);
          for (var i2 = 0; i2 < symbols.length; i2++) {
            if (propIsEnumerable.call(from, symbols[i2])) {
              to[symbols[i2]] = from[symbols[i2]];
            }
          }
        }
      }
      return to;
    };
  }
});

// src/modules/Form/index.js
import React13, { useState as useState6, useEffect as useEffect4, useImperativeHandle, useRef } from "react";

// src/modules/Checkbox/index.js
import React from "react";
import { FormCheck } from "react-bootstrap";
import { jsx, jsxs } from "react/jsx-runtime";
var Checkbox = ({
  className = "",
  checked = false,
  style: style2 = {},
  label,
  onChange,
  size = 18,
  ...rest
}) => {
  const handleClick = () => {
    !rest.disabled && onChange?.(checked);
  };
  return /* @__PURE__ */ jsxs(
    "div",
    {
      className,
      style: {
        display: "flex",
        alignItems: "center",
        height: `${size}px`,
        ...style2
      },
      children: [
        /* @__PURE__ */ jsx(
          FormCheck,
          {
            ...rest,
            id: "test",
            checked,
            onChange: handleClick,
            className: "custom-cbox"
          }
        ),
        label && /* @__PURE__ */ jsx(
          "span",
          {
            htmlFor: "test",
            onClick: handleClick,
            style: {
              cursor: "pointer",
              userSelect: "none",
              position: "relative",
              left: 15
            },
            children: label
          }
        )
      ]
    }
  );
};
var Checkbox_default = Checkbox;

// src/modules/Select/index.js
import React2, { useState } from "react";
import ReactSelect, { components, createFilter } from "react-select";
import { useTranslation } from "react-i18next";
import KeyboardArrowDownIcon from "@mui/icons-material/KeyboardArrowDown";
import { Fragment, jsx as jsx2, jsxs as jsxs2 } from "react/jsx-runtime";
var Select = ({
  className = "",
  disabled = false,
  clearable = true,
  searchable = true,
  multiple = false,
  value = null,
  onChange,
  onInputChange,
  options = [],
  fillArrow = false,
  labelEntity = false,
  isArrow = true,
  defaultColor = false,
  style: style2,
  ...rest
}) => {
  const { t: t2 } = useTranslation();
  const handleChange = (value2, evt) => {
    if (evt?.action === "select-option" || evt?.action === "remove-value") {
      if (Array.isArray(value2)) {
        const values2 = value2.map((option) => option.value);
        onChange?.(values2, evt, value2);
      } else {
        if (value2) {
          const id = value2.value;
          onChange?.(id, evt, value2);
        } else {
          onChange?.(multiple ? [] : null, evt, value2);
        }
      }
    } else if (evt?.action === "clear") {
      onChange?.(null, evt, null);
    }
  };
  const handleInputChange = (inputValue, actionMeta) => {
    onInputChange?.(inputValue);
  };
  const getIsSelected = (option) => {
    if (value) {
      if (Array.isArray(value)) {
        return value.includes(option.value);
      } else if (typeof value === "number") {
        return value === option.value;
      } else if (typeof value === "string") {
        return value === option.value;
      } else {
        return false;
      }
    }
    return false;
  };
  const getValue = () => {
    if (!value) {
      return null;
    }
    if (multiple) {
      const array = [];
      for (const option of options) {
        if (value.includes(option.value)) {
          array.push(option);
        }
      }
      return array;
    } else {
      const option = options.find((opt) => opt.value === value);
      if (option) {
        return option;
      }
      return null;
    }
  };
  const DropdownIndicator = (props) => /* @__PURE__ */ jsx2(components.DropdownIndicator, { ...props, children: /* @__PURE__ */ jsx2(KeyboardArrowDownIcon, {}) });
  const filterConfig = {
    ignoreCase: true,
    ignoreAccents: true,
    trim: true,
    matchFrom: "any"
  };
  const colourStyles = {
    option: (base, state) => ({
      ...base,
      cursor: "pointer",
      color: "#575962",
      backgroundColor: "white",
      ":active": {
        color: "#FF7900"
      },
      "&:hover": {
        color: "#FF7900"
      }
    }),
    control: (baseStyles, state) => ({
      ...baseStyles,
      color: defaultColor ? "#575962" : "",
      justifyContent: "end",
      borderColor: "#0000001F",
      boxShadow: "none",
      "&:hover": {
        border: "1px solid #FF7900"
      },
      cursor: "pointer"
    }),
    placeholder: (defaultStyles) => {
      return {
        ...defaultStyles,
        marginLeft: 0,
        marginRight: 0
      };
    },
    dropdownIndicator: (base, state) => ({
      ...base,
      ":hover": {
        color: "#FF7900"
      }
    }),
    container: (base) => ({
      ...base
    })
  };
  return /* @__PURE__ */ jsx2(Fragment, { children: /* @__PURE__ */ jsx2(
    ReactSelect,
    {
      styles: colourStyles,
      className: `eschool-select ${className}`,
      isDisabled: disabled,
      isClearable: clearable,
      ignoreCase: true,
      ignoreAccents: true,
      trim: true,
      isSearchable: searchable,
      isMulti: multiple,
      value: getValue(),
      onChange: handleChange,
      onInputChange: handleInputChange,
      options,
      getOptionLabel: (option) => {
        if (labelEntity) {
          return /* @__PURE__ */ jsx2("div", { dangerouslySetInnerHTML: { __html: option.text } });
        }
        return option?.text || "-";
      },
      isOptionSelected: getIsSelected,
      placeholder: rest?.placeholder || `${t2("common.select")}...`,
      components: isArrow ? {
        IndicatorSeparator: () => null,
        DropdownIndicator
      } : {
        DropdownIndicator: () => null,
        IndicatorSeparator: () => null
      },
      filterOption: createFilter(filterConfig),
      ...rest
    }
  ) });
};
var Select_default = Select;

// src/modules/DatePicker/index.js
import React6, { forwardRef, useEffect, useState as useState2 } from "react";
import Picker from "react-datepicker";

// node_modules/@babel/runtime/helpers/esm/typeof.js
function _typeof(o) {
  "@babel/helpers - typeof";
  return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o2) {
    return typeof o2;
  } : function(o2) {
    return o2 && "function" == typeof Symbol && o2.constructor === Symbol && o2 !== Symbol.prototype ? "symbol" : typeof o2;
  }, _typeof(o);
}

// node_modules/date-fns/esm/_lib/requiredArgs/index.js
function requiredArgs(required, args) {
  if (args.length < required) {
    throw new TypeError(required + " argument" + (required > 1 ? "s" : "") + " required, but only " + args.length + " present");
  }
}

// node_modules/date-fns/esm/isDate/index.js
function isDate(value) {
  requiredArgs(1, arguments);
  return value instanceof Date || _typeof(value) === "object" && Object.prototype.toString.call(value) === "[object Date]";
}

// node_modules/date-fns/esm/toDate/index.js
function toDate(argument) {
  requiredArgs(1, arguments);
  var argStr = Object.prototype.toString.call(argument);
  if (argument instanceof Date || _typeof(argument) === "object" && argStr === "[object Date]") {
    return new Date(argument.getTime());
  } else if (typeof argument === "number" || argStr === "[object Number]") {
    return new Date(argument);
  } else {
    if ((typeof argument === "string" || argStr === "[object String]") && typeof console !== "undefined") {
      console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments");
      console.warn(new Error().stack);
    }
    return /* @__PURE__ */ new Date(NaN);
  }
}

// node_modules/date-fns/esm/isValid/index.js
function isValid(dirtyDate) {
  requiredArgs(1, arguments);
  if (!isDate(dirtyDate) && typeof dirtyDate !== "number") {
    return false;
  }
  var date = toDate(dirtyDate);
  return !isNaN(Number(date));
}

// node_modules/date-fns/esm/_lib/toInteger/index.js
function toInteger(dirtyNumber) {
  if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {
    return NaN;
  }
  var number = Number(dirtyNumber);
  if (isNaN(number)) {
    return number;
  }
  return number < 0 ? Math.ceil(number) : Math.floor(number);
}

// node_modules/date-fns/esm/addMilliseconds/index.js
function addMilliseconds(dirtyDate, dirtyAmount) {
  requiredArgs(2, arguments);
  var timestamp = toDate(dirtyDate).getTime();
  var amount = toInteger(dirtyAmount);
  return new Date(timestamp + amount);
}

// node_modules/date-fns/esm/subMilliseconds/index.js
function subMilliseconds(dirtyDate, dirtyAmount) {
  requiredArgs(2, arguments);
  var amount = toInteger(dirtyAmount);
  return addMilliseconds(dirtyDate, -amount);
}

// node_modules/date-fns/esm/_lib/getUTCDayOfYear/index.js
var MILLISECONDS_IN_DAY = 864e5;
function getUTCDayOfYear(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var timestamp = date.getTime();
  date.setUTCMonth(0, 1);
  date.setUTCHours(0, 0, 0, 0);
  var startOfYearTimestamp = date.getTime();
  var difference = timestamp - startOfYearTimestamp;
  return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;
}

// node_modules/date-fns/esm/_lib/startOfUTCISOWeek/index.js
function startOfUTCISOWeek(dirtyDate) {
  requiredArgs(1, arguments);
  var weekStartsOn = 1;
  var date = toDate(dirtyDate);
  var day = date.getUTCDay();
  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
  date.setUTCDate(date.getUTCDate() - diff);
  date.setUTCHours(0, 0, 0, 0);
  return date;
}

// node_modules/date-fns/esm/_lib/getUTCISOWeekYear/index.js
function getUTCISOWeekYear(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var year = date.getUTCFullYear();
  var fourthOfJanuaryOfNextYear = /* @__PURE__ */ new Date(0);
  fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);
  fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);
  var startOfNextYear = startOfUTCISOWeek(fourthOfJanuaryOfNextYear);
  var fourthOfJanuaryOfThisYear = /* @__PURE__ */ new Date(0);
  fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);
  fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);
  var startOfThisYear = startOfUTCISOWeek(fourthOfJanuaryOfThisYear);
  if (date.getTime() >= startOfNextYear.getTime()) {
    return year + 1;
  } else if (date.getTime() >= startOfThisYear.getTime()) {
    return year;
  } else {
    return year - 1;
  }
}

// node_modules/date-fns/esm/_lib/startOfUTCISOWeekYear/index.js
function startOfUTCISOWeekYear(dirtyDate) {
  requiredArgs(1, arguments);
  var year = getUTCISOWeekYear(dirtyDate);
  var fourthOfJanuary = /* @__PURE__ */ new Date(0);
  fourthOfJanuary.setUTCFullYear(year, 0, 4);
  fourthOfJanuary.setUTCHours(0, 0, 0, 0);
  var date = startOfUTCISOWeek(fourthOfJanuary);
  return date;
}

// node_modules/date-fns/esm/_lib/getUTCISOWeek/index.js
var MILLISECONDS_IN_WEEK = 6048e5;
function getUTCISOWeek(dirtyDate) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var diff = startOfUTCISOWeek(date).getTime() - startOfUTCISOWeekYear(date).getTime();
  return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;
}

// node_modules/date-fns/esm/_lib/defaultOptions/index.js
var defaultOptions = {};
function getDefaultOptions() {
  return defaultOptions;
}

// node_modules/date-fns/esm/_lib/startOfUTCWeek/index.js
function startOfUTCWeek(dirtyDate, options) {
  var _ref, _ref2, _ref3, _options$weekStartsOn, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;
  requiredArgs(1, arguments);
  var defaultOptions2 = getDefaultOptions();
  var weekStartsOn = toInteger((_ref = (_ref2 = (_ref3 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.weekStartsOn) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions2.weekStartsOn) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions2.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.weekStartsOn) !== null && _ref !== void 0 ? _ref : 0);
  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");
  }
  var date = toDate(dirtyDate);
  var day = date.getUTCDay();
  var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;
  date.setUTCDate(date.getUTCDate() - diff);
  date.setUTCHours(0, 0, 0, 0);
  return date;
}

// node_modules/date-fns/esm/_lib/getUTCWeekYear/index.js
function getUTCWeekYear(dirtyDate, options) {
  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var year = date.getUTCFullYear();
  var defaultOptions2 = getDefaultOptions();
  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions2.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);
  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {
    throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");
  }
  var firstWeekOfNextYear = /* @__PURE__ */ new Date(0);
  firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);
  firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);
  var startOfNextYear = startOfUTCWeek(firstWeekOfNextYear, options);
  var firstWeekOfThisYear = /* @__PURE__ */ new Date(0);
  firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);
  firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);
  var startOfThisYear = startOfUTCWeek(firstWeekOfThisYear, options);
  if (date.getTime() >= startOfNextYear.getTime()) {
    return year + 1;
  } else if (date.getTime() >= startOfThisYear.getTime()) {
    return year;
  } else {
    return year - 1;
  }
}

// node_modules/date-fns/esm/_lib/startOfUTCWeekYear/index.js
function startOfUTCWeekYear(dirtyDate, options) {
  var _ref, _ref2, _ref3, _options$firstWeekCon, _options$locale, _options$locale$optio, _defaultOptions$local, _defaultOptions$local2;
  requiredArgs(1, arguments);
  var defaultOptions2 = getDefaultOptions();
  var firstWeekContainsDate = toInteger((_ref = (_ref2 = (_ref3 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale = options.locale) === null || _options$locale === void 0 ? void 0 : (_options$locale$optio = _options$locale.options) === null || _options$locale$optio === void 0 ? void 0 : _options$locale$optio.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : defaultOptions2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : (_defaultOptions$local = defaultOptions2.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref !== void 0 ? _ref : 1);
  var year = getUTCWeekYear(dirtyDate, options);
  var firstWeek = /* @__PURE__ */ new Date(0);
  firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);
  firstWeek.setUTCHours(0, 0, 0, 0);
  var date = startOfUTCWeek(firstWeek, options);
  return date;
}

// node_modules/date-fns/esm/_lib/getUTCWeek/index.js
var MILLISECONDS_IN_WEEK2 = 6048e5;
function getUTCWeek(dirtyDate, options) {
  requiredArgs(1, arguments);
  var date = toDate(dirtyDate);
  var diff = startOfUTCWeek(date, options).getTime() - startOfUTCWeekYear(date, options).getTime();
  return Math.round(diff / MILLISECONDS_IN_WEEK2) + 1;
}

// node_modules/date-fns/esm/_lib/addLeadingZeros/index.js
function addLeadingZeros(number, targetLength) {
  var sign = number < 0 ? "-" : "";
  var output = Math.abs(number).toString();
  while (output.length < targetLength) {
    output = "0" + output;
  }
  return sign + output;
}

// node_modules/date-fns/esm/_lib/format/lightFormatters/index.js
var formatters = {
  // Year
  y: function y(date, token) {
    var signedYear = date.getUTCFullYear();
    var year = signedYear > 0 ? signedYear : 1 - signedYear;
    return addLeadingZeros(token === "yy" ? year % 100 : year, token.length);
  },
  // Month
  M: function M(date, token) {
    var month = date.getUTCMonth();
    return token === "M" ? String(month + 1) : addLeadingZeros(month + 1, 2);
  },
  // Day of the month
  d: function d(date, token) {
    return addLeadingZeros(date.getUTCDate(), token.length);
  },
  // AM or PM
  a: function a(date, token) {
    var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? "pm" : "am";
    switch (token) {
      case "a":
      case "aa":
        return dayPeriodEnumValue.toUpperCase();
      case "aaa":
        return dayPeriodEnumValue;
      case "aaaaa":
        return dayPeriodEnumValue[0];
      case "aaaa":
      default:
        return dayPeriodEnumValue === "am" ? "a.m." : "p.m.";
    }
  },
  // Hour [1-12]
  h: function h(date, token) {
    return addLeadingZeros(date.getUTCHours() % 12 || 12, token.length);
  },
  // Hour [0-23]
  H: function H(date, token) {
    return addLeadingZeros(date.getUTCHours(), token.length);
  },
  // Minute
  m: function m(date, token) {
    return addLeadingZeros(date.getUTCMinutes(), token.length);
  },
  // Second
  s: function s(date, token) {
    return addLeadingZeros(date.getUTCSeconds(), token.length);
  },
  // Fraction of second
  S: function S(date, token) {
    var numberOfDigits = token.length;
    var milliseconds = date.getUTCMilliseconds();
    var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));
    return addLeadingZeros(fractionalSeconds, token.length);
  }
};
var lightFormatters_default = formatters;

// node_modules/date-fns/esm/_lib/format/formatters/index.js
var dayPeriodEnum = {
  am: "am",
  pm: "pm",
  midnight: "midnight",
  noon: "noon",
  morning: "morning",
  afternoon: "afternoon",
  evening: "evening",
  night: "night"
};
var formatters2 = {
  // Era
  G: function G(date, token, localize3) {
    var era = date.getUTCFullYear() > 0 ? 1 : 0;
    switch (token) {
      // AD, BC
      case "G":
      case "GG":
      case "GGG":
        return localize3.era(era, {
          width: "abbreviated"
        });
      // A, B
      case "GGGGG":
        return localize3.era(era, {
          width: "narrow"
        });
      // Anno Domini, Before Christ
      case "GGGG":
      default:
        return localize3.era(era, {
          width: "wide"
        });
    }
  },
  // Year
  y: function y2(date, token, localize3) {
    if (token === "yo") {
      var signedYear = date.getUTCFullYear();
      var year = signedYear > 0 ? signedYear : 1 - signedYear;
      return localize3.ordinalNumber(year, {
        unit: "year"
      });
    }
    return lightFormatters_default.y(date, token);
  },
  // Local week-numbering year
  Y: function Y(date, token, localize3, options) {
    var signedWeekYear = getUTCWeekYear(date, options);
    var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;
    if (token === "YY") {
      var twoDigitYear = weekYear % 100;
      return addLeadingZeros(twoDigitYear, 2);
    }
    if (token === "Yo") {
      return localize3.ordinalNumber(weekYear, {
        unit: "year"
      });
    }
    return addLeadingZeros(weekYear, token.length);
  },
  // ISO week-numbering year
  R: function R(date, token) {
    var isoWeekYear = getUTCISOWeekYear(date);
    return addLeadingZeros(isoWeekYear, token.length);
  },
  // Extended year. This is a single number designating the year of this calendar system.
  // The main difference between `y` and `u` localizers are B.C. years:
  // | Year | `y` | `u` |
  // |------|-----|-----|
  // | AC 1 |   1 |   1 |
  // | BC 1 |   1 |   0 |
  // | BC 2 |   2 |  -1 |
  // Also `yy` always returns the last two digits of a year,
  // while `uu` pads single digit years to 2 characters and returns other years unchanged.
  u: function u(date, token) {
    var year = date.getUTCFullYear();
    return addLeadingZeros(year, token.length);
  },
  // Quarter
  Q: function Q(date, token, localize3) {
    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);
    switch (token) {
      // 1, 2, 3, 4
      case "Q":
        return String(quarter);
      // 01, 02, 03, 04
      case "QQ":
        return addLeadingZeros(quarter, 2);
      // 1st, 2nd, 3rd, 4th
      case "Qo":
        return localize3.ordinalNumber(quarter, {
          unit: "quarter"
        });
      // Q1, Q2, Q3, Q4
      case "QQQ":
        return localize3.quarter(quarter, {
          width: "abbreviated",
          context: "formatting"
        });
      // 1, 2, 3, 4 (narrow quarter; could be not numerical)
      case "QQQQQ":
        return localize3.quarter(quarter, {
          width: "narrow",
          context: "formatting"
        });
      // 1st quarter, 2nd quarter, ...
      case "QQQQ":
      default:
        return localize3.quarter(quarter, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Stand-alone quarter
  q: function q(date, token, localize3) {
    var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);
    switch (token) {
      // 1, 2, 3, 4
      case "q":
        return String(quarter);
      // 01, 02, 03, 04
      case "qq":
        return addLeadingZeros(quarter, 2);
      // 1st, 2nd, 3rd, 4th
      case "qo":
        return localize3.ordinalNumber(quarter, {
          unit: "quarter"
        });
      // Q1, Q2, Q3, Q4
      case "qqq":
        return localize3.quarter(quarter, {
          width: "abbreviated",
          context: "standalone"
        });
      // 1, 2, 3, 4 (narrow quarter; could be not numerical)
      case "qqqqq":
        return localize3.quarter(quarter, {
          width: "narrow",
          context: "standalone"
        });
      // 1st quarter, 2nd quarter, ...
      case "qqqq":
      default:
        return localize3.quarter(quarter, {
          width: "wide",
          context: "standalone"
        });
    }
  },
  // Month
  M: function M2(date, token, localize3) {
    var month = date.getUTCMonth();
    switch (token) {
      case "M":
      case "MM":
        return lightFormatters_default.M(date, token);
      // 1st, 2nd, ..., 12th
      case "Mo":
        return localize3.ordinalNumber(month + 1, {
          unit: "month"
        });
      // Jan, Feb, ..., Dec
      case "MMM":
        return localize3.month(month, {
          width: "abbreviated",
          context: "formatting"
        });
      // J, F, ..., D
      case "MMMMM":
        return localize3.month(month, {
          width: "narrow",
          context: "formatting"
        });
      // January, February, ..., December
      case "MMMM":
      default:
        return localize3.month(month, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Stand-alone month
  L: function L(date, token, localize3) {
    var month = date.getUTCMonth();
    switch (token) {
      // 1, 2, ..., 12
      case "L":
        return String(month + 1);
      // 01, 02, ..., 12
      case "LL":
        return addLeadingZeros(month + 1, 2);
      // 1st, 2nd, ..., 12th
      case "Lo":
        return localize3.ordinalNumber(month + 1, {
          unit: "month"
        });
      // Jan, Feb, ..., Dec
      case "LLL":
        return localize3.month(month, {
          width: "abbreviated",
          context: "standalone"
        });
      // J, F, ..., D
      case "LLLLL":
        return localize3.month(month, {
          width: "narrow",
          context: "standalone"
        });
      // January, February, ..., December
      case "LLLL":
      default:
        return localize3.month(month, {
          width: "wide",
          context: "standalone"
        });
    }
  },
  // Local week of year
  w: function w(date, token, localize3, options) {
    var week = getUTCWeek(date, options);
    if (token === "wo") {
      return localize3.ordinalNumber(week, {
        unit: "week"
      });
    }
    return addLeadingZeros(week, token.length);
  },
  // ISO week of year
  I: function I(date, token, localize3) {
    var isoWeek = getUTCISOWeek(date);
    if (token === "Io") {
      return localize3.ordinalNumber(isoWeek, {
        unit: "week"
      });
    }
    return addLeadingZeros(isoWeek, token.length);
  },
  // Day of the month
  d: function d2(date, token, localize3) {
    if (token === "do") {
      return localize3.ordinalNumber(date.getUTCDate(), {
        unit: "date"
      });
    }
    return lightFormatters_default.d(date, token);
  },
  // Day of year
  D: function D(date, token, localize3) {
    var dayOfYear = getUTCDayOfYear(date);
    if (token === "Do") {
      return localize3.ordinalNumber(dayOfYear, {
        unit: "dayOfYear"
      });
    }
    return addLeadingZeros(dayOfYear, token.length);
  },
  // Day of week
  E: function E(date, token, localize3) {
    var dayOfWeek = date.getUTCDay();
    switch (token) {
      // Tue
      case "E":
      case "EE":
      case "EEE":
        return localize3.day(dayOfWeek, {
          width: "abbreviated",
          context: "formatting"
        });
      // T
      case "EEEEE":
        return localize3.day(dayOfWeek, {
          width: "narrow",
          context: "formatting"
        });
      // Tu
      case "EEEEEE":
        return localize3.day(dayOfWeek, {
          width: "short",
          context: "formatting"
        });
      // Tuesday
      case "EEEE":
      default:
        return localize3.day(dayOfWeek, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Local day of week
  e: function e(date, token, localize3, options) {
    var dayOfWeek = date.getUTCDay();
    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
    switch (token) {
      // Numerical value (Nth day of week with current locale or weekStartsOn)
      case "e":
        return String(localDayOfWeek);
      // Padded numerical value
      case "ee":
        return addLeadingZeros(localDayOfWeek, 2);
      // 1st, 2nd, ..., 7th
      case "eo":
        return localize3.ordinalNumber(localDayOfWeek, {
          unit: "day"
        });
      case "eee":
        return localize3.day(dayOfWeek, {
          width: "abbreviated",
          context: "formatting"
        });
      // T
      case "eeeee":
        return localize3.day(dayOfWeek, {
          width: "narrow",
          context: "formatting"
        });
      // Tu
      case "eeeeee":
        return localize3.day(dayOfWeek, {
          width: "short",
          context: "formatting"
        });
      // Tuesday
      case "eeee":
      default:
        return localize3.day(dayOfWeek, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Stand-alone local day of week
  c: function c(date, token, localize3, options) {
    var dayOfWeek = date.getUTCDay();
    var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;
    switch (token) {
      // Numerical value (same as in `e`)
      case "c":
        return String(localDayOfWeek);
      // Padded numerical value
      case "cc":
        return addLeadingZeros(localDayOfWeek, token.length);
      // 1st, 2nd, ..., 7th
      case "co":
        return localize3.ordinalNumber(localDayOfWeek, {
          unit: "day"
        });
      case "ccc":
        return localize3.day(dayOfWeek, {
          width: "abbreviated",
          context: "standalone"
        });
      // T
      case "ccccc":
        return localize3.day(dayOfWeek, {
          width: "narrow",
          context: "standalone"
        });
      // Tu
      case "cccccc":
        return localize3.day(dayOfWeek, {
          width: "short",
          context: "standalone"
        });
      // Tuesday
      case "cccc":
      default:
        return localize3.day(dayOfWeek, {
          width: "wide",
          context: "standalone"
        });
    }
  },
  // ISO day of week
  i: function i(date, token, localize3) {
    var dayOfWeek = date.getUTCDay();
    var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;
    switch (token) {
      // 2
      case "i":
        return String(isoDayOfWeek);
      // 02
      case "ii":
        return addLeadingZeros(isoDayOfWeek, token.length);
      // 2nd
      case "io":
        return localize3.ordinalNumber(isoDayOfWeek, {
          unit: "day"
        });
      // Tue
      case "iii":
        return localize3.day(dayOfWeek, {
          width: "abbreviated",
          context: "formatting"
        });
      // T
      case "iiiii":
        return localize3.day(dayOfWeek, {
          width: "narrow",
          context: "formatting"
        });
      // Tu
      case "iiiiii":
        return localize3.day(dayOfWeek, {
          width: "short",
          context: "formatting"
        });
      // Tuesday
      case "iiii":
      default:
        return localize3.day(dayOfWeek, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // AM or PM
  a: function a2(date, token, localize3) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
    switch (token) {
      case "a":
      case "aa":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "abbreviated",
          context: "formatting"
        });
      case "aaa":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "abbreviated",
          context: "formatting"
        }).toLowerCase();
      case "aaaaa":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "narrow",
          context: "formatting"
        });
      case "aaaa":
      default:
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // AM, PM, midnight, noon
  b: function b(date, token, localize3) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue;
    if (hours === 12) {
      dayPeriodEnumValue = dayPeriodEnum.noon;
    } else if (hours === 0) {
      dayPeriodEnumValue = dayPeriodEnum.midnight;
    } else {
      dayPeriodEnumValue = hours / 12 >= 1 ? "pm" : "am";
    }
    switch (token) {
      case "b":
      case "bb":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "abbreviated",
          context: "formatting"
        });
      case "bbb":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "abbreviated",
          context: "formatting"
        }).toLowerCase();
      case "bbbbb":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "narrow",
          context: "formatting"
        });
      case "bbbb":
      default:
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // in the morning, in the afternoon, in the evening, at night
  B: function B(date, token, localize3) {
    var hours = date.getUTCHours();
    var dayPeriodEnumValue;
    if (hours >= 17) {
      dayPeriodEnumValue = dayPeriodEnum.evening;
    } else if (hours >= 12) {
      dayPeriodEnumValue = dayPeriodEnum.afternoon;
    } else if (hours >= 4) {
      dayPeriodEnumValue = dayPeriodEnum.morning;
    } else {
      dayPeriodEnumValue = dayPeriodEnum.night;
    }
    switch (token) {
      case "B":
      case "BB":
      case "BBB":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "abbreviated",
          context: "formatting"
        });
      case "BBBBB":
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "narrow",
          context: "formatting"
        });
      case "BBBB":
      default:
        return localize3.dayPeriod(dayPeriodEnumValue, {
          width: "wide",
          context: "formatting"
        });
    }
  },
  // Hour [1-12]
  h: function h2(date, token, localize3) {
    if (token === "ho") {
      var hours = date.getUTCHours() % 12;
      if (hours === 0) hours = 12;
      return localize3.ordinalNumber(hours, {
        unit: "hour"
      });
    }
    return lightFormatters_default.h(date, token);
  },
  // Hour [0-23]
  H: function H2(date, token, localize3) {
    if (token === "Ho") {
      return localize3.ordinalNumber(date.getUTCHours(), {
        unit: "hour"
      });
    }
    return lightFormatters_default.H(date, token);
  },
  // Hour [0-11]
  K: function K(date, token, localize3) {
    var hours = date.getUTCHours() % 12;
    if (token === "Ko") {
      return localize3.ordinalNumber(hours, {
        unit: "hour"
      });
    }
    return addLeadingZeros(hours, token.length);
  },
  // Hour [1-24]
  k: function k(date, token, localize3) {
    var hours = date.getUTCHours();
    if (hours === 0) hours = 24;
    if (token === "ko") {
      return localize3.ordinalNumber(hours, {
        unit: "hour"
      });
    }
    return addLeadingZeros(hours, token.length);
  },
  // Minute
  m: function m2(date, token, localize3) {
    if (token === "mo") {
      return localize3.ordinalNumber(date.getUTCMinutes(), {
        unit: "minute"
      });
    }
    return lightFormatters_default.m(date, token);
  },
  // Second
  s: function s2(date, token, localize3) {
    if (token === "so") {
      return localize3.ordinalNumber(date.getUTCSeconds(), {
        unit: "second"
      });
    }
    return lightFormatters_default.s(date, token);
  },
  // Fraction of second
  S: function S2(date, token) {
    return lightFormatters_default.S(date, token);
  },
  // Timezone (ISO-8601. If offset is 0, output is always `'Z'`)
  X: function X(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();
    if (timezoneOffset === 0) {
      return "Z";
    }
    switch (token) {
      // Hours and optional minutes
      case "X":
        return formatTimezoneWithOptionalMinutes(timezoneOffset);
      // Hours, minutes and optional seconds without `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `XX`
      case "XXXX":
      case "XX":
        return formatTimezone(timezoneOffset);
      // Hours, minutes and optional seconds with `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `XXX`
      case "XXXXX":
      case "XXX":
      // Hours and minutes with `:` delimiter
      default:
        return formatTimezone(timezoneOffset, ":");
    }
  },
  // Timezone (ISO-8601. If offset is 0, output is `'+00:00'` or equivalent)
  x: function x(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();
    switch (token) {
      // Hours and optional minutes
      case "x":
        return formatTimezoneWithOptionalMinutes(timezoneOffset);
      // Hours, minutes and optional seconds without `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `xx`
      case "xxxx":
      case "xx":
        return formatTimezone(timezoneOffset);
      // Hours, minutes and optional seconds with `:` delimiter
      // Note: neither ISO-8601 nor JavaScript supports seconds in timezone offsets
      // so this token always has the same output as `xxx`
      case "xxxxx":
      case "xxx":
      // Hours and minutes with `:` delimiter
      default:
        return formatTimezone(timezoneOffset, ":");
    }
  },
  // Timezone (GMT)
  O: function O(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();
    switch (token) {
      // Short
      case "O":
      case "OO":
      case "OOO":
        return "GMT" + formatTimezoneShort(timezoneOffset, ":");
      // Long
      case "OOOO":
      default:
        return "GMT" + formatTimezone(timezoneOffset, ":");
    }
  },
  // Timezone (specific non-location)
  z: function z(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timezoneOffset = originalDate.getTimezoneOffset();
    switch (token) {
      // Short
      case "z":
      case "zz":
      case "zzz":
        return "GMT" + formatTimezoneShort(timezoneOffset, ":");
      // Long
      case "zzzz":
      default:
        return "GMT" + formatTimezone(timezoneOffset, ":");
    }
  },
  // Seconds timestamp
  t: function t(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timestamp = Math.floor(originalDate.getTime() / 1e3);
    return addLeadingZeros(timestamp, token.length);
  },
  // Milliseconds timestamp
  T: function T(date, token, _localize, options) {
    var originalDate = options._originalDate || date;
    var timestamp = originalDate.getTime();
    return addLeadingZeros(timestamp, token.length);
  }
};
function formatTimezoneShort(offset, dirtyDelimiter) {
  var sign = offset > 0 ? "-" : "+";
  var absOffset = Math.abs(offset);
  var hours = Math.floor(absOffset / 60);
  var minutes = absOffset % 60;
  if (minutes === 0) {
    return sign + String(hours);
  }
  var delimiter = dirtyDelimiter || "";
  return sign + String(hours) + delimiter + addLeadingZeros(minutes, 2);
}
function formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {
  if (offset % 60 === 0) {
    var sign = offset > 0 ? "-" : "+";
    return sign + addLeadingZeros(Math.abs(offset) / 60, 2);
  }
  return formatTimezone(offset, dirtyDelimiter);
}
function formatTimezone(offset, dirtyDelimiter) {
  var delimiter = dirtyDelimiter || "";
  var sign = offset > 0 ? "-" : "+";
  var absOffset = Math.abs(offset);
  var hours = addLeadingZeros(Math.floor(absOffset / 60), 2);
  var minutes = addLeadingZeros(absOffset % 60, 2);
  return sign + hours + delimiter + minutes;
}
var formatters_default = formatters2;

// node_modules/date-fns/esm/_lib/format/longFormatters/index.js
var dateLongFormatter = function dateLongFormatter2(pattern, formatLong3) {
  switch (pattern) {
    case "P":
      return formatLong3.date({
        width: "short"
      });
    case "PP":
      return formatLong3.date({
        width: "medium"
      });
    case "PPP":
      return formatLong3.date({
        width: "long"
      });
    case "PPPP":
    default:
      return formatLong3.date({
        width: "full"
      });
  }
};
var timeLongFormatter = function timeLongFormatter2(pattern, formatLong3) {
  switch (pattern) {
    case "p":
      return formatLong3.time({
        width: "short"
      });
    case "pp":
      return formatLong3.time({
        width: "medium"
      });
    case "ppp":
      return formatLong3.time({
        width: "long"
      });
    case "pppp":
    default:
      return formatLong3.time({
        width: "full"
      });
  }
};
var dateTimeLongFormatter = function dateTimeLongFormatter2(pattern, formatLong3) {
  var matchResult = pattern.match(/(P+)(p+)?/) || [];
  var datePattern = matchResult[1];
  var timePattern = matchResult[2];
  if (!timePattern) {
    return dateLongFormatter(pattern, formatLong3);
  }
  var dateTimeFormat;
  switch (datePattern) {
    case "P":
      dateTimeFormat = formatLong3.dateTime({
        width: "short"
      });
      break;
    case "PP":
      dateTimeFormat = formatLong3.dateTime({
        width: "medium"
      });
      break;
    case "PPP":
      dateTimeFormat = formatLong3.dateTime({
        width: "long"
      });
      break;
    case "PPPP":
    default:
      dateTimeFormat = formatLong3.dateTime({
        width: "full"
      });
      break;
  }
  return dateTimeFormat.replace("{{date}}", dateLongFormatter(datePattern, formatLong3)).replace("{{time}}", timeLongFormatter(timePattern, formatLong3));
};
var longFormatters = {
  p: timeLongFormatter,
  P: dateTimeLongFormatter
};
var longFormatters_default = longFormatters;

// node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js
function getTimezoneOffsetInMilliseconds(date) {
  var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));
  utcDate.setUTCFullYear(date.getFullYear());
  return date.getTime() - utcDate.getTime();
}

// node_modules/date-fns/esm/_lib/protectedTokens/index.js
var protectedDayOfYearTokens = ["D", "DD"];
var protectedWeekYearTokens = ["YY", "YYYY"];
function isProtectedDayOfYearToken(token) {
  return protectedDayOfYearTokens.indexOf(token) !== -1;
}
function isProtectedWeekYearToken(token) {
  return protectedWeekYearTokens.indexOf(token) !== -1;
}
function throwProtectedError(token, format2, input) {
  if (token === "YYYY") {
    throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(format2, "`) for formatting years to the input `").concat(input, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));
  } else if (token === "YY") {
    throw new RangeError("Use `yy` instead of `YY` (in `".concat(format2, "`) for formatting years to the input `").concat(input, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));
  } else if (token === "D") {
    throw new RangeError("Use `d` instead of `D` (in `".concat(format2, "`) for formatting days of the month to the input `").concat(input, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));
  } else if (token === "DD") {
    throw new RangeError("Use `dd` instead of `DD` (in `".concat(format2, "`) for formatting days of the month to the input `").concat(input, "`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));
  }
}

// node_modules/date-fns/esm/locale/en-US/_lib/formatDistance/index.js
var formatDistanceLocale = {
  lessThanXSeconds: {
    one: "less than a second",
    other: "less than {{count}} seconds"
  },
  xSeconds: {
    one: "1 second",
    other: "{{count}} seconds"
  },
  halfAMinute: "half a minute",
  lessThanXMinutes: {
    one: "less than a minute",
    other: "less than {{count}} minutes"
  },
  xMinutes: {
    one: "1 minute",
    other: "{{count}} minutes"
  },
  aboutXHours: {
    one: "about 1 hour",
    other: "about {{count}} hours"
  },
  xHours: {
    one: "1 hour",
    other: "{{count}} hours"
  },
  xDays: {
    one: "1 day",
    other: "{{count}} days"
  },
  aboutXWeeks: {
    one: "about 1 week",
    other: "about {{count}} weeks"
  },
  xWeeks: {
    one: "1 week",
    other: "{{count}} weeks"
  },
  aboutXMonths: {
    one: "about 1 month",
    other: "about {{count}} months"
  },
  xMonths: {
    one: "1 month",
    other: "{{count}} months"
  },
  aboutXYears: {
    one: "about 1 year",
    other: "about {{count}} years"
  },
  xYears: {
    one: "1 year",
    other: "{{count}} years"
  },
  overXYears: {
    one: "over 1 year",
    other: "over {{count}} years"
  },
  almostXYears: {
    one: "almost 1 year",
    other: "almost {{count}} years"
  }
};
var formatDistance = function formatDistance2(token, count, options) {
  var result;
  var tokenValue = formatDistanceLocale[token];
  if (typeof tokenValue === "string") {
    result = tokenValue;
  } else if (count === 1) {
    result = tokenValue.one;
  } else {
    result = tokenValue.other.replace("{{count}}", count.toString());
  }
  if (options !== null && options !== void 0 && options.addSuffix) {
    if (options.comparison && options.comparison > 0) {
      return "in " + result;
    } else {
      return result + " ago";
    }
  }
  return result;
};
var formatDistance_default = formatDistance;

// node_modules/date-fns/esm/locale/_lib/buildFormatLongFn/index.js
function buildFormatLongFn(args) {
  return function() {
    var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};
    var width = options.width ? String(options.width) : args.defaultWidth;
    var format2 = args.formats[width] || args.formats[args.defaultWidth];
    return format2;
  };
}

// node_modules/date-fns/esm/locale/en-US/_lib/formatLong/index.js
var dateFormats = {
  full: "EEEE, MMMM do, y",
  long: "MMMM do, y",
  medium: "MMM d, y",
  short: "MM/dd/yyyy"
};
var timeFormats = {
  full: "h:mm:ss a zzzz",
  long: "h:mm:ss a z",
  medium: "h:mm:ss a",
  short: "h:mm a"
};
var dateTimeFormats = {
  full: "{{date}} 'at' {{time}}",
  long: "{{date}} 'at' {{time}}",
  medium: "{{date}}, {{time}}",
  short: "{{date}}, {{time}}"
};
var formatLong = {
  date: buildFormatLongFn({
    formats: dateFormats,
    defaultWidth: "full"
  }),
  time: buildFormatLongFn({
    formats: timeFormats,
    defaultWidth: "full"
  }),
  dateTime: buildFormatLongFn({
    formats: dateTimeFormats,
    defaultWidth: "full"
  })
};
var formatLong_default = formatLong;

// node_modules/date-fns/esm/locale/en-US/_lib/formatRelative/index.js
var formatRelativeLocale = {
  lastWeek: "'last' eeee 'at' p",
  yesterday: "'yesterday at' p",
  today: "'today at' p",
  tomorrow: "'tomorrow at' p",
  nextWeek: "eeee 'at' p",
  other: "P"
};
var formatRelative = function formatRelative2(token, _date, _baseDate, _options) {
  return formatRelativeLocale[token];
};
var formatRelative_default = formatRelative;

// node_modules/date-fns/esm/locale/_lib/buildLocalizeFn/index.js
function buildLocalizeFn(args) {
  return function(dirtyIndex, options) {
    var context = options !== null && options !== void 0 && options.context ? String(options.context) : "standalone";
    var valuesArray;
    if (context === "formatting" && args.formattingValues) {
      var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;
      var width = options !== null && options !== void 0 && options.width ? String(options.width) : defaultWidth;
      valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];
    } else {
      var _defaultWidth = args.defaultWidth;
      var _width = options !== null && options !== void 0 && options.width ? String(options.width) : args.defaultWidth;
      valuesArray = args.values[_width] || args.values[_defaultWidth];
    }
    var index2 = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;
    return valuesArray[index2];
  };
}

// node_modules/date-fns/esm/locale/en-US/_lib/localize/index.js
var eraValues = {
  narrow: ["B", "A"],
  abbreviated: ["BC", "AD"],
  wide: ["Before Christ", "Anno Domini"]
};
var quarterValues = {
  narrow: ["1", "2", "3", "4"],
  abbreviated: ["Q1", "Q2", "Q3", "Q4"],
  wide: ["1st quarter", "2nd quarter", "3rd quarter", "4th quarter"]
};
var monthValues = {
  narrow: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
  abbreviated: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"],
  wide: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"]
};
var dayValues = {
  narrow: ["S", "M", "T", "W", "T", "F", "S"],
  short: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"],
  abbreviated: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
  wide: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"]
};
var dayPeriodValues = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "morning",
    afternoon: "afternoon",
    evening: "evening",
    night: "night"
  }
};
var formattingDayPeriodValues = {
  narrow: {
    am: "a",
    pm: "p",
    midnight: "mi",
    noon: "n",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  abbreviated: {
    am: "AM",
    pm: "PM",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  },
  wide: {
    am: "a.m.",
    pm: "p.m.",
    midnight: "midnight",
    noon: "noon",
    morning: "in the morning",
    afternoon: "in the afternoon",
    evening: "in the evening",
    night: "at night"
  }
};
var ordinalNumber = function ordinalNumber2(dirtyNumber, _options) {
  var number = Number(dirtyNumber);
  var rem100 = number % 100;
  if (rem100 > 20 || rem100 < 10) {
    switch (rem100 % 10) {
      case 1:
        return number + "st";
      case 2:
        return number + "nd";
      case 3:
        return number + "rd";
    }
  }
  return number + "th";
};
var localize = {
  ordinalNumber,
  era: buildLocalizeFn({
    values: eraValues,
    defaultWidth: "wide"
  }),
  quarter: buildLocalizeFn({
    values: quarterValues,
    defaultWidth: "wide",
    argumentCallback: function argumentCallback(quarter) {
      return quarter - 1;
    }
  }),
  month: buildLocalizeFn({
    values: monthValues,
    defaultWidth: "wide"
  }),
  day: buildLocalizeFn({
    values: dayValues,
    defaultWidth: "wide"
  }),
  dayPeriod: buildLocalizeFn({
    values: dayPeriodValues,
    defaultWidth: "wide",
    formattingValues: formattingDayPeriodValues,
    defaultFormattingWidth: "wide"
  })
};
var localize_default = localize;

// node_modules/date-fns/esm/locale/_lib/buildMatchFn/index.js
function buildMatchFn(args) {
  return function(string) {
    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var width = options.width;
    var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];
    var matchResult = string.match(matchPattern);
    if (!matchResult) {
      return null;
    }
    var matchedString = matchResult[0];
    var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];
    var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function(pattern) {
      return pattern.test(matchedString);
    }) : findKey(parsePatterns, function(pattern) {
      return pattern.test(matchedString);
    });
    var value;
    value = args.valueCallback ? args.valueCallback(key) : key;
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value,
      rest
    };
  };
}
function findKey(object, predicate) {
  for (var key in object) {
    if (object.hasOwnProperty(key) && predicate(object[key])) {
      return key;
    }
  }
  return void 0;
}
function findIndex(array, predicate) {
  for (var key = 0; key < array.length; key++) {
    if (predicate(array[key])) {
      return key;
    }
  }
  return void 0;
}

// node_modules/date-fns/esm/locale/_lib/buildMatchPatternFn/index.js
function buildMatchPatternFn(args) {
  return function(string) {
    var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
    var matchResult = string.match(args.matchPattern);
    if (!matchResult) return null;
    var matchedString = matchResult[0];
    var parseResult = string.match(args.parsePattern);
    if (!parseResult) return null;
    var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];
    value = options.valueCallback ? options.valueCallback(value) : value;
    var rest = string.slice(matchedString.length);
    return {
      value,
      rest
    };
  };
}

// node_modules/date-fns/esm/locale/en-US/_lib/match/index.js
var matchOrdinalNumberPattern = /^(\d+)(th|st|nd|rd)?/i;
var parseOrdinalNumberPattern = /\d+/i;
var matchEraPatterns = {
  narrow: /^(b|a)/i,
  abbreviated: /^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,
  wide: /^(before christ|before common era|anno domini|common era)/i
};
var parseEraPatterns = {
  any: [/^b/i, /^(a|c)/i]
};
var matchQuarterPatterns = {
  narrow: /^[1234]/i,
  abbreviated: /^q[1234]/i,
  wide: /^[1234](th|st|nd|rd)? quarter/i
};
var parseQuarterPatterns = {
  any: [/1/i, /2/i, /3/i, /4/i]
};
var matchMonthPatterns = {
  narrow: /^[jfmasond]/i,
  abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,
  wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i
};
var parseMonthPatterns = {
  narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],
  any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]
};
var matchDayPatterns = {
  narrow: /^[smtwf]/i,
  short: /^(su|mo|tu|we|th|fr|sa)/i,
  abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,
  wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i
};
var parseDayPatterns = {
  narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],
  any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]
};
var matchDayPeriodPatterns = {
  narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,
  any: /^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i
};
var parseDayPeriodPatterns = {
  any: {
    am: /^a/i,
    pm: /^p/i,
    midnight: /^mi/i,
    noon: /^no/i,
    morning: /morning/i,
    afternoon: /afternoon/i,
    evening: /evening/i,
    night: /night/i
  }
};
var match = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: matchOrdinalNumberPattern,
    parsePattern: parseOrdinalNumberPattern,
    valueCallback: function valueCallback(value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: matchEraPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseEraPatterns,
    defaultParseWidth: "any"
  }),
  quarter: buildMatchFn({
    matchPatterns: matchQuarterPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseQuarterPatterns,
    defaultParseWidth: "any",
    valueCallback: function valueCallback2(index2) {
      return index2 + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: matchMonthPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseMonthPatterns,
    defaultParseWidth: "any"
  }),
  day: buildMatchFn({
    matchPatterns: matchDayPatterns,
    defaultMatchWidth: "wide",
    parsePatterns: parseDayPatterns,
    defaultParseWidth: "any"
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: matchDayPeriodPatterns,
    defaultMatchWidth: "any",
    parsePatterns: parseDayPeriodPatterns,
    defaultParseWidth: "any"
  })
};
var match_default = match;

// node_modules/date-fns/esm/locale/en-US/index.js
var locale = {
  code: "en-US",
  formatDistance: formatDistance_default,
  formatLong: formatLong_default,
  formatRelative: formatRelative_default,
  localize: localize_default,
  match: match_default,
  options: {
    weekStartsOn: 0,
    firstWeekContainsDate: 1
  }
};
var en_US_default = locale;

// node_modules/date-fns/esm/_lib/defaultLocale/index.js
var defaultLocale_default = en_US_default;

// node_modules/date-fns/esm/format/index.js
var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g;
var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;
var escapedStringRegExp = /^'([^]*?)'?$/;
var doubleQuoteRegExp = /''/g;
var unescapedLatinCharacterRegExp = /[a-zA-Z]/;
function format(dirtyDate, dirtyFormatStr, options) {
  var _ref, _options$locale, _ref2, _ref3, _ref4, _options$firstWeekCon, _options$locale2, _options$locale2$opti, _defaultOptions$local, _defaultOptions$local2, _ref5, _ref6, _ref7, _options$weekStartsOn, _options$locale3, _options$locale3$opti, _defaultOptions$local3, _defaultOptions$local4;
  requiredArgs(2, arguments);
  var formatStr = String(dirtyFormatStr);
  var defaultOptions2 = getDefaultOptions();
  var locale3 = (_ref = (_options$locale = options === null || options === void 0 ? void 0 : options.locale) !== null && _options$locale !== void 0 ? _options$locale : defaultOptions2.locale) !== null && _ref !== void 0 ? _ref : defaultLocale_default;
  var firstWeekContainsDate = toInteger((_ref2 = (_ref3 = (_ref4 = (_options$firstWeekCon = options === null || options === void 0 ? void 0 : options.firstWeekContainsDate) !== null && _options$firstWeekCon !== void 0 ? _options$firstWeekCon : options === null || options === void 0 ? void 0 : (_options$locale2 = options.locale) === null || _options$locale2 === void 0 ? void 0 : (_options$locale2$opti = _options$locale2.options) === null || _options$locale2$opti === void 0 ? void 0 : _options$locale2$opti.firstWeekContainsDate) !== null && _ref4 !== void 0 ? _ref4 : defaultOptions2.firstWeekContainsDate) !== null && _ref3 !== void 0 ? _ref3 : (_defaultOptions$local = defaultOptions2.locale) === null || _defaultOptions$local === void 0 ? void 0 : (_defaultOptions$local2 = _defaultOptions$local.options) === null || _defaultOptions$local2 === void 0 ? void 0 : _defaultOptions$local2.firstWeekContainsDate) !== null && _ref2 !== void 0 ? _ref2 : 1);
  if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {
    throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");
  }
  var weekStartsOn = toInteger((_ref5 = (_ref6 = (_ref7 = (_options$weekStartsOn = options === null || options === void 0 ? void 0 : options.weekStartsOn) !== null && _options$weekStartsOn !== void 0 ? _options$weekStartsOn : options === null || options === void 0 ? void 0 : (_options$locale3 = options.locale) === null || _options$locale3 === void 0 ? void 0 : (_options$locale3$opti = _options$locale3.options) === null || _options$locale3$opti === void 0 ? void 0 : _options$locale3$opti.weekStartsOn) !== null && _ref7 !== void 0 ? _ref7 : defaultOptions2.weekStartsOn) !== null && _ref6 !== void 0 ? _ref6 : (_defaultOptions$local3 = defaultOptions2.locale) === null || _defaultOptions$local3 === void 0 ? void 0 : (_defaultOptions$local4 = _defaultOptions$local3.options) === null || _defaultOptions$local4 === void 0 ? void 0 : _defaultOptions$local4.weekStartsOn) !== null && _ref5 !== void 0 ? _ref5 : 0);
  if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {
    throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");
  }
  if (!locale3.localize) {
    throw new RangeError("locale must contain localize property");
  }
  if (!locale3.formatLong) {
    throw new RangeError("locale must contain formatLong property");
  }
  var originalDate = toDate(dirtyDate);
  if (!isValid(originalDate)) {
    throw new RangeError("Invalid time value");
  }
  var timezoneOffset = getTimezoneOffsetInMilliseconds(originalDate);
  var utcDate = subMilliseconds(originalDate, timezoneOffset);
  var formatterOptions = {
    firstWeekContainsDate,
    weekStartsOn,
    locale: locale3,
    _originalDate: originalDate
  };
  var result = formatStr.match(longFormattingTokensRegExp).map(function(substring) {
    var firstCharacter = substring[0];
    if (firstCharacter === "p" || firstCharacter === "P") {
      var longFormatter = longFormatters_default[firstCharacter];
      return longFormatter(substring, locale3.formatLong);
    }
    return substring;
  }).join("").match(formattingTokensRegExp).map(function(substring) {
    if (substring === "''") {
      return "'";
    }
    var firstCharacter = substring[0];
    if (firstCharacter === "'") {
      return cleanEscapedString(substring);
    }
    var formatter = formatters_default[firstCharacter];
    if (formatter) {
      if (!(options !== null && options !== void 0 && options.useAdditionalWeekYearTokens) && isProtectedWeekYearToken(substring)) {
        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));
      }
      if (!(options !== null && options !== void 0 && options.useAdditionalDayOfYearTokens) && isProtectedDayOfYearToken(substring)) {
        throwProtectedError(substring, dirtyFormatStr, String(dirtyDate));
      }
      return formatter(utcDate, substring, locale3.localize, formatterOptions);
    }
    if (firstCharacter.match(unescapedLatinCharacterRegExp)) {
      throw new RangeError("Format string contains an unescaped latin alphabet character `" + firstCharacter + "`");
    }
    return substring;
  }).join("");
  return result;
}
function cleanEscapedString(input) {
  var matched = input.match(escapedStringRegExp);
  if (!matched) {
    return input;
  }
  return matched[1].replace(doubleQuoteRegExp, "'");
}

// src/modules/DatePicker/index.js
var import_mn = __toESM(require_mn(), 1);
import { useTranslation as useTranslation2 } from "react-i18next";

// src/modules/DatePicker/CustomHeader.js
import React5 from "react";

// src/assets/icons/ChevronLeftIcon.js
import React3 from "react";
import { jsx as jsx3 } from "react/jsx-runtime";
function ChevronLeftIcon({ stroke = "#FF5B1D" }) {
  return /* @__PURE__ */ jsx3(
    "svg",
    {
      width: "24",
      height: "24",
      viewBox: "0 0 24 24",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: /* @__PURE__ */ jsx3(
        "path",
        {
          d: "M14.4001 16.8L9.6001 12L14.4001 7.2",
          stroke,
          strokeWidth: "2",
          strokeLinecap: "round",
          strokeLinejoin: "round"
        }
      )
    }
  );
}

// src/assets/icons/ChevronRightIcon.js
import React4 from "react";
import { jsx as jsx4 } from "react/jsx-runtime";
function ChevronRightIcon({ stroke = "#FF5B1D" }) {
  return /* @__PURE__ */ jsx4(
    "svg",
    {
      width: "24",
      height: "24",
      viewBox: "0 0 24 24",
      fill: "none",
      xmlns: "http://www.w3.org/2000/svg",
      children: /* @__PURE__ */ jsx4(
        "path",
        {
          d: "M9.5999 7.2L14.3999 12L9.5999 16.8",
          stroke,
          strokeWidth: "2",
          strokeLinecap: "round",
          strokeLinejoin: "round"
        }
      )
    }
  );
}

// src/modules/DatePicker/CustomHeader.js
import { jsx as jsx5, jsxs as jsxs3 } from "react/jsx-runtime";
function CustomHeader({
  monthDate,
  decreaseMonth,
  increaseMonth,
  prevMonthButtonDisabled,
  nextMonthButtonDisabled
}) {
  const date = monthDate.toLocaleString("en-US", {
    month: "long",
    year: "numeric"
  });
  const data = date.split(" ");
  return /* @__PURE__ */ jsxs3(
    "div",
    {
      style: {
        margin: 10,
        display: "flex",
        justifyContent: "space-between"
      },
      children: [
        /* @__PURE__ */ jsx5("div", { onClick: decreaseMonth, disabled: prevMonthButtonDisabled, children: /* @__PURE__ */ jsx5(ChevronLeftIcon, {}) }),
        /* @__PURE__ */ jsxs3("span", { children: [
          getTranslatedDate(data[0]),
          " ",
          data[1]
        ] }),
        /* @__PURE__ */ jsx5("div", { onClick: increaseMonth, disabled: nextMonthButtonDisabled, children: /* @__PURE__ */ jsx5(ChevronRightIcon, {}) })
      ]
    }
  );
}
var getTranslatedDate = (month) => {
  switch (month) {
    case "January":
      return "\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "February":
      return "\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "March":
      return "\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "April":
      return "\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "May":
      return "\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "June":
      return "\u0417\u0443\u0440\u0433\u0430\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "July":
      return "\u0414\u043E\u043B\u043E\u043E\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "August":
      return "\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "September":
      return "\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "October":
      return "\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "November":
      return "\u0410\u0440\u0432\u0430\u043D\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "December":
      return "\u0410\u0440\u0432\u0430\u043D\u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    default:
      return "";
  }
};

// src/modules/DatePicker/index.js
import { jsx as jsx6 } from "react/jsx-runtime";
var CustomInput = forwardRef(({ value, onClick, className = "" }, ref) => {
  const { t: t2 } = useTranslation2();
  return /* @__PURE__ */ jsx6(
    "button",
    {
      onClick,
      ref,
      className,
      style: { fontSize: value ? void 0 : 14 },
      children: value || t2("errorMessage.selectDate")
    }
  );
});
var DatePicker = ({
  buttonClassName = "",
  className = "",
  wrapperClassName = "",
  value,
  onChange,
  isCustomButton,
  selectedDate,
  showTimeInput = true,
  showTimeSelect = false,
  ...rest
}) => {
  const [date, setDate] = useState2(null);
  const handleChange = (date2, e2) => {
    if (date2) {
      try {
        const formatted = showTimeInput || showTimeSelect ? format(date2, "yyyy-MM-dd HH:mm") : format(date2, "yyyy-MM-dd");
        onChange?.(formatted, date2, e2);
        setDate(date2);
      } catch (e3) {
      }
    }
  };
  useEffect(() => {
    setDate(selectedDate);
  }, [selectedDate]);
  return /* @__PURE__ */ jsx6(
    Picker,
    {
      locale: import_mn.default,
      adjustDateOnChange: false,
      selected: date ? new Date(date) : selectedDate ? new Date(selectedDate) : null,
      customInput: isCustomButton === false ? false : /* @__PURE__ */ jsx6(CustomInput, { className: buttonClassName }),
      timeFormat: "HH:mm",
      timeIntervals: "1",
      selectsStart: false,
      selectsEnd: false,
      dateFormat: showTimeInput || showTimeSelect ? "yyyy-MM-dd HH:mm" : "yyyy-MM-dd",
      onChange: handleChange,
      previousMonthButtonLabel: "\u04E8\u043C\u043D\u04E9\u0445 \u0441\u0430\u0440",
      nextMonthButtonLabel: "\u0414\u0430\u0440\u0430\u0430\u0433\u0438\u0439\u043D \u0441\u0430\u0440",
      className: className ? className : "modal-input",
      wrapperClassName: wrapperClassName ? wrapperClassName : "",
      renderCustomHeader: CustomHeader,
      showTimeInput,
      showTimeSelect,
      ...rest
    }
  );
};
var DatePicker_default = DatePicker;

// src/modules/DateTimePicker/index.js
import React7 from "react";
import { DateTimePicker, LocalizationProvider } from "@mui/x-date-pickers";
import { AdapterDayjs } from "@mui/x-date-pickers/AdapterDayjs";
import TextField from "@mui/material/TextField";
import { jsx as jsx7 } from "react/jsx-runtime";
var DateTimePickerComp = ({ value, onChange, ...rest }) => {
  const handleChange = (date) => {
    const formatted = format(date, "y-MM-dd HH:mm");
    onChange?.(formatted, date);
  };
  return /* @__PURE__ */ jsx7(LocalizationProvider, { dateAdapter: AdapterDayjs, children: /* @__PURE__ */ jsx7(
    DateTimePicker,
    {
      renderInput: (params) => /* @__PURE__ */ jsx7(TextField, { ...params }),
      value: value ? new Date(value) : null,
      onChange: handleChange,
      ...rest
    }
  ) });
};
var DateTimePicker_default = DateTimePickerComp;

// src/modules/TimePickerRange/TimePicker.js
import React8, { useState as useState3 } from "react";
import { ClickAwayListener } from "@mui/material";
import { jsx as jsx8, jsxs as jsxs4 } from "react/jsx-runtime";
var TimePicker = ({
  minStep = 1,
  hourStep = 1,
  onChange,
  popoutClassName = "",
  inputClassName = "",
  value = "",
  separator = ":",
  allowInput = false
}) => {
  const [open, setOpen] = useState3(false);
  const onButtonClick = (action) => {
    let hour2 = 0;
    let minute2 = 0;
    if (value && typeof value === "string" && value.length === 5) {
      const stringHour = value.substring(0, 2);
      const stringMinute = value.substring(3, 5);
      if (/^\d+$/.test(stringHour)) {
        hour2 = Number(stringHour);
      }
      if (/^\d+$/.test(stringMinute)) {
        minute2 = Number(stringMinute);
      }
    }
    switch (action) {
      case "h-increment": {
        hour2 = hour2 + hourStep;
        if (hour2 > 23) {
          hour2 = hour2 - 24;
        }
        break;
      }
      case "m-increment": {
        minute2 = minute2 + minStep;
        if (minute2 > 59) {
          minute2 = minute2 - 60;
        }
        break;
      }
      case "h-decrement": {
        hour2 = hour2 - hourStep;
        if (hour2 < 0) {
          hour2 = hour2 + 24;
        }
        break;
      }
      case "m-decrement": {
        minute2 = minute2 - minStep;
        if (minute2 < 0) {
          minute2 = minute2 + 60;
        }
        break;
      }
      default:
        return;
    }
    let newValue = "";
    if (hour2 < 10) {
      newValue = "0";
    }
    newValue = `${newValue}${hour2}${separator}`;
    if (minute2 < 10) {
      newValue = `${newValue}0`;
    }
    newValue = `${newValue}${minute2}`;
    onChange?.(newValue);
  };
  let hour = "00";
  let minute = "00";
  if (value && typeof value === "string" && value.length === 5) {
    const stringHour = value.substring(0, 2);
    const stringMinute = value.substring(3, 5);
    if (/^\d+$/.test(stringHour)) {
      hour = stringHour;
    }
    if (/^\d+$/.test(stringMinute)) {
      minute = stringMinute;
    }
  }
  const handleKeyPress = (event) => {
    if (allowInput) {
      const { key } = event;
      switch (key) {
        case "1":
        case "2":
        case "3":
        case "4":
        case "5":
        case "6":
        case "7":
        case "8":
        case "9":
        case "0": {
          let newValue;
          let oldMinute;
          if (value) {
            let newHour = `${value.substring(1, 2)}${value.substring(3, 4)}`;
            let newMinute = `${value.substring(4, 5)}${key}`;
            newValue = `${newHour}${separator}${newMinute}`;
          } else {
            newValue = `00${separator}0${key}`;
          }
          onChange?.(newValue);
          break;
        }
        default: {
          return;
        }
      }
    }
  };
  const handleFocusOut = (event) => {
    let newValue;
    if (value) {
      let newHour = value.split(":")[0];
      let newMinute = value.split(":")[1];
      if (Number(newHour) > 24) {
        newHour = "24";
        newMinute = "00";
      }
      if (Number(newMinute) >= 60) {
        newMinute = "00";
      }
      newValue = `${newHour}${separator}${newMinute}`;
    }
    onChange?.(newValue);
  };
  return /* @__PURE__ */ jsxs4("div", { children: [
    /* @__PURE__ */ jsx8(
      "input",
      {
        className: `eschool-timepicker-input ${open ? "active" : ""} ${inputClassName}`,
        onClick: (e2) => {
          setOpen(!open);
          e2.target.setSelectionRange(7, 7);
        },
        onBlur: (e2) => handleFocusOut(e2),
        onChange: () => {
          return;
        },
        value: value ? value : "-- : --",
        onKeyPress: handleKeyPress
      }
    ),
    open && /* @__PURE__ */ jsx8(ClickAwayListener, { onClickAway: () => setOpen(false), children: /* @__PURE__ */ jsx8("div", { className: `eschool-timepicker-popout ${popoutClassName}`, children: /* @__PURE__ */ jsx8("table", { children: /* @__PURE__ */ jsxs4("tbody", { children: [
      /* @__PURE__ */ jsxs4("tr", { children: [
        /* @__PURE__ */ jsx8("td", { children: /* @__PURE__ */ jsx8("div", { onClick: () => onButtonClick("h-increment"), children: /* @__PURE__ */ jsx8("i", { className: "cs-chevron-top" }) }) }),
        /* @__PURE__ */ jsx8("td", {}),
        /* @__PURE__ */ jsx8("td", { children: /* @__PURE__ */ jsx8("div", { onClick: () => onButtonClick("m-increment"), children: /* @__PURE__ */ jsx8("i", { className: "cs-chevron-top" }) }) })
      ] }),
      /* @__PURE__ */ jsxs4("tr", { children: [
        /* @__PURE__ */ jsx8("td", { children: hour }),
        /* @__PURE__ */ jsx8("td", { children: separator }),
        /* @__PURE__ */ jsx8("td", { children: minute })
      ] }),
      /* @__PURE__ */ jsxs4("tr", { children: [
        /* @__PURE__ */ jsx8("td", { children: /* @__PURE__ */ jsx8("div", { onClick: () => onButtonClick("h-decrement"), children: /* @__PURE__ */ jsx8("i", { className: "cs-chevron-bottom" }) }) }),
        /* @__PURE__ */ jsx8("td", {}),
        /* @__PURE__ */ jsx8("td", { children: /* @__PURE__ */ jsx8("div", { onClick: () => onButtonClick("m-decrement"), children: /* @__PURE__ */ jsx8("i", { className: "cs-chevron-bottom" }) }) })
      ] })
    ] }) }) }) })
  ] });
};
var TimePicker_default = TimePicker;

// src/modules/DatePickerRange/index.js
import React10, { forwardRef as forwardRef2, useState as useState4, useEffect as useEffect2 } from "react";
import DatePicker2 from "react-datepicker";

// node_modules/date-fns/esm/locale/mn/_lib/formatDistance/index.js
var formatDistanceLocale2 = {
  lessThanXSeconds: {
    one: "\u0441\u0435\u043A\u0443\u043D\u0434 \u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439",
    other: "{{count}} \u0441\u0435\u043A\u0443\u043D\u0434 \u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439"
  },
  xSeconds: {
    one: "1 \u0441\u0435\u043A\u0443\u043D\u0434",
    other: "{{count}} \u0441\u0435\u043A\u0443\u043D\u0434"
  },
  halfAMinute: "\u0445\u0430\u0433\u0430\u0441 \u043C\u0438\u043D\u0443\u0442",
  lessThanXMinutes: {
    one: "\u043C\u0438\u043D\u0443\u0442 \u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439",
    other: "{{count}} \u043C\u0438\u043D\u0443\u0442 \u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439"
  },
  xMinutes: {
    one: "1 \u043C\u0438\u043D\u0443\u0442",
    other: "{{count}} \u043C\u0438\u043D\u0443\u0442"
  },
  aboutXHours: {
    one: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 1 \u0446\u0430\u0433",
    other: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 {{count}} \u0446\u0430\u0433"
  },
  xHours: {
    one: "1 \u0446\u0430\u0433",
    other: "{{count}} \u0446\u0430\u0433"
  },
  xDays: {
    one: "1 \u04E9\u0434\u04E9\u0440",
    other: "{{count}} \u04E9\u0434\u04E9\u0440"
  },
  aboutXWeeks: {
    one: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 1 \u0434\u043E\u043B\u043E\u043E \u0445\u043E\u043D\u043E\u0433",
    other: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 {{count}} \u0434\u043E\u043B\u043E\u043E \u0445\u043E\u043D\u043E\u0433"
  },
  xWeeks: {
    one: "1 \u0434\u043E\u043B\u043E\u043E \u0445\u043E\u043D\u043E\u0433",
    other: "{{count}} \u0434\u043E\u043B\u043E\u043E \u0445\u043E\u043D\u043E\u0433"
  },
  aboutXMonths: {
    one: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 1 \u0441\u0430\u0440",
    other: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 {{count}} \u0441\u0430\u0440"
  },
  xMonths: {
    one: "1 \u0441\u0430\u0440",
    other: "{{count}} \u0441\u0430\u0440"
  },
  aboutXYears: {
    one: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 1 \u0436\u0438\u043B",
    other: "\u043E\u0439\u0440\u043E\u043B\u0446\u043E\u043E\u0433\u043E\u043E\u0440 {{count}} \u0436\u0438\u043B"
  },
  xYears: {
    one: "1 \u0436\u0438\u043B",
    other: "{{count}} \u0436\u0438\u043B"
  },
  overXYears: {
    one: "1 \u0436\u0438\u043B \u0433\u0430\u0440\u0430\u043D",
    other: "{{count}} \u0436\u0438\u043B \u0433\u0430\u0440\u0430\u043D"
  },
  almostXYears: {
    one: "\u0431\u0430\u0440\u0430\u0433 1 \u0436\u0438\u043B",
    other: "\u0431\u0430\u0440\u0430\u0433 {{count}} \u0436\u0438\u043B"
  }
};
var formatDistance3 = function formatDistance4(token, count, options) {
  var result;
  var tokenValue = formatDistanceLocale2[token];
  if (typeof tokenValue === "string") {
    result = tokenValue;
  } else if (count === 1) {
    result = tokenValue.one;
  } else {
    result = tokenValue.other.replace("{{count}}", String(count));
  }
  if (options !== null && options !== void 0 && options.addSuffix) {
    var words = result.split(" ");
    var lastword = words.pop();
    result = words.join(" ");
    switch (lastword) {
      case "\u0441\u0435\u043A\u0443\u043D\u0434":
        result += " \u0441\u0435\u043A\u0443\u043D\u0434\u0438\u0439\u043D";
        break;
      case "\u043C\u0438\u043D\u0443\u0442":
        result += " \u043C\u0438\u043D\u0443\u0442\u044B\u043D";
        break;
      case "\u0446\u0430\u0433":
        result += " \u0446\u0430\u0433\u0438\u0439\u043D";
        break;
      case "\u04E9\u0434\u04E9\u0440":
        result += " \u04E9\u0434\u0440\u0438\u0439\u043D";
        break;
      case "\u0441\u0430\u0440":
        result += " \u0441\u0430\u0440\u044B\u043D";
        break;
      case "\u0436\u0438\u043B":
        result += " \u0436\u0438\u043B\u0438\u0439\u043D";
        break;
      case "\u0445\u043E\u043D\u043E\u0433":
        result += " \u0445\u043E\u043D\u043E\u0433\u0438\u0439\u043D";
        break;
      case "\u0433\u0430\u0440\u0430\u043D":
        result += " \u0433\u0430\u0440\u0430\u043D\u044B";
        break;
      case "\u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439":
        result += " \u0445\u04AF\u0440\u044D\u0445\u0433\u04AF\u0439 \u0445\u0443\u0433\u0430\u0446\u0430\u0430\u043D\u044B";
        break;
      default:
        result += lastword + "-\u043D";
    }
    if (options.comparison && options.comparison > 0) {
      return result + " \u0434\u0430\u0440\u0430\u0430";
    } else {
      return result + " \u04E9\u043C\u043D\u04E9";
    }
  }
  return result;
};
var formatDistance_default2 = formatDistance3;

// node_modules/date-fns/esm/locale/mn/_lib/formatLong/index.js
var dateFormats2 = {
  full: "y '\u043E\u043D\u044B' MMMM'\u044B\u043D' d, EEEE '\u0433\u0430\u0440\u0430\u0433'",
  long: "y '\u043E\u043D\u044B' MMMM'\u044B\u043D' d",
  medium: "y '\u043E\u043D\u044B' MMM'\u044B\u043D' d",
  short: "y.MM.dd"
};
var timeFormats2 = {
  full: "H:mm:ss zzzz",
  long: "H:mm:ss z",
  medium: "H:mm:ss",
  short: "H:mm"
};
var dateTimeFormats2 = {
  full: "{{date}} {{time}}",
  long: "{{date}} {{time}}",
  medium: "{{date}} {{time}}",
  short: "{{date}} {{time}}"
};
var formatLong2 = {
  date: buildFormatLongFn({
    formats: dateFormats2,
    defaultWidth: "full"
  }),
  time: buildFormatLongFn({
    formats: timeFormats2,
    defaultWidth: "full"
  }),
  dateTime: buildFormatLongFn({
    formats: dateTimeFormats2,
    defaultWidth: "full"
  })
};
var formatLong_default2 = formatLong2;

// node_modules/date-fns/esm/locale/mn/_lib/formatRelative/index.js
var formatRelativeLocale2 = {
  lastWeek: "'\u04E9\u043D\u0433\u04E9\u0440\u0441\u04E9\u043D' eeee '\u0433\u0430\u0440\u0430\u0433\u0438\u0439\u043D' p '\u0446\u0430\u0433\u0442'",
  yesterday: "'\u04E9\u0447\u0438\u0433\u0434\u04E9\u0440' p '\u0446\u0430\u0433\u0442'",
  today: "'\u04E9\u043D\u04E9\u04E9\u0434\u04E9\u0440' p '\u0446\u0430\u0433\u0442'",
  tomorrow: "'\u043C\u0430\u0440\u0433\u0430\u0430\u0448' p '\u0446\u0430\u0433\u0442'",
  nextWeek: "'\u0438\u0440\u044D\u0445' eeee '\u0433\u0430\u0440\u0430\u0433\u0438\u0439\u043D' p '\u0446\u0430\u0433\u0442'",
  other: "P"
};
var formatRelative3 = function formatRelative4(token, _date, _baseDate, _options) {
  return formatRelativeLocale2[token];
};
var formatRelative_default2 = formatRelative3;

// node_modules/date-fns/esm/locale/mn/_lib/localize/index.js
var eraValues2 = {
  narrow: ["\u041D\u0422\u04E8", "\u041D\u0422"],
  abbreviated: ["\u041D\u0422\u04E8", "\u041D\u0422"],
  wide: ["\u043D\u0438\u0439\u0442\u0438\u0439\u043D \u0442\u043E\u043E\u043B\u043B\u044B\u043D \u04E9\u043C\u043D\u04E9\u0445", "\u043D\u0438\u0439\u0442\u0438\u0439\u043D \u0442\u043E\u043E\u043B\u043B\u044B\u043D"]
};
var quarterValues2 = {
  narrow: ["I", "II", "III", "IV"],
  abbreviated: ["I \u0443\u043B\u0438\u0440\u0430\u043B", "II \u0443\u043B\u0438\u0440\u0430\u043B", "III \u0443\u043B\u0438\u0440\u0430\u043B", "IV \u0443\u043B\u0438\u0440\u0430\u043B"],
  wide: ["1-\u0440 \u0443\u043B\u0438\u0440\u0430\u043B", "2-\u0440 \u0443\u043B\u0438\u0440\u0430\u043B", "3-\u0440 \u0443\u043B\u0438\u0440\u0430\u043B", "4-\u0440 \u0443\u043B\u0438\u0440\u0430\u043B"]
};
var monthValues2 = {
  narrow: ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII"],
  abbreviated: ["1-\u0440 \u0441\u0430\u0440", "2-\u0440 \u0441\u0430\u0440", "3-\u0440 \u0441\u0430\u0440", "4-\u0440 \u0441\u0430\u0440", "5-\u0440 \u0441\u0430\u0440", "6-\u0440 \u0441\u0430\u0440", "7-\u0440 \u0441\u0430\u0440", "8-\u0440 \u0441\u0430\u0440", "9-\u0440 \u0441\u0430\u0440", "10-\u0440 \u0441\u0430\u0440", "11-\u0440 \u0441\u0430\u0440", "12-\u0440 \u0441\u0430\u0440"],
  wide: ["\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0417\u0443\u0440\u0433\u0430\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0414\u043E\u043B\u043E\u043E\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0432\u0430\u043D\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0410\u0440\u0432\u0430\u043D \u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440"]
};
var formattingMonthValues = {
  narrow: ["I", "II", "III", "IV", "V", "VI", "VII", "VIII", "IX", "X", "XI", "XII"],
  abbreviated: ["1-\u0440 \u0441\u0430\u0440", "2-\u0440 \u0441\u0430\u0440", "3-\u0440 \u0441\u0430\u0440", "4-\u0440 \u0441\u0430\u0440", "5-\u0440 \u0441\u0430\u0440", "6-\u0440 \u0441\u0430\u0440", "7-\u0440 \u0441\u0430\u0440", "8-\u0440 \u0441\u0430\u0440", "9-\u0440 \u0441\u0430\u0440", "10-\u0440 \u0441\u0430\u0440", "11-\u0440 \u0441\u0430\u0440", "12-\u0440 \u0441\u0430\u0440"],
  wide: ["\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0433\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0434\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0442\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0437\u0443\u0440\u0433\u0430\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0434\u043E\u043B\u043E\u043E\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u043D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0435\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0430\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440", "\u0430\u0440\u0432\u0430\u043D\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440", "\u0430\u0440\u0432\u0430\u043D \u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440"]
};
var dayValues2 = {
  narrow: ["\u041D", "\u0414", "\u041C", "\u041B", "\u041F", "\u0411", "\u0411"],
  short: ["\u041D\u044F", "\u0414\u0430", "\u041C\u044F", "\u041B\u0445", "\u041F\u04AF", "\u0411\u0430", "\u0411\u044F"],
  abbreviated: ["\u041D\u044F\u043C", "\u0414\u0430\u0432", "\u041C\u044F\u0433", "\u041B\u0445\u0430", "\u041F\u04AF\u0440", "\u0411\u0430\u0430", "\u0411\u044F\u043C"],
  wide: ["\u041D\u044F\u043C", "\u0414\u0430\u0432\u0430\u0430", "\u041C\u044F\u0433\u043C\u0430\u0440", "\u041B\u0445\u0430\u0433\u0432\u0430", "\u041F\u04AF\u0440\u044D\u0432", "\u0411\u0430\u0430\u0441\u0430\u043D", "\u0411\u044F\u043C\u0431\u0430"]
};
var formattingDayValues = {
  narrow: ["\u041D", "\u0414", "\u041C", "\u041B", "\u041F", "\u0411", "\u0411"],
  short: ["\u041D\u044F", "\u0414\u0430", "\u041C\u044F", "\u041B\u0445", "\u041F\u04AF", "\u0411\u0430", "\u0411\u044F"],
  abbreviated: ["\u041D\u044F\u043C", "\u0414\u0430\u0432", "\u041C\u044F\u0433", "\u041B\u0445\u0430", "\u041F\u04AF\u0440", "\u0411\u0430\u0430", "\u0411\u044F\u043C"],
  wide: ["\u043D\u044F\u043C", "\u0434\u0430\u0432\u0430\u0430", "\u043C\u044F\u0433\u043C\u0430\u0440", "\u043B\u0445\u0430\u0433\u0432\u0430", "\u043F\u04AF\u0440\u044D\u0432", "\u0431\u0430\u0430\u0441\u0430\u043D", "\u0431\u044F\u043C\u0431\u0430"]
};
var dayPeriodValues2 = {
  narrow: {
    am: "\u04AF.\u04E9.",
    pm: "\u04AF.\u0445.",
    midnight: "\u0448\u04E9\u043D\u04E9 \u0434\u0443\u043D\u0434",
    noon: "\u04AF\u0434 \u0434\u0443\u043D\u0434",
    morning: "\u04E9\u0433\u043B\u04E9\u04E9",
    afternoon: "\u04E9\u0434\u04E9\u0440",
    evening: "\u043E\u0440\u043E\u0439",
    night: "\u0448\u04E9\u043D\u04E9"
  },
  abbreviated: {
    am: "\u04AF.\u04E9.",
    pm: "\u04AF.\u0445.",
    midnight: "\u0448\u04E9\u043D\u04E9 \u0434\u0443\u043D\u0434",
    noon: "\u04AF\u0434 \u0434\u0443\u043D\u0434",
    morning: "\u04E9\u0433\u043B\u04E9\u04E9",
    afternoon: "\u04E9\u0434\u04E9\u0440",
    evening: "\u043E\u0440\u043E\u0439",
    night: "\u0448\u04E9\u043D\u04E9"
  },
  wide: {
    am: "\u04AF.\u04E9.",
    pm: "\u04AF.\u0445.",
    midnight: "\u0448\u04E9\u043D\u04E9 \u0434\u0443\u043D\u0434",
    noon: "\u04AF\u0434 \u0434\u0443\u043D\u0434",
    morning: "\u04E9\u0433\u043B\u04E9\u04E9",
    afternoon: "\u04E9\u0434\u04E9\u0440",
    evening: "\u043E\u0440\u043E\u0439",
    night: "\u0448\u04E9\u043D\u04E9"
  }
};
var ordinalNumber3 = function ordinalNumber4(dirtyNumber, _options) {
  return String(dirtyNumber);
};
var localize2 = {
  ordinalNumber: ordinalNumber3,
  era: buildLocalizeFn({
    values: eraValues2,
    defaultWidth: "wide"
  }),
  quarter: buildLocalizeFn({
    values: quarterValues2,
    defaultWidth: "wide",
    argumentCallback: function argumentCallback2(quarter) {
      return quarter - 1;
    }
  }),
  month: buildLocalizeFn({
    values: monthValues2,
    defaultWidth: "wide",
    formattingValues: formattingMonthValues,
    defaultFormattingWidth: "wide"
  }),
  day: buildLocalizeFn({
    values: dayValues2,
    defaultWidth: "wide",
    formattingValues: formattingDayValues,
    defaultFormattingWidth: "wide"
  }),
  dayPeriod: buildLocalizeFn({
    values: dayPeriodValues2,
    defaultWidth: "wide"
  })
};
var localize_default2 = localize2;

// node_modules/date-fns/esm/locale/mn/_lib/match/index.js
var matchOrdinalNumberPattern2 = /\d+/i;
var parseOrdinalNumberPattern2 = /\d+/i;
var matchEraPatterns2 = {
  narrow: /^(нтө|нт)/i,
  abbreviated: /^(нтө|нт)/i,
  wide: /^(нийтийн тооллын өмнө|нийтийн тооллын)/i
};
var parseEraPatterns2 = {
  any: [/^(нтө|нийтийн тооллын өмнө)/i, /^(нт|нийтийн тооллын)/i]
};
var matchQuarterPatterns2 = {
  narrow: /^(iv|iii|ii|i)/i,
  abbreviated: /^(iv|iii|ii|i) улирал/i,
  wide: /^[1-4]-р улирал/i
};
var parseQuarterPatterns2 = {
  any: [/^(i(\s|$)|1)/i, /^(ii(\s|$)|2)/i, /^(iii(\s|$)|3)/i, /^(iv(\s|$)|4)/i]
};
var matchMonthPatterns2 = {
  narrow: /^(xii|xi|x|ix|viii|vii|vi|v|iv|iii|ii|i)/i,
  abbreviated: /^(1-р сар|2-р сар|3-р сар|4-р сар|5-р сар|6-р сар|7-р сар|8-р сар|9-р сар|10-р сар|11-р сар|12-р сар)/i,
  wide: /^(нэгдүгээр сар|хоёрдугаар сар|гуравдугаар сар|дөрөвдүгээр сар|тавдугаар сар|зургаадугаар сар|долоодугаар сар|наймдугаар сар|есдүгээр сар|аравдугаар сар|арван нэгдүгээр сар|арван хоёрдугаар сар)/i
};
var parseMonthPatterns2 = {
  narrow: [/^i$/i, /^ii$/i, /^iii$/i, /^iv$/i, /^v$/i, /^vi$/i, /^vii$/i, /^viii$/i, /^ix$/i, /^x$/i, /^xi$/i, /^xii$/i],
  any: [/^(1|нэгдүгээр)/i, /^(2|хоёрдугаар)/i, /^(3|гуравдугаар)/i, /^(4|дөрөвдүгээр)/i, /^(5|тавдугаар)/i, /^(6|зургаадугаар)/i, /^(7|долоодугаар)/i, /^(8|наймдугаар)/i, /^(9|есдүгээр)/i, /^(10|аравдугаар)/i, /^(11|арван нэгдүгээр)/i, /^(12|арван хоёрдугаар)/i]
};
var matchDayPatterns2 = {
  narrow: /^[ндмлпбб]/i,
  short: /^(ня|да|мя|лх|пү|ба|бя)/i,
  abbreviated: /^(ням|дав|мяг|лха|пүр|баа|бям)/i,
  wide: /^(ням|даваа|мягмар|лхагва|пүрэв|баасан|бямба)/i
};
var parseDayPatterns2 = {
  narrow: [/^н/i, /^д/i, /^м/i, /^л/i, /^п/i, /^б/i, /^б/i],
  any: [/^ня/i, /^да/i, /^мя/i, /^лх/i, /^пү/i, /^ба/i, /^бя/i]
};
var matchDayPeriodPatterns2 = {
  narrow: /^(ү\.ө\.|ү\.х\.|шөнө дунд|үд дунд|өглөө|өдөр|орой|шөнө)/i,
  any: /^(ү\.ө\.|ү\.х\.|шөнө дунд|үд дунд|өглөө|өдөр|орой|шөнө)/i
};
var parseDayPeriodPatterns2 = {
  any: {
    am: /^ү\.ө\./i,
    pm: /^ү\.х\./i,
    midnight: /^шөнө дунд/i,
    noon: /^үд дунд/i,
    morning: /өглөө/i,
    afternoon: /өдөр/i,
    evening: /орой/i,
    night: /шөнө/i
  }
};
var match2 = {
  ordinalNumber: buildMatchPatternFn({
    matchPattern: matchOrdinalNumberPattern2,
    parsePattern: parseOrdinalNumberPattern2,
    valueCallback: function valueCallback3(value) {
      return parseInt(value, 10);
    }
  }),
  era: buildMatchFn({
    matchPatterns: matchEraPatterns2,
    defaultMatchWidth: "wide",
    parsePatterns: parseEraPatterns2,
    defaultParseWidth: "any"
  }),
  quarter: buildMatchFn({
    matchPatterns: matchQuarterPatterns2,
    defaultMatchWidth: "wide",
    parsePatterns: parseQuarterPatterns2,
    defaultParseWidth: "any",
    valueCallback: function valueCallback4(index2) {
      return index2 + 1;
    }
  }),
  month: buildMatchFn({
    matchPatterns: matchMonthPatterns2,
    defaultMatchWidth: "wide",
    parsePatterns: parseMonthPatterns2,
    defaultParseWidth: "any"
  }),
  day: buildMatchFn({
    matchPatterns: matchDayPatterns2,
    defaultMatchWidth: "wide",
    parsePatterns: parseDayPatterns2,
    defaultParseWidth: "any"
  }),
  dayPeriod: buildMatchFn({
    matchPatterns: matchDayPeriodPatterns2,
    defaultMatchWidth: "any",
    parsePatterns: parseDayPeriodPatterns2,
    defaultParseWidth: "any"
  })
};
var match_default2 = match2;

// node_modules/date-fns/esm/locale/mn/index.js
var locale2 = {
  code: "mn",
  formatDistance: formatDistance_default2,
  formatLong: formatLong_default2,
  formatRelative: formatRelative_default2,
  localize: localize_default2,
  match: match_default2,
  options: {
    weekStartsOn: 1,
    firstWeekContainsDate: 1
  }
};
var mn_default = locale2;

// src/modules/DatePickerRange/CustomHeader.js
import React9 from "react";
import { jsx as jsx9, jsxs as jsxs5 } from "react/jsx-runtime";
function CustomHeader2({
  monthDate,
  decreaseMonth,
  increaseMonth,
  prevMonthButtonDisabled,
  nextMonthButtonDisabled
}) {
  const date = monthDate.toLocaleString("en-US", {
    month: "long",
    year: "numeric"
  });
  const data = date.split(" ");
  return /* @__PURE__ */ jsxs5(
    "div",
    {
      style: {
        margin: 10,
        display: "flex",
        justifyContent: "space-between"
      },
      children: [
        /* @__PURE__ */ jsx9("div", { onClick: decreaseMonth, disabled: prevMonthButtonDisabled, children: /* @__PURE__ */ jsx9(ChevronLeftIcon, {}) }),
        /* @__PURE__ */ jsxs5("span", { children: [
          getTranslatedDate2(data[0]),
          " ",
          data[1]
        ] }),
        /* @__PURE__ */ jsx9("div", { onClick: increaseMonth, disabled: nextMonthButtonDisabled, children: /* @__PURE__ */ jsx9(ChevronRightIcon, {}) })
      ]
    }
  );
}
var getTranslatedDate2 = (month) => {
  switch (month) {
    case "January":
      return "\u041D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "February":
      return "\u0425\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "March":
      return "\u0413\u0443\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "April":
      return "\u0414\u04E9\u0440\u04E9\u0432\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "May":
      return "\u0422\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "June":
      return "\u0417\u0443\u0440\u0433\u0430\u0430\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "July":
      return "\u0414\u043E\u043B\u043E\u043E\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "August":
      return "\u041D\u0430\u0439\u043C\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "September":
      return "\u0415\u0441\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "October":
      return "\u0410\u0440\u0430\u0432\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    case "November":
      return "\u0410\u0440\u0432\u0430\u043D\u043D\u044D\u0433\u0434\u04AF\u0433\u044D\u044D\u0440 \u0441\u0430\u0440";
    case "December":
      return "\u0410\u0440\u0432\u0430\u043D\u0445\u043E\u0451\u0440\u0434\u0443\u0433\u0430\u0430\u0440 \u0441\u0430\u0440";
    default:
      return "";
  }
};

// src/modules/DatePickerRange/index.js
import { jsx as jsx10, jsxs as jsxs6 } from "react/jsx-runtime";
var CustomIcon = forwardRef2(({ onClick, className = "" }, ref) => {
  return /* @__PURE__ */ jsx10(
    "button",
    {
      type: "button",
      ref,
      className,
      onClick,
      style: { border: "1px solid #919bc0" },
      children: /* @__PURE__ */ jsx10("i", { className: "text-dark-50 flaticon2-calendar-9" })
    }
  );
});
var DatePickerRange = ({
  onChange,
  firstPlaceHolder,
  lastPlaceHolder,
  selectedStartDate,
  selectedEndDate,
  placeHolderFontSize,
  showTimeInput = false,
  showTimeSelect = false,
  className = "",
  isClear,
  maxDateStart,
  minDateEnd,
  maxDateEnd,
  isFilter,
  ...rest
}) => {
  const [startDate, setStartDate] = useState4(null);
  const [endDate, setEndDate] = useState4(null);
  const [mainStartDate, setMainStartDate] = useState4(null);
  const [mainEndDate, setMainEndDate] = useState4(null);
  const [selectionComplete, toggleSelectionComplete] = useState4(false);
  const [isMain, setIsMain] = useState4(false);
  const [isStart, setIsStart] = useState4(false);
  const [isEnd, setIsEnd] = useState4(false);
  const [array] = useState4([
    {
      startDate: null,
      endDate: null
    }
  ]);
  useEffect2(() => {
    setStartDate(void 0);
    setEndDate(void 0);
    setMainStartDate(void 0);
    setMainEndDate(void 0);
    toggleSelectionComplete(false);
    array[0].startDate = null;
    array[0].endDate = null;
    onChange(array);
  }, [isClear]);
  const handleDateChange = (date) => {
    if (!selectionComplete && !mainStartDate) {
      setMainStartDate(date);
      toggleSelectionComplete(false);
      return;
    }
    if (!selectionComplete && mainStartDate && !mainEndDate) {
      setMainEndDate(date);
      toggleSelectionComplete(true);
      return;
    }
    if (selectionComplete && mainStartDate && mainEndDate) {
      setMainStartDate(date);
      setMainEndDate(void 0);
      toggleSelectionComplete(false);
    }
  };
  const handleSelect = (date) => {
    handleDateChange(date);
    setIsMain(true);
  };
  const handleStartDateChange = (date) => {
    if (date) {
      setIsStart(true);
      setStartDate(date);
      setMainStartDate(date);
      array[0].startDate = showTimeInput || showTimeSelect ? format(date, "yyyy-MM-dd HH:mm") : format(date, "yyyy-MM-dd");
      onChange(array);
    }
  };
  const handleEndDateChange = (date) => {
    if (date) {
      setIsEnd(true);
      setEndDate(date);
      setMainEndDate(date);
      array[0].endDate = showTimeInput || showTimeSelect ? format(date, "yyyy-MM-dd HH:mm") : format(date, "yyyy-MM-dd");
      onChange(array);
    }
  };
  const handleMainCalendarClose = () => {
    setIsMain(false);
    if (mainStartDate) {
      setStartDate(mainStartDate);
      array[0].startDate = showTimeInput || showTimeSelect ? format(mainStartDate, "yyyy-MM-dd HH:mm") : format(mainStartDate, "yyyy-MM-dd");
    }
    if (mainEndDate) {
      setEndDate(mainEndDate);
      array[0].endDate = showTimeInput || showTimeSelect ? format(mainEndDate, "yyyy-MM-dd HH:mm") : format(mainEndDate, "yyyy-MM-dd");
    }
    onChange(array);
  };
  const handleFirstCalendarClose = () => {
    setIsStart(false);
  };
  const handleLastCalendarClose = () => {
    setIsEnd(false);
  };
  const handleCalendarOpen = () => {
    setStartDate(void 0);
    setEndDate(void 0);
    setMainStartDate(void 0);
    setMainEndDate(void 0);
    toggleSelectionComplete(false);
    array[0].startDate = null;
    array[0].endDate = null;
    onChange(array);
  };
  return /* @__PURE__ */ jsxs6("div", { className: "date-picker-range-container", children: [
    /* @__PURE__ */ jsx10(
      DatePicker2,
      {
        style: { fontSize: placeHolderFontSize ? void 0 : 14 },
        locale: mn_default,
        selected: startDate ? new Date(startDate) : selectedStartDate ? new Date(selectedStartDate) : null,
        previousMonthButtonLabel: "\u04E8\u043C\u043D\u04E9\u0445 \u0441\u0430\u0440",
        nextMonthButtonLabel: "\u0414\u0430\u0440\u0430\u0430\u0433\u0438\u0439\u043D \u0441\u0430\u0440",
        onChange: handleStartDateChange,
        startDate,
        timeFormat: "HH:mm",
        timeIntervals: "1",
        dateFormat: showTimeInput || showTimeSelect ? "yyyy-MM-dd HH:mm" : "yyyy-MM-dd",
        disabled: isMain ? isMain : isEnd ? isEnd : false,
        className: `first-datepicker ${rest?.disabled ? "datepicker-disable" : ""} ` + className,
        onCalendarClose: handleFirstCalendarClose,
        placeholderText: firstPlaceHolder ? firstPlaceHolder : "",
        showTimeInput: showTimeInput || false,
        showTimeSelect: showTimeSelect || false,
        renderCustomHeader: CustomHeader2,
        ...rest,
        maxDate: isFilter && endDate ? new Date(endDate) : isFilter && selectedEndDate ? new Date(selectedEndDate) : null,
        minDate: isFilter && maxDateStart ? new Date(maxDateStart) : null
      }
    ),
    /* @__PURE__ */ jsx10(
      DatePicker2,
      {
        locale: mn_default,
        className: "react-datepicker-with-icon p-0",
        onChange: handleDateChange,
        onSelect: handleSelect,
        startDate: mainStartDate,
        endDate: mainEndDate,
        selectsRange: true,
        selectsStart: true,
        selectsEnd: true,
        customInput: /* @__PURE__ */ jsx10(CustomIcon, {}),
        shouldCloseOnSelect: true,
        onCalendarOpen: handleCalendarOpen,
        onCalendarClose: handleMainCalendarClose,
        renderCustomHeader: CustomHeader2,
        ...rest
      }
    ),
    /* @__PURE__ */ jsx10(
      DatePicker2,
      {
        locale: mn_default,
        selected: endDate ? new Date(endDate) : selectedEndDate ? new Date(selectedEndDate) : null,
        previousMonthButtonLabel: "\u04E8\u043C\u043D\u04E9\u0445 \u0441\u0430\u0440",
        nextMonthButtonLabel: "\u0414\u0430\u0440\u0430\u0430\u0433\u0438\u0439\u043D \u0441\u0430\u0440",
        onChange: handleEndDateChange,
        endDate,
        timeFormat: "HH:mm",
        timeIntervals: "1",
        dateFormat: showTimeInput || showTimeSelect ? "yyyy-MM-dd HH:mm" : "yyyy-MM-dd",
        disabled: isMain ? isMain : isStart ? isStart : false,
        className: `last-datepicker ${rest?.disabled ? "datepicker-disable" : ""} ` + className,
        onCalendarClose: handleLastCalendarClose,
        placeholderText: lastPlaceHolder ? lastPlaceHolder : "",
        renderCustomHeader: CustomHeader2,
        showTimeInput: showTimeInput || false,
        showTimeSelect: showTimeSelect || false,
        ...rest,
        minDate: isFilter && startDate ? new Date(startDate) : isFilter && selectedStartDate ? new Date(selectedStartDate) : null,
        maxDate: isFilter && maxDateEnd ? maxDateEnd : null
      }
    )
  ] });
};
var DatePickerRange_default = DatePickerRange;

// src/modules/TimePickerRange/index.js
var import_mn3 = __toESM(require_mn(), 1);
import React11, { forwardRef as forwardRef3, useState as useState5, useEffect as useEffect3 } from "react";
import DatePicker3 from "react-datepicker";
import { jsx as jsx11, jsxs as jsxs7 } from "react/jsx-runtime";
var CustomIcon2 = forwardRef3(({ onClick, className = "" }, ref) => {
  return /* @__PURE__ */ jsx11(
    "button",
    {
      ref,
      className,
      onClick,
      style: { border: "1px solid #919bc0" },
      children: /* @__PURE__ */ jsx11("i", { className: "text-dark-50 flaticon2-calendar-9" })
    }
  );
});
var TimePickerRange = ({
  onChange,
  selectedStartTime,
  selectedEndTime,
  isClear,
  ...rest
}) => {
  const [startTime, setStartTime] = useState5(void 0);
  const [endTime, setEndTime] = useState5(void 0);
  const [array] = useState5([{
    startTime: null,
    endTime: null
  }]);
  useEffect3(() => {
    setStartTime(void 0);
    setEndTime(void 0);
    array[0].startTime = null;
    array[0].endTime = null;
    onChange(array);
  }, [isClear]);
  const handleStartDateChange = (date, e2) => {
    if (date) {
      setStartTime(date);
      array[0].startTime = date;
      onChange(array);
    }
  };
  const handleEndDateChange = (date, e2) => {
    if (date) {
      setEndTime(date);
      array[0].endTime = date;
      onChange(array);
    }
  };
  return /* @__PURE__ */ jsxs7("div", { className: "date-picker-range-container", children: [
    /* @__PURE__ */ jsx11(
      TimePicker_default,
      {
        allowInput: true,
        inputClassName: "first-timepicker",
        minStep: 5,
        value: startTime ? startTime : selectedStartTime ? selectedStartTime : null,
        onChange: handleStartDateChange
      }
    ),
    /* @__PURE__ */ jsx11(
      DatePicker3,
      {
        locale: import_mn3.default,
        className: "react-datepicker-with-icon p-0",
        customInput: /* @__PURE__ */ jsx11(CustomIcon2, { className: "" }),
        shouldCloseOnSelect: false,
        disabled: true,
        ...rest
      }
    ),
    /* @__PURE__ */ jsx11(
      TimePicker_default,
      {
        allowInput: true,
        inputClassName: "last-timepicker",
        minStep: 5,
        value: endTime ? endTime : selectedEndTime ? selectedEndTime : null,
        onChange: handleEndDateChange
      }
    )
  ] });
};
var TimePickerRange_default = TimePickerRange;

// src/modules/Form/index.js
var import_ckeditor5_react = __toESM(require_ckeditor(), 1);
var import_ckeditor5_build_classic_mathtype = __toESM(require_ckeditor2(), 1);
import { useTranslation as useTranslation3 } from "react-i18next";
import { Button } from "react-bootstrap";
import { SketchPicker } from "react-color";

// src/components/RadioButton.js
import React12 from "react";
import { jsx as jsx12 } from "react/jsx-runtime";
var RadioButton = ({ checked = false, onCheck, className, styleObj }) => {
  return /* @__PURE__ */ jsx12("div", { className: `radio cursor-pointer ${className || ""}`, onClick: onCheck, style: styleObj || {}, children: checked && /* @__PURE__ */ jsx12("div", { className: "radio-checked" }) });
};
var RadioButton_default = RadioButton;

// src/modules/Form/index.js
import ContentEditable from "react-contenteditable";
import { ResizeProvider, ResizeConsumer } from "react-resize-context";
import DayPickerInput from "react-day-picker/DayPickerInput";
import { Fragment as Fragment2, jsx as jsx13, jsxs as jsxs8 } from "react/jsx-runtime";
var Forms = ({ fields: paramFields = [], onSubmit, formStyle = {}, formClass = "" }, ref) => {
  const { t: t2 } = useTranslation3();
  const fileUploaderRef = useRef([]);
  const textRef = useRef([]);
  const numberInputRef = useRef([]);
  useImperativeHandle(ref, () => ({
    validate() {
      return validateFields();
    },
    hideMessages,
    updateFields,
    updateChildField,
    getValues,
    getCurrentState() {
      return fields;
    },
    reset
  }));
  const [fields, setFields] = useState6([]);
  const [displayColorPicker, setDisplayColorPicker] = useState6(false);
  const [selectedTabType, setSelectedTabType] = useState6(null);
  const [size, setSize] = useState6({});
  const isWeekday = (date) => {
    const day = date.getDay();
    return day !== 0 && day !== 6;
  };
  useEffect4(() => {
    setFields(paramFields);
  }, []);
  const onInputChange = (e2, index2, upperCase) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    if (field.key.toLowerCase() === "code") {
      field.value = upperCase ? e2.target.value.toUpperCase().replace(/\s/g, "") : e2.target.value.replace(/\s/g, "");
    } else {
      field.value = upperCase ? e2.target.value.toUpperCase() : e2.target.value;
    }
    clone[index2] = field;
    setFields(clone);
  };
  const onEditorChange = (e2, data, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = data;
    clone[index2] = field;
    setFields(clone);
  };
  const onFileInputChange = (e2, index2) => {
    const clone = [...fields];
    if (e2.target.files && e2.target.files) {
      let files = e2.target.files;
      const verified = verifyFile(files, index2);
      if (verified) {
        let fileNames = "";
        for (let i2 = 0; i2 < files.length; i2++) {
          if (files.length == 1) {
            fileNames = files[i2].name;
          } else if (files.length == i2 + 1) {
            fileNames = fileNames + files[i2].name;
          } else if (files.length > 1) {
            fileNames = fileNames + files[i2].name + ", ";
          }
        }
        clone[index2].fileNames = fileNames;
        clone[index2].showErrorMessage = false;
        clone[index2].errorMessage = "";
        clone[index2].files = files;
        clone[index2].onChange?.(files, e2, "add");
        setFields(clone);
      }
    }
  };
  const onFileUploadButtonHandler = (index2) => {
    if (fileUploaderRef && fileUploaderRef.current[index2]) {
      fileUploaderRef.current[index2].click();
    }
  };
  const onFileUploadClearButtonHandler = (index2) => {
    const clone = [...fields];
    clone[index2].files = null;
    clone[index2].fileNames = "";
    clone[index2].onChange?.(null, null, "clear");
    setFields(clone);
  };
  const verifyFile = (files, index2) => {
    const clone = [...fields];
    const acceptedType = [
      "image/x-png",
      "image/png",
      "image/jpg",
      "image/jpeg",
      "image/gif",
      "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
      "application/vnd.openxmlformats-officedocument.presentationml.presentation",
      "application/vnd.openxmlformats-officedocument.presentationml.slideshow",
      "video/x-ms-wmv",
      "application/pdf",
      "audio/mpeg",
      "video/mpeg",
      "video/mp4",
      "video/quicktime",
      "video/x-ms-wmv"
    ];
    const acceptedSize = 20 * 52428800;
    if (files && files.length > 0) {
      let isFalse = true;
      for (let i2 = 0; i2 < files.length; i2++) {
        let imageSize = files[i2].size;
        let imageType = files[i2].type;
        if (imageSize > acceptedSize) {
          clone[index2].showErrorMessage = true;
          clone[index2].errorMessage = t2("newsfeed.fileSizeWarning");
          setFields(clone);
          isFalse = false;
        }
        if (!acceptedType.includes(imageType)) {
          clone[index2].showErrorMessage = true;
          clone[index2].errorMessage = t2("newsfeed.imageTypeError");
          setFields(clone);
          isFalse = false;
          if (clone[index2].accept == "image/*") {
            clone[index2].showErrorMessage = true;
            clone[index2].errorMessage = t2("newsfeed.imageTypeImageError");
            setFields(clone);
            isFalse = false;
          }
          if (clone[index2].accept == ".mp4,video/*") {
            clone[index2].showErrorMessage = true;
            clone[index2].errorMessage = t2("newsfeed.imageTypeVideoError");
            setFields(clone);
            isFalse = false;
          }
        }
      }
      return isFalse;
    }
  };
  const validateFields = () => {
    let allValid = true;
    const clone = [...fields];
    for (let i2 = 0; i2 < fields.length; i2++) {
      const field = { ...clone[i2] };
      if (field.required) {
        if (field.validation && typeof field.validation === "function") {
          const { valid, message } = field.validation(
            field.value,
            clone,
            getValues()
          );
          if (valid) {
            if (message) {
              field.showSuccessMessage = true;
              field.successMessage = message;
            }
          } else {
            allValid = false;
            field.showErrorMessage = true;
            if (message) {
              field.customErrorMessage = message;
            }
          }
        } else if (!field.value || field.value.constructor === Array && field.value.length === 0) {
          allValid = false;
          field.showErrorMessage = true;
        } else if (field.validValue && field.validValue.constructor === Array && field.validValue.length > 0) {
          let keys = Object.keys(field.validValue[0]);
          if (keys && keys.length > 0) {
            let maxVal = 0;
            let minVal = 0;
            for (let i3 = 0; i3 < keys.length; i3++) {
              if (keys[i3] == "min") {
                minVal = field.validValue[0][keys[i3]];
              } else if (keys[i3] == "max") {
                maxVal = field.validValue[0][keys[i3]];
              }
            }
            if (minVal >= parseInt(field.value) || maxVal < parseInt(field.value)) {
              allValid = false;
              field.showErrorMessage = true;
            } else {
              field.showErrorMessage = false;
            }
          }
        } else if (parseInt(field.validValue) == parseInt(field.value)) {
          allValid = false;
          field.showErrorMessage = true;
        } else if (field.value) {
          field.showErrorMessage = false;
        }
      }
      clone[i2] = field;
    }
    setFields(clone);
    return [allValid, clone, getValues()];
  };
  const handleSubmit = (e2) => {
    e2.preventDefault();
    onSubmit?.();
  };
  const handleSelectDropdownChange = (value, evt, index2, fieldOption) => {
    let option = [];
    let options = fieldOption.options;
    if (options && options.length > 0) {
      for (let i2 = 0; i2 < options.length; i2++) {
        if (value == options[i2].value) {
          option = options[i2];
        }
      }
    }
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(value, option);
  };
  const handleDropdownChange = (value, evt, index2, fieldOption) => {
    let option = [];
    let options = fieldOption.options;
    if (options && options.length > 0) {
      for (let i2 = 0; i2 < options.length; i2++) {
        if (value == options[i2].value) {
          option = options[i2];
        }
      }
    }
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(value, option);
  };
  const handleExtendedButtonChange = (index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field?.onExtendedButtonChange?.("click");
  };
  const handleCheckboxClick = (checked, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = !checked;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(!checked);
  };
  const reset = () => {
    const clone = [...fields];
    if (clone && clone.length > 0) {
      for (let i2 = 0; i2 < clone.length; i2++) {
        if (clone[i2].type == "dropdown" && clone[i2].value) {
          clone[i2].value = null;
        } else if (clone[i2].type == "checkbox" && clone[i2].value) {
          clone[i2].value = false;
        } else if (clone[i2].type == "daterange") {
          clone[i2].isClear = Math.random();
          clone[i2].selectedStartDate = null;
          clone[i2].selectedEndDate = null;
        } else if (clone[i2].type == "timerange") {
          clone[i2].isClear = Math.random();
          clone[i2].selectedStartTime = null;
          clone[i2].selectedEndTime = null;
        }
        clone[i2].value = "";
      }
    }
    setFields(clone);
  };
  const getValues = () => {
    const object = {};
    for (const field of fields) {
      if (field.key && !object.hasOwnProperty(field.key)) {
        object[field.key] = field.value;
      }
    }
    return object;
  };
  const hideMessages = () => {
  };
  const updateFields = (newFields) => {
    setFields(newFields);
  };
  const updateChildField = (options, parentFieldName, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    if (options && options.length > 0) {
      for (let i2 = 0; i2 < options.length; i2++) {
        if (parentFieldName === options[i2].name) {
          clone[index2] = options[i2];
          setFields(clone);
        }
      }
    }
  };
  const handleDateChange = (value, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(value);
  };
  const handleDateTimeChange = (value, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(value);
  };
  const handleTimeChange = (value, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(value);
  };
  const handerRangePicker = (dates, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = dates;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(dates);
  };
  const handleColorChange = (color, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = color.hex;
    clone[index2] = field;
    setFields(clone);
    field?.onChange?.(values.hex);
  };
  const handleDisplayColorPicker = () => {
    setDisplayColorPicker(!displayColorPicker);
  };
  const handleCloseColorPicker = () => {
    setDisplayColorPicker(false);
  };
  const onSelectTab = (type, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = "";
    field.selectedType = type;
    clone[index2] = field;
    setFields(clone);
    setSelectedTabType(type);
  };
  const handlerCopyValue = (value, index2) => {
    const clone = [...fields];
    const field = { ...clone[index2] };
    field.value = value;
    clone[index2] = field;
    setFields(clone);
  };
  const onKeyDown = (e2, index2) => {
    let lastValue = textRef?.current[index2]?.lastHtml;
    let valueArray = lastValue.split(/<div ?\/?>/);
    if (e2.shiftKey && e2.which == 65) {
      let updatedValue = "";
      if (valueArray && valueArray.length > 1) {
        let lastArrayValue = valueArray[valueArray.length - 1];
        var textValueArray = lastArrayValue.split("</div>");
        for (let i2 = 0; i2 < valueArray.length - 1; i2++) {
          updatedValue += "<div>" + valueArray[i2];
        }
        updatedValue += "<div>" + textValueArray[0] + "\u202F" + textValueArray[1];
      } else {
        updatedValue = lastValue + "\u202F";
      }
      const clone = [...fields];
      const field = { ...clone[index2] };
      field.value = updatedValue;
      clone[index2] = field;
      setFields(clone);
      e2.preventDefault();
      e2.stopPropagation();
    }
    if (e2.shiftKey && e2.which == 71) {
      let updatedValue = "";
      if (valueArray && valueArray.length > 1) {
        let lastArrayValue = valueArray[valueArray.length - 1];
        var textValueArray = lastArrayValue.split("</div>");
        for (let i2 = 0; i2 < valueArray.length - 1; i2++) {
          updatedValue += "<div>" + valueArray[i2];
        }
        updatedValue += "<div>" + textValueArray[0] + "\u180E" + textValueArray[1];
      } else {
        updatedValue = lastValue + "\u180E";
      }
      const clone = [...fields];
      const field = { ...clone[index2] };
      field.value = updatedValue;
      clone[index2] = field;
      setFields(clone);
      e2.preventDefault();
      e2.stopPropagation();
    }
    if (e2.shiftKey && (e2.which == 48 || e2.which == 49 || e2.which == 50 || e2.which == 51 || e2.which == 52 || e2.which == 53 || e2.which == 54 || e2.which == 55 || e2.which == 56 || e2.which == 57)) {
      let updatedValue = "";
      if (valueArray && valueArray.length > 1) {
        let lastArrayValue = valueArray[valueArray.length - 1];
        var textValueArray = lastArrayValue.split("</div>");
        for (let i2 = 0; i2 < valueArray.length - 1; i2++) {
          updatedValue += "<div>" + valueArray[i2];
        }
        if (e2.which == 48) {
          updatedValue += "<div>" + textValueArray[0] + "\u1810" + textValueArray[1];
        } else if (e2.which == 49) {
          updatedValue += "<div>" + textValueArray[0] + "\u1811" + textValueArray[1];
        } else if (e2.which == 50) {
          updatedValue += "<div>" + textValueArray[0] + "\u1812" + textValueArray[1];
        } else if (e2.which == 51) {
          updatedValue += "<div>" + textValueArray[0] + "\u1813" + textValueArray[1];
        } else if (e2.which == 52) {
          updatedValue += "<div>" + textValueArray[0] + "\u1814" + textValueArray[1];
        } else if (e2.which == 53) {
          updatedValue += "<div>" + textValueArray[0] + "\u1815" + textValueArray[1];
        } else if (e2.which == 54) {
          updatedValue += "<div>" + textValueArray[0] + "\u1816" + textValueArray[1];
        } else if (e2.which == 55) {
          updatedValue += "<div>" + textValueArray[0] + "\u1817" + textValueArray[1];
        } else if (e2.which == 56) {
          updatedValue += "<div>" + textValueArray[0] + "\u1818" + textValueArray[1];
        } else if (e2.which == 57) {
          updatedValue += "<div>" + textValueArray[0] + "\u1819" + textValueArray[1];
        }
      } else {
        if (e2.which == 48) {
          updatedValue = lastValue + "\u1810";
        } else if (e2.which == 49) {
          updatedValue = lastValue + "\u1811";
        } else if (e2.which == 50) {
          updatedValue = lastValue + "\u1812";
        } else if (e2.which == 51) {
          updatedValue = lastValue + "\u1813";
        } else if (e2.which == 52) {
          updatedValue = lastValue + "\u1814";
        } else if (e2.which == 53) {
          updatedValue = lastValue + "\u1815";
        } else if (e2.which == 54) {
          updatedValue = lastValue + "\u1816";
        } else if (e2.which == 55) {
          updatedValue = lastValue + "\u1817";
        } else if (e2.which == 56) {
          updatedValue = lastValue + "\u1818";
        } else if (e2.which == 57) {
          updatedValue = lastValue + "\u1819";
        }
      }
      const clone = [...fields];
      const field = { ...clone[index2] };
      field.value = updatedValue;
      clone[index2] = field;
      setFields(clone);
      e2.preventDefault();
      e2.stopPropagation();
    }
  };
  const renderTab = (field, index2, type) => {
    if (field.selectedType == "editor" || !field.selectedType && field?.defaultType == "editor") {
      if (!field.selectedType) {
        field.selectedType = field?.defaultType;
      }
      return /* @__PURE__ */ jsx13(
        import_ckeditor5_react.CKEditor,
        {
          editor: import_ckeditor5_build_classic_mathtype.default,
          data: field.value,
          config: {
            placeholder: field.placeholder || "",
            width: "100%",
            toolbar: {
              items: [
                "heading",
                "MathType",
                "ChemType",
                "|",
                "bold",
                "italic",
                "link",
                "bulletedList",
                "numberedList",
                "insertTable",
                "blockQuote",
                "undo",
                "redo"
              ]
            }
          },
          style: field.style,
          onChange: (e2, editor) => {
            const data = editor.getData();
            onEditorChange(e2, data, index2);
          }
        }
      );
    }
    if (field.selectedType == "traditionalMb" || !field.selectedType && field?.defaultType == "traditionalMb") {
      if (!field.selectedType) {
        field.selectedType = field?.defaultType;
      }
      return /* @__PURE__ */ jsxs8("div", { children: [
        /* @__PURE__ */ jsx13(ResizeProvider, { children: /* @__PURE__ */ jsx13(
          ResizeConsumer,
          {
            className: "resize-container mb-1",
            style: { width: 538 },
            children: /* @__PURE__ */ jsx13(
              ContentEditable,
              {
                ref: (el) => textRef.current[index2] = el,
                className: "tradition-text",
                html: field.value,
                style: field.style,
                disabled: false,
                onChange: (e2) => {
                  field?.onChange?.(e2, field);
                  onInputChange(e2, index2);
                },
                onKeyDown: (e2) => {
                  onKeyDown(e2, index2);
                },
                tagName: "article",
                onPaste: (e2) => {
                  e2.preventDefault();
                  const text = e2.clipboardData.getData("text/plain");
                  const value = field.value ? `${field.value}${text}` : text;
                  handlerCopyValue(value, index2);
                }
              }
            )
          }
        ) }),
        /* @__PURE__ */ jsxs8("div", { style: { fontSize: 12 }, children: [
          /* @__PURE__ */ jsx13("div", { children: '\u04AE\u0433\u0438\u0439\u043D \u043E\u0440\u0445\u0438\u0446 "\u0430" \u04AF\u0441\u044D\u0433 \u043E\u0440\u0443\u0443\u043B\u0430\u0445\u0434\u0430\u0430 "shift + a" \u0434\u0430\u0440\u0430\u0430\u0434 \u0434\u0430\u0445\u0438\u043D "a" \u04AF\u0441\u044D\u0433 \u0434\u0430\u0440\u043D\u0430' }),
          /* @__PURE__ */ jsx13("div", { children: '\u04AE\u0433\u0438\u0439\u043D \u0430\u0434\u0430\u0433\u0442 \u043E\u0440\u0434\u043E\u0433 "\u0433", "\u043D" \u04AF\u0441\u044D\u0433 \u043E\u0440\u0443\u0443\u043B\u0430\u0445\u0434\u0430\u0430 "shift + g" \u0434\u0430\u0440\u0430\u0430\u0434 \u043E\u0440\u0445\u0438\u0446 "\u0430" \u04AF\u0441\u044D\u0433 \u043E\u0440\u0443\u0443\u043B\u0430\u0445 \u0431\u043E\u043B "\u0430" \u04AF\u0441\u044D\u0433 \u0434\u0430\u0445\u0438\u043D \u0434\u0430\u0440\u043D\u0430' }),
          /* @__PURE__ */ jsx13("div", { children: '\u0422\u043E\u043E \u043E\u0440\u0443\u0443\u043B\u0430\u0445 \u0431\u043E\u043B "shift" + "\u0442\u043E\u043E\u0433\u043E\u043E" \u043E\u0440\u0443\u0443\u043B\u043D\u0430 \u0443\u0443' })
        ] })
      ] });
    }
    return null;
  };
  const checkContainer = (containerClassName = "", invisible = false) => {
    if (invisible) {
      return "d-none";
    } else if (containerClassName) {
      return containerClassName;
    }
    return "";
  };
  return /* @__PURE__ */ jsx13("div", { children: /* @__PURE__ */ jsxs8(
    "form",
    {
      style: formStyle,
      className: formClass,
      ref,
      onSubmit: handleSubmit,
      children: [
        fields.map((field, index2) => {
          let className = field.type === "dropdown" ? "" : "form-control";
          if (field.inputClassName) {
            className += " " + field.inputClassName;
          }
          let message = "";
          let feedbackClassName = "";
          let labelClassName = "col-form-label ";
          let whiteSpaceClassName = "";
          let formContainerClassName = "";
          let fieldContainerClassName = "col-form-field-container ";
          if (field.labelClassName) {
            labelClassName = labelClassName + field.labelClassName;
          }
          if (field.whiteSpaceClassName) {
            whiteSpaceClassName = field.whiteSpaceClassName;
          }
          if (field.formContainerClassName) {
            formContainerClassName = field.formContainerClassName;
          }
          if (field.fieldContainerClassName) {
            fieldContainerClassName = fieldContainerClassName + field.fieldContainerClassName;
          }
          if (field.showSuccessMessage && field.successMessage) {
            className = `${className} is-valid`;
            message = field.successMessage;
            feedbackClassName = "valid-feedback";
          } else if (field.showErrorMessage) {
            feedbackClassName = "invalid-feedback";
            if (field.customErrorMessage) {
              message = field.customErrorMessage;
            } else if (field.errorMessage) {
              message = field.errorMessage;
            }
            className = `${className} is-invalid`;
          }
          if (field.type === "jsx") {
            if (field.value) {
              if (React13.isValidElement(field.value)) {
                if (!field.value.key) {
                }
                if (field.hidden) {
                  return null;
                } else {
                  return field.value;
                }
              } else {
                return null;
              }
            } else {
              return null;
            }
          }
          if (field.type === "text") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: field.align == "left" ? {
                        display: "flex",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        width: field?.labelWidth || "auto",
                        justifyContent: "flex-end",
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        ...field.labelStyle
                      } : {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      },
                      className: fieldContainerClassName,
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            type: "text",
                            placeholder: field?.placeholder || t2("field.enterValue"),
                            onChange: (e2) => {
                              field?.onChange?.(e2, field);
                              onInputChange(e2, index2);
                            },
                            value: field.value,
                            style: field.inputStyle
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : whiteSpaceClassName ? /* @__PURE__ */ jsx13("div", { className: whiteSpaceClassName }) : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "textOnly") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8("div", { style: { display: "flex", marginTop: "0.8rem" }, children: [
              /* @__PURE__ */ jsx13(
                "label",
                {
                  style: {
                    display: "flex",
                    flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                    justifyContent: "flex-end",
                    alignItems: field.alignItems ? field.alignItems : "center",
                    marginRight: 24,
                    marginBottom: 0,
                    fontFamily: "PinnacleDemiBold",
                    fontSize: 12,
                    fontWeight: 800,
                    color: "#575962",
                    width: field?.labelWidth || "auto",
                    ...field.labelStyle
                  },
                  children: field.label
                }
              ),
              /* @__PURE__ */ jsxs8(
                "div",
                {
                  style: {
                    display: "flex",
                    flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                    flexDirection: "column",
                    width: field?.inputWidth || "auto",
                    ...field.valueContainerStyle
                  },
                  children: [
                    /* @__PURE__ */ jsx13(
                      "div",
                      {
                        style: {
                          ...field.valueStyle
                        },
                        children: field.value
                      }
                    ),
                    /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                  ]
                }
              ),
              field.inputWidth ? null : /* @__PURE__ */ jsx13(
                "div",
                {
                  style: {
                    display: "flex",
                    flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                    flexDirection: "column",
                    marginLeft: 10,
                    width: field?.inputWidth || "auto"
                  }
                }
              )
            ] }, index2);
          }
          if (field.type === "password") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: field.align == "left" ? {
                        display: "flex",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        justifyContent: "flex-end",
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      } : {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            placeholder: field.placeholder || t2("field.enterPassword"),
                            type: "password",
                            onChange: (e2) => {
                              field?.onChange?.(e2, field);
                              onInputChange(e2, index2);
                            },
                            value: field.value,
                            style: field.inputStyle
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "inputGroup") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: "form-input-group input-group",
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      className: "input-group",
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13("span", { className: "input-group-text", children: field.groupLeftText }),
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            type: "text",
                            onChange: (e2) => {
                              field?.onChange?.(e2, field);
                              onInputChange(e2, index2);
                            },
                            value: field.value
                          }
                        ),
                        /* @__PURE__ */ jsx13("span", { className: "input-group-text", children: field.groupRightText }),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "number") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            ref: numberInputRef,
                            disabled: !!field.disabled,
                            className,
                            placeholder: field.placeholder || t2("field.enterValue"),
                            type: "number",
                            onChange: (e2) => {
                              const re = /^[0-9\b]+$/;
                              if (e2.target.value === "" || re.test(e2.target.value)) {
                                field?.onChange?.(e2, field);
                                onInputChange(e2, index2);
                              }
                            },
                            onWheel: (e2) => e2?.target?.blur(),
                            value: field.value
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "numberOnly") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            type: "number",
                            onChange: (e2) => {
                              const re = /^[0-9\b]+$/;
                              if (e2.target.value === "" || re.test(e2.target.value)) {
                                field?.onChange?.(e2, field);
                                onInputChange(e2, index2);
                              }
                            },
                            onWheel: (e2) => e2?.target?.blur(),
                            value: field.value,
                            inputMode: "numeric"
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "nonCryllic") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            placeholder: field.placeholder || t2("field.enterValue"),
                            type: "text",
                            onChange: (e2) => {
                              const re = /[А-Яа-яЁёӨөҮү№₮]/;
                              if (e2.target.value === "" || !re.test(e2.target.value)) {
                                onInputChange(e2, index2, field.upperCase = true);
                                field?.onChange?.(e2, field);
                              }
                            },
                            value: field.value
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "textUppercase") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: formContainerClassName,
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      className: fieldContainerClassName,
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            placeholder: field.placeholder || t2("field.enterValue"),
                            type: "text",
                            onChange: (e2) => {
                              onInputChange(e2, index2, field.upperCase = true);
                              field?.onChange?.(e2, field);
                            },
                            value: field.value
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      className: whiteSpaceClassName,
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "fileUpload") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        flexDirection: "column",
                        width: field?.inputWidth || "auto",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1
                      },
                      children: field?.path ? field?.pathType == "image" ? /* @__PURE__ */ jsx13(
                        "img",
                        {
                          className: "eschool-image",
                          src: field?.path,
                          style: field?.pathStyle
                        }
                      ) : field?.pathType == "video" ? /* @__PURE__ */ jsx13("div", { className: "col d-flex justify-content-center", children: field?.isPlayable ? /* @__PURE__ */ jsx13(
                        "iframe",
                        {
                          src: `https://player.vimeo.com/video/${field?.path.split("/").at(-1)}`,
                          width: field?.pathWidth,
                          height: "300",
                          allow: "autoplay; fullscreen; picture-in-picture",
                          title: "Untitled"
                        }
                      ) : /* @__PURE__ */ jsx13(
                        "div",
                        {
                          className: "black-color fs-20 d-flex align-items-center justify-content-center",
                          style: { height: 300, width: field?.pathWidth },
                          children: t2("onlineLesson.videoInTranscode")
                        }
                      ) }) : null : /* @__PURE__ */ jsxs8(Fragment2, { children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            ref: (el) => fileUploaderRef.current[index2] = el,
                            style: { display: "none" },
                            type: "file",
                            accept: field.accept,
                            multiple: field.multiple,
                            placeholder: "\u0424\u0430\u0439\u043B \u043E\u0440\u0443\u0443\u043B\u043D\u0430 \u0443\u0443",
                            onChange: (e2) => {
                              onFileInputChange(e2, index2, field.upperCase = true);
                            },
                            value: field.value
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: true,
                            className,
                            value: field.fileNames
                          }
                        ),
                        field.showErrorMessage ? /* @__PURE__ */ jsx13("div", { style: { color: "#F64E60" }, children: field.errorMessage }) : null
                      ] })
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        flexWrap: "wrap",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto",
                        justifyContent: "center"
                      },
                      children: [
                        field.isExtendedButton ? /* @__PURE__ */ jsx13(
                          "button",
                          {
                            className: field.isExtendedButtonClass,
                            style: field.isExtendedButtonStyle,
                            onClick: () => onFileUploadButtonHandler(index2),
                            children: field?.isExtendedButtonText || ""
                          }
                        ) : null,
                        field.clearButton ? field.fileNames && /* @__PURE__ */ jsx13(
                          Button,
                          {
                            onClick: () => {
                              onFileUploadClearButtonHandler(index2);
                            },
                            className: "btn btn-danger m-btn m-btn--icon m-btn--icon-only m-btn--circle-28 ms-2",
                            style: field.clearButtonStyle,
                            children: /* @__PURE__ */ jsx13("i", { className: "flaticon2-cross", children: " " })
                          }
                        ) : null
                      ]
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "color") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: formContainerClassName,
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: field.align == "left" ? {
                        display: "flex",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        justifyContent: "flex-end",
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      } : {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      className: fieldContainerClassName,
                      children: [
                        /* @__PURE__ */ jsx13(
                          "input",
                          {
                            disabled: !!field.disabled,
                            className,
                            type: "color",
                            placeholder: field?.placeholder || t2("field.enterValue"),
                            onChange: (e2) => {
                              field?.onChange?.(e2, field);
                              onInputChange(e2, index2);
                            },
                            value: field.value,
                            style: field.inputStyle
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "dropdown") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: {
                  display: "flex",
                  marginTop: "0.8rem",
                  ...field.containerStyle
                },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      className: fieldContainerClassName ? fieldContainerClassName : "",
                      children: [
                        /* @__PURE__ */ jsx13(
                          Select_default,
                          {
                            className,
                            onChange: (value, evt) => handleSelectDropdownChange(value, evt, index2, field),
                            value: field.value,
                            styles: {
                              control: (baseStyles, state) => ({
                                ...baseStyles,
                                border: state.isFocused ? "1px solid #ff5b1d !important" : "",
                                boxShadow: ""
                              })
                            },
                            multiple: !!field.multiple,
                            searchable: !!field.searchable || true,
                            disabled: !!field.disabled,
                            clearable: !!field.clearable,
                            options: field.options
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            style: { display: "block" },
                            className: feedbackClassName,
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.isExtendedButton ? /* @__PURE__ */ jsx13(
                    "button",
                    {
                      className: field.isExtendedButtonClass,
                      style: field.isExtendedButtonStyle,
                      onClick: () => handleExtendedButtonChange(index2),
                      children: "\u0426\u044D\u0432\u044D\u0440\u043B\u044D\u0445"
                    }
                  ) : null,
                  field.inputWidth ? null : whiteSpaceClassName ? /* @__PURE__ */ jsx13("div", { className: whiteSpaceClassName }) : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "checkbox") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                style: {
                  display: "flex",
                  marginTop: field?.marginTop ? field?.marginTop : "1rem"
                },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: "center",
                        marginRight: 24,
                        width: field?.labelWidth || "auto",
                        color: "#1F2937"
                      }
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        field.buttonType == "radio" ? /* @__PURE__ */ jsxs8(
                          "div",
                          {
                            className: "d-flex flex-row align-item-center",
                            onClick: () => handleCheckboxClick(field.value, index2),
                            children: [
                              /* @__PURE__ */ jsx13(
                                RadioButton_default,
                                {
                                  className: "mr-3",
                                  checked: !!field.value,
                                  onChange: () => handleCheckboxClick(field.value, index2)
                                }
                              ),
                              /* @__PURE__ */ jsx13("div", { className: "d-flex flex-column align-items-center justify-content-center", children: /* @__PURE__ */ jsx13("label", { children: field.label }) })
                            ]
                          }
                        ) : /* @__PURE__ */ jsx13(
                          Checkbox_default,
                          {
                            checked: !!field.value,
                            onChange: () => handleCheckboxClick(!!field.value, index2),
                            label: field.label,
                            disabled: !!field.disabled
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            style: { display: "block" },
                            className: feedbackClassName,
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      },
                      className: whiteSpaceClassName
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "date") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          DatePicker_default,
                          {
                            buttonClassName: `eschool-form-date-picker ${className}`,
                            value: field.value,
                            onChange: (date) => handleDateChange(date, index2),
                            isCustomButton: field?.dateCustomButton,
                            includeDates: field.includeDays ? field.includeDays : false
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "dayPicker") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          DayPickerInput,
                          {
                            value: field.value,
                            inputProps: { className: "form-control" },
                            placeholder: field.placeholder,
                            onDayChange: (date) => handleDateChange(date, index2),
                            classNames: field.classNames
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      },
                      className: whiteSpaceClassName
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "datetime") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          DateTimePicker_default,
                          {
                            value: field.value,
                            onChange: (date) => handleDateTimeChange(date, index2)
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "time") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          TimePicker_default,
                          {
                            allowInput: !!field.allowTimeInput,
                            inputClassName: className,
                            minStep: 5,
                            value: field.value,
                            onChange: (val) => handleTimeChange(val, index2)
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "daterange") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          DatePickerRange_default,
                          {
                            onChange: (val) => handerRangePicker(val, index2),
                            firstPlaceHolder: field?.firstPlaceHolder,
                            lastPlaceHolder: field?.lastPlaceHolder,
                            selectedStartDate: field?.selectedStartDate,
                            selectedEndDate: field?.selectedEndDate,
                            showTimeInput: field?.showTimeInput,
                            showTimeSelect: field?.showTimeSelect,
                            isClear: field?.isClear
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "timerange") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          TimePickerRange_default,
                          {
                            onChange: (val) => handerRangePicker(val, index2),
                            selectedStartTime: field?.selectedStartTime || void 0,
                            selectedEndTime: field?.selectedEndTime || void 0,
                            isClear: field?.isClear
                          }
                        ),
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            className: feedbackClassName,
                            style: { display: message ? "block" : void 0 },
                            children: message
                          }
                        )
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      },
                      className: whiteSpaceClassName
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "textArea") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "top",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      className: labelClassName,
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "textarea",
                          {
                            disabled: !!field.disabled,
                            className: className + " height-auto",
                            rows: field.rows,
                            placeholder: field.placeholder ? field.placeholder : "",
                            onChange: (e2) => {
                              field?.onChange?.(e2, field);
                              onInputChange(e2, index2);
                            },
                            value: field.value,
                            style: field.style
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      },
                      className: whiteSpaceClassName
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "richEditor") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "top",
                        marginRight: 24,
                        marginBottom: 0,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto",
                        zIndex: 0
                      },
                      children: /* @__PURE__ */ jsx13(
                        import_ckeditor5_react.CKEditor,
                        {
                          editor: import_ckeditor5_build_classic_mathtype.default,
                          data: field.value,
                          config: {
                            placeholder: field.placeholder || "",
                            width: "100%",
                            toolbar: {
                              items: [
                                "heading",
                                "MathType",
                                "ChemType",
                                "|",
                                "bold",
                                "italic",
                                "link",
                                "bulletedList",
                                "numberedList",
                                "insertTable",
                                "blockQuote",
                                "undo",
                                "redo"
                              ]
                            }
                          },
                          style: field.style,
                          onChange: (e2, editor) => {
                            const data = editor.getData();
                            onEditorChange(e2, data, index2);
                          }
                        }
                      )
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          if (field.type === "tab") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8("div", { children: [
              /* @__PURE__ */ jsx13("div", { className: "d-flex justify-content-center mb-3 mt-3", children: field.isTab && field.tabs && field.tabs.length > 0 && /* @__PURE__ */ jsx13("div", { className: "register-tab-container d-flex", children: field.tabs.map((tab, tIndex) => {
                return /* @__PURE__ */ jsx13(
                  "span",
                  {
                    onClick: () => {
                      onSelectTab(tab.type, index2);
                    },
                    className: `tab cursor-pointer ${field.selectedType && field.selectedType === tab.type ? "active" : !field.selectedType && field.defaultType && field.defaultType == tab.type ? "active" : ""}`,
                    children: tab.label
                  },
                  "form_tab_" + tIndex
                );
              }) }) }),
              /* @__PURE__ */ jsxs8("div", { style: { display: "flex", marginTop: "0.8rem" }, children: [
                /* @__PURE__ */ jsx13(
                  "label",
                  {
                    style: {
                      display: "flex",
                      flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                      justifyContent: "flex-end",
                      alignItems: field.alignItems ? field.alignItems : "center",
                      marginRight: 20,
                      marginBottom: 0,
                      fontFamily: "PinnacleDemiBold",
                      fontSize: 12,
                      fontWeight: 800,
                      color: "#575962",
                      width: field?.labelWidth || "auto",
                      ...field.labelStyle
                    },
                    children: field.label
                  }
                ),
                /* @__PURE__ */ jsx13(
                  "div",
                  {
                    style: {
                      display: "flex",
                      flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                      flexDirection: "column",
                      marginLeft: 10,
                      width: field?.inputWidth || "auto",
                      zIndex: 0
                    },
                    children: renderTab(field, index2, selectedTabType)
                  }
                ),
                field.inputWidth ? null : /* @__PURE__ */ jsx13(
                  "div",
                  {
                    style: {
                      display: "flex",
                      flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                      flexDirection: "column",
                      marginLeft: 10,
                      width: field?.inputWidth || "auto"
                    }
                  }
                )
              ] })
            ] }, index2);
          }
          if (field.type === "colorPicker") {
            return field.hidden ? /* @__PURE__ */ jsx13("div", {}, index2) : /* @__PURE__ */ jsxs8(
              "div",
              {
                className: checkContainer(
                  formContainerClassName,
                  field.invisible
                ),
                style: { display: "flex", marginTop: "0.8rem" },
                children: [
                  /* @__PURE__ */ jsx13(
                    "label",
                    {
                      style: {
                        display: "flex",
                        flex: field.labelWidth ? void 0 : field?.labelFlex || 1,
                        justifyContent: "flex-end",
                        alignItems: field.alignItems ? field.alignItems : "center",
                        marginRight: 24,
                        fontFamily: "PinnacleDemiBold",
                        fontSize: 12,
                        fontWeight: 800,
                        color: "#575962",
                        width: field?.labelWidth || "auto",
                        ...field.labelStyle
                      },
                      children: field.label
                    }
                  ),
                  /* @__PURE__ */ jsxs8(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 1,
                        flexDirection: "column",
                        width: field?.inputWidth || "auto"
                      },
                      children: [
                        /* @__PURE__ */ jsx13(
                          "div",
                          {
                            style: {
                              cursor: "pointer",
                              width: "25px",
                              height: "25px",
                              border: "1px solid #979797",
                              background: field.value
                            },
                            onClick: handleDisplayColorPicker
                          }
                        ),
                        displayColorPicker && /* @__PURE__ */ jsxs8(
                          "div",
                          {
                            style: {
                              position: "absolute",
                              zIndex: "2",
                              left: "325px"
                            },
                            children: [
                              /* @__PURE__ */ jsx13(
                                "div",
                                {
                                  style: {
                                    position: "fixed",
                                    top: "0px",
                                    right: "0px",
                                    bottom: "0px",
                                    left: "250px"
                                  },
                                  onClick: handleCloseColorPicker
                                }
                              ),
                              /* @__PURE__ */ jsx13(
                                SketchPicker,
                                {
                                  color: field.value,
                                  onChange: (color) => handleColorChange(color, index2)
                                }
                              )
                            ]
                          }
                        ),
                        /* @__PURE__ */ jsx13("div", { className: feedbackClassName, children: message })
                      ]
                    }
                  ),
                  field.inputWidth ? null : /* @__PURE__ */ jsx13(
                    "div",
                    {
                      style: {
                        display: "flex",
                        flex: field.inputWidth ? void 0 : field?.inputFlex || 0.8,
                        flexDirection: "column",
                        marginLeft: 10,
                        width: field?.inputWidth || "auto"
                      }
                    }
                  )
                ]
              },
              index2
            );
          }
          return null;
        }),
        /* @__PURE__ */ jsx13("input", { type: "submit", style: { display: "none" } })
      ]
    }
  ) });
};
var Form_default = React13.forwardRef(Forms);

// src/modules/Tree/index.js
import React52, { useEffect as useEffect18, useState as useState17 } from "react";
import ReactDOM2 from "react-dom";

// node_modules/@babel/runtime/helpers/esm/extends.js
function _extends() {
  return _extends = Object.assign ? Object.assign.bind() : function(n) {
    for (var e2 = 1; e2 < arguments.length; e2++) {
      var t2 = arguments[e2];
      for (var r in t2) ({}).hasOwnProperty.call(t2, r) && (n[r] = t2[r]);
    }
    return n;
  }, _extends.apply(null, arguments);
}

// node_modules/@babel/runtime/helpers/esm/toPrimitive.js
function toPrimitive(t2, r) {
  if ("object" != _typeof(t2) || !t2) return t2;
  var e2 = t2[Symbol.toPrimitive];
  if (void 0 !== e2) {
    var i2 = e2.call(t2, r || "default");
    if ("object" != _typeof(i2)) return i2;
    throw new TypeError("@@toPrimitive must return a primitive value.");
  }
  return ("string" === r ? String : Number)(t2);
}

// node_modules/@babel/runtime/helpers/esm/toPropertyKey.js
function toPropertyKey(t2) {
  var i2 = toPrimitive(t2, "string");
  return "symbol" == _typeof(i2) ? i2 : i2 + "";
}

// node_modules/@babel/runtime/helpers/esm/defineProperty.js
function _defineProperty(e2, r, t2) {
  return (r = toPropertyKey(r)) in e2 ? Object.defineProperty(e2, r, {
    value: t2,
    enumerable: true,
    configurable: true,
    writable: true
  }) : e2[r] = t2, e2;
}

// node_modules/@babel/runtime/helpers/esm/objectSpread2.js
function ownKeys(e2, r) {
  var t2 = Object.keys(e2);
  if (Object.getOwnPropertySymbols) {
    var o = Object.getOwnPropertySymbols(e2);
    r && (o = o.filter(function(r2) {
      return Object.getOwnPropertyDescriptor(e2, r2).enumerable;
    })), t2.push.apply(t2, o);
  }
  return t2;
}
function _objectSpread2(e2) {
  for (var r = 1; r < arguments.length; r++) {
    var t2 = null != arguments[r] ? arguments[r] : {};
    r % 2 ? ownKeys(Object(t2), true).forEach(function(r2) {
      _defineProperty(e2, r2, t2[r2]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e2, Object.getOwnPropertyDescriptors(t2)) : ownKeys(Object(t2)).forEach(function(r2) {
      Object.defineProperty(e2, r2, Object.getOwnPropertyDescriptor(t2, r2));
    });
  }
  return e2;
}

// node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js
function _arrayLikeToArray(r, a3) {
  (null == a3 || a3 > r.length) && (a3 = r.length);
  for (var e2 = 0, n = Array(a3); e2 < a3; e2++) n[e2] = r[e2];
  return n;
}

// node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js
function _arrayWithoutHoles(r) {
  if (Array.isArray(r)) return _arrayLikeToArray(r);
}

// node_modules/@babel/runtime/helpers/esm/iterableToArray.js
function _iterableToArray(r) {
  if ("undefined" != typeof Symbol && null != r[Symbol.iterator] || null != r["@@iterator"]) return Array.from(r);
}

// node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js
function _unsupportedIterableToArray(r, a3) {
  if (r) {
    if ("string" == typeof r) return _arrayLikeToArray(r, a3);
    var t2 = {}.toString.call(r).slice(8, -1);
    return "Object" === t2 && r.constructor && (t2 = r.constructor.name), "Map" === t2 || "Set" === t2 ? Array.from(r) : "Arguments" === t2 || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t2) ? _arrayLikeToArray(r, a3) : void 0;
  }
}

// node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

// node_modules/@babel/runtime/helpers/esm/toConsumableArray.js
function _toConsumableArray(r) {
  return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread();
}

// node_modules/@babel/runtime/helpers/esm/classCallCheck.js
function _classCallCheck(a3, n) {
  if (!(a3 instanceof n)) throw new TypeError("Cannot call a class as a function");
}

// node_modules/@babel/runtime/helpers/esm/createClass.js
function _defineProperties(e2, r) {
  for (var t2 = 0; t2 < r.length; t2++) {
    var o = r[t2];
    o.enumerable = o.enumerable || false, o.configurable = true, "value" in o && (o.writable = true), Object.defineProperty(e2, toPropertyKey(o.key), o);
  }
}
function _createClass(e2, r, t2) {
  return r && _defineProperties(e2.prototype, r), t2 && _defineProperties(e2, t2), Object.defineProperty(e2, "prototype", {
    writable: false
  }), e2;
}

// node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js
function _assertThisInitialized(e2) {
  if (void 0 === e2) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  return e2;
}

// node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js
function _setPrototypeOf(t2, e2) {
  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function(t3, e3) {
    return t3.__proto__ = e3, t3;
  }, _setPrototypeOf(t2, e2);
}

// node_modules/@babel/runtime/helpers/esm/inherits.js
function _inherits(t2, e2) {
  if ("function" != typeof e2 && null !== e2) throw new TypeError("Super expression must either be null or a function");
  t2.prototype = Object.create(e2 && e2.prototype, {
    constructor: {
      value: t2,
      writable: true,
      configurable: true
    }
  }), Object.defineProperty(t2, "prototype", {
    writable: false
  }), e2 && _setPrototypeOf(t2, e2);
}

// node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js
function _getPrototypeOf(t2) {
  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function(t3) {
    return t3.__proto__ || Object.getPrototypeOf(t3);
  }, _getPrototypeOf(t2);
}

// node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js
function _isNativeReflectConstruct() {
  try {
    var t2 = !Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function() {
    }));
  } catch (t3) {
  }
  return (_isNativeReflectConstruct = function _isNativeReflectConstruct2() {
    return !!t2;
  })();
}

// node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js
function _possibleConstructorReturn(t2, e2) {
  if (e2 && ("object" == _typeof(e2) || "function" == typeof e2)) return e2;
  if (void 0 !== e2) throw new TypeError("Derived constructors may only return object or undefined");
  return _assertThisInitialized(t2);
}

// node_modules/@babel/runtime/helpers/esm/createSuper.js
function _createSuper(t2) {
  var r = _isNativeReflectConstruct();
  return function() {
    var e2, o = _getPrototypeOf(t2);
    if (r) {
      var s3 = _getPrototypeOf(this).constructor;
      e2 = Reflect.construct(o, arguments, s3);
    } else e2 = o.apply(this, arguments);
    return _possibleConstructorReturn(this, e2);
  };
}

// node_modules/rc-tree/es/Tree.js
var import_classnames8 = __toESM(require_classnames());

// node_modules/rc-util/es/KeyCode.js
var KeyCode = {
  /**
   * MAC_ENTER
   */
  MAC_ENTER: 3,
  /**
   * BACKSPACE
   */
  BACKSPACE: 8,
  /**
   * TAB
   */
  TAB: 9,
  /**
   * NUMLOCK on FF/Safari Mac
   */
  NUM_CENTER: 12,
  // NUMLOCK on FF/Safari Mac
  /**
   * ENTER
   */
  ENTER: 13,
  /**
   * SHIFT
   */
  SHIFT: 16,
  /**
   * CTRL
   */
  CTRL: 17,
  /**
   * ALT
   */
  ALT: 18,
  /**
   * PAUSE
   */
  PAUSE: 19,
  /**
   * CAPS_LOCK
   */
  CAPS_LOCK: 20,
  /**
   * ESC
   */
  ESC: 27,
  /**
   * SPACE
   */
  SPACE: 32,
  /**
   * PAGE_UP
   */
  PAGE_UP: 33,
  // also NUM_NORTH_EAST
  /**
   * PAGE_DOWN
   */
  PAGE_DOWN: 34,
  // also NUM_SOUTH_EAST
  /**
   * END
   */
  END: 35,
  // also NUM_SOUTH_WEST
  /**
   * HOME
   */
  HOME: 36,
  // also NUM_NORTH_WEST
  /**
   * LEFT
   */
  LEFT: 37,
  // also NUM_WEST
  /**
   * UP
   */
  UP: 38,
  // also NUM_NORTH
  /**
   * RIGHT
   */
  RIGHT: 39,
  // also NUM_EAST
  /**
   * DOWN
   */
  DOWN: 40,
  // also NUM_SOUTH
  /**
   * PRINT_SCREEN
   */
  PRINT_SCREEN: 44,
  /**
   * INSERT
   */
  INSERT: 45,
  // also NUM_INSERT
  /**
   * DELETE
   */
  DELETE: 46,
  // also NUM_DELETE
  /**
   * ZERO
   */
  ZERO: 48,
  /**
   * ONE
   */
  ONE: 49,
  /**
   * TWO
   */
  TWO: 50,
  /**
   * THREE
   */
  THREE: 51,
  /**
   * FOUR
   */
  FOUR: 52,
  /**
   * FIVE
   */
  FIVE: 53,
  /**
   * SIX
   */
  SIX: 54,
  /**
   * SEVEN
   */
  SEVEN: 55,
  /**
   * EIGHT
   */
  EIGHT: 56,
  /**
   * NINE
   */
  NINE: 57,
  /**
   * QUESTION_MARK
   */
  QUESTION_MARK: 63,
  // needs localization
  /**
   * A
   */
  A: 65,
  /**
   * B
   */
  B: 66,
  /**
   * C
   */
  C: 67,
  /**
   * D
   */
  D: 68,
  /**
   * E
   */
  E: 69,
  /**
   * F
   */
  F: 70,
  /**
   * G
   */
  G: 71,
  /**
   * H
   */
  H: 72,
  /**
   * I
   */
  I: 73,
  /**
   * J
   */
  J: 74,
  /**
   * K
   */
  K: 75,
  /**
   * L
   */
  L: 76,
  /**
   * M
   */
  M: 77,
  /**
   * N
   */
  N: 78,
  /**
   * O
   */
  O: 79,
  /**
   * P
   */
  P: 80,
  /**
   * Q
   */
  Q: 81,
  /**
   * R
   */
  R: 82,
  /**
   * S
   */
  S: 83,
  /**
   * T
   */
  T: 84,
  /**
   * U
   */
  U: 85,
  /**
   * V
   */
  V: 86,
  /**
   * W
   */
  W: 87,
  /**
   * X
   */
  X: 88,
  /**
   * Y
   */
  Y: 89,
  /**
   * Z
   */
  Z: 90,
  /**
   * META
   */
  META: 91,
  // WIN_KEY_LEFT
  /**
   * WIN_KEY_RIGHT
   */
  WIN_KEY_RIGHT: 92,
  /**
   * CONTEXT_MENU
   */
  CONTEXT_MENU: 93,
  /**
   * NUM_ZERO
   */
  NUM_ZERO: 96,
  /**
   * NUM_ONE
   */
  NUM_ONE: 97,
  /**
   * NUM_TWO
   */
  NUM_TWO: 98,
  /**
   * NUM_THREE
   */
  NUM_THREE: 99,
  /**
   * NUM_FOUR
   */
  NUM_FOUR: 100,
  /**
   * NUM_FIVE
   */
  NUM_FIVE: 101,
  /**
   * NUM_SIX
   */
  NUM_SIX: 102,
  /**
   * NUM_SEVEN
   */
  NUM_SEVEN: 103,
  /**
   * NUM_EIGHT
   */
  NUM_EIGHT: 104,
  /**
   * NUM_NINE
   */
  NUM_NINE: 105,
  /**
   * NUM_MULTIPLY
   */
  NUM_MULTIPLY: 106,
  /**
   * NUM_PLUS
   */
  NUM_PLUS: 107,
  /**
   * NUM_MINUS
   */
  NUM_MINUS: 109,
  /**
   * NUM_PERIOD
   */
  NUM_PERIOD: 110,
  /**
   * NUM_DIVISION
   */
  NUM_DIVISION: 111,
  /**
   * F1
   */
  F1: 112,
  /**
   * F2
   */
  F2: 113,
  /**
   * F3
   */
  F3: 114,
  /**
   * F4
   */
  F4: 115,
  /**
   * F5
   */
  F5: 116,
  /**
   * F6
   */
  F6: 117,
  /**
   * F7
   */
  F7: 118,
  /**
   * F8
   */
  F8: 119,
  /**
   * F9
   */
  F9: 120,
  /**
   * F10
   */
  F10: 121,
  /**
   * F11
   */
  F11: 122,
  /**
   * F12
   */
  F12: 123,
  /**
   * NUMLOCK
   */
  NUMLOCK: 144,
  /**
   * SEMICOLON
   */
  SEMICOLON: 186,
  // needs localization
  /**
   * DASH
   */
  DASH: 189,
  // needs localization
  /**
   * EQUALS
   */
  EQUALS: 187,
  // needs localization
  /**
   * COMMA
   */
  COMMA: 188,
  // needs localization
  /**
   * PERIOD
   */
  PERIOD: 190,
  // needs localization
  /**
   * SLASH
   */
  SLASH: 191,
  // needs localization
  /**
   * APOSTROPHE
   */
  APOSTROPHE: 192,
  // needs localization
  /**
   * SINGLE_QUOTE
   */
  SINGLE_QUOTE: 222,
  // needs localization
  /**
   * OPEN_SQUARE_BRACKET
   */
  OPEN_SQUARE_BRACKET: 219,
  // needs localization
  /**
   * BACKSLASH
   */
  BACKSLASH: 220,
  // needs localization
  /**
   * CLOSE_SQUARE_BRACKET
   */
  CLOSE_SQUARE_BRACKET: 221,
  // needs localization
  /**
   * WIN_KEY
   */
  WIN_KEY: 224,
  /**
   * MAC_FF_META
   */
  MAC_FF_META: 224,
  // Firefox (Gecko) fires this for the meta key instead of 91
  /**
   * WIN_IME
   */
  WIN_IME: 229,
  // ======================== Function ========================
  /**
   * whether text and modified key is entered at the same time.
   */
  isTextModifyingKeyEvent: function isTextModifyingKeyEvent(e2) {
    var keyCode = e2.keyCode;
    if (e2.altKey && !e2.ctrlKey || e2.metaKey || // Function keys don't generate text
    keyCode >= KeyCode.F1 && keyCode <= KeyCode.F12) {
      return false;
    }
    switch (keyCode) {
      case KeyCode.ALT:
      case KeyCode.CAPS_LOCK:
      case KeyCode.CONTEXT_MENU:
      case KeyCode.CTRL:
      case KeyCode.DOWN:
      case KeyCode.END:
      case KeyCode.ESC:
      case KeyCode.HOME:
      case KeyCode.INSERT:
      case KeyCode.LEFT:
      case KeyCode.MAC_FF_META:
      case KeyCode.META:
      case KeyCode.NUMLOCK:
      case KeyCode.NUM_CENTER:
      case KeyCode.PAGE_DOWN:
      case KeyCode.PAGE_UP:
      case KeyCode.PAUSE:
      case KeyCode.PRINT_SCREEN:
      case KeyCode.RIGHT:
      case KeyCode.SHIFT:
      case KeyCode.UP:
      case KeyCode.WIN_KEY:
      case KeyCode.WIN_KEY_RIGHT:
        return false;
      default:
        return true;
    }
  },
  /**
   * whether character is entered.
   */
  isCharacterKey: function isCharacterKey(keyCode) {
    if (keyCode >= KeyCode.ZERO && keyCode <= KeyCode.NINE) {
      return true;
    }
    if (keyCode >= KeyCode.NUM_ZERO && keyCode <= KeyCode.NUM_MULTIPLY) {
      return true;
    }
    if (keyCode >= KeyCode.A && keyCode <= KeyCode.Z) {
      return true;
    }
    if (window.navigator.userAgent.indexOf("WebKit") !== -1 && keyCode === 0) {
      return true;
    }
    switch (keyCode) {
      case KeyCode.SPACE:
      case KeyCode.QUESTION_MARK:
      case KeyCode.NUM_PLUS:
      case KeyCode.NUM_MINUS:
      case KeyCode.NUM_PERIOD:
      case KeyCode.NUM_DIVISION:
      case KeyCode.SEMICOLON:
      case KeyCode.DASH:
      case KeyCode.EQUALS:
      case KeyCode.COMMA:
      case KeyCode.PERIOD:
      case KeyCode.SLASH:
      case KeyCode.APOSTROPHE:
      case KeyCode.SINGLE_QUOTE:
      case KeyCode.OPEN_SQUARE_BRACKET:
      case KeyCode.BACKSLASH:
      case KeyCode.CLOSE_SQUARE_BRACKET:
        return true;
      default:
        return false;
    }
  }
};
var KeyCode_default = KeyCode;

// node_modules/rc-util/es/pickAttrs.js
var attributes = "accept acceptCharset accessKey action allowFullScreen allowTransparency\n    alt async autoComplete autoFocus autoPlay capture cellPadding cellSpacing challenge\n    charSet checked classID className colSpan cols content contentEditable contextMenu\n    controls coords crossOrigin data dateTime default defer dir disabled download draggable\n    encType form formAction formEncType formMethod formNoValidate formTarget frameBorder\n    headers height hidden high href hrefLang htmlFor httpEquiv icon id inputMode integrity\n    is keyParams keyType kind label lang list loop low manifest marginHeight marginWidth max maxLength media\n    mediaGroup method min minLength multiple muted name noValidate nonce open\n    optimum pattern placeholder poster preload radioGroup readOnly rel required\n    reversed role rowSpan rows sandbox scope scoped scrolling seamless selected\n    shape size sizes span spellCheck src srcDoc srcLang srcSet start step style\n    summary tabIndex target title type useMap value width wmode wrap";
var eventsName = "onCopy onCut onPaste onCompositionEnd onCompositionStart onCompositionUpdate onKeyDown\n    onKeyPress onKeyUp onFocus onBlur onChange onInput onSubmit onClick onContextMenu onDoubleClick\n    onDrag onDragEnd onDragEnter onDragExit onDragLeave onDragOver onDragStart onDrop onMouseDown\n    onMouseEnter onMouseLeave onMouseMove onMouseOut onMouseOver onMouseUp onSelect onTouchCancel\n    onTouchEnd onTouchMove onTouchStart onScroll onWheel onAbort onCanPlay onCanPlayThrough\n    onDurationChange onEmptied onEncrypted onEnded onError onLoadedData onLoadedMetadata\n    onLoadStart onPause onPlay onPlaying onProgress onRateChange onSeeked onSeeking onStalled onSuspend onTimeUpdate onVolumeChange onWaiting onLoad onError";
var propList = "".concat(attributes, " ").concat(eventsName).split(/[\s\n]+/);
var ariaPrefix = "aria-";
var dataPrefix = "data-";
function match3(key, prefix) {
  return key.indexOf(prefix) === 0;
}
function pickAttrs(props) {
  var ariaOnly = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
  var mergedConfig;
  if (ariaOnly === false) {
    mergedConfig = {
      aria: true,
      data: true,
      attr: true
    };
  } else if (ariaOnly === true) {
    mergedConfig = {
      aria: true
    };
  } else {
    mergedConfig = _objectSpread2({}, ariaOnly);
  }
  var attrs = {};
  Object.keys(props).forEach(function(key) {
    if (
      // Aria
      mergedConfig.aria && (key === "role" || match3(key, ariaPrefix)) || // Data
      mergedConfig.data && match3(key, dataPrefix) || // Attr
      mergedConfig.attr && propList.includes(key)
    ) {
      attrs[key] = props[key];
    }
  });
  return attrs;
}

// node_modules/rc-util/es/warning.js
var warned = {};
var preWarningFns = [];
var preMessage = function preMessage2(fn) {
  preWarningFns.push(fn);
};
function warning(valid, message) {
  if (!valid && console !== void 0) {
    var finalMessage = preWarningFns.reduce(function(msg, preMessageFn) {
      return preMessageFn(msg !== null && msg !== void 0 ? msg : "", "warning");
    }, message);
    if (finalMessage) {
      console.error("Warning: ".concat(finalMessage));
    }
  }
}
function note(valid, message) {
  if (!valid && console !== void 0) {
    var finalMessage = preWarningFns.reduce(function(msg, preMessageFn) {
      return preMessageFn(msg !== null && msg !== void 0 ? msg : "", "note");
    }, message);
    if (finalMessage) {
      console.warn("Note: ".concat(finalMessage));
    }
  }
}
function resetWarned() {
  warned = {};
}
function call(method, valid, message) {
  if (!valid && !warned[message]) {
    method(false, message);
    warned[message] = true;
  }
}
function warningOnce(valid, message) {
  call(warning, valid, message);
}
function noteOnce(valid, message) {
  call(note, valid, message);
}
warningOnce.preMessage = preMessage;
warningOnce.resetWarned = resetWarned;
warningOnce.noteOnce = noteOnce;
var warning_default = warningOnce;

// node_modules/rc-tree/es/Tree.js
import * as React51 from "react";

// node_modules/rc-tree/es/contextTypes.js
import * as React14 from "react";
var TreeContext = /* @__PURE__ */ React14.createContext(null);
var UnstableContext = /* @__PURE__ */ React14.createContext({});

// node_modules/rc-tree/es/DropIndicator.js
import React15 from "react";
var DropIndicator = function DropIndicator2(props) {
  var dropPosition = props.dropPosition, dropLevelOffset = props.dropLevelOffset, indent = props.indent;
  var style2 = {
    pointerEvents: "none",
    position: "absolute",
    right: 0,
    backgroundColor: "red",
    height: 2
  };
  switch (dropPosition) {
    case -1:
      style2.top = 0;
      style2.left = -dropLevelOffset * indent;
      break;
    case 1:
      style2.bottom = 0;
      style2.left = -dropLevelOffset * indent;
      break;
    case 0:
      style2.bottom = 0;
      style2.left = indent;
      break;
  }
  return /* @__PURE__ */ React15.createElement("div", {
    style: style2
  });
};
if (true) {
  DropIndicator.displayName = "DropIndicator";
}
var DropIndicator_default = DropIndicator;

// node_modules/@babel/runtime/helpers/esm/objectDestructuringEmpty.js
function _objectDestructuringEmpty(t2) {
  if (null == t2) throw new TypeError("Cannot destructure " + t2);
}

// node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js
function _arrayWithHoles(r) {
  if (Array.isArray(r)) return r;
}

// node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js
function _iterableToArrayLimit(r, l) {
  var t2 = null == r ? null : "undefined" != typeof Symbol && r[Symbol.iterator] || r["@@iterator"];
  if (null != t2) {
    var e2, n, i2, u2, a3 = [], f = true, o = false;
    try {
      if (i2 = (t2 = t2.call(r)).next, 0 === l) {
        if (Object(t2) !== t2) return;
        f = false;
      } else for (; !(f = (e2 = i2.call(t2)).done) && (a3.push(e2.value), a3.length !== l); f = true) ;
    } catch (r2) {
      o = true, n = r2;
    } finally {
      try {
        if (!f && null != t2["return"] && (u2 = t2["return"](), Object(u2) !== u2)) return;
      } finally {
        if (o) throw n;
      }
    }
    return a3;
  }
}

// node_modules/@babel/runtime/helpers/esm/nonIterableRest.js
function _nonIterableRest() {
  throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}

// node_modules/@babel/runtime/helpers/esm/slicedToArray.js
function _slicedToArray(r, e2) {
  return _arrayWithHoles(r) || _iterableToArrayLimit(r, e2) || _unsupportedIterableToArray(r, e2) || _nonIterableRest();
}

// node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js
function _objectWithoutPropertiesLoose(r, e2) {
  if (null == r) return {};
  var t2 = {};
  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {
    if (-1 !== e2.indexOf(n)) continue;
    t2[n] = r[n];
  }
  return t2;
}

// node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js
function _objectWithoutProperties(e2, t2) {
  if (null == e2) return {};
  var o, r, i2 = _objectWithoutPropertiesLoose(e2, t2);
  if (Object.getOwnPropertySymbols) {
    var n = Object.getOwnPropertySymbols(e2);
    for (r = 0; r < n.length; r++) o = n[r], -1 === t2.indexOf(o) && {}.propertyIsEnumerable.call(e2, o) && (i2[o] = e2[o]);
  }
  return i2;
}

// node_modules/rc-util/es/hooks/useLayoutEffect.js
import * as React16 from "react";

// node_modules/rc-util/es/Dom/canUseDom.js
function canUseDom() {
  return !!(typeof window !== "undefined" && window.document && window.document.createElement);
}

// node_modules/rc-util/es/hooks/useLayoutEffect.js
var useInternalLayoutEffect = canUseDom() ? React16.useLayoutEffect : React16.useEffect;
var useLayoutEffect2 = function useLayoutEffect3(callback, deps) {
  var firstMountRef = React16.useRef(true);
  useInternalLayoutEffect(function() {
    return callback(firstMountRef.current);
  }, deps);
  useInternalLayoutEffect(function() {
    firstMountRef.current = false;
    return function() {
      firstMountRef.current = true;
    };
  }, []);
};
var useLayoutEffect_default = useLayoutEffect2;

// node_modules/rc-virtual-list/es/List.js
var import_classnames3 = __toESM(require_classnames());

// node_modules/rc-resize-observer/es/index.js
import * as React23 from "react";

// node_modules/rc-util/es/React/isFragment.js
var REACT_ELEMENT_TYPE_18 = Symbol.for("react.element");
var REACT_ELEMENT_TYPE_19 = Symbol.for("react.transitional.element");
var REACT_FRAGMENT_TYPE = Symbol.for("react.fragment");
function isFragment(object) {
  return (
    // Base object type
    object && _typeof(object) === "object" && // React Element type
    (object.$$typeof === REACT_ELEMENT_TYPE_18 || object.$$typeof === REACT_ELEMENT_TYPE_19) && // React Fragment type
    object.type === REACT_FRAGMENT_TYPE
  );
}

// node_modules/rc-util/es/Children/toArray.js
import React17 from "react";
function toArray(children) {
  var option = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};
  var ret = [];
  React17.Children.forEach(children, function(child) {
    if ((child === void 0 || child === null) && !option.keepEmpty) {
      return;
    }
    if (Array.isArray(child)) {
      ret = ret.concat(toArray(child));
    } else if (isFragment(child) && child.props) {
      ret = ret.concat(toArray(child.props.children, option));
    } else {
      ret.push(child);
    }
  });
  return ret;
}

// node_modules/rc-util/es/Dom/findDOMNode.js
import React18 from "react";
import ReactDOM from "react-dom";
function isDOM(node) {
  return node instanceof HTMLElement || node instanceof SVGElement;
}
function getDOM(node) {
  if (node && _typeof(node) === "object" && isDOM(node.nativeElement)) {
    return node.nativeElement;
  }
  if (isDOM(node)) {
    return node;
  }
  return null;
}
function findDOMNode(node) {
  var domNode = getDOM(node);
  if (domNode) {
    return domNode;
  }
  if (node instanceof React18.Component) {
    var _ReactDOM$findDOMNode;
    return (_ReactDOM$findDOMNode = ReactDOM.findDOMNode) === null || _ReactDOM$findDOMNode === void 0 ? void 0 : _ReactDOM$findDOMNode.call(ReactDOM, node);
  }
  return null;
}

// node_modules/rc-util/es/ref.js
var import_react_is = __toESM(require_react_is());
import { isValidElement, version } from "react";

// node_modules/rc-util/es/hooks/useMemo.js
import * as React19 from "react";
function useMemo(getValue, condition, shouldUpdate) {
  var cacheRef = React19.useRef({});
  if (!("value" in cacheRef.current) || shouldUpdate(cacheRef.current.condition, condition)) {
    cacheRef.current.value = getValue();
    cacheRef.current.condition = condition;
  }
  return cacheRef.current.value;
}

// node_modules/rc-util/es/ref.js
var ReactMajorVersion = Number(version.split(".")[0]);
var fillRef = function fillRef2(ref, node) {
  if (typeof ref === "function") {
    ref(node);
  } else if (_typeof(ref) === "object" && ref && "current" in ref) {
    ref.current = node;
  }
};
var composeRef = function composeRef2() {
  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {
    refs[_key] = arguments[_key];
  }
  var refList = refs.filter(Boolean);
  if (refList.length <= 1) {
    return refList[0];
  }
  return function(node) {
    refs.forEach(function(ref) {
      fillRef(ref, node);
    });
  };
};
var useComposeRef = function useComposeRef2() {
  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
    refs[_key2] = arguments[_key2];
  }
  return useMemo(function() {
    return composeRef.apply(void 0, refs);
  }, refs, function(prev, next) {
    return prev.length !== next.length || prev.every(function(ref, i2) {
      return ref !== next[i2];
    });
  });
};
var supportRef = function supportRef2(nodeOrComponent) {
  var _type$prototype, _nodeOrComponent$prot;
  if (!nodeOrComponent) {
    return false;
  }
  if (isReactElement(nodeOrComponent) && ReactMajorVersion >= 19) {
    return true;
  }
  var type = (0, import_react_is.isMemo)(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;
  if (typeof type === "function" && !((_type$prototype = type.prototype) !== null && _type$prototype !== void 0 && _type$prototype.render) && type.$$typeof !== import_react_is.ForwardRef) {
    return false;
  }
  if (typeof nodeOrComponent === "function" && !((_nodeOrComponent$prot = nodeOrComponent.prototype) !== null && _nodeOrComponent$prot !== void 0 && _nodeOrComponent$prot.render) && nodeOrComponent.$$typeof !== import_react_is.ForwardRef) {
    return false;
  }
  return true;
};
function isReactElement(node) {
  return /* @__PURE__ */ isValidElement(node) && !isFragment(node);
}
var getNodeRef = function getNodeRef2(node) {
  if (node && isReactElement(node)) {
    var ele = node;
    return ele.props.propertyIsEnumerable("ref") ? ele.props.ref : ele.ref;
  }
  return null;
};

// node_modules/rc-resize-observer/es/SingleObserver/index.js
import * as React22 from "react";

// node_modules/rc-resize-observer/es/Collection.js
import * as React20 from "react";
var CollectionContext = /* @__PURE__ */ React20.createContext(null);
function Collection(_ref) {
  var children = _ref.children, onBatchResize = _ref.onBatchResize;
  var resizeIdRef = React20.useRef(0);
  var resizeInfosRef = React20.useRef([]);
  var onCollectionResize = React20.useContext(CollectionContext);
  var onResize2 = React20.useCallback(function(size, element, data) {
    resizeIdRef.current += 1;
    var currentId = resizeIdRef.current;
    resizeInfosRef.current.push({
      size,
      element,
      data
    });
    Promise.resolve().then(function() {
      if (currentId === resizeIdRef.current) {
        onBatchResize === null || onBatchResize === void 0 || onBatchResize(resizeInfosRef.current);
        resizeInfosRef.current = [];
      }
    });
    onCollectionResize === null || onCollectionResize === void 0 || onCollectionResize(size, element, data);
  }, [onBatchResize, onCollectionResize]);
  return /* @__PURE__ */ React20.createElement(CollectionContext.Provider, {
    value: onResize2
  }, children);
}

// node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js
var MapShim = function() {
  if (typeof Map !== "undefined") {
    return Map;
  }
  function getIndex(arr, key) {
    var result = -1;
    arr.some(function(entry, index2) {
      if (entry[0] === key) {
        result = index2;
        return true;
      }
      return false;
    });
    return result;
  }
  return (
    /** @class */
    function() {
      function class_1() {
        this.__entries__ = [];
      }
      Object.defineProperty(class_1.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: true,
        configurable: true
      });
      class_1.prototype.get = function(key) {
        var index2 = getIndex(this.__entries__, key);
        var entry = this.__entries__[index2];
        return entry && entry[1];
      };
      class_1.prototype.set = function(key, value) {
        var index2 = getIndex(this.__entries__, key);
        if (~index2) {
          this.__entries__[index2][1] = value;
        } else {
          this.__entries__.push([key, value]);
        }
      };
      class_1.prototype.delete = function(key) {
        var entries = this.__entries__;
        var index2 = getIndex(entries, key);
        if (~index2) {
          entries.splice(index2, 1);
        }
      };
      class_1.prototype.has = function(key) {
        return !!~getIndex(this.__entries__, key);
      };
      class_1.prototype.clear = function() {
        this.__entries__.splice(0);
      };
      class_1.prototype.forEach = function(callback, ctx) {
        if (ctx === void 0) {
          ctx = null;
        }
        for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {
          var entry = _a[_i];
          callback.call(ctx, entry[1], entry[0]);
        }
      };
      return class_1;
    }()
  );
}();
var isBrowser = typeof window !== "undefined" && typeof document !== "undefined" && window.document === document;
var global$1 = function() {
  if (typeof global !== "undefined" && global.Math === Math) {
    return global;
  }
  if (typeof self !== "undefined" && self.Math === Math) {
    return self;
  }
  if (typeof window !== "undefined" && window.Math === Math) {
    return window;
  }
  return Function("return this")();
}();
var requestAnimationFrame$1 = function() {
  if (typeof requestAnimationFrame === "function") {
    return requestAnimationFrame.bind(global$1);
  }
  return function(callback) {
    return setTimeout(function() {
      return callback(Date.now());
    }, 1e3 / 60);
  };
}();
var trailingTimeout = 2;
function throttle(callback, delay) {
  var leadingCall = false, trailingCall = false, lastCallTime = 0;
  function resolvePending() {
    if (leadingCall) {
      leadingCall = false;
      callback();
    }
    if (trailingCall) {
      proxy();
    }
  }
  function timeoutCallback() {
    requestAnimationFrame$1(resolvePending);
  }
  function proxy() {
    var timeStamp = Date.now();
    if (leadingCall) {
      if (timeStamp - lastCallTime < trailingTimeout) {
        return;
      }
      trailingCall = true;
    } else {
      leadingCall = true;
      trailingCall = false;
      setTimeout(timeoutCallback, delay);
    }
    lastCallTime = timeStamp;
  }
  return proxy;
}
var REFRESH_DELAY = 20;
var transitionKeys = ["top", "right", "bottom", "left", "width", "height", "size", "weight"];
var mutationObserverSupported = typeof MutationObserver !== "undefined";
var ResizeObserverController = (
  /** @class */
  function() {
    function ResizeObserverController2() {
      this.connected_ = false;
      this.mutationEventsAdded_ = false;
      this.mutationsObserver_ = null;
      this.observers_ = [];
      this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);
      this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);
    }
    ResizeObserverController2.prototype.addObserver = function(observer) {
      if (!~this.observers_.indexOf(observer)) {
        this.observers_.push(observer);
      }
      if (!this.connected_) {
        this.connect_();
      }
    };
    ResizeObserverController2.prototype.removeObserver = function(observer) {
      var observers2 = this.observers_;
      var index2 = observers2.indexOf(observer);
      if (~index2) {
        observers2.splice(index2, 1);
      }
      if (!observers2.length && this.connected_) {
        this.disconnect_();
      }
    };
    ResizeObserverController2.prototype.refresh = function() {
      var changesDetected = this.updateObservers_();
      if (changesDetected) {
        this.refresh();
      }
    };
    ResizeObserverController2.prototype.updateObservers_ = function() {
      var activeObservers = this.observers_.filter(function(observer) {
        return observer.gatherActive(), observer.hasActive();
      });
      activeObservers.forEach(function(observer) {
        return observer.broadcastActive();
      });
      return activeObservers.length > 0;
    };
    ResizeObserverController2.prototype.connect_ = function() {
      if (!isBrowser || this.connected_) {
        return;
      }
      document.addEventListener("transitionend", this.onTransitionEnd_);
      window.addEventListener("resize", this.refresh);
      if (mutationObserverSupported) {
        this.mutationsObserver_ = new MutationObserver(this.refresh);
        this.mutationsObserver_.observe(document, {
          attributes: true,
          childList: true,
          characterData: true,
          subtree: true
        });
      } else {
        document.addEventListener("DOMSubtreeModified", this.refresh);
        this.mutationEventsAdded_ = true;
      }
      this.connected_ = true;
    };
    ResizeObserverController2.prototype.disconnect_ = function() {
      if (!isBrowser || !this.connected_) {
        return;
      }
      document.removeEventListener("transitionend", this.onTransitionEnd_);
      window.removeEventListener("resize", this.refresh);
      if (this.mutationsObserver_) {
        this.mutationsObserver_.disconnect();
      }
      if (this.mutationEventsAdded_) {
        document.removeEventListener("DOMSubtreeModified", this.refresh);
      }
      this.mutationsObserver_ = null;
      this.mutationEventsAdded_ = false;
      this.connected_ = false;
    };
    ResizeObserverController2.prototype.onTransitionEnd_ = function(_a) {
      var _b = _a.propertyName, propertyName = _b === void 0 ? "" : _b;
      var isReflowProperty = transitionKeys.some(function(key) {
        return !!~propertyName.indexOf(key);
      });
      if (isReflowProperty) {
        this.refresh();
      }
    };
    ResizeObserverController2.getInstance = function() {
      if (!this.instance_) {
        this.instance_ = new ResizeObserverController2();
      }
      return this.instance_;
    };
    ResizeObserverController2.instance_ = null;
    return ResizeObserverController2;
  }()
);
var defineConfigurable = function(target, props) {
  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {
    var key = _a[_i];
    Object.defineProperty(target, key, {
      value: props[key],
      enumerable: false,
      writable: false,
      configurable: true
    });
  }
  return target;
};
var getWindowOf = function(target) {
  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;
  return ownerGlobal || global$1;
};
var emptyRect = createRectInit(0, 0, 0, 0);
function toFloat(value) {
  return parseFloat(value) || 0;
}
function getBordersSize(styles) {
  var positions = [];
  for (var _i = 1; _i < arguments.length; _i++) {
    positions[_i - 1] = arguments[_i];
  }
  return positions.reduce(function(size, position) {
    var value = styles["border-" + position + "-width"];
    return size + toFloat(value);
  }, 0);
}
function getPaddings(styles) {
  var positions = ["top", "right", "bottom", "left"];
  var paddings = {};
  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {
    var position = positions_1[_i];
    var value = styles["padding-" + position];
    paddings[position] = toFloat(value);
  }
  return paddings;
}
function getSVGContentRect(target) {
  var bbox = target.getBBox();
  return createRectInit(0, 0, bbox.width, bbox.height);
}
function getHTMLElementContentRect(target) {
  var clientWidth = target.clientWidth, clientHeight = target.clientHeight;
  if (!clientWidth && !clientHeight) {
    return emptyRect;
  }
  var styles = getWindowOf(target).getComputedStyle(target);
  var paddings = getPaddings(styles);
  var horizPad = paddings.left + paddings.right;
  var vertPad = paddings.top + paddings.bottom;
  var width = toFloat(styles.width), height = toFloat(styles.height);
  if (styles.boxSizing === "border-box") {
    if (Math.round(width + horizPad) !== clientWidth) {
      width -= getBordersSize(styles, "left", "right") + horizPad;
    }
    if (Math.round(height + vertPad) !== clientHeight) {
      height -= getBordersSize(styles, "top", "bottom") + vertPad;
    }
  }
  if (!isDocumentElement(target)) {
    var vertScrollbar = Math.round(width + horizPad) - clientWidth;
    var horizScrollbar = Math.round(height + vertPad) - clientHeight;
    if (Math.abs(vertScrollbar) !== 1) {
      width -= vertScrollbar;
    }
    if (Math.abs(horizScrollbar) !== 1) {
      height -= horizScrollbar;
    }
  }
  return createRectInit(paddings.left, paddings.top, width, height);
}
var isSVGGraphicsElement = function() {
  if (typeof SVGGraphicsElement !== "undefined") {
    return function(target) {
      return target instanceof getWindowOf(target).SVGGraphicsElement;
    };
  }
  return function(target) {
    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === "function";
  };
}();
function isDocumentElement(target) {
  return target === getWindowOf(target).document.documentElement;
}
function getContentRect(target) {
  if (!isBrowser) {
    return emptyRect;
  }
  if (isSVGGraphicsElement(target)) {
    return getSVGContentRect(target);
  }
  return getHTMLElementContentRect(target);
}
function createReadOnlyRect(_a) {
  var x2 = _a.x, y3 = _a.y, width = _a.width, height = _a.height;
  var Constr = typeof DOMRectReadOnly !== "undefined" ? DOMRectReadOnly : Object;
  var rect = Object.create(Constr.prototype);
  defineConfigurable(rect, {
    x: x2,
    y: y3,
    width,
    height,
    top: y3,
    right: x2 + width,
    bottom: height + y3,
    left: x2
  });
  return rect;
}
function createRectInit(x2, y3, width, height) {
  return { x: x2, y: y3, width, height };
}
var ResizeObservation = (
  /** @class */
  function() {
    function ResizeObservation2(target) {
      this.broadcastWidth = 0;
      this.broadcastHeight = 0;
      this.contentRect_ = createRectInit(0, 0, 0, 0);
      this.target = target;
    }
    ResizeObservation2.prototype.isActive = function() {
      var rect = getContentRect(this.target);
      this.contentRect_ = rect;
      return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;
    };
    ResizeObservation2.prototype.broadcastRect = function() {
      var rect = this.contentRect_;
      this.broadcastWidth = rect.width;
      this.broadcastHeight = rect.height;
      return rect;
    };
    return ResizeObservation2;
  }()
);
var ResizeObserverEntry = (
  /** @class */
  /* @__PURE__ */ function() {
    function ResizeObserverEntry2(target, rectInit) {
      var contentRect = createReadOnlyRect(rectInit);
      defineConfigurable(this, { target, contentRect });
    }
    return ResizeObserverEntry2;
  }()
);
var ResizeObserverSPI = (
  /** @class */
  function() {
    function ResizeObserverSPI2(callback, controller, callbackCtx) {
      this.activeObservations_ = [];
      this.observations_ = new MapShim();
      if (typeof callback !== "function") {
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      }
      this.callback_ = callback;
      this.controller_ = controller;
      this.callbackCtx_ = callbackCtx;
    }
    ResizeObserverSPI2.prototype.observe = function(target) {
      if (!arguments.length) {
        throw new TypeError("1 argument required, but only 0 present.");
      }
      if (typeof Element === "undefined" || !(Element instanceof Object)) {
        return;
      }
      if (!(target instanceof getWindowOf(target).Element)) {
        throw new TypeError('parameter 1 is not of type "Element".');
      }
      var observations = this.observations_;
      if (observations.has(target)) {
        return;
      }
      observations.set(target, new ResizeObservation(target));
      this.controller_.addObserver(this);
      this.controller_.refresh();
    };
    ResizeObserverSPI2.prototype.unobserve = function(target) {
      if (!arguments.length) {
        throw new TypeError("1 argument required, but only 0 present.");
      }
      if (typeof Element === "undefined" || !(Element instanceof Object)) {
        return;
      }
      if (!(target instanceof getWindowOf(target).Element)) {
        throw new TypeError('parameter 1 is not of type "Element".');
      }
      var observations = this.observations_;
      if (!observations.has(target)) {
        return;
      }
      observations.delete(target);
      if (!observations.size) {
        this.controller_.removeObserver(this);
      }
    };
    ResizeObserverSPI2.prototype.disconnect = function() {
      this.clearActive();
      this.observations_.clear();
      this.controller_.removeObserver(this);
    };
    ResizeObserverSPI2.prototype.gatherActive = function() {
      var _this = this;
      this.clearActive();
      this.observations_.forEach(function(observation) {
        if (observation.isActive()) {
          _this.activeObservations_.push(observation);
        }
      });
    };
    ResizeObserverSPI2.prototype.broadcastActive = function() {
      if (!this.hasActive()) {
        return;
      }
      var ctx = this.callbackCtx_;
      var entries = this.activeObservations_.map(function(observation) {
        return new ResizeObserverEntry(observation.target, observation.broadcastRect());
      });
      this.callback_.call(ctx, entries, ctx);
      this.clearActive();
    };
    ResizeObserverSPI2.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    };
    ResizeObserverSPI2.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    };
    return ResizeObserverSPI2;
  }()
);
var observers = typeof WeakMap !== "undefined" ? /* @__PURE__ */ new WeakMap() : new MapShim();
var ResizeObserver = (
  /** @class */
  /* @__PURE__ */ function() {
    function ResizeObserver3(callback) {
      if (!(this instanceof ResizeObserver3)) {
        throw new TypeError("Cannot call a class as a function.");
      }
      if (!arguments.length) {
        throw new TypeError("1 argument required, but only 0 present.");
      }
      var controller = ResizeObserverController.getInstance();
      var observer = new ResizeObserverSPI(callback, controller, this);
      observers.set(this, observer);
    }
    return ResizeObserver3;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(method) {
  ResizeObserver.prototype[method] = function() {
    var _a;
    return (_a = observers.get(this))[method].apply(_a, arguments);
  };
});
var index = function() {
  if (typeof global$1.ResizeObserver !== "undefined") {
    return global$1.ResizeObserver;
  }
  return ResizeObserver;
}();
var ResizeObserver_es_default = index;

// node_modules/rc-resize-observer/es/utils/observerUtil.js
var elementListeners = /* @__PURE__ */ new Map();
function onResize(entities) {
  entities.forEach(function(entity) {
    var _elementListeners$get;
    var target = entity.target;
    (_elementListeners$get = elementListeners.get(target)) === null || _elementListeners$get === void 0 || _elementListeners$get.forEach(function(listener) {
      return listener(target);
    });
  });
}
var resizeObserver = new ResizeObserver_es_default(onResize);
function observe(element, callback) {
  if (!elementListeners.has(element)) {
    elementListeners.set(element, /* @__PURE__ */ new Set());
    resizeObserver.observe(element);
  }
  elementListeners.get(element).add(callback);
}
function unobserve(element, callback) {
  if (elementListeners.has(element)) {
    elementListeners.get(element).delete(callback);
    if (!elementListeners.get(element).size) {
      resizeObserver.unobserve(element);
      elementListeners.delete(element);
    }
  }
}

// node_modules/rc-resize-observer/es/SingleObserver/DomWrapper.js
import * as React21 from "react";
var DomWrapper = /* @__PURE__ */ function(_React$Component) {
  _inherits(DomWrapper3, _React$Component);
  var _super = _createSuper(DomWrapper3);
  function DomWrapper3() {
    _classCallCheck(this, DomWrapper3);
    return _super.apply(this, arguments);
  }
  _createClass(DomWrapper3, [{
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return DomWrapper3;
}(React21.Component);

// node_modules/rc-resize-observer/es/SingleObserver/index.js
function SingleObserver(props, ref) {
  var children = props.children, disabled = props.disabled;
  var elementRef = React22.useRef(null);
  var wrapperRef = React22.useRef(null);
  var onCollectionResize = React22.useContext(CollectionContext);
  var isRenderProps = typeof children === "function";
  var mergedChildren = isRenderProps ? children(elementRef) : children;
  var sizeRef = React22.useRef({
    width: -1,
    height: -1,
    offsetWidth: -1,
    offsetHeight: -1
  });
  var canRef = !isRenderProps && /* @__PURE__ */ React22.isValidElement(mergedChildren) && supportRef(mergedChildren);
  var originRef = canRef ? getNodeRef(mergedChildren) : null;
  var mergedRef = useComposeRef(originRef, elementRef);
  var getDom = function getDom2() {
    var _elementRef$current;
    return findDOMNode(elementRef.current) || // Support `nativeElement` format
    (elementRef.current && _typeof(elementRef.current) === "object" ? findDOMNode((_elementRef$current = elementRef.current) === null || _elementRef$current === void 0 ? void 0 : _elementRef$current.nativeElement) : null) || findDOMNode(wrapperRef.current);
  };
  React22.useImperativeHandle(ref, function() {
    return getDom();
  });
  var propsRef = React22.useRef(props);
  propsRef.current = props;
  var onInternalResize = React22.useCallback(function(target) {
    var _propsRef$current = propsRef.current, onResize2 = _propsRef$current.onResize, data = _propsRef$current.data;
    var _target$getBoundingCl = target.getBoundingClientRect(), width = _target$getBoundingCl.width, height = _target$getBoundingCl.height;
    var offsetWidth = target.offsetWidth, offsetHeight = target.offsetHeight;
    var fixedWidth = Math.floor(width);
    var fixedHeight = Math.floor(height);
    if (sizeRef.current.width !== fixedWidth || sizeRef.current.height !== fixedHeight || sizeRef.current.offsetWidth !== offsetWidth || sizeRef.current.offsetHeight !== offsetHeight) {
      var size = {
        width: fixedWidth,
        height: fixedHeight,
        offsetWidth,
        offsetHeight
      };
      sizeRef.current = size;
      var mergedOffsetWidth = offsetWidth === Math.round(width) ? width : offsetWidth;
      var mergedOffsetHeight = offsetHeight === Math.round(height) ? height : offsetHeight;
      var sizeInfo = _objectSpread2(_objectSpread2({}, size), {}, {
        offsetWidth: mergedOffsetWidth,
        offsetHeight: mergedOffsetHeight
      });
      onCollectionResize === null || onCollectionResize === void 0 || onCollectionResize(sizeInfo, target, data);
      if (onResize2) {
        Promise.resolve().then(function() {
          onResize2(sizeInfo, target);
        });
      }
    }
  }, []);
  React22.useEffect(function() {
    var currentElement = getDom();
    if (currentElement && !disabled) {
      observe(currentElement, onInternalResize);
    }
    return function() {
      return unobserve(currentElement, onInternalResize);
    };
  }, [elementRef.current, disabled]);
  return /* @__PURE__ */ React22.createElement(DomWrapper, {
    ref: wrapperRef
  }, canRef ? /* @__PURE__ */ React22.cloneElement(mergedChildren, {
    ref: mergedRef
  }) : mergedChildren);
}
var RefSingleObserver = /* @__PURE__ */ React22.forwardRef(SingleObserver);
if (true) {
  RefSingleObserver.displayName = "SingleObserver";
}
var SingleObserver_default = RefSingleObserver;

// node_modules/rc-resize-observer/es/index.js
var INTERNAL_PREFIX_KEY = "rc-observer-key";
function ResizeObserver2(props, ref) {
  var children = props.children;
  var childNodes = typeof children === "function" ? [children] : toArray(children);
  if (true) {
    if (childNodes.length > 1) {
      warning(false, "Find more than one child node with `children` in ResizeObserver. Please use ResizeObserver.Collection instead.");
    } else if (childNodes.length === 0) {
      warning(false, "`children` of ResizeObserver is empty. Nothing is in observe.");
    }
  }
  return childNodes.map(function(child, index2) {
    var key = (child === null || child === void 0 ? void 0 : child.key) || "".concat(INTERNAL_PREFIX_KEY, "-").concat(index2);
    return /* @__PURE__ */ React23.createElement(SingleObserver_default, _extends({}, props, {
      key,
      ref: index2 === 0 ? ref : void 0
    }), child);
  });
}
var RefResizeObserver = /* @__PURE__ */ React23.forwardRef(ResizeObserver2);
if (true) {
  RefResizeObserver.displayName = "ResizeObserver";
}
RefResizeObserver.Collection = Collection;
var es_default = RefResizeObserver;

// node_modules/rc-util/es/hooks/useEvent.js
import * as React24 from "react";
function useEvent(callback) {
  var fnRef = React24.useRef();
  fnRef.current = callback;
  var memoFn = React24.useCallback(function() {
    var _fnRef$current;
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    return (_fnRef$current = fnRef.current) === null || _fnRef$current === void 0 ? void 0 : _fnRef$current.call.apply(_fnRef$current, [fnRef].concat(args));
  }, []);
  return memoFn;
}

// node_modules/rc-util/es/hooks/useState.js
import * as React25 from "react";
function useSafeState(defaultValue) {
  var destroyRef = React25.useRef(false);
  var _React$useState = React25.useState(defaultValue), _React$useState2 = _slicedToArray(_React$useState, 2), value = _React$useState2[0], setValue = _React$useState2[1];
  React25.useEffect(function() {
    destroyRef.current = false;
    return function() {
      destroyRef.current = true;
    };
  }, []);
  function safeSetState(updater, ignoreDestroy) {
    if (ignoreDestroy && destroyRef.current) {
      return;
    }
    setValue(updater);
  }
  return [value, safeSetState];
}

// node_modules/rc-virtual-list/es/List.js
import * as React35 from "react";
import { useRef as useRef14, useState as useState13 } from "react";
import { flushSync } from "react-dom";

// node_modules/rc-virtual-list/es/Filler.js
import * as React26 from "react";
var import_classnames = __toESM(require_classnames());
var Filler = /* @__PURE__ */ React26.forwardRef(function(_ref, ref) {
  var height = _ref.height, offsetY = _ref.offsetY, offsetX = _ref.offsetX, children = _ref.children, prefixCls = _ref.prefixCls, onInnerResize = _ref.onInnerResize, innerProps = _ref.innerProps, rtl = _ref.rtl, extra = _ref.extra;
  var outerStyle = {};
  var innerStyle = {
    display: "flex",
    flexDirection: "column"
  };
  if (offsetY !== void 0) {
    outerStyle = {
      height,
      position: "relative",
      overflow: "hidden"
    };
    innerStyle = _objectSpread2(_objectSpread2({}, innerStyle), {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty({
      transform: "translateY(".concat(offsetY, "px)")
    }, rtl ? "marginRight" : "marginLeft", -offsetX), "position", "absolute"), "left", 0), "right", 0), "top", 0));
  }
  return /* @__PURE__ */ React26.createElement("div", {
    style: outerStyle
  }, /* @__PURE__ */ React26.createElement(es_default, {
    onResize: function onResize2(_ref2) {
      var offsetHeight = _ref2.offsetHeight;
      if (offsetHeight && onInnerResize) {
        onInnerResize();
      }
    }
  }, /* @__PURE__ */ React26.createElement("div", _extends({
    style: innerStyle,
    className: (0, import_classnames.default)(_defineProperty({}, "".concat(prefixCls, "-holder-inner"), prefixCls)),
    ref
  }, innerProps), children, extra)));
});
Filler.displayName = "Filler";
var Filler_default = Filler;

// node_modules/rc-virtual-list/es/hooks/useChildren.js
import * as React28 from "react";

// node_modules/rc-virtual-list/es/Item.js
import * as React27 from "react";
function Item(_ref) {
  var children = _ref.children, setRef = _ref.setRef;
  var refFunc = React27.useCallback(function(node) {
    setRef(node);
  }, []);
  return /* @__PURE__ */ React27.cloneElement(children, {
    ref: refFunc
  });
}

// node_modules/rc-virtual-list/es/hooks/useChildren.js
function useChildren(list, startIndex, endIndex, scrollWidth, offsetX, setNodeRef, renderFunc, _ref) {
  var getKey2 = _ref.getKey;
  return list.slice(startIndex, endIndex + 1).map(function(item, index2) {
    var eleIndex = startIndex + index2;
    var node = renderFunc(item, eleIndex, {
      style: {
        width: scrollWidth
      },
      offsetX
    });
    var key = getKey2(item);
    return /* @__PURE__ */ React28.createElement(Item, {
      key,
      setRef: function setRef(ele) {
        return setNodeRef(item, ele);
      }
    }, node);
  });
}

// node_modules/rc-virtual-list/es/hooks/useDiffItem.js
import * as React29 from "react";

// node_modules/rc-virtual-list/es/utils/algorithmUtil.js
function findListDiffIndex(originList, targetList, getKey2) {
  var originLen = originList.length;
  var targetLen = targetList.length;
  var shortList;
  var longList;
  if (originLen === 0 && targetLen === 0) {
    return null;
  }
  if (originLen < targetLen) {
    shortList = originList;
    longList = targetList;
  } else {
    shortList = targetList;
    longList = originList;
  }
  var notExistKey = {
    __EMPTY_ITEM__: true
  };
  function getItemKey(item) {
    if (item !== void 0) {
      return getKey2(item);
    }
    return notExistKey;
  }
  var diffIndex = null;
  var multiple = Math.abs(originLen - targetLen) !== 1;
  for (var i2 = 0; i2 < longList.length; i2 += 1) {
    var shortKey = getItemKey(shortList[i2]);
    var longKey = getItemKey(longList[i2]);
    if (shortKey !== longKey) {
      diffIndex = i2;
      multiple = multiple || shortKey !== getItemKey(longList[i2 + 1]);
      break;
    }
  }
  return diffIndex === null ? null : {
    index: diffIndex,
    multiple
  };
}

// node_modules/rc-virtual-list/es/hooks/useDiffItem.js
function useDiffItem(data, getKey2, onDiff) {
  var _React$useState = React29.useState(data), _React$useState2 = _slicedToArray(_React$useState, 2), prevData = _React$useState2[0], setPrevData = _React$useState2[1];
  var _React$useState3 = React29.useState(null), _React$useState4 = _slicedToArray(_React$useState3, 2), diffItem = _React$useState4[0], setDiffItem = _React$useState4[1];
  React29.useEffect(function() {
    var diff = findListDiffIndex(prevData || [], data || [], getKey2);
    if ((diff === null || diff === void 0 ? void 0 : diff.index) !== void 0) {
      onDiff === null || onDiff === void 0 || onDiff(diff.index);
      setDiffItem(data[diff.index]);
    }
    setPrevData(data);
  }, [data]);
  return [diffItem];
}

// node_modules/rc-util/es/raf.js
var raf = function raf2(callback) {
  return +setTimeout(callback, 16);
};
var caf = function caf2(num) {
  return clearTimeout(num);
};
if (typeof window !== "undefined" && "requestAnimationFrame" in window) {
  raf = function raf3(callback) {
    return window.requestAnimationFrame(callback);
  };
  caf = function caf3(handle) {
    return window.cancelAnimationFrame(handle);
  };
}
var rafUUID = 0;
var rafIds = /* @__PURE__ */ new Map();
function cleanup(id) {
  rafIds.delete(id);
}
var wrapperRaf = function wrapperRaf2(callback) {
  var times = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 1;
  rafUUID += 1;
  var id = rafUUID;
  function callRef(leftTimes) {
    if (leftTimes === 0) {
      cleanup(id);
      callback();
    } else {
      var realId = raf(function() {
        callRef(leftTimes - 1);
      });
      rafIds.set(id, realId);
    }
  }
  callRef(times);
  return id;
};
wrapperRaf.cancel = function(id) {
  var realId = rafIds.get(id);
  cleanup(id);
  return caf(realId);
};
if (true) {
  wrapperRaf.ids = function() {
    return rafIds;
  };
}
var raf_default = wrapperRaf;

// node_modules/rc-virtual-list/es/hooks/useFrameWheel.js
import { useRef as useRef9 } from "react";

// node_modules/rc-virtual-list/es/utils/isFirefox.js
var isFF = (typeof navigator === "undefined" ? "undefined" : _typeof(navigator)) === "object" && /Firefox/i.test(navigator.userAgent);
var isFirefox_default = isFF;

// node_modules/rc-virtual-list/es/hooks/useOriginScroll.js
import { useRef as useRef8 } from "react";
var useOriginScroll_default = function(isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight) {
  var lockRef = useRef8(false);
  var lockTimeoutRef = useRef8(null);
  function lockScroll() {
    clearTimeout(lockTimeoutRef.current);
    lockRef.current = true;
    lockTimeoutRef.current = setTimeout(function() {
      lockRef.current = false;
    }, 50);
  }
  var scrollPingRef = useRef8({
    top: isScrollAtTop,
    bottom: isScrollAtBottom,
    left: isScrollAtLeft,
    right: isScrollAtRight
  });
  scrollPingRef.current.top = isScrollAtTop;
  scrollPingRef.current.bottom = isScrollAtBottom;
  scrollPingRef.current.left = isScrollAtLeft;
  scrollPingRef.current.right = isScrollAtRight;
  return function(isHorizontal, delta) {
    var smoothOffset = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
    var originScroll = isHorizontal ? (
      // Pass origin wheel when on the left
      delta < 0 && scrollPingRef.current.left || // Pass origin wheel when on the right
      delta > 0 && scrollPingRef.current.right
    ) : delta < 0 && scrollPingRef.current.top || // Pass origin wheel when on the bottom
    delta > 0 && scrollPingRef.current.bottom;
    if (smoothOffset && originScroll) {
      clearTimeout(lockTimeoutRef.current);
      lockRef.current = false;
    } else if (!originScroll || lockRef.current) {
      lockScroll();
    }
    return !lockRef.current && originScroll;
  };
};

// node_modules/rc-virtual-list/es/hooks/useFrameWheel.js
function useFrameWheel(inVirtual, isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight, horizontalScroll, onWheelDelta) {
  var offsetRef = useRef9(0);
  var nextFrameRef = useRef9(null);
  var wheelValueRef = useRef9(null);
  var isMouseScrollRef = useRef9(false);
  var originScroll = useOriginScroll_default(isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight);
  function onWheelY(e2, deltaY) {
    raf_default.cancel(nextFrameRef.current);
    if (originScroll(false, deltaY)) return;
    var event = e2;
    if (!event._virtualHandled) {
      event._virtualHandled = true;
    } else {
      return;
    }
    offsetRef.current += deltaY;
    wheelValueRef.current = deltaY;
    if (!isFirefox_default) {
      event.preventDefault();
    }
    nextFrameRef.current = raf_default(function() {
      var patchMultiple = isMouseScrollRef.current ? 10 : 1;
      onWheelDelta(offsetRef.current * patchMultiple, false);
      offsetRef.current = 0;
    });
  }
  function onWheelX(event, deltaX) {
    onWheelDelta(deltaX, true);
    if (!isFirefox_default) {
      event.preventDefault();
    }
  }
  var wheelDirectionRef = useRef9(null);
  var wheelDirectionCleanRef = useRef9(null);
  function onWheel(event) {
    if (!inVirtual) return;
    raf_default.cancel(wheelDirectionCleanRef.current);
    wheelDirectionCleanRef.current = raf_default(function() {
      wheelDirectionRef.current = null;
    }, 2);
    var deltaX = event.deltaX, deltaY = event.deltaY, shiftKey = event.shiftKey;
    var mergedDeltaX = deltaX;
    var mergedDeltaY = deltaY;
    if (wheelDirectionRef.current === "sx" || !wheelDirectionRef.current && (shiftKey || false) && deltaY && !deltaX) {
      mergedDeltaX = deltaY;
      mergedDeltaY = 0;
      wheelDirectionRef.current = "sx";
    }
    var absX = Math.abs(mergedDeltaX);
    var absY = Math.abs(mergedDeltaY);
    if (wheelDirectionRef.current === null) {
      wheelDirectionRef.current = horizontalScroll && absX > absY ? "x" : "y";
    }
    if (wheelDirectionRef.current === "y") {
      onWheelY(event, mergedDeltaY);
    } else {
      onWheelX(event, mergedDeltaX);
    }
  }
  function onFireFoxScroll(event) {
    if (!inVirtual) return;
    isMouseScrollRef.current = event.detail === wheelValueRef.current;
  }
  return [onWheel, onFireFoxScroll];
}

// node_modules/rc-virtual-list/es/hooks/useGetSize.js
import * as React30 from "react";
function useGetSize(mergedData, getKey2, heights, itemHeight) {
  var _React$useMemo = React30.useMemo(function() {
    return [/* @__PURE__ */ new Map(), []];
  }, [mergedData, heights.id, itemHeight]), _React$useMemo2 = _slicedToArray(_React$useMemo, 2), key2Index = _React$useMemo2[0], bottomList = _React$useMemo2[1];
  var getSize = function getSize2(startKey) {
    var endKey = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : startKey;
    var startIndex = key2Index.get(startKey);
    var endIndex = key2Index.get(endKey);
    if (startIndex === void 0 || endIndex === void 0) {
      var dataLen = mergedData.length;
      for (var i2 = bottomList.length; i2 < dataLen; i2 += 1) {
        var _heights$get;
        var item = mergedData[i2];
        var key = getKey2(item);
        key2Index.set(key, i2);
        var cacheHeight = (_heights$get = heights.get(key)) !== null && _heights$get !== void 0 ? _heights$get : itemHeight;
        bottomList[i2] = (bottomList[i2 - 1] || 0) + cacheHeight;
        if (key === startKey) {
          startIndex = i2;
        }
        if (key === endKey) {
          endIndex = i2;
        }
        if (startIndex !== void 0 && endIndex !== void 0) {
          break;
        }
      }
    }
    return {
      top: bottomList[startIndex - 1] || 0,
      bottom: bottomList[endIndex]
    };
  };
  return getSize;
}

// node_modules/rc-virtual-list/es/hooks/useHeights.js
import * as React31 from "react";
import { useEffect as useEffect9, useRef as useRef10 } from "react";

// node_modules/rc-virtual-list/es/utils/CacheMap.js
var CacheMap = /* @__PURE__ */ function() {
  function CacheMap2() {
    _classCallCheck(this, CacheMap2);
    _defineProperty(this, "maps", void 0);
    _defineProperty(this, "id", 0);
    _defineProperty(this, "diffKeys", /* @__PURE__ */ new Set());
    this.maps = /* @__PURE__ */ Object.create(null);
  }
  _createClass(CacheMap2, [{
    key: "set",
    value: function set2(key, value) {
      this.maps[key] = value;
      this.id += 1;
      this.diffKeys.add(key);
    }
  }, {
    key: "get",
    value: function get2(key) {
      return this.maps[key];
    }
    /**
     * CacheMap will record the key changed.
     * To help to know what's update in the next render.
     */
  }, {
    key: "resetRecord",
    value: function resetRecord() {
      this.diffKeys.clear();
    }
  }, {
    key: "getRecord",
    value: function getRecord() {
      return this.diffKeys;
    }
  }]);
  return CacheMap2;
}();
var CacheMap_default = CacheMap;

// node_modules/rc-virtual-list/es/hooks/useHeights.js
function parseNumber(value) {
  var num = parseFloat(value);
  return isNaN(num) ? 0 : num;
}
function useHeights(getKey2, onItemAdd, onItemRemove) {
  var _React$useState = React31.useState(0), _React$useState2 = _slicedToArray(_React$useState, 2), updatedMark = _React$useState2[0], setUpdatedMark = _React$useState2[1];
  var instanceRef = useRef10(/* @__PURE__ */ new Map());
  var heightsRef = useRef10(new CacheMap_default());
  var promiseIdRef = useRef10(0);
  function cancelRaf() {
    promiseIdRef.current += 1;
  }
  function collectHeight() {
    var sync = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : false;
    cancelRaf();
    var doCollect = function doCollect2() {
      var changed = false;
      instanceRef.current.forEach(function(element, key) {
        if (element && element.offsetParent) {
          var htmlElement = findDOMNode(element);
          var offsetHeight = htmlElement.offsetHeight;
          var _getComputedStyle = getComputedStyle(htmlElement), marginTop = _getComputedStyle.marginTop, marginBottom = _getComputedStyle.marginBottom;
          var marginTopNum = parseNumber(marginTop);
          var marginBottomNum = parseNumber(marginBottom);
          var totalHeight = offsetHeight + marginTopNum + marginBottomNum;
          if (heightsRef.current.get(key) !== totalHeight) {
            heightsRef.current.set(key, totalHeight);
            changed = true;
          }
        }
      });
      if (changed) {
        setUpdatedMark(function(c2) {
          return c2 + 1;
        });
      }
    };
    if (sync) {
      doCollect();
    } else {
      promiseIdRef.current += 1;
      var id = promiseIdRef.current;
      Promise.resolve().then(function() {
        if (id === promiseIdRef.current) {
          doCollect();
        }
      });
    }
  }
  function setInstanceRef(item, instance) {
    var key = getKey2(item);
    var origin = instanceRef.current.get(key);
    if (instance) {
      instanceRef.current.set(key, instance);
      collectHeight();
    } else {
      instanceRef.current.delete(key);
    }
    if (!origin !== !instance) {
      if (instance) {
        onItemAdd === null || onItemAdd === void 0 || onItemAdd(item);
      } else {
        onItemRemove === null || onItemRemove === void 0 || onItemRemove(item);
      }
    }
  }
  useEffect9(function() {
    return cancelRaf;
  }, []);
  return [setInstanceRef, collectHeight, heightsRef.current, updatedMark];
}

// node_modules/rc-virtual-list/es/hooks/useMobileTouchMove.js
import { useRef as useRef11 } from "react";
var SMOOTH_PTG = 14 / 15;
function useMobileTouchMove(inVirtual, listRef, callback) {
  var touchedRef = useRef11(false);
  var touchXRef = useRef11(0);
  var touchYRef = useRef11(0);
  var elementRef = useRef11(null);
  var intervalRef = useRef11(null);
  var cleanUpEvents;
  var onTouchMove = function onTouchMove2(e2) {
    if (touchedRef.current) {
      var currentX = Math.ceil(e2.touches[0].pageX);
      var currentY = Math.ceil(e2.touches[0].pageY);
      var offsetX = touchXRef.current - currentX;
      var offsetY = touchYRef.current - currentY;
      var _isHorizontal = Math.abs(offsetX) > Math.abs(offsetY);
      if (_isHorizontal) {
        touchXRef.current = currentX;
      } else {
        touchYRef.current = currentY;
      }
      var scrollHandled = callback(_isHorizontal, _isHorizontal ? offsetX : offsetY, false, e2);
      if (scrollHandled) {
        e2.preventDefault();
      }
      clearInterval(intervalRef.current);
      if (scrollHandled) {
        intervalRef.current = setInterval(function() {
          if (_isHorizontal) {
            offsetX *= SMOOTH_PTG;
          } else {
            offsetY *= SMOOTH_PTG;
          }
          var offset = Math.floor(_isHorizontal ? offsetX : offsetY);
          if (!callback(_isHorizontal, offset, true) || Math.abs(offset) <= 0.1) {
            clearInterval(intervalRef.current);
          }
        }, 16);
      }
    }
  };
  var onTouchEnd = function onTouchEnd2() {
    touchedRef.current = false;
    cleanUpEvents();
  };
  var onTouchStart = function onTouchStart2(e2) {
    cleanUpEvents();
    if (e2.touches.length === 1 && !touchedRef.current) {
      touchedRef.current = true;
      touchXRef.current = Math.ceil(e2.touches[0].pageX);
      touchYRef.current = Math.ceil(e2.touches[0].pageY);
      elementRef.current = e2.target;
      elementRef.current.addEventListener("touchmove", onTouchMove, {
        passive: false
      });
      elementRef.current.addEventListener("touchend", onTouchEnd, {
        passive: true
      });
    }
  };
  cleanUpEvents = function cleanUpEvents2() {
    if (elementRef.current) {
      elementRef.current.removeEventListener("touchmove", onTouchMove);
      elementRef.current.removeEventListener("touchend", onTouchEnd);
    }
  };
  useLayoutEffect_default(function() {
    if (inVirtual) {
      listRef.current.addEventListener("touchstart", onTouchStart, {
        passive: true
      });
    }
    return function() {
      var _listRef$current;
      (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.removeEventListener("touchstart", onTouchStart);
      cleanUpEvents();
      clearInterval(intervalRef.current);
    };
  }, [inVirtual]);
}

// node_modules/rc-virtual-list/es/hooks/useScrollDrag.js
import * as React32 from "react";
function smoothScrollOffset(offset) {
  return Math.floor(Math.pow(offset, 0.5));
}
function getPageXY(e2, horizontal) {
  var obj = "touches" in e2 ? e2.touches[0] : e2;
  return obj[horizontal ? "pageX" : "pageY"] - window[horizontal ? "scrollX" : "scrollY"];
}
function useScrollDrag(inVirtual, componentRef, onScrollOffset) {
  React32.useEffect(function() {
    var ele = componentRef.current;
    if (inVirtual && ele) {
      var mouseDownLock = false;
      var rafId;
      var _offset;
      var stopScroll = function stopScroll2() {
        raf_default.cancel(rafId);
      };
      var continueScroll = function continueScroll2() {
        stopScroll();
        rafId = raf_default(function() {
          onScrollOffset(_offset);
          continueScroll2();
        });
      };
      var onMouseDown = function onMouseDown2(e2) {
        var event = e2;
        if (!event._virtualHandled) {
          event._virtualHandled = true;
          mouseDownLock = true;
        }
      };
      var onMouseUp = function onMouseUp2() {
        mouseDownLock = false;
        stopScroll();
      };
      var onMouseMove = function onMouseMove2(e2) {
        if (mouseDownLock) {
          var mouseY = getPageXY(e2, false);
          var _ele$getBoundingClien = ele.getBoundingClientRect(), top = _ele$getBoundingClien.top, bottom = _ele$getBoundingClien.bottom;
          if (mouseY <= top) {
            var diff = top - mouseY;
            _offset = -smoothScrollOffset(diff);
            continueScroll();
          } else if (mouseY >= bottom) {
            var _diff = mouseY - bottom;
            _offset = smoothScrollOffset(_diff);
            continueScroll();
          } else {
            stopScroll();
          }
        }
      };
      ele.addEventListener("mousedown", onMouseDown);
      ele.ownerDocument.addEventListener("mouseup", onMouseUp);
      ele.ownerDocument.addEventListener("mousemove", onMouseMove);
      return function() {
        ele.removeEventListener("mousedown", onMouseDown);
        ele.ownerDocument.removeEventListener("mouseup", onMouseUp);
        ele.ownerDocument.removeEventListener("mousemove", onMouseMove);
        stopScroll();
      };
    }
  }, [inVirtual]);
}

// node_modules/rc-virtual-list/es/hooks/useScrollTo.js
import * as React33 from "react";
var MAX_TIMES = 10;
function useScrollTo(containerRef, data, heights, itemHeight, getKey2, collectHeight, syncScrollTop, triggerFlash) {
  var scrollRef = React33.useRef();
  var _React$useState = React33.useState(null), _React$useState2 = _slicedToArray(_React$useState, 2), syncState = _React$useState2[0], setSyncState = _React$useState2[1];
  useLayoutEffect_default(function() {
    if (syncState && syncState.times < MAX_TIMES) {
      if (!containerRef.current) {
        setSyncState(function(ori) {
          return _objectSpread2({}, ori);
        });
        return;
      }
      collectHeight();
      var targetAlign = syncState.targetAlign, originAlign = syncState.originAlign, index2 = syncState.index, offset = syncState.offset;
      var height = containerRef.current.clientHeight;
      var needCollectHeight = false;
      var newTargetAlign = targetAlign;
      var targetTop = null;
      if (height) {
        var mergedAlign = targetAlign || originAlign;
        var stackTop = 0;
        var itemTop = 0;
        var itemBottom = 0;
        var maxLen = Math.min(data.length - 1, index2);
        for (var i2 = 0; i2 <= maxLen; i2 += 1) {
          var key = getKey2(data[i2]);
          itemTop = stackTop;
          var cacheHeight = heights.get(key);
          itemBottom = itemTop + (cacheHeight === void 0 ? itemHeight : cacheHeight);
          stackTop = itemBottom;
        }
        var leftHeight = mergedAlign === "top" ? offset : height - offset;
        for (var _i = maxLen; _i >= 0; _i -= 1) {
          var _key = getKey2(data[_i]);
          var _cacheHeight = heights.get(_key);
          if (_cacheHeight === void 0) {
            needCollectHeight = true;
            break;
          }
          leftHeight -= _cacheHeight;
          if (leftHeight <= 0) {
            break;
          }
        }
        switch (mergedAlign) {
          case "top":
            targetTop = itemTop - offset;
            break;
          case "bottom":
            targetTop = itemBottom - height + offset;
            break;
          default: {
            var scrollTop = containerRef.current.scrollTop;
            var scrollBottom = scrollTop + height;
            if (itemTop < scrollTop) {
              newTargetAlign = "top";
            } else if (itemBottom > scrollBottom) {
              newTargetAlign = "bottom";
            }
          }
        }
        if (targetTop !== null) {
          syncScrollTop(targetTop);
        }
        if (targetTop !== syncState.lastTop) {
          needCollectHeight = true;
        }
      }
      if (needCollectHeight) {
        setSyncState(_objectSpread2(_objectSpread2({}, syncState), {}, {
          times: syncState.times + 1,
          targetAlign: newTargetAlign,
          lastTop: targetTop
        }));
      }
    } else if ((syncState === null || syncState === void 0 ? void 0 : syncState.times) === MAX_TIMES) {
      warning_default(false, "Seems `scrollTo` with `rc-virtual-list` reach the max limitation. Please fire issue for us. Thanks.");
    }
  }, [syncState, containerRef.current]);
  return function(arg) {
    if (arg === null || arg === void 0) {
      triggerFlash();
      return;
    }
    raf_default.cancel(scrollRef.current);
    if (typeof arg === "number") {
      syncScrollTop(arg);
    } else if (arg && _typeof(arg) === "object") {
      var index2;
      var align = arg.align;
      if ("index" in arg) {
        index2 = arg.index;
      } else {
        index2 = data.findIndex(function(item) {
          return getKey2(item) === arg.key;
        });
      }
      var _arg$offset = arg.offset, offset = _arg$offset === void 0 ? 0 : _arg$offset;
      setSyncState({
        times: 0,
        index: index2,
        offset,
        originAlign: align
      });
    }
  };
}

// node_modules/rc-virtual-list/es/ScrollBar.js
var import_classnames2 = __toESM(require_classnames());
import * as React34 from "react";
var ScrollBar = /* @__PURE__ */ React34.forwardRef(function(props, ref) {
  var prefixCls = props.prefixCls, rtl = props.rtl, scrollOffset = props.scrollOffset, scrollRange = props.scrollRange, onStartMove = props.onStartMove, onStopMove = props.onStopMove, onScroll = props.onScroll, horizontal = props.horizontal, spinSize = props.spinSize, containerSize = props.containerSize, style2 = props.style, propsThumbStyle = props.thumbStyle, showScrollBar = props.showScrollBar;
  var _React$useState = React34.useState(false), _React$useState2 = _slicedToArray(_React$useState, 2), dragging = _React$useState2[0], setDragging = _React$useState2[1];
  var _React$useState3 = React34.useState(null), _React$useState4 = _slicedToArray(_React$useState3, 2), pageXY = _React$useState4[0], setPageXY = _React$useState4[1];
  var _React$useState5 = React34.useState(null), _React$useState6 = _slicedToArray(_React$useState5, 2), startTop = _React$useState6[0], setStartTop = _React$useState6[1];
  var isLTR = !rtl;
  var scrollbarRef = React34.useRef();
  var thumbRef = React34.useRef();
  var _React$useState7 = React34.useState(showScrollBar), _React$useState8 = _slicedToArray(_React$useState7, 2), visible = _React$useState8[0], setVisible = _React$useState8[1];
  var visibleTimeoutRef = React34.useRef();
  var delayHidden = function delayHidden2() {
    if (showScrollBar === true || showScrollBar === false) return;
    clearTimeout(visibleTimeoutRef.current);
    setVisible(true);
    visibleTimeoutRef.current = setTimeout(function() {
      setVisible(false);
    }, 3e3);
  };
  var enableScrollRange = scrollRange - containerSize || 0;
  var enableOffsetRange = containerSize - spinSize || 0;
  var top = React34.useMemo(function() {
    if (scrollOffset === 0 || enableScrollRange === 0) {
      return 0;
    }
    var ptg = scrollOffset / enableScrollRange;
    return ptg * enableOffsetRange;
  }, [scrollOffset, enableScrollRange, enableOffsetRange]);
  var onContainerMouseDown = function onContainerMouseDown2(e2) {
    e2.stopPropagation();
    e2.preventDefault();
  };
  var stateRef = React34.useRef({
    top,
    dragging,
    pageY: pageXY,
    startTop
  });
  stateRef.current = {
    top,
    dragging,
    pageY: pageXY,
    startTop
  };
  var onThumbMouseDown = function onThumbMouseDown2(e2) {
    setDragging(true);
    setPageXY(getPageXY(e2, horizontal));
    setStartTop(stateRef.current.top);
    onStartMove();
    e2.stopPropagation();
    e2.preventDefault();
  };
  React34.useEffect(function() {
    var onScrollbarTouchStart = function onScrollbarTouchStart2(e2) {
      e2.preventDefault();
    };
    var scrollbarEle = scrollbarRef.current;
    var thumbEle = thumbRef.current;
    scrollbarEle.addEventListener("touchstart", onScrollbarTouchStart, {
      passive: false
    });
    thumbEle.addEventListener("touchstart", onThumbMouseDown, {
      passive: false
    });
    return function() {
      scrollbarEle.removeEventListener("touchstart", onScrollbarTouchStart);
      thumbEle.removeEventListener("touchstart", onThumbMouseDown);
    };
  }, []);
  var enableScrollRangeRef = React34.useRef();
  enableScrollRangeRef.current = enableScrollRange;
  var enableOffsetRangeRef = React34.useRef();
  enableOffsetRangeRef.current = enableOffsetRange;
  React34.useEffect(function() {
    if (dragging) {
      var moveRafId;
      var onMouseMove = function onMouseMove2(e2) {
        var _stateRef$current = stateRef.current, stateDragging = _stateRef$current.dragging, statePageY = _stateRef$current.pageY, stateStartTop = _stateRef$current.startTop;
        raf_default.cancel(moveRafId);
        var rect = scrollbarRef.current.getBoundingClientRect();
        var scale = containerSize / (horizontal ? rect.width : rect.height);
        if (stateDragging) {
          var offset = (getPageXY(e2, horizontal) - statePageY) * scale;
          var newTop = stateStartTop;
          if (!isLTR && horizontal) {
            newTop -= offset;
          } else {
            newTop += offset;
          }
          var tmpEnableScrollRange = enableScrollRangeRef.current;
          var tmpEnableOffsetRange = enableOffsetRangeRef.current;
          var ptg = tmpEnableOffsetRange ? newTop / tmpEnableOffsetRange : 0;
          var newScrollTop = Math.ceil(ptg * tmpEnableScrollRange);
          newScrollTop = Math.max(newScrollTop, 0);
          newScrollTop = Math.min(newScrollTop, tmpEnableScrollRange);
          moveRafId = raf_default(function() {
            onScroll(newScrollTop, horizontal);
          });
        }
      };
      var onMouseUp = function onMouseUp2() {
        setDragging(false);
        onStopMove();
      };
      window.addEventListener("mousemove", onMouseMove, {
        passive: true
      });
      window.addEventListener("touchmove", onMouseMove, {
        passive: true
      });
      window.addEventListener("mouseup", onMouseUp, {
        passive: true
      });
      window.addEventListener("touchend", onMouseUp, {
        passive: true
      });
      return function() {
        window.removeEventListener("mousemove", onMouseMove);
        window.removeEventListener("touchmove", onMouseMove);
        window.removeEventListener("mouseup", onMouseUp);
        window.removeEventListener("touchend", onMouseUp);
        raf_default.cancel(moveRafId);
      };
    }
  }, [dragging]);
  React34.useEffect(function() {
    delayHidden();
    return function() {
      clearTimeout(visibleTimeoutRef.current);
    };
  }, [scrollOffset]);
  React34.useImperativeHandle(ref, function() {
    return {
      delayHidden
    };
  });
  var scrollbarPrefixCls = "".concat(prefixCls, "-scrollbar");
  var containerStyle = {
    position: "absolute",
    visibility: visible ? null : "hidden"
  };
  var thumbStyle = {
    position: "absolute",
    background: "rgba(0, 0, 0, 0.5)",
    borderRadius: 99,
    cursor: "pointer",
    userSelect: "none"
  };
  if (horizontal) {
    containerStyle.height = 8;
    containerStyle.left = 0;
    containerStyle.right = 0;
    containerStyle.bottom = 0;
    thumbStyle.height = "100%";
    thumbStyle.width = spinSize;
    if (isLTR) {
      thumbStyle.left = top;
    } else {
      thumbStyle.right = top;
    }
  } else {
    containerStyle.width = 8;
    containerStyle.top = 0;
    containerStyle.bottom = 0;
    if (isLTR) {
      containerStyle.right = 0;
    } else {
      containerStyle.left = 0;
    }
    thumbStyle.width = "100%";
    thumbStyle.height = spinSize;
    thumbStyle.top = top;
  }
  return /* @__PURE__ */ React34.createElement("div", {
    ref: scrollbarRef,
    className: (0, import_classnames2.default)(scrollbarPrefixCls, _defineProperty(_defineProperty(_defineProperty({}, "".concat(scrollbarPrefixCls, "-horizontal"), horizontal), "".concat(scrollbarPrefixCls, "-vertical"), !horizontal), "".concat(scrollbarPrefixCls, "-visible"), visible)),
    style: _objectSpread2(_objectSpread2({}, containerStyle), style2),
    onMouseDown: onContainerMouseDown,
    onMouseMove: delayHidden
  }, /* @__PURE__ */ React34.createElement("div", {
    ref: thumbRef,
    className: (0, import_classnames2.default)("".concat(scrollbarPrefixCls, "-thumb"), _defineProperty({}, "".concat(scrollbarPrefixCls, "-thumb-moving"), dragging)),
    style: _objectSpread2(_objectSpread2({}, thumbStyle), propsThumbStyle),
    onMouseDown: onThumbMouseDown
  }));
});
if (true) {
  ScrollBar.displayName = "ScrollBar";
}
var ScrollBar_default = ScrollBar;

// node_modules/rc-virtual-list/es/utils/scrollbarUtil.js
var MIN_SIZE = 20;
function getSpinSize() {
  var containerSize = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 0;
  var scrollRange = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0;
  var baseSize = containerSize / scrollRange * containerSize;
  if (isNaN(baseSize)) {
    baseSize = 0;
  }
  baseSize = Math.max(baseSize, MIN_SIZE);
  return Math.floor(baseSize);
}

// node_modules/rc-virtual-list/es/List.js
var _excluded = ["prefixCls", "className", "height", "itemHeight", "fullHeight", "style", "data", "children", "itemKey", "virtual", "direction", "scrollWidth", "component", "onScroll", "onVirtualScroll", "onVisibleChange", "innerProps", "extraRender", "styles", "showScrollBar"];
var EMPTY_DATA = [];
var ScrollStyle = {
  overflowY: "auto",
  overflowAnchor: "none"
};
function RawList(props, ref) {
  var _props$prefixCls = props.prefixCls, prefixCls = _props$prefixCls === void 0 ? "rc-virtual-list" : _props$prefixCls, className = props.className, height = props.height, itemHeight = props.itemHeight, _props$fullHeight = props.fullHeight, fullHeight = _props$fullHeight === void 0 ? true : _props$fullHeight, style2 = props.style, data = props.data, children = props.children, itemKey2 = props.itemKey, virtual = props.virtual, direction = props.direction, scrollWidth = props.scrollWidth, _props$component = props.component, Component5 = _props$component === void 0 ? "div" : _props$component, onScroll = props.onScroll, onVirtualScroll = props.onVirtualScroll, onVisibleChange = props.onVisibleChange, innerProps = props.innerProps, extraRender = props.extraRender, styles = props.styles, _props$showScrollBar = props.showScrollBar, showScrollBar = _props$showScrollBar === void 0 ? "optional" : _props$showScrollBar, restProps = _objectWithoutProperties(props, _excluded);
  var getKey2 = React35.useCallback(function(item) {
    if (typeof itemKey2 === "function") {
      return itemKey2(item);
    }
    return item === null || item === void 0 ? void 0 : item[itemKey2];
  }, [itemKey2]);
  var _useHeights = useHeights(getKey2, null, null), _useHeights2 = _slicedToArray(_useHeights, 4), setInstanceRef = _useHeights2[0], collectHeight = _useHeights2[1], heights = _useHeights2[2], heightUpdatedMark = _useHeights2[3];
  var useVirtual = !!(virtual !== false && height && itemHeight);
  var containerHeight = React35.useMemo(function() {
    return Object.values(heights.maps).reduce(function(total, curr) {
      return total + curr;
    }, 0);
  }, [heights.id, heights.maps]);
  var inVirtual = useVirtual && data && (Math.max(itemHeight * data.length, containerHeight) > height || !!scrollWidth);
  var isRTL = direction === "rtl";
  var mergedClassName = (0, import_classnames3.default)(prefixCls, _defineProperty({}, "".concat(prefixCls, "-rtl"), isRTL), className);
  var mergedData = data || EMPTY_DATA;
  var componentRef = useRef14();
  var fillerInnerRef = useRef14();
  var containerRef = useRef14();
  var _useState = useState13(0), _useState2 = _slicedToArray(_useState, 2), offsetTop = _useState2[0], setOffsetTop = _useState2[1];
  var _useState3 = useState13(0), _useState4 = _slicedToArray(_useState3, 2), offsetLeft = _useState4[0], setOffsetLeft = _useState4[1];
  var _useState5 = useState13(false), _useState6 = _slicedToArray(_useState5, 2), scrollMoving = _useState6[0], setScrollMoving = _useState6[1];
  var onScrollbarStartMove = function onScrollbarStartMove2() {
    setScrollMoving(true);
  };
  var onScrollbarStopMove = function onScrollbarStopMove2() {
    setScrollMoving(false);
  };
  var sharedConfig = {
    getKey: getKey2
  };
  function syncScrollTop(newTop) {
    setOffsetTop(function(origin) {
      var value;
      if (typeof newTop === "function") {
        value = newTop(origin);
      } else {
        value = newTop;
      }
      var alignedTop = keepInRange(value);
      componentRef.current.scrollTop = alignedTop;
      return alignedTop;
    });
  }
  var rangeRef = useRef14({
    start: 0,
    end: mergedData.length
  });
  var diffItemRef = useRef14();
  var _useDiffItem = useDiffItem(mergedData, getKey2), _useDiffItem2 = _slicedToArray(_useDiffItem, 1), diffItem = _useDiffItem2[0];
  diffItemRef.current = diffItem;
  var _React$useMemo = React35.useMemo(function() {
    if (!useVirtual) {
      return {
        scrollHeight: void 0,
        start: 0,
        end: mergedData.length - 1,
        offset: void 0
      };
    }
    if (!inVirtual) {
      var _fillerInnerRef$curre;
      return {
        scrollHeight: ((_fillerInnerRef$curre = fillerInnerRef.current) === null || _fillerInnerRef$curre === void 0 ? void 0 : _fillerInnerRef$curre.offsetHeight) || 0,
        start: 0,
        end: mergedData.length - 1,
        offset: void 0
      };
    }
    var itemTop = 0;
    var startIndex;
    var startOffset;
    var endIndex;
    var dataLen = mergedData.length;
    for (var i2 = 0; i2 < dataLen; i2 += 1) {
      var _item = mergedData[i2];
      var key = getKey2(_item);
      var cacheHeight = heights.get(key);
      var currentItemBottom = itemTop + (cacheHeight === void 0 ? itemHeight : cacheHeight);
      if (currentItemBottom >= offsetTop && startIndex === void 0) {
        startIndex = i2;
        startOffset = itemTop;
      }
      if (currentItemBottom > offsetTop + height && endIndex === void 0) {
        endIndex = i2;
      }
      itemTop = currentItemBottom;
    }
    if (startIndex === void 0) {
      startIndex = 0;
      startOffset = 0;
      endIndex = Math.ceil(height / itemHeight);
    }
    if (endIndex === void 0) {
      endIndex = mergedData.length - 1;
    }
    endIndex = Math.min(endIndex + 1, mergedData.length - 1);
    return {
      scrollHeight: itemTop,
      start: startIndex,
      end: endIndex,
      offset: startOffset
    };
  }, [inVirtual, useVirtual, offsetTop, mergedData, heightUpdatedMark, height]), scrollHeight = _React$useMemo.scrollHeight, start = _React$useMemo.start, end = _React$useMemo.end, fillerOffset = _React$useMemo.offset;
  rangeRef.current.start = start;
  rangeRef.current.end = end;
  React35.useLayoutEffect(function() {
    var changedRecord = heights.getRecord();
    if (changedRecord.size === 1) {
      var recordKey = Array.from(changedRecord)[0];
      var startIndexKey = getKey2(mergedData[start]);
      if (startIndexKey === recordKey) {
        var realStartHeight = heights.get(recordKey);
        var diffHeight = realStartHeight - itemHeight;
        syncScrollTop(function(ori) {
          return ori + diffHeight;
        });
      }
    }
    heights.resetRecord();
  }, [scrollHeight]);
  var _React$useState = React35.useState({
    width: 0,
    height
  }), _React$useState2 = _slicedToArray(_React$useState, 2), size = _React$useState2[0], setSize = _React$useState2[1];
  var onHolderResize = function onHolderResize2(sizeInfo) {
    setSize({
      width: sizeInfo.offsetWidth,
      height: sizeInfo.offsetHeight
    });
  };
  var verticalScrollBarRef = useRef14();
  var horizontalScrollBarRef = useRef14();
  var horizontalScrollBarSpinSize = React35.useMemo(function() {
    return getSpinSize(size.width, scrollWidth);
  }, [size.width, scrollWidth]);
  var verticalScrollBarSpinSize = React35.useMemo(function() {
    return getSpinSize(size.height, scrollHeight);
  }, [size.height, scrollHeight]);
  var maxScrollHeight = scrollHeight - height;
  var maxScrollHeightRef = useRef14(maxScrollHeight);
  maxScrollHeightRef.current = maxScrollHeight;
  function keepInRange(newScrollTop) {
    var newTop = newScrollTop;
    if (!Number.isNaN(maxScrollHeightRef.current)) {
      newTop = Math.min(newTop, maxScrollHeightRef.current);
    }
    newTop = Math.max(newTop, 0);
    return newTop;
  }
  var isScrollAtTop = offsetTop <= 0;
  var isScrollAtBottom = offsetTop >= maxScrollHeight;
  var isScrollAtLeft = offsetLeft <= 0;
  var isScrollAtRight = offsetLeft >= scrollWidth;
  var originScroll = useOriginScroll_default(isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight);
  var getVirtualScrollInfo = function getVirtualScrollInfo2() {
    return {
      x: isRTL ? -offsetLeft : offsetLeft,
      y: offsetTop
    };
  };
  var lastVirtualScrollInfoRef = useRef14(getVirtualScrollInfo());
  var triggerScroll = useEvent(function(params) {
    if (onVirtualScroll) {
      var nextInfo = _objectSpread2(_objectSpread2({}, getVirtualScrollInfo()), params);
      if (lastVirtualScrollInfoRef.current.x !== nextInfo.x || lastVirtualScrollInfoRef.current.y !== nextInfo.y) {
        onVirtualScroll(nextInfo);
        lastVirtualScrollInfoRef.current = nextInfo;
      }
    }
  });
  function onScrollBar(newScrollOffset, horizontal) {
    var newOffset = newScrollOffset;
    if (horizontal) {
      flushSync(function() {
        setOffsetLeft(newOffset);
      });
      triggerScroll();
    } else {
      syncScrollTop(newOffset);
    }
  }
  function onFallbackScroll(e2) {
    var newScrollTop = e2.currentTarget.scrollTop;
    if (newScrollTop !== offsetTop) {
      syncScrollTop(newScrollTop);
    }
    onScroll === null || onScroll === void 0 || onScroll(e2);
    triggerScroll();
  }
  var keepInHorizontalRange = function keepInHorizontalRange2(nextOffsetLeft) {
    var tmpOffsetLeft = nextOffsetLeft;
    var max = !!scrollWidth ? scrollWidth - size.width : 0;
    tmpOffsetLeft = Math.max(tmpOffsetLeft, 0);
    tmpOffsetLeft = Math.min(tmpOffsetLeft, max);
    return tmpOffsetLeft;
  };
  var onWheelDelta = useEvent(function(offsetXY, fromHorizontal) {
    if (fromHorizontal) {
      flushSync(function() {
        setOffsetLeft(function(left) {
          var nextOffsetLeft = left + (isRTL ? -offsetXY : offsetXY);
          return keepInHorizontalRange(nextOffsetLeft);
        });
      });
      triggerScroll();
    } else {
      syncScrollTop(function(top) {
        var newTop = top + offsetXY;
        return newTop;
      });
    }
  });
  var _useFrameWheel = useFrameWheel(useVirtual, isScrollAtTop, isScrollAtBottom, isScrollAtLeft, isScrollAtRight, !!scrollWidth, onWheelDelta), _useFrameWheel2 = _slicedToArray(_useFrameWheel, 2), onRawWheel = _useFrameWheel2[0], onFireFoxScroll = _useFrameWheel2[1];
  useMobileTouchMove(useVirtual, componentRef, function(isHorizontal, delta, smoothOffset, e2) {
    var event = e2;
    if (originScroll(isHorizontal, delta, smoothOffset)) {
      return false;
    }
    if (!event || !event._virtualHandled) {
      if (event) {
        event._virtualHandled = true;
      }
      onRawWheel({
        preventDefault: function preventDefault() {
        },
        deltaX: isHorizontal ? delta : 0,
        deltaY: isHorizontal ? 0 : delta
      });
      return true;
    }
    return false;
  });
  useScrollDrag(inVirtual, componentRef, function(offset) {
    syncScrollTop(function(top) {
      return top + offset;
    });
  });
  useLayoutEffect_default(function() {
    function onMozMousePixelScroll(e2) {
      var scrollingUpAtTop = isScrollAtTop && e2.detail < 0;
      var scrollingDownAtBottom = isScrollAtBottom && e2.detail > 0;
      if (useVirtual && !scrollingUpAtTop && !scrollingDownAtBottom) {
        e2.preventDefault();
      }
    }
    var componentEle = componentRef.current;
    componentEle.addEventListener("wheel", onRawWheel, {
      passive: false
    });
    componentEle.addEventListener("DOMMouseScroll", onFireFoxScroll, {
      passive: true
    });
    componentEle.addEventListener("MozMousePixelScroll", onMozMousePixelScroll, {
      passive: false
    });
    return function() {
      componentEle.removeEventListener("wheel", onRawWheel);
      componentEle.removeEventListener("DOMMouseScroll", onFireFoxScroll);
      componentEle.removeEventListener("MozMousePixelScroll", onMozMousePixelScroll);
    };
  }, [useVirtual, isScrollAtTop, isScrollAtBottom]);
  useLayoutEffect_default(function() {
    if (scrollWidth) {
      var newOffsetLeft = keepInHorizontalRange(offsetLeft);
      setOffsetLeft(newOffsetLeft);
      triggerScroll({
        x: newOffsetLeft
      });
    }
  }, [size.width, scrollWidth]);
  var delayHideScrollBar = function delayHideScrollBar2() {
    var _verticalScrollBarRef, _horizontalScrollBarR;
    (_verticalScrollBarRef = verticalScrollBarRef.current) === null || _verticalScrollBarRef === void 0 || _verticalScrollBarRef.delayHidden();
    (_horizontalScrollBarR = horizontalScrollBarRef.current) === null || _horizontalScrollBarR === void 0 || _horizontalScrollBarR.delayHidden();
  };
  var _scrollTo = useScrollTo(componentRef, mergedData, heights, itemHeight, getKey2, function() {
    return collectHeight(true);
  }, syncScrollTop, delayHideScrollBar);
  React35.useImperativeHandle(ref, function() {
    return {
      nativeElement: containerRef.current,
      getScrollInfo: getVirtualScrollInfo,
      scrollTo: function scrollTo(config) {
        function isPosScroll(arg) {
          return arg && _typeof(arg) === "object" && ("left" in arg || "top" in arg);
        }
        if (isPosScroll(config)) {
          if (config.left !== void 0) {
            setOffsetLeft(keepInHorizontalRange(config.left));
          }
          _scrollTo(config.top);
        } else {
          _scrollTo(config);
        }
      }
    };
  });
  useLayoutEffect_default(function() {
    if (onVisibleChange) {
      var renderList = mergedData.slice(start, end + 1);
      onVisibleChange(renderList, mergedData);
    }
  }, [start, end, mergedData]);
  var getSize = useGetSize(mergedData, getKey2, heights, itemHeight);
  var extraContent = extraRender === null || extraRender === void 0 ? void 0 : extraRender({
    start,
    end,
    virtual: inVirtual,
    offsetX: offsetLeft,
    offsetY: fillerOffset,
    rtl: isRTL,
    getSize
  });
  var listChildren = useChildren(mergedData, start, end, scrollWidth, offsetLeft, setInstanceRef, children, sharedConfig);
  var componentStyle = null;
  if (height) {
    componentStyle = _objectSpread2(_defineProperty({}, fullHeight ? "height" : "maxHeight", height), ScrollStyle);
    if (useVirtual) {
      componentStyle.overflowY = "hidden";
      if (scrollWidth) {
        componentStyle.overflowX = "hidden";
      }
      if (scrollMoving) {
        componentStyle.pointerEvents = "none";
      }
    }
  }
  var containerProps = {};
  if (isRTL) {
    containerProps.dir = "rtl";
  }
  return /* @__PURE__ */ React35.createElement("div", _extends({
    ref: containerRef,
    style: _objectSpread2(_objectSpread2({}, style2), {}, {
      position: "relative"
    }),
    className: mergedClassName
  }, containerProps, restProps), /* @__PURE__ */ React35.createElement(es_default, {
    onResize: onHolderResize
  }, /* @__PURE__ */ React35.createElement(Component5, {
    className: "".concat(prefixCls, "-holder"),
    style: componentStyle,
    ref: componentRef,
    onScroll: onFallbackScroll,
    onMouseEnter: delayHideScrollBar
  }, /* @__PURE__ */ React35.createElement(Filler_default, {
    prefixCls,
    height: scrollHeight,
    offsetX: offsetLeft,
    offsetY: fillerOffset,
    scrollWidth,
    onInnerResize: collectHeight,
    ref: fillerInnerRef,
    innerProps,
    rtl: isRTL,
    extra: extraContent
  }, listChildren))), inVirtual && scrollHeight > height && /* @__PURE__ */ React35.createElement(ScrollBar_default, {
    ref: verticalScrollBarRef,
    prefixCls,
    scrollOffset: offsetTop,
    scrollRange: scrollHeight,
    rtl: isRTL,
    onScroll: onScrollBar,
    onStartMove: onScrollbarStartMove,
    onStopMove: onScrollbarStopMove,
    spinSize: verticalScrollBarSpinSize,
    containerSize: size.height,
    style: styles === null || styles === void 0 ? void 0 : styles.verticalScrollBar,
    thumbStyle: styles === null || styles === void 0 ? void 0 : styles.verticalScrollBarThumb,
    showScrollBar
  }), inVirtual && scrollWidth > size.width && /* @__PURE__ */ React35.createElement(ScrollBar_default, {
    ref: horizontalScrollBarRef,
    prefixCls,
    scrollOffset: offsetLeft,
    scrollRange: scrollWidth,
    rtl: isRTL,
    onScroll: onScrollBar,
    onStartMove: onScrollbarStartMove,
    onStopMove: onScrollbarStopMove,
    spinSize: horizontalScrollBarSpinSize,
    containerSize: size.width,
    horizontal: true,
    style: styles === null || styles === void 0 ? void 0 : styles.horizontalScrollBar,
    thumbStyle: styles === null || styles === void 0 ? void 0 : styles.horizontalScrollBarThumb,
    showScrollBar
  }));
}
var List = /* @__PURE__ */ React35.forwardRef(RawList);
List.displayName = "List";
var List_default = List;

// node_modules/rc-virtual-list/es/index.js
var es_default2 = List_default;

// node_modules/rc-tree/es/NodeList.js
import * as React49 from "react";

// node_modules/rc-tree/es/MotionTreeNode.js
var import_classnames7 = __toESM(require_classnames());

// node_modules/rc-motion/es/CSSMotion.js
var import_classnames4 = __toESM(require_classnames());
import * as React43 from "react";
import { useRef as useRef21 } from "react";

// node_modules/rc-motion/es/context.js
import * as React36 from "react";
var Context = /* @__PURE__ */ React36.createContext({});

// node_modules/rc-motion/es/DomWrapper.js
import * as React37 from "react";
var DomWrapper2 = /* @__PURE__ */ function(_React$Component) {
  _inherits(DomWrapper3, _React$Component);
  var _super = _createSuper(DomWrapper3);
  function DomWrapper3() {
    _classCallCheck(this, DomWrapper3);
    return _super.apply(this, arguments);
  }
  _createClass(DomWrapper3, [{
    key: "render",
    value: function render() {
      return this.props.children;
    }
  }]);
  return DomWrapper3;
}(React37.Component);
var DomWrapper_default = DomWrapper2;

// node_modules/rc-util/es/hooks/useSyncState.js
import * as React38 from "react";
function useSyncState(defaultValue) {
  var _React$useReducer = React38.useReducer(function(x2) {
    return x2 + 1;
  }, 0), _React$useReducer2 = _slicedToArray(_React$useReducer, 2), forceUpdate = _React$useReducer2[1];
  var currentValueRef = React38.useRef(defaultValue);
  var getValue = useEvent(function() {
    return currentValueRef.current;
  });
  var setValue = useEvent(function(updater) {
    currentValueRef.current = typeof updater === "function" ? updater(currentValueRef.current) : updater;
    forceUpdate();
  });
  return [getValue, setValue];
}

// node_modules/rc-motion/es/hooks/useStatus.js
import * as React42 from "react";
import { useEffect as useEffect16, useRef as useRef19 } from "react";

// node_modules/rc-motion/es/interface.js
var STATUS_NONE = "none";
var STATUS_APPEAR = "appear";
var STATUS_ENTER = "enter";
var STATUS_LEAVE = "leave";
var STEP_NONE = "none";
var STEP_PREPARE = "prepare";
var STEP_START = "start";
var STEP_ACTIVE = "active";
var STEP_ACTIVATED = "end";
var STEP_PREPARED = "prepared";

// node_modules/rc-motion/es/hooks/useDomMotionEvents.js
import * as React39 from "react";
import { useRef as useRef16 } from "react";

// node_modules/rc-motion/es/util/motion.js
function makePrefixMap(styleProp, eventName) {
  var prefixes = {};
  prefixes[styleProp.toLowerCase()] = eventName.toLowerCase();
  prefixes["Webkit".concat(styleProp)] = "webkit".concat(eventName);
  prefixes["Moz".concat(styleProp)] = "moz".concat(eventName);
  prefixes["ms".concat(styleProp)] = "MS".concat(eventName);
  prefixes["O".concat(styleProp)] = "o".concat(eventName.toLowerCase());
  return prefixes;
}
function getVendorPrefixes(domSupport, win) {
  var prefixes = {
    animationend: makePrefixMap("Animation", "AnimationEnd"),
    transitionend: makePrefixMap("Transition", "TransitionEnd")
  };
  if (domSupport) {
    if (!("AnimationEvent" in win)) {
      delete prefixes.animationend.animation;
    }
    if (!("TransitionEvent" in win)) {
      delete prefixes.transitionend.transition;
    }
  }
  return prefixes;
}
var vendorPrefixes = getVendorPrefixes(canUseDom(), typeof window !== "undefined" ? window : {});
var style = {};
if (canUseDom()) {
  _document$createEleme = document.createElement("div");
  style = _document$createEleme.style;
}
var _document$createEleme;
var prefixedEventNames = {};
function getVendorPrefixedEventName(eventName) {
  if (prefixedEventNames[eventName]) {
    return prefixedEventNames[eventName];
  }
  var prefixMap = vendorPrefixes[eventName];
  if (prefixMap) {
    var stylePropList = Object.keys(prefixMap);
    var len = stylePropList.length;
    for (var i2 = 0; i2 < len; i2 += 1) {
      var styleProp = stylePropList[i2];
      if (Object.prototype.hasOwnProperty.call(prefixMap, styleProp) && styleProp in style) {
        prefixedEventNames[eventName] = prefixMap[styleProp];
        return prefixedEventNames[eventName];
      }
    }
  }
  return "";
}
var internalAnimationEndName = getVendorPrefixedEventName("animationend");
var internalTransitionEndName = getVendorPrefixedEventName("transitionend");
var supportTransition = !!(internalAnimationEndName && internalTransitionEndName);
var animationEndName = internalAnimationEndName || "animationend";
var transitionEndName = internalTransitionEndName || "transitionend";
function getTransitionName(transitionName, transitionType) {
  if (!transitionName) return null;
  if (_typeof(transitionName) === "object") {
    var type = transitionType.replace(/-\w/g, function(match4) {
      return match4[1].toUpperCase();
    });
    return transitionName[type];
  }
  return "".concat(transitionName, "-").concat(transitionType);
}

// node_modules/rc-motion/es/hooks/useDomMotionEvents.js
var useDomMotionEvents_default = function(onInternalMotionEnd) {
  var cacheElementRef = useRef16();
  function removeMotionEvents(element) {
    if (element) {
      element.removeEventListener(transitionEndName, onInternalMotionEnd);
      element.removeEventListener(animationEndName, onInternalMotionEnd);
    }
  }
  function patchMotionEvents(element) {
    if (cacheElementRef.current && cacheElementRef.current !== element) {
      removeMotionEvents(cacheElementRef.current);
    }
    if (element && element !== cacheElementRef.current) {
      element.addEventListener(transitionEndName, onInternalMotionEnd);
      element.addEventListener(animationEndName, onInternalMotionEnd);
      cacheElementRef.current = element;
    }
  }
  React39.useEffect(function() {
    return function() {
      removeMotionEvents(cacheElementRef.current);
    };
  }, []);
  return [patchMotionEvents, removeMotionEvents];
};

// node_modules/rc-motion/es/hooks/useIsomorphicLayoutEffect.js
import { useEffect as useEffect13, useLayoutEffect as useLayoutEffect5 } from "react";
var useIsomorphicLayoutEffect = canUseDom() ? useLayoutEffect5 : useEffect13;
var useIsomorphicLayoutEffect_default = useIsomorphicLayoutEffect;

// node_modules/rc-motion/es/hooks/useStepQueue.js
import * as React41 from "react";

// node_modules/rc-motion/es/hooks/useNextFrame.js
import * as React40 from "react";
var useNextFrame_default = function() {
  var nextFrameRef = React40.useRef(null);
  function cancelNextFrame() {
    raf_default.cancel(nextFrameRef.current);
  }
  function nextFrame(callback) {
    var delay = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 2;
    cancelNextFrame();
    var nextFrameId = raf_default(function() {
      if (delay <= 1) {
        callback({
          isCanceled: function isCanceled() {
            return nextFrameId !== nextFrameRef.current;
          }
        });
      } else {
        nextFrame(callback, delay - 1);
      }
    });
    nextFrameRef.current = nextFrameId;
  }
  React40.useEffect(function() {
    return function() {
      cancelNextFrame();
    };
  }, []);
  return [nextFrame, cancelNextFrame];
};

// node_modules/rc-motion/es/hooks/useStepQueue.js
var FULL_STEP_QUEUE = [STEP_PREPARE, STEP_START, STEP_ACTIVE, STEP_ACTIVATED];
var SIMPLE_STEP_QUEUE = [STEP_PREPARE, STEP_PREPARED];
var SkipStep = false;
var DoStep = true;
function isActive(step) {
  return step === STEP_ACTIVE || step === STEP_ACTIVATED;
}
var useStepQueue_default = function(status, prepareOnly, callback) {
  var _useState = useSafeState(STEP_NONE), _useState2 = _slicedToArray(_useState, 2), step = _useState2[0], setStep = _useState2[1];
  var _useNextFrame = useNextFrame_default(), _useNextFrame2 = _slicedToArray(_useNextFrame, 2), nextFrame = _useNextFrame2[0], cancelNextFrame = _useNextFrame2[1];
  function startQueue() {
    setStep(STEP_PREPARE, true);
  }
  var STEP_QUEUE = prepareOnly ? SIMPLE_STEP_QUEUE : FULL_STEP_QUEUE;
  useIsomorphicLayoutEffect_default(function() {
    if (step !== STEP_NONE && step !== STEP_ACTIVATED) {
      var index2 = STEP_QUEUE.indexOf(step);
      var nextStep = STEP_QUEUE[index2 + 1];
      var result = callback(step);
      if (result === SkipStep) {
        setStep(nextStep, true);
      } else if (nextStep) {
        nextFrame(function(info) {
          function doNext() {
            if (info.isCanceled()) return;
            setStep(nextStep, true);
          }
          if (result === true) {
            doNext();
          } else {
            Promise.resolve(result).then(doNext);
          }
        });
      }
    }
  }, [status, step]);
  React41.useEffect(function() {
    return function() {
      cancelNextFrame();
    };
  }, []);
  return [startQueue, step];
};

// node_modules/rc-motion/es/hooks/useStatus.js
function useStatus(supportMotion, visible, getElement, _ref) {
  var _ref$motionEnter = _ref.motionEnter, motionEnter = _ref$motionEnter === void 0 ? true : _ref$motionEnter, _ref$motionAppear = _ref.motionAppear, motionAppear = _ref$motionAppear === void 0 ? true : _ref$motionAppear, _ref$motionLeave = _ref.motionLeave, motionLeave = _ref$motionLeave === void 0 ? true : _ref$motionLeave, motionDeadline = _ref.motionDeadline, motionLeaveImmediately = _ref.motionLeaveImmediately, onAppearPrepare = _ref.onAppearPrepare, onEnterPrepare = _ref.onEnterPrepare, onLeavePrepare = _ref.onLeavePrepare, onAppearStart = _ref.onAppearStart, onEnterStart = _ref.onEnterStart, onLeaveStart = _ref.onLeaveStart, onAppearActive = _ref.onAppearActive, onEnterActive = _ref.onEnterActive, onLeaveActive = _ref.onLeaveActive, onAppearEnd = _ref.onAppearEnd, onEnterEnd = _ref.onEnterEnd, onLeaveEnd = _ref.onLeaveEnd, onVisibleChanged = _ref.onVisibleChanged;
  var _useState = useSafeState(), _useState2 = _slicedToArray(_useState, 2), asyncVisible = _useState2[0], setAsyncVisible = _useState2[1];
  var _useSyncState = useSyncState(STATUS_NONE), _useSyncState2 = _slicedToArray(_useSyncState, 2), getStatus = _useSyncState2[0], setStatus = _useSyncState2[1];
  var _useState3 = useSafeState(null), _useState4 = _slicedToArray(_useState3, 2), style2 = _useState4[0], setStyle = _useState4[1];
  var currentStatus = getStatus();
  var mountedRef = useRef19(false);
  var deadlineRef = useRef19(null);
  function getDomElement() {
    return getElement();
  }
  var activeRef = useRef19(false);
  function updateMotionEndStatus() {
    setStatus(STATUS_NONE);
    setStyle(null, true);
  }
  var onInternalMotionEnd = useEvent(function(event) {
    var status = getStatus();
    if (status === STATUS_NONE) {
      return;
    }
    var element = getDomElement();
    if (event && !event.deadline && event.target !== element) {
      return;
    }
    var currentActive = activeRef.current;
    var canEnd;
    if (status === STATUS_APPEAR && currentActive) {
      canEnd = onAppearEnd === null || onAppearEnd === void 0 ? void 0 : onAppearEnd(element, event);
    } else if (status === STATUS_ENTER && currentActive) {
      canEnd = onEnterEnd === null || onEnterEnd === void 0 ? void 0 : onEnterEnd(element, event);
    } else if (status === STATUS_LEAVE && currentActive) {
      canEnd = onLeaveEnd === null || onLeaveEnd === void 0 ? void 0 : onLeaveEnd(element, event);
    }
    if (currentActive && canEnd !== false) {
      updateMotionEndStatus();
    }
  });
  var _useDomMotionEvents = useDomMotionEvents_default(onInternalMotionEnd), _useDomMotionEvents2 = _slicedToArray(_useDomMotionEvents, 1), patchMotionEvents = _useDomMotionEvents2[0];
  var getEventHandlers = function getEventHandlers2(targetStatus) {
    switch (targetStatus) {
      case STATUS_APPEAR:
        return _defineProperty(_defineProperty(_defineProperty({}, STEP_PREPARE, onAppearPrepare), STEP_START, onAppearStart), STEP_ACTIVE, onAppearActive);
      case STATUS_ENTER:
        return _defineProperty(_defineProperty(_defineProperty({}, STEP_PREPARE, onEnterPrepare), STEP_START, onEnterStart), STEP_ACTIVE, onEnterActive);
      case STATUS_LEAVE:
        return _defineProperty(_defineProperty(_defineProperty({}, STEP_PREPARE, onLeavePrepare), STEP_START, onLeaveStart), STEP_ACTIVE, onLeaveActive);
      default:
        return {};
    }
  };
  var eventHandlers = React42.useMemo(function() {
    return getEventHandlers(currentStatus);
  }, [currentStatus]);
  var _useStepQueue = useStepQueue_default(currentStatus, !supportMotion, function(newStep) {
    if (newStep === STEP_PREPARE) {
      var onPrepare = eventHandlers[STEP_PREPARE];
      if (!onPrepare) {
        return SkipStep;
      }
      return onPrepare(getDomElement());
    }
    if (step in eventHandlers) {
      var _eventHandlers$step;
      setStyle(((_eventHandlers$step = eventHandlers[step]) === null || _eventHandlers$step === void 0 ? void 0 : _eventHandlers$step.call(eventHandlers, getDomElement(), null)) || null);
    }
    if (step === STEP_ACTIVE && currentStatus !== STATUS_NONE) {
      patchMotionEvents(getDomElement());
      if (motionDeadline > 0) {
        clearTimeout(deadlineRef.current);
        deadlineRef.current = setTimeout(function() {
          onInternalMotionEnd({
            deadline: true
          });
        }, motionDeadline);
      }
    }
    if (step === STEP_PREPARED) {
      updateMotionEndStatus();
    }
    return DoStep;
  }), _useStepQueue2 = _slicedToArray(_useStepQueue, 2), startStep = _useStepQueue2[0], step = _useStepQueue2[1];
  var active = isActive(step);
  activeRef.current = active;
  var visibleRef = useRef19(null);
  useIsomorphicLayoutEffect_default(function() {
    if (mountedRef.current && visibleRef.current === visible) {
      return;
    }
    setAsyncVisible(visible);
    var isMounted = mountedRef.current;
    mountedRef.current = true;
    var nextStatus;
    if (!isMounted && visible && motionAppear) {
      nextStatus = STATUS_APPEAR;
    }
    if (isMounted && visible && motionEnter) {
      nextStatus = STATUS_ENTER;
    }
    if (isMounted && !visible && motionLeave || !isMounted && motionLeaveImmediately && !visible && motionLeave) {
      nextStatus = STATUS_LEAVE;
    }
    var nextEventHandlers = getEventHandlers(nextStatus);
    if (nextStatus && (supportMotion || nextEventHandlers[STEP_PREPARE])) {
      setStatus(nextStatus);
      startStep();
    } else {
      setStatus(STATUS_NONE);
    }
    visibleRef.current = visible;
  }, [visible]);
  useEffect16(function() {
    if (
      // Cancel appear
      currentStatus === STATUS_APPEAR && !motionAppear || // Cancel enter
      currentStatus === STATUS_ENTER && !motionEnter || // Cancel leave
      currentStatus === STATUS_LEAVE && !motionLeave
    ) {
      setStatus(STATUS_NONE);
    }
  }, [motionAppear, motionEnter, motionLeave]);
  useEffect16(function() {
    return function() {
      mountedRef.current = false;
      clearTimeout(deadlineRef.current);
    };
  }, []);
  var firstMountChangeRef = React42.useRef(false);
  useEffect16(function() {
    if (asyncVisible) {
      firstMountChangeRef.current = true;
    }
    if (asyncVisible !== void 0 && currentStatus === STATUS_NONE) {
      if (firstMountChangeRef.current || asyncVisible) {
        onVisibleChanged === null || onVisibleChanged === void 0 || onVisibleChanged(asyncVisible);
      }
      firstMountChangeRef.current = true;
    }
  }, [asyncVisible, currentStatus]);
  var mergedStyle = style2;
  if (eventHandlers[STEP_PREPARE] && step === STEP_START) {
    mergedStyle = _objectSpread2({
      transition: "none"
    }, mergedStyle);
  }
  return [currentStatus, step, mergedStyle, asyncVisible !== null && asyncVisible !== void 0 ? asyncVisible : visible];
}

// node_modules/rc-motion/es/CSSMotion.js
function genCSSMotion(config) {
  var transitionSupport = config;
  if (_typeof(config) === "object") {
    transitionSupport = config.transitionSupport;
  }
  function isSupportTransition(props, contextMotion) {
    return !!(props.motionName && transitionSupport && contextMotion !== false);
  }
  var CSSMotion = /* @__PURE__ */ React43.forwardRef(function(props, ref) {
    var _props$visible = props.visible, visible = _props$visible === void 0 ? true : _props$visible, _props$removeOnLeave = props.removeOnLeave, removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave, forceRender = props.forceRender, children = props.children, motionName = props.motionName, leavedClassName = props.leavedClassName, eventProps = props.eventProps;
    var _React$useContext = React43.useContext(Context), contextMotion = _React$useContext.motion;
    var supportMotion = isSupportTransition(props, contextMotion);
    var nodeRef = useRef21();
    var wrapperNodeRef = useRef21();
    function getDomElement() {
      try {
        return nodeRef.current instanceof HTMLElement ? nodeRef.current : findDOMNode(wrapperNodeRef.current);
      } catch (e2) {
        return null;
      }
    }
    var _useStatus = useStatus(supportMotion, visible, getDomElement, props), _useStatus2 = _slicedToArray(_useStatus, 4), status = _useStatus2[0], statusStep = _useStatus2[1], statusStyle = _useStatus2[2], mergedVisible = _useStatus2[3];
    var renderedRef = React43.useRef(mergedVisible);
    if (mergedVisible) {
      renderedRef.current = true;
    }
    var setNodeRef = React43.useCallback(function(node) {
      nodeRef.current = node;
      fillRef(ref, node);
    }, [ref]);
    var motionChildren;
    var mergedProps = _objectSpread2(_objectSpread2({}, eventProps), {}, {
      visible
    });
    if (!children) {
      motionChildren = null;
    } else if (status === STATUS_NONE) {
      if (mergedVisible) {
        motionChildren = children(_objectSpread2({}, mergedProps), setNodeRef);
      } else if (!removeOnLeave && renderedRef.current && leavedClassName) {
        motionChildren = children(_objectSpread2(_objectSpread2({}, mergedProps), {}, {
          className: leavedClassName
        }), setNodeRef);
      } else if (forceRender || !removeOnLeave && !leavedClassName) {
        motionChildren = children(_objectSpread2(_objectSpread2({}, mergedProps), {}, {
          style: {
            display: "none"
          }
        }), setNodeRef);
      } else {
        motionChildren = null;
      }
    } else {
      var statusSuffix;
      if (statusStep === STEP_PREPARE) {
        statusSuffix = "prepare";
      } else if (isActive(statusStep)) {
        statusSuffix = "active";
      } else if (statusStep === STEP_START) {
        statusSuffix = "start";
      }
      var motionCls = getTransitionName(motionName, "".concat(status, "-").concat(statusSuffix));
      motionChildren = children(_objectSpread2(_objectSpread2({}, mergedProps), {}, {
        className: (0, import_classnames4.default)(getTransitionName(motionName, status), _defineProperty(_defineProperty({}, motionCls, motionCls && statusSuffix), motionName, typeof motionName === "string")),
        style: statusStyle
      }), setNodeRef);
    }
    if (/* @__PURE__ */ React43.isValidElement(motionChildren) && supportRef(motionChildren)) {
      var originNodeRef = getNodeRef(motionChildren);
      if (!originNodeRef) {
        motionChildren = /* @__PURE__ */ React43.cloneElement(motionChildren, {
          ref: setNodeRef
        });
      }
    }
    return /* @__PURE__ */ React43.createElement(DomWrapper_default, {
      ref: wrapperNodeRef
    }, motionChildren);
  });
  CSSMotion.displayName = "CSSMotion";
  return CSSMotion;
}
var CSSMotion_default = genCSSMotion(supportTransition);

// node_modules/rc-motion/es/CSSMotionList.js
import * as React44 from "react";

// node_modules/rc-motion/es/util/diff.js
var STATUS_ADD = "add";
var STATUS_KEEP = "keep";
var STATUS_REMOVE = "remove";
var STATUS_REMOVED = "removed";
function wrapKeyToObject(key) {
  var keyObj;
  if (key && _typeof(key) === "object" && "key" in key) {
    keyObj = key;
  } else {
    keyObj = {
      key
    };
  }
  return _objectSpread2(_objectSpread2({}, keyObj), {}, {
    key: String(keyObj.key)
  });
}
function parseKeys() {
  var keys = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
  return keys.map(wrapKeyToObject);
}
function diffKeys() {
  var prevKeys = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
  var currentKeys = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
  var list = [];
  var currentIndex = 0;
  var currentLen = currentKeys.length;
  var prevKeyObjects = parseKeys(prevKeys);
  var currentKeyObjects = parseKeys(currentKeys);
  prevKeyObjects.forEach(function(keyObj) {
    var hit = false;
    for (var i2 = currentIndex; i2 < currentLen; i2 += 1) {
      var currentKeyObj = currentKeyObjects[i2];
      if (currentKeyObj.key === keyObj.key) {
        if (currentIndex < i2) {
          list = list.concat(currentKeyObjects.slice(currentIndex, i2).map(function(obj) {
            return _objectSpread2(_objectSpread2({}, obj), {}, {
              status: STATUS_ADD
            });
          }));
          currentIndex = i2;
        }
        list.push(_objectSpread2(_objectSpread2({}, currentKeyObj), {}, {
          status: STATUS_KEEP
        }));
        currentIndex += 1;
        hit = true;
        break;
      }
    }
    if (!hit) {
      list.push(_objectSpread2(_objectSpread2({}, keyObj), {}, {
        status: STATUS_REMOVE
      }));
    }
  });
  if (currentIndex < currentLen) {
    list = list.concat(currentKeyObjects.slice(currentIndex).map(function(obj) {
      return _objectSpread2(_objectSpread2({}, obj), {}, {
        status: STATUS_ADD
      });
    }));
  }
  var keys = {};
  list.forEach(function(_ref) {
    var key = _ref.key;
    keys[key] = (keys[key] || 0) + 1;
  });
  var duplicatedKeys = Object.keys(keys).filter(function(key) {
    return keys[key] > 1;
  });
  duplicatedKeys.forEach(function(matchKey) {
    list = list.filter(function(_ref2) {
      var key = _ref2.key, status = _ref2.status;
      return key !== matchKey || status !== STATUS_REMOVE;
    });
    list.forEach(function(node) {
      if (node.key === matchKey) {
        node.status = STATUS_KEEP;
      }
    });
  });
  return list;
}

// node_modules/rc-motion/es/CSSMotionList.js
var _excluded2 = ["component", "children", "onVisibleChanged", "onAllRemoved"];
var _excluded22 = ["status"];
var MOTION_PROP_NAMES = ["eventProps", "visible", "children", "motionName", "motionAppear", "motionEnter", "motionLeave", "motionLeaveImmediately", "motionDeadline", "removeOnLeave", "leavedClassName", "onAppearPrepare", "onAppearStart", "onAppearActive", "onAppearEnd", "onEnterStart", "onEnterActive", "onEnterEnd", "onLeaveStart", "onLeaveActive", "onLeaveEnd"];
function genCSSMotionList(transitionSupport) {
  var CSSMotion = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : CSSMotion_default;
  var CSSMotionList = /* @__PURE__ */ function(_React$Component) {
    _inherits(CSSMotionList2, _React$Component);
    var _super = _createSuper(CSSMotionList2);
    function CSSMotionList2() {
      var _this;
      _classCallCheck(this, CSSMotionList2);
      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
        args[_key] = arguments[_key];
      }
      _this = _super.call.apply(_super, [this].concat(args));
      _defineProperty(_assertThisInitialized(_this), "state", {
        keyEntities: []
      });
      _defineProperty(_assertThisInitialized(_this), "removeKey", function(removeKey) {
        _this.setState(function(prevState) {
          var nextKeyEntities = prevState.keyEntities.map(function(entity) {
            if (entity.key !== removeKey) return entity;
            return _objectSpread2(_objectSpread2({}, entity), {}, {
              status: STATUS_REMOVED
            });
          });
          return {
            keyEntities: nextKeyEntities
          };
        }, function() {
          var keyEntities = _this.state.keyEntities;
          var restKeysCount = keyEntities.filter(function(_ref) {
            var status = _ref.status;
            return status !== STATUS_REMOVED;
          }).length;
          if (restKeysCount === 0 && _this.props.onAllRemoved) {
            _this.props.onAllRemoved();
          }
        });
      });
      return _this;
    }
    _createClass(CSSMotionList2, [{
      key: "render",
      value: function render() {
        var _this2 = this;
        var keyEntities = this.state.keyEntities;
        var _this$props = this.props, component = _this$props.component, children = _this$props.children, _onVisibleChanged = _this$props.onVisibleChanged, onAllRemoved = _this$props.onAllRemoved, restProps = _objectWithoutProperties(_this$props, _excluded2);
        var Component5 = component || React44.Fragment;
        var motionProps = {};
        MOTION_PROP_NAMES.forEach(function(prop) {
          motionProps[prop] = restProps[prop];
          delete restProps[prop];
        });
        delete restProps.keys;
        return /* @__PURE__ */ React44.createElement(Component5, restProps, keyEntities.map(function(_ref2, index2) {
          var status = _ref2.status, eventProps = _objectWithoutProperties(_ref2, _excluded22);
          var visible = status === STATUS_ADD || status === STATUS_KEEP;
          return /* @__PURE__ */ React44.createElement(CSSMotion, _extends({}, motionProps, {
            key: eventProps.key,
            visible,
            eventProps,
            onVisibleChanged: function onVisibleChanged(changedVisible) {
              _onVisibleChanged === null || _onVisibleChanged === void 0 || _onVisibleChanged(changedVisible, {
                key: eventProps.key
              });
              if (!changedVisible) {
                _this2.removeKey(eventProps.key);
              }
            }
          }), function(props, ref) {
            return children(_objectSpread2(_objectSpread2({}, props), {}, {
              index: index2
            }), ref);
          });
        }));
      }
    }], [{
      key: "getDerivedStateFromProps",
      value: function getDerivedStateFromProps(_ref3, _ref4) {
        var keys = _ref3.keys;
        var keyEntities = _ref4.keyEntities;
        var parsedKeyObjects = parseKeys(keys);
        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);
        return {
          keyEntities: mixedKeyEntities.filter(function(entity) {
            var prevEntity = keyEntities.find(function(_ref5) {
              var key = _ref5.key;
              return entity.key === key;
            });
            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {
              return false;
            }
            return true;
          })
        };
      }
    }]);
    return CSSMotionList2;
  }(React44.Component);
  _defineProperty(CSSMotionList, "defaultProps", {
    component: "div"
  });
  return CSSMotionList;
}
var CSSMotionList_default = genCSSMotionList(supportTransition);

// node_modules/rc-motion/es/index.js
var es_default3 = CSSMotion_default;

// node_modules/rc-tree/es/MotionTreeNode.js
import * as React48 from "react";

// node_modules/rc-tree/es/TreeNode.js
var import_classnames6 = __toESM(require_classnames());
import React46 from "react";

// node_modules/rc-tree/es/Indent.js
var import_classnames5 = __toESM(require_classnames());
import * as React45 from "react";
var Indent = function Indent2(_ref) {
  var prefixCls = _ref.prefixCls, level = _ref.level, isStart = _ref.isStart, isEnd = _ref.isEnd;
  var baseClassName = "".concat(prefixCls, "-indent-unit");
  var list = [];
  for (var i2 = 0; i2 < level; i2 += 1) {
    list.push(/* @__PURE__ */ React45.createElement("span", {
      key: i2,
      className: (0, import_classnames5.default)(baseClassName, _defineProperty(_defineProperty({}, "".concat(baseClassName, "-start"), isStart[i2]), "".concat(baseClassName, "-end"), isEnd[i2]))
    }));
  }
  return /* @__PURE__ */ React45.createElement("span", {
    "aria-hidden": "true",
    className: "".concat(prefixCls, "-indent")
  }, list);
};
var Indent_default = /* @__PURE__ */ React45.memo(Indent);

// node_modules/rc-tree/es/utils/keyUtil.js
function getEntity(keyEntities, key) {
  return keyEntities[key];
}

// node_modules/rc-util/es/omit.js
function omit(obj, fields) {
  var clone = Object.assign({}, obj);
  if (Array.isArray(fields)) {
    fields.forEach(function(key) {
      delete clone[key];
    });
  }
  return clone;
}

// node_modules/rc-tree/es/utils/treeUtil.js
var _excluded3 = ["children"];
function getPosition(level, index2) {
  return "".concat(level, "-").concat(index2);
}
function isTreeNode(node) {
  return node && node.type && node.type.isTreeNode;
}
function getKey(key, pos) {
  if (key !== null && key !== void 0) {
    return key;
  }
  return pos;
}
function fillFieldNames(fieldNames) {
  var _ref = fieldNames || {}, title = _ref.title, _title = _ref._title, key = _ref.key, children = _ref.children;
  var mergedTitle = title || "title";
  return {
    title: mergedTitle,
    _title: _title || [mergedTitle],
    key: key || "key",
    children: children || "children"
  };
}
function warningWithoutKey(treeData, fieldNames) {
  var keys = /* @__PURE__ */ new Map();
  function dig(list) {
    var path = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : "";
    (list || []).forEach(function(treeNode) {
      var key = treeNode[fieldNames.key];
      var children = treeNode[fieldNames.children];
      warning_default(key !== null && key !== void 0, "Tree node must have a certain key: [".concat(path).concat(key, "]"));
      var recordKey = String(key);
      warning_default(!keys.has(recordKey) || key === null || key === void 0, "Same 'key' exist in the Tree: ".concat(recordKey));
      keys.set(recordKey, true);
      dig(children, "".concat(path).concat(recordKey, " > "));
    });
  }
  dig(treeData);
}
function convertTreeToData(rootNodes) {
  function dig(node) {
    var treeNodes = toArray(node);
    return treeNodes.map(function(treeNode) {
      if (!isTreeNode(treeNode)) {
        warning_default(!treeNode, "Tree/TreeNode can only accept TreeNode as children.");
        return null;
      }
      var key = treeNode.key;
      var _treeNode$props = treeNode.props, children = _treeNode$props.children, rest = _objectWithoutProperties(_treeNode$props, _excluded3);
      var dataNode = _objectSpread2({
        key
      }, rest);
      var parsedChildren = dig(children);
      if (parsedChildren.length) {
        dataNode.children = parsedChildren;
      }
      return dataNode;
    }).filter(function(dataNode) {
      return dataNode;
    });
  }
  return dig(rootNodes);
}
function flattenTreeData(treeNodeList, expandedKeys, fieldNames) {
  var _fillFieldNames = fillFieldNames(fieldNames), fieldTitles = _fillFieldNames._title, fieldKey = _fillFieldNames.key, fieldChildren = _fillFieldNames.children;
  var expandedKeySet = new Set(expandedKeys === true ? [] : expandedKeys);
  var flattenList = [];
  function dig(list) {
    var parent = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : null;
    return list.map(function(treeNode, index2) {
      var pos = getPosition(parent ? parent.pos : "0", index2);
      var mergedKey = getKey(treeNode[fieldKey], pos);
      var mergedTitle;
      for (var i2 = 0; i2 < fieldTitles.length; i2 += 1) {
        var fieldTitle = fieldTitles[i2];
        if (treeNode[fieldTitle] !== void 0) {
          mergedTitle = treeNode[fieldTitle];
          break;
        }
      }
      var flattenNode = Object.assign(omit(treeNode, [].concat(_toConsumableArray(fieldTitles), [fieldKey, fieldChildren])), {
        title: mergedTitle,
        key: mergedKey,
        parent,
        pos,
        children: null,
        data: treeNode,
        isStart: [].concat(_toConsumableArray(parent ? parent.isStart : []), [index2 === 0]),
        isEnd: [].concat(_toConsumableArray(parent ? parent.isEnd : []), [index2 === list.length - 1])
      });
      flattenList.push(flattenNode);
      if (expandedKeys === true || expandedKeySet.has(mergedKey)) {
        flattenNode.children = dig(treeNode[fieldChildren] || [], flattenNode);
      } else {
        flattenNode.children = [];
      }
      return flattenNode;
    });
  }
  dig(treeNodeList);
  return flattenList;
}
function traverseDataNodes(dataNodes, callback, config) {
  var mergedConfig = {};
  if (_typeof(config) === "object") {
    mergedConfig = config;
  } else {
    mergedConfig = {
      externalGetKey: config
    };
  }
  mergedConfig = mergedConfig || {};
  var _mergedConfig = mergedConfig, childrenPropName = _mergedConfig.childrenPropName, externalGetKey = _mergedConfig.externalGetKey, fieldNames = _mergedConfig.fieldNames;
  var _fillFieldNames2 = fillFieldNames(fieldNames), fieldKey = _fillFieldNames2.key, fieldChildren = _fillFieldNames2.children;
  var mergeChildrenPropName = childrenPropName || fieldChildren;
  var syntheticGetKey;
  if (externalGetKey) {
    if (typeof externalGetKey === "string") {
      syntheticGetKey = function syntheticGetKey2(node) {
        return node[externalGetKey];
      };
    } else if (typeof externalGetKey === "function") {
      syntheticGetKey = function syntheticGetKey2(node) {
        return externalGetKey(node);
      };
    }
  } else {
    syntheticGetKey = function syntheticGetKey2(node, pos) {
      return getKey(node[fieldKey], pos);
    };
  }
  function processNode(node, index2, parent, pathNodes) {
    var children = node ? node[mergeChildrenPropName] : dataNodes;
    var pos = node ? getPosition(parent.pos, index2) : "0";
    var connectNodes = node ? [].concat(_toConsumableArray(pathNodes), [node]) : [];
    if (node) {
      var key = syntheticGetKey(node, pos);
      var _data = {
        node,
        index: index2,
        pos,
        key,
        parentPos: parent.node ? parent.pos : null,
        level: parent.level + 1,
        nodes: connectNodes
      };
      callback(_data);
    }
    if (children) {
      children.forEach(function(subNode, subIndex) {
        processNode(subNode, subIndex, {
          node,
          pos,
          level: parent ? parent.level + 1 : -1
        }, connectNodes);
      });
    }
  }
  processNode(null);
}
function convertDataToEntities(dataNodes) {
  var _ref2 = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {}, initWrapper = _ref2.initWrapper, processEntity = _ref2.processEntity, onProcessFinished = _ref2.onProcessFinished, externalGetKey = _ref2.externalGetKey, childrenPropName = _ref2.childrenPropName, fieldNames = _ref2.fieldNames;
  var legacyExternalGetKey = arguments.length > 2 ? arguments[2] : void 0;
  var mergedExternalGetKey = externalGetKey || legacyExternalGetKey;
  var posEntities = {};
  var keyEntities = {};
  var wrapper = {
    posEntities,
    keyEntities
  };
  if (initWrapper) {
    wrapper = initWrapper(wrapper) || wrapper;
  }
  traverseDataNodes(dataNodes, function(item) {
    var node = item.node, index2 = item.index, pos = item.pos, key = item.key, parentPos = item.parentPos, level = item.level, nodes = item.nodes;
    var entity = {
      node,
      nodes,
      index: index2,
      key,
      pos,
      level
    };
    var mergedKey = getKey(key, pos);
    posEntities[pos] = entity;
    keyEntities[mergedKey] = entity;
    entity.parent = posEntities[parentPos];
    if (entity.parent) {
      entity.parent.children = entity.parent.children || [];
      entity.parent.children.push(entity);
    }
    if (processEntity) {
      processEntity(entity, wrapper);
    }
  }, {
    externalGetKey: mergedExternalGetKey,
    childrenPropName,
    fieldNames
  });
  if (onProcessFinished) {
    onProcessFinished(wrapper);
  }
  return wrapper;
}
function getTreeNodeProps(key, _ref3) {
  var expandedKeys = _ref3.expandedKeys, selectedKeys = _ref3.selectedKeys, loadedKeys = _ref3.loadedKeys, loadingKeys = _ref3.loadingKeys, checkedKeys = _ref3.checkedKeys, halfCheckedKeys = _ref3.halfCheckedKeys, dragOverNodeKey = _ref3.dragOverNodeKey, dropPosition = _ref3.dropPosition, keyEntities = _ref3.keyEntities;
  var entity = getEntity(keyEntities, key);
  var treeNodeProps = {
    eventKey: key,
    expanded: expandedKeys.indexOf(key) !== -1,
    selected: selectedKeys.indexOf(key) !== -1,
    loaded: loadedKeys.indexOf(key) !== -1,
    loading: loadingKeys.indexOf(key) !== -1,
    checked: checkedKeys.indexOf(key) !== -1,
    halfChecked: halfCheckedKeys.indexOf(key) !== -1,
    pos: String(entity ? entity.pos : ""),
    // [Legacy] Drag props
    // Since the interaction of drag is changed, the semantic of the props are
    // not accuracy, I think it should be finally removed
    dragOver: dragOverNodeKey === key && dropPosition === 0,
    dragOverGapTop: dragOverNodeKey === key && dropPosition === -1,
    dragOverGapBottom: dragOverNodeKey === key && dropPosition === 1
  };
  return treeNodeProps;
}
function convertNodePropsToEventData(props) {
  var data = props.data, expanded = props.expanded, selected = props.selected, checked = props.checked, loaded = props.loaded, loading = props.loading, halfChecked = props.halfChecked, dragOver = props.dragOver, dragOverGapTop = props.dragOverGapTop, dragOverGapBottom = props.dragOverGapBottom, pos = props.pos, active = props.active, eventKey = props.eventKey;
  var eventData = _objectSpread2(_objectSpread2({}, data), {}, {
    expanded,
    selected,
    checked,
    loaded,
    loading,
    halfChecked,
    dragOver,
    dragOverGapTop,
    dragOverGapBottom,
    pos,
    active,
    key: eventKey
  });
  if (!("props" in eventData)) {
    Object.defineProperty(eventData, "props", {
      get: function get2() {
        warning_default(false, "Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`.");
        return props;
      }
    });
  }
  return eventData;
}

// node_modules/rc-tree/es/TreeNode.js
var _excluded4 = ["eventKey", "className", "style", "dragOver", "dragOverGapTop", "dragOverGapBottom", "isLeaf", "isStart", "isEnd", "expanded", "selected", "checked", "halfChecked", "loading", "domRef", "active", "data", "onMouseMove", "selectable"];
var ICON_OPEN = "open";
var ICON_CLOSE = "close";
var defaultTitle = "---";
var TreeNode = function TreeNode2(props) {
  var _context$filterTreeNo, _classNames4;
  var eventKey = props.eventKey, className = props.className, style2 = props.style, dragOver = props.dragOver, dragOverGapTop = props.dragOverGapTop, dragOverGapBottom = props.dragOverGapBottom, isLeaf = props.isLeaf, isStart = props.isStart, isEnd = props.isEnd, expanded = props.expanded, selected = props.selected, checked = props.checked, halfChecked = props.halfChecked, loading = props.loading, domRef = props.domRef, active = props.active, data = props.data, onMouseMove = props.onMouseMove, selectable = props.selectable, otherProps = _objectWithoutProperties(props, _excluded4);
  var context = React46.useContext(TreeContext);
  var unstableContext = React46.useContext(UnstableContext);
  var selectHandleRef = React46.useRef(null);
  var _React$useState = React46.useState(false), _React$useState2 = _slicedToArray(_React$useState, 2), dragNodeHighlight = _React$useState2[0], setDragNodeHighlight = _React$useState2[1];
  var isDisabled = React46.useMemo(function() {
    var _unstableContext$node;
    return !!(context.disabled || props.disabled || (_unstableContext$node = unstableContext.nodeDisabled) !== null && _unstableContext$node !== void 0 && _unstableContext$node.call(unstableContext, data));
  }, [context.disabled, props.disabled, unstableContext.nodeDisabled, data]);
  var isCheckable = React46.useMemo(function() {
    if (!context.checkable || props.checkable === false) {
      return false;
    }
    return context.checkable;
  }, [context.checkable, props.checkable]);
  var onSelect = function onSelect2(e2) {
    if (isDisabled) {
      return;
    }
    context.onNodeSelect(e2, convertNodePropsToEventData(props));
  };
  var onCheck = function onCheck2(e2) {
    if (isDisabled) {
      return;
    }
    if (!isCheckable || props.disableCheckbox) {
      return;
    }
    context.onNodeCheck(e2, convertNodePropsToEventData(props), !checked);
  };
  var isSelectable = React46.useMemo(function() {
    if (typeof selectable === "boolean") {
      return selectable;
    }
    return context.selectable;
  }, [selectable, context.selectable]);
  var onSelectorClick = function onSelectorClick2(e2) {
    context.onNodeClick(e2, convertNodePropsToEventData(props));
    if (isSelectable) {
      onSelect(e2);
    } else {
      onCheck(e2);
    }
  };
  var onSelectorDoubleClick = function onSelectorDoubleClick2(e2) {
    context.onNodeDoubleClick(e2, convertNodePropsToEventData(props));
  };
  var onMouseEnter = function onMouseEnter2(e2) {
    context.onNodeMouseEnter(e2, convertNodePropsToEventData(props));
  };
  var onMouseLeave = function onMouseLeave2(e2) {
    context.onNodeMouseLeave(e2, convertNodePropsToEventData(props));
  };
  var onContextMenu = function onContextMenu2(e2) {
    context.onNodeContextMenu(e2, convertNodePropsToEventData(props));
  };
  var isDraggable = React46.useMemo(function() {
    return !!(context.draggable && (!context.draggable.nodeDraggable || context.draggable.nodeDraggable(data)));
  }, [context.draggable, data]);
  var onDragStart = function onDragStart2(e2) {
    e2.stopPropagation();
    setDragNodeHighlight(true);
    context.onNodeDragStart(e2, props);
    try {
      e2.dataTransfer.setData("text/plain", "");
    } catch (_unused) {
    }
  };
  var onDragEnter = function onDragEnter2(e2) {
    e2.preventDefault();
    e2.stopPropagation();
    context.onNodeDragEnter(e2, props);
  };
  var onDragOver = function onDragOver2(e2) {
    e2.preventDefault();
    e2.stopPropagation();
    context.onNodeDragOver(e2, props);
  };
  var onDragLeave = function onDragLeave2(e2) {
    e2.stopPropagation();
    context.onNodeDragLeave(e2, props);
  };
  var onDragEnd = function onDragEnd2(e2) {
    e2.stopPropagation();
    setDragNodeHighlight(false);
    context.onNodeDragEnd(e2, props);
  };
  var onDrop = function onDrop2(e2) {
    e2.preventDefault();
    e2.stopPropagation();
    setDragNodeHighlight(false);
    context.onNodeDrop(e2, props);
  };
  var onExpand = function onExpand2(e2) {
    if (loading) {
      return;
    }
    context.onNodeExpand(e2, convertNodePropsToEventData(props));
  };
  var hasChildren = React46.useMemo(function() {
    var _ref = getEntity(context.keyEntities, eventKey) || {}, children = _ref.children;
    return Boolean((children || []).length);
  }, [context.keyEntities, eventKey]);
  var memoizedIsLeaf = React46.useMemo(function() {
    if (isLeaf === false) {
      return false;
    }
    return isLeaf || !context.loadData && !hasChildren || context.loadData && props.loaded && !hasChildren;
  }, [isLeaf, context.loadData, hasChildren, props.loaded]);
  React46.useEffect(function() {
    if (loading) {
      return;
    }
    if (typeof context.loadData === "function" && expanded && !memoizedIsLeaf && !props.loaded) {
      context.onNodeLoad(convertNodePropsToEventData(props));
    }
  }, [loading, context.loadData, context.onNodeLoad, expanded, memoizedIsLeaf, props]);
  var dragHandlerNode = React46.useMemo(function() {
    var _context$draggable;
    if (!((_context$draggable = context.draggable) !== null && _context$draggable !== void 0 && _context$draggable.icon)) {
      return null;
    }
    return /* @__PURE__ */ React46.createElement("span", {
      className: "".concat(context.prefixCls, "-draggable-icon")
    }, context.draggable.icon);
  }, [context.draggable]);
  var renderSwitcherIconDom = function renderSwitcherIconDom2(isInternalLeaf) {
    var switcherIcon = props.switcherIcon || context.switcherIcon;
    if (typeof switcherIcon === "function") {
      return switcherIcon(_objectSpread2(_objectSpread2({}, props), {}, {
        isLeaf: isInternalLeaf
      }));
    }
    return switcherIcon;
  };
  var renderSwitcher = function renderSwitcher2() {
    if (memoizedIsLeaf) {
      var _switcherIconDom = renderSwitcherIconDom(true);
      return _switcherIconDom !== false ? /* @__PURE__ */ React46.createElement("span", {
        className: (0, import_classnames6.default)("".concat(context.prefixCls, "-switcher"), "".concat(context.prefixCls, "-switcher-noop"))
      }, _switcherIconDom) : null;
    }
    var switcherIconDom = renderSwitcherIconDom(false);
    return switcherIconDom !== false ? /* @__PURE__ */ React46.createElement("span", {
      onClick: onExpand,
      className: (0, import_classnames6.default)("".concat(context.prefixCls, "-switcher"), "".concat(context.prefixCls, "-switcher_").concat(expanded ? ICON_OPEN : ICON_CLOSE))
    }, switcherIconDom) : null;
  };
  var checkboxNode = React46.useMemo(function() {
    if (!isCheckable) {
      return null;
    }
    var $custom = typeof isCheckable !== "boolean" ? isCheckable : null;
    return /* @__PURE__ */ React46.createElement("span", {
      className: (0, import_classnames6.default)("".concat(context.prefixCls, "-checkbox"), _defineProperty(_defineProperty(_defineProperty({}, "".concat(context.prefixCls, "-checkbox-checked"), checked), "".concat(context.prefixCls, "-checkbox-indeterminate"), !checked && halfChecked), "".concat(context.prefixCls, "-checkbox-disabled"), isDisabled || props.disableCheckbox)),
      onClick: onCheck,
      role: "checkbox",
      "aria-checked": halfChecked ? "mixed" : checked,
      "aria-disabled": isDisabled || props.disableCheckbox,
      "aria-label": "Select ".concat(typeof props.title === "string" ? props.title : "tree node")
    }, $custom);
  }, [isCheckable, checked, halfChecked, isDisabled, props.disableCheckbox, props.title]);
  var nodeState = React46.useMemo(function() {
    if (memoizedIsLeaf) {
      return null;
    }
    return expanded ? ICON_OPEN : ICON_CLOSE;
  }, [memoizedIsLeaf, expanded]);
  var iconNode = React46.useMemo(function() {
    return /* @__PURE__ */ React46.createElement("span", {
      className: (0, import_classnames6.default)("".concat(context.prefixCls, "-iconEle"), "".concat(context.prefixCls, "-icon__").concat(nodeState || "docu"), _defineProperty({}, "".concat(context.prefixCls, "-icon_loading"), loading))
    });
  }, [context.prefixCls, nodeState, loading]);
  var dropIndicatorNode = React46.useMemo(function() {
    var rootDraggable = Boolean(context.draggable);
    var showIndicator = !props.disabled && rootDraggable && context.dragOverNodeKey === eventKey;
    if (!showIndicator) {
      return null;
    }
    return context.dropIndicatorRender({
      dropPosition: context.dropPosition,
      dropLevelOffset: context.dropLevelOffset,
      indent: context.indent,
      prefixCls: context.prefixCls,
      direction: context.direction
    });
  }, [context.dropPosition, context.dropLevelOffset, context.indent, context.prefixCls, context.direction, context.draggable, context.dragOverNodeKey, context.dropIndicatorRender]);
  var selectorNode = React46.useMemo(function() {
    var _props$title = props.title, title = _props$title === void 0 ? defaultTitle : _props$title;
    var wrapClass = "".concat(context.prefixCls, "-node-content-wrapper");
    var $icon;
    if (context.showIcon) {
      var currentIcon = props.icon || context.icon;
      $icon = currentIcon ? /* @__PURE__ */ React46.createElement("span", {
        className: (0, import_classnames6.default)("".concat(context.prefixCls, "-iconEle"), "".concat(context.prefixCls, "-icon__customize"))
      }, typeof currentIcon === "function" ? currentIcon(props) : currentIcon) : iconNode;
    } else if (context.loadData && loading) {
      $icon = iconNode;
    }
    var titleNode;
    if (typeof title === "function") {
      titleNode = title(data);
    } else if (context.titleRender) {
      titleNode = context.titleRender(data);
    } else {
      titleNode = title;
    }
    return /* @__PURE__ */ React46.createElement("span", {
      ref: selectHandleRef,
      title: typeof title === "string" ? title : "",
      className: (0, import_classnames6.default)(wrapClass, "".concat(wrapClass, "-").concat(nodeState || "normal"), _defineProperty({}, "".concat(context.prefixCls, "-node-selected"), !isDisabled && (selected || dragNodeHighlight))),
      onMouseEnter,
      onMouseLeave,
      onContextMenu,
      onClick: onSelectorClick,
      onDoubleClick: onSelectorDoubleClick
    }, $icon, /* @__PURE__ */ React46.createElement("span", {
      className: "".concat(context.prefixCls, "-title")
    }, titleNode), dropIndicatorNode);
  }, [context.prefixCls, context.showIcon, props, context.icon, iconNode, context.titleRender, data, nodeState, onMouseEnter, onMouseLeave, onContextMenu, onSelectorClick, onSelectorDoubleClick]);
  var dataOrAriaAttributeProps = pickAttrs(otherProps, {
    aria: true,
    data: true
  });
  var _ref2 = getEntity(context.keyEntities, eventKey) || {}, level = _ref2.level;
  var isEndNode = isEnd[isEnd.length - 1];
  var draggableWithoutDisabled = !isDisabled && isDraggable;
  var dragging = context.draggingNodeKey === eventKey;
  var ariaSelected = selectable !== void 0 ? {
    "aria-selected": !!selectable
  } : void 0;
  return /* @__PURE__ */ React46.createElement("div", _extends({
    ref: domRef,
    role: "treeitem",
    "aria-expanded": isLeaf ? void 0 : expanded,
    className: (0, import_classnames6.default)(className, "".concat(context.prefixCls, "-treenode"), (_classNames4 = {}, _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_classNames4, "".concat(context.prefixCls, "-treenode-disabled"), isDisabled), "".concat(context.prefixCls, "-treenode-switcher-").concat(expanded ? "open" : "close"), !isLeaf), "".concat(context.prefixCls, "-treenode-checkbox-checked"), checked), "".concat(context.prefixCls, "-treenode-checkbox-indeterminate"), halfChecked), "".concat(context.prefixCls, "-treenode-selected"), selected), "".concat(context.prefixCls, "-treenode-loading"), loading), "".concat(context.prefixCls, "-treenode-active"), active), "".concat(context.prefixCls, "-treenode-leaf-last"), isEndNode), "".concat(context.prefixCls, "-treenode-draggable"), isDraggable), "dragging", dragging), _defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_defineProperty(_classNames4, "drop-target", context.dropTargetKey === eventKey), "drop-container", context.dropContainerKey === eventKey), "drag-over", !isDisabled && dragOver), "drag-over-gap-top", !isDisabled && dragOverGapTop), "drag-over-gap-bottom", !isDisabled && dragOverGapBottom), "filter-node", (_context$filterTreeNo = context.filterTreeNode) === null || _context$filterTreeNo === void 0 ? void 0 : _context$filterTreeNo.call(context, convertNodePropsToEventData(props))), "".concat(context.prefixCls, "-treenode-leaf"), memoizedIsLeaf))),
    style: style2,
    draggable: draggableWithoutDisabled,
    onDragStart: draggableWithoutDisabled ? onDragStart : void 0,
    onDragEnter: isDraggable ? onDragEnter : void 0,
    onDragOver: isDraggable ? onDragOver : void 0,
    onDragLeave: isDraggable ? onDragLeave : void 0,
    onDrop: isDraggable ? onDrop : void 0,
    onDragEnd: isDraggable ? onDragEnd : void 0,
    onMouseMove
  }, ariaSelected, dataOrAriaAttributeProps), /* @__PURE__ */ React46.createElement(Indent_default, {
    prefixCls: context.prefixCls,
    level,
    isStart,
    isEnd
  }), dragHandlerNode, renderSwitcher(), checkboxNode, selectorNode);
};
TreeNode.isTreeNode = 1;
if (true) {
  TreeNode.displayName = "TreeNode";
}
var TreeNode_default = TreeNode;

// node_modules/rc-tree/es/useUnmount.js
import * as React47 from "react";
function useUnmount(triggerStart, triggerEnd) {
  var _React$useState = React47.useState(false), _React$useState2 = _slicedToArray(_React$useState, 2), firstMount = _React$useState2[0], setFirstMount = _React$useState2[1];
  useLayoutEffect_default(function() {
    if (firstMount) {
      triggerStart();
      return function() {
        triggerEnd();
      };
    }
  }, [firstMount]);
  useLayoutEffect_default(function() {
    setFirstMount(true);
    return function() {
      setFirstMount(false);
    };
  }, []);
}
var useUnmount_default = useUnmount;

// node_modules/rc-tree/es/MotionTreeNode.js
var _excluded5 = ["className", "style", "motion", "motionNodes", "motionType", "onMotionStart", "onMotionEnd", "active", "treeNodeRequiredProps"];
var MotionTreeNode = /* @__PURE__ */ React48.forwardRef(function(oriProps, ref) {
  var className = oriProps.className, style2 = oriProps.style, motion = oriProps.motion, motionNodes = oriProps.motionNodes, motionType = oriProps.motionType, onOriginMotionStart = oriProps.onMotionStart, onOriginMotionEnd = oriProps.onMotionEnd, active = oriProps.active, treeNodeRequiredProps = oriProps.treeNodeRequiredProps, props = _objectWithoutProperties(oriProps, _excluded5);
  var _React$useState = React48.useState(true), _React$useState2 = _slicedToArray(_React$useState, 2), visible = _React$useState2[0], setVisible = _React$useState2[1];
  var _React$useContext = React48.useContext(TreeContext), prefixCls = _React$useContext.prefixCls;
  var targetVisible = motionNodes && motionType !== "hide";
  useLayoutEffect_default(function() {
    if (motionNodes) {
      if (targetVisible !== visible) {
        setVisible(targetVisible);
      }
    }
  }, [motionNodes]);
  var triggerMotionStart = function triggerMotionStart2() {
    if (motionNodes) {
      onOriginMotionStart();
    }
  };
  var triggerMotionEndRef = React48.useRef(false);
  var triggerMotionEnd = function triggerMotionEnd2() {
    if (motionNodes && !triggerMotionEndRef.current) {
      triggerMotionEndRef.current = true;
      onOriginMotionEnd();
    }
  };
  useUnmount_default(triggerMotionStart, triggerMotionEnd);
  var onVisibleChanged = function onVisibleChanged2(nextVisible) {
    if (targetVisible === nextVisible) {
      triggerMotionEnd();
    }
  };
  if (motionNodes) {
    return /* @__PURE__ */ React48.createElement(es_default3, _extends({
      ref,
      visible
    }, motion, {
      motionAppear: motionType === "show",
      onVisibleChanged
    }), function(_ref, motionRef) {
      var motionClassName = _ref.className, motionStyle = _ref.style;
      return /* @__PURE__ */ React48.createElement("div", {
        ref: motionRef,
        className: (0, import_classnames7.default)("".concat(prefixCls, "-treenode-motion"), motionClassName),
        style: motionStyle
      }, motionNodes.map(function(treeNode) {
        var restProps = Object.assign({}, (_objectDestructuringEmpty(treeNode.data), treeNode.data)), title = treeNode.title, key = treeNode.key, isStart = treeNode.isStart, isEnd = treeNode.isEnd;
        delete restProps.children;
        var treeNodeProps = getTreeNodeProps(key, treeNodeRequiredProps);
        return /* @__PURE__ */ React48.createElement(TreeNode_default, _extends({}, restProps, treeNodeProps, {
          title,
          active,
          data: treeNode.data,
          key,
          isStart,
          isEnd
        }));
      }));
    });
  }
  return /* @__PURE__ */ React48.createElement(TreeNode_default, _extends({
    domRef: ref,
    className,
    style: style2
  }, props, {
    active
  }));
});
if (true) {
  MotionTreeNode.displayName = "MotionTreeNode";
}
var MotionTreeNode_default = MotionTreeNode;

// node_modules/rc-tree/es/utils/diffUtil.js
function findExpandedKeys() {
  var prev = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
  var next = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];
  var prevLen = prev.length;
  var nextLen = next.length;
  if (Math.abs(prevLen - nextLen) !== 1) {
    return {
      add: false,
      key: null
    };
  }
  function find(shorter, longer) {
    var cache = /* @__PURE__ */ new Map();
    shorter.forEach(function(key) {
      cache.set(key, true);
    });
    var keys = longer.filter(function(key) {
      return !cache.has(key);
    });
    return keys.length === 1 ? keys[0] : null;
  }
  if (prevLen < nextLen) {
    return {
      add: true,
      key: find(prev, next)
    };
  }
  return {
    add: false,
    key: find(next, prev)
  };
}
function getExpandRange(shorter, longer, key) {
  var shorterStartIndex = shorter.findIndex(function(data) {
    return data.key === key;
  });
  var shorterEndNode = shorter[shorterStartIndex + 1];
  var longerStartIndex = longer.findIndex(function(data) {
    return data.key === key;
  });
  if (shorterEndNode) {
    var longerEndIndex = longer.findIndex(function(data) {
      return data.key === shorterEndNode.key;
    });
    return longer.slice(longerStartIndex + 1, longerEndIndex);
  }
  return longer.slice(longerStartIndex + 1);
}

// node_modules/rc-tree/es/NodeList.js
var _excluded6 = ["prefixCls", "data", "selectable", "checkable", "expandedKeys", "selectedKeys", "checkedKeys", "loadedKeys", "loadingKeys", "halfCheckedKeys", "keyEntities", "disabled", "dragging", "dragOverNodeKey", "dropPosition", "motion", "height", "itemHeight", "virtual", "scrollWidth", "focusable", "activeItem", "focused", "tabIndex", "onKeyDown", "onFocus", "onBlur", "onActiveChange", "onListChangeStart", "onListChangeEnd"];
var HIDDEN_STYLE = {
  width: 0,
  height: 0,
  display: "flex",
  overflow: "hidden",
  opacity: 0,
  border: 0,
  padding: 0,
  margin: 0
};
var noop = function noop2() {
};
var MOTION_KEY = "RC_TREE_MOTION_".concat(Math.random());
var MotionNode = {
  key: MOTION_KEY
};
var MotionEntity = {
  key: MOTION_KEY,
  level: 0,
  index: 0,
  pos: "0",
  node: MotionNode,
  nodes: [MotionNode]
};
var MotionFlattenData = {
  parent: null,
  children: [],
  pos: MotionEntity.pos,
  data: MotionNode,
  title: null,
  key: MOTION_KEY,
  /** Hold empty list here since we do not use it */
  isStart: [],
  isEnd: []
};
function getMinimumRangeTransitionRange(list, virtual, height, itemHeight) {
  if (virtual === false || !height) {
    return list;
  }
  return list.slice(0, Math.ceil(height / itemHeight) + 1);
}
function itemKey(item) {
  var key = item.key, pos = item.pos;
  return getKey(key, pos);
}
function getAccessibilityPath(item) {
  var path = String(item.data.key);
  var current = item;
  while (current.parent) {
    current = current.parent;
    path = "".concat(current.data.key, " > ").concat(path);
  }
  return path;
}
var NodeList = /* @__PURE__ */ React49.forwardRef(function(props, ref) {
  var prefixCls = props.prefixCls, data = props.data, selectable = props.selectable, checkable = props.checkable, expandedKeys = props.expandedKeys, selectedKeys = props.selectedKeys, checkedKeys = props.checkedKeys, loadedKeys = props.loadedKeys, loadingKeys = props.loadingKeys, halfCheckedKeys = props.halfCheckedKeys, keyEntities = props.keyEntities, disabled = props.disabled, dragging = props.dragging, dragOverNodeKey = props.dragOverNodeKey, dropPosition = props.dropPosition, motion = props.motion, height = props.height, itemHeight = props.itemHeight, virtual = props.virtual, scrollWidth = props.scrollWidth, focusable = props.focusable, activeItem = props.activeItem, focused = props.focused, tabIndex = props.tabIndex, onKeyDown = props.onKeyDown, onFocus = props.onFocus, onBlur = props.onBlur, onActiveChange = props.onActiveChange, onListChangeStart = props.onListChangeStart, onListChangeEnd = props.onListChangeEnd, domProps = _objectWithoutProperties(props, _excluded6);
  var listRef = React49.useRef(null);
  var indentMeasurerRef = React49.useRef(null);
  React49.useImperativeHandle(ref, function() {
    return {
      scrollTo: function scrollTo(scroll) {
        listRef.current.scrollTo(scroll);
      },
      getIndentWidth: function getIndentWidth() {
        return indentMeasurerRef.current.offsetWidth;
      }
    };
  });
  var _React$useState = React49.useState(expandedKeys), _React$useState2 = _slicedToArray(_React$useState, 2), prevExpandedKeys = _React$useState2[0], setPrevExpandedKeys = _React$useState2[1];
  var _React$useState3 = React49.useState(data), _React$useState4 = _slicedToArray(_React$useState3, 2), prevData = _React$useState4[0], setPrevData = _React$useState4[1];
  var _React$useState5 = React49.useState(data), _React$useState6 = _slicedToArray(_React$useState5, 2), transitionData = _React$useState6[0], setTransitionData = _React$useState6[1];
  var _React$useState7 = React49.useState([]), _React$useState8 = _slicedToArray(_React$useState7, 2), transitionRange = _React$useState8[0], setTransitionRange = _React$useState8[1];
  var _React$useState9 = React49.useState(null), _React$useState10 = _slicedToArray(_React$useState9, 2), motionType = _React$useState10[0], setMotionType = _React$useState10[1];
  var dataRef = React49.useRef(data);
  dataRef.current = data;
  function onMotionEnd() {
    var latestData = dataRef.current;
    setPrevData(latestData);
    setTransitionData(latestData);
    setTransitionRange([]);
    setMotionType(null);
    onListChangeEnd();
  }
  useLayoutEffect_default(function() {
    setPrevExpandedKeys(expandedKeys);
    var diffExpanded = findExpandedKeys(prevExpandedKeys, expandedKeys);
    if (diffExpanded.key !== null) {
      if (diffExpanded.add) {
        var keyIndex = prevData.findIndex(function(_ref) {
          var key = _ref.key;
          return key === diffExpanded.key;
        });
        var rangeNodes = getMinimumRangeTransitionRange(getExpandRange(prevData, data, diffExpanded.key), virtual, height, itemHeight);
        var newTransitionData = prevData.slice();
        newTransitionData.splice(keyIndex + 1, 0, MotionFlattenData);
        setTransitionData(newTransitionData);
        setTransitionRange(rangeNodes);
        setMotionType("show");
      } else {
        var _keyIndex = data.findIndex(function(_ref2) {
          var key = _ref2.key;
          return key === diffExpanded.key;
        });
        var _rangeNodes = getMinimumRangeTransitionRange(getExpandRange(data, prevData, diffExpanded.key), virtual, height, itemHeight);
        var _newTransitionData = data.slice();
        _newTransitionData.splice(_keyIndex + 1, 0, MotionFlattenData);
        setTransitionData(_newTransitionData);
        setTransitionRange(_rangeNodes);
        setMotionType("hide");
      }
    } else if (prevData !== data) {
      setPrevData(data);
      setTransitionData(data);
    }
  }, [expandedKeys, data]);
  React49.useEffect(function() {
    if (!dragging) {
      onMotionEnd();
    }
  }, [dragging]);
  var mergedData = motion ? transitionData : data;
  var treeNodeRequiredProps = {
    expandedKeys,
    selectedKeys,
    loadedKeys,
    loadingKeys,
    checkedKeys,
    halfCheckedKeys,
    dragOverNodeKey,
    dropPosition,
    keyEntities
  };
  return /* @__PURE__ */ React49.createElement(React49.Fragment, null, focused && activeItem && /* @__PURE__ */ React49.createElement("span", {
    style: HIDDEN_STYLE,
    "aria-live": "assertive"
  }, getAccessibilityPath(activeItem)), /* @__PURE__ */ React49.createElement("div", null, /* @__PURE__ */ React49.createElement("input", {
    style: HIDDEN_STYLE,
    disabled: focusable === false || disabled,
    tabIndex: focusable !== false ? tabIndex : null,
    onKeyDown,
    onFocus,
    onBlur,
    value: "",
    onChange: noop,
    "aria-label": "for screen reader"
  })), /* @__PURE__ */ React49.createElement("div", {
    className: "".concat(prefixCls, "-treenode"),
    "aria-hidden": true,
    style: {
      position: "absolute",
      pointerEvents: "none",
      visibility: "hidden",
      height: 0,
      overflow: "hidden",
      border: 0,
      padding: 0
    }
  }, /* @__PURE__ */ React49.createElement("div", {
    className: "".concat(prefixCls, "-indent")
  }, /* @__PURE__ */ React49.createElement("div", {
    ref: indentMeasurerRef,
    className: "".concat(prefixCls, "-indent-unit")
  }))), /* @__PURE__ */ React49.createElement(es_default2, _extends({}, domProps, {
    data: mergedData,
    itemKey,
    height,
    fullHeight: false,
    virtual,
    itemHeight,
    scrollWidth,
    prefixCls: "".concat(prefixCls, "-list"),
    ref: listRef,
    role: "tree",
    onVisibleChange: function onVisibleChange(originList) {
      if (originList.every(function(item) {
        return itemKey(item) !== MOTION_KEY;
      })) {
        onMotionEnd();
      }
    }
  }), function(treeNode) {
    var pos = treeNode.pos, restProps = Object.assign({}, (_objectDestructuringEmpty(treeNode.data), treeNode.data)), title = treeNode.title, key = treeNode.key, isStart = treeNode.isStart, isEnd = treeNode.isEnd;
    var mergedKey = getKey(key, pos);
    delete restProps.key;
    delete restProps.children;
    var treeNodeProps = getTreeNodeProps(mergedKey, treeNodeRequiredProps);
    return /* @__PURE__ */ React49.createElement(MotionTreeNode_default, _extends({}, restProps, treeNodeProps, {
      title,
      active: !!activeItem && key === activeItem.key,
      pos,
      data: treeNode.data,
      isStart,
      isEnd,
      motion,
      motionNodes: key === MOTION_KEY ? transitionRange : null,
      motionType,
      onMotionStart: onListChangeStart,
      onMotionEnd,
      treeNodeRequiredProps,
      onMouseMove: function onMouseMove() {
        onActiveChange(null);
      }
    }));
  }));
});
if (true) {
  NodeList.displayName = "NodeList";
}
var NodeList_default = NodeList;

// node_modules/rc-tree/es/util.js
import React50 from "react";
function arrDel(list, value) {
  if (!list) return [];
  var clone = list.slice();
  var index2 = clone.indexOf(value);
  if (index2 >= 0) {
    clone.splice(index2, 1);
  }
  return clone;
}
function arrAdd(list, value) {
  var clone = (list || []).slice();
  if (clone.indexOf(value) === -1) {
    clone.push(value);
  }
  return clone;
}
function posToArr(pos) {
  return pos.split("-");
}
function getDragChildrenKeys(dragNodeKey, keyEntities) {
  var dragChildrenKeys = [];
  var entity = getEntity(keyEntities, dragNodeKey);
  function dig() {
    var list = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : [];
    list.forEach(function(_ref) {
      var key = _ref.key, children = _ref.children;
      dragChildrenKeys.push(key);
      dig(children);
    });
  }
  dig(entity.children);
  return dragChildrenKeys;
}
function isLastChild(treeNodeEntity) {
  if (treeNodeEntity.parent) {
    var posArr = posToArr(treeNodeEntity.pos);
    return Number(posArr[posArr.length - 1]) === treeNodeEntity.parent.children.length - 1;
  }
  return false;
}
function isFirstChild(treeNodeEntity) {
  var posArr = posToArr(treeNodeEntity.pos);
  return Number(posArr[posArr.length - 1]) === 0;
}
function calcDropPosition(event, dragNodeProps, targetNodeProps, indent, startMousePosition, allowDrop2, flattenedNodes, keyEntities, expandKeys, direction) {
  var _abstractDropNodeEnti;
  var clientX = event.clientX, clientY = event.clientY;
  var _getBoundingClientRec = event.target.getBoundingClientRect(), top = _getBoundingClientRec.top, height = _getBoundingClientRec.height;
  var horizontalMouseOffset = (direction === "rtl" ? -1 : 1) * (((startMousePosition === null || startMousePosition === void 0 ? void 0 : startMousePosition.x) || 0) - clientX);
  var rawDropLevelOffset = (horizontalMouseOffset - 12) / indent;
  var filteredExpandKeys = expandKeys.filter(function(key) {
    var _keyEntities$key;
    return (_keyEntities$key = keyEntities[key]) === null || _keyEntities$key === void 0 || (_keyEntities$key = _keyEntities$key.children) === null || _keyEntities$key === void 0 ? void 0 : _keyEntities$key.length;
  });
  var abstractDropNodeEntity = getEntity(keyEntities, targetNodeProps.eventKey);
  if (clientY < top + height / 2) {
    var nodeIndex = flattenedNodes.findIndex(function(flattenedNode) {
      return flattenedNode.key === abstractDropNodeEntity.key;
    });
    var prevNodeIndex = nodeIndex <= 0 ? 0 : nodeIndex - 1;
    var prevNodeKey = flattenedNodes[prevNodeIndex].key;
    abstractDropNodeEntity = getEntity(keyEntities, prevNodeKey);
  }
  var initialAbstractDropNodeKey = abstractDropNodeEntity.key;
  var abstractDragOverEntity = abstractDropNodeEntity;
  var dragOverNodeKey = abstractDropNodeEntity.key;
  var dropPosition = 0;
  var dropLevelOffset = 0;
  if (!filteredExpandKeys.includes(initialAbstractDropNodeKey)) {
    for (var i2 = 0; i2 < rawDropLevelOffset; i2 += 1) {
      if (isLastChild(abstractDropNodeEntity)) {
        abstractDropNodeEntity = abstractDropNodeEntity.parent;
        dropLevelOffset += 1;
      } else {
        break;
      }
    }
  }
  var abstractDragDataNode = dragNodeProps.data;
  var abstractDropDataNode = abstractDropNodeEntity.node;
  var dropAllowed = true;
  if (isFirstChild(abstractDropNodeEntity) && abstractDropNodeEntity.level === 0 && clientY < top + height / 2 && allowDrop2({
    dragNode: abstractDragDataNode,
    dropNode: abstractDropDataNode,
    dropPosition: -1
  }) && abstractDropNodeEntity.key === targetNodeProps.eventKey) {
    dropPosition = -1;
  } else if ((abstractDragOverEntity.children || []).length && filteredExpandKeys.includes(dragOverNodeKey)) {
    if (allowDrop2({
      dragNode: abstractDragDataNode,
      dropNode: abstractDropDataNode,
      dropPosition: 0
    })) {
      dropPosition = 0;
    } else {
      dropAllowed = false;
    }
  } else if (dropLevelOffset === 0) {
    if (rawDropLevelOffset > -1.5) {
      if (allowDrop2({
        dragNode: abstractDragDataNode,
        dropNode: abstractDropDataNode,
        dropPosition: 1
      })) {
        dropPosition = 1;
      } else {
        dropAllowed = false;
      }
    } else {
      if (allowDrop2({
        dragNode: abstractDragDataNode,
        dropNode: abstractDropDataNode,
        dropPosition: 0
      })) {
        dropPosition = 0;
      } else if (allowDrop2({
        dragNode: abstractDragDataNode,
        dropNode: abstractDropDataNode,
        dropPosition: 1
      })) {
        dropPosition = 1;
      } else {
        dropAllowed = false;
      }
    }
  } else {
    if (allowDrop2({
      dragNode: abstractDragDataNode,
      dropNode: abstractDropDataNode,
      dropPosition: 1
    })) {
      dropPosition = 1;
    } else {
      dropAllowed = false;
    }
  }
  return {
    dropPosition,
    dropLevelOffset,
    dropTargetKey: abstractDropNodeEntity.key,
    dropTargetPos: abstractDropNodeEntity.pos,
    dragOverNodeKey,
    dropContainerKey: dropPosition === 0 ? null : ((_abstractDropNodeEnti = abstractDropNodeEntity.parent) === null || _abstractDropNodeEnti === void 0 ? void 0 : _abstractDropNodeEnti.key) || null,
    dropAllowed
  };
}
function calcSelectedKeys(selectedKeys, props) {
  if (!selectedKeys) return void 0;
  var multiple = props.multiple;
  if (multiple) {
    return selectedKeys.slice();
  }
  if (selectedKeys.length) {
    return [selectedKeys[0]];
  }
  return selectedKeys;
}
function parseCheckedKeys(keys) {
  if (!keys) {
    return null;
  }
  var keyProps;
  if (Array.isArray(keys)) {
    keyProps = {
      checkedKeys: keys,
      halfCheckedKeys: void 0
    };
  } else if (_typeof(keys) === "object") {
    keyProps = {
      checkedKeys: keys.checked || void 0,
      halfCheckedKeys: keys.halfChecked || void 0
    };
  } else {
    warning_default(false, "`checkedKeys` is not an array or an object");
    return null;
  }
  return keyProps;
}
function conductExpandParent(keyList, keyEntities) {
  var expandedKeys = /* @__PURE__ */ new Set();
  function conductUp(key) {
    if (expandedKeys.has(key)) return;
    var entity = getEntity(keyEntities, key);
    if (!entity) return;
    expandedKeys.add(key);
    var parent = entity.parent, node = entity.node;
    if (node.disabled) return;
    if (parent) {
      conductUp(parent.key);
    }
  }
  (keyList || []).forEach(function(key) {
    conductUp(key);
  });
  return _toConsumableArray(expandedKeys);
}

// node_modules/rc-tree/es/utils/conductUtil.js
function removeFromCheckedKeys(halfCheckedKeys, checkedKeys) {
  var filteredKeys = /* @__PURE__ */ new Set();
  halfCheckedKeys.forEach(function(key) {
    if (!checkedKeys.has(key)) {
      filteredKeys.add(key);
    }
  });
  return filteredKeys;
}
function isCheckDisabled(node) {
  var _ref = node || {}, disabled = _ref.disabled, disableCheckbox = _ref.disableCheckbox, checkable = _ref.checkable;
  return !!(disabled || disableCheckbox) || checkable === false;
}
function fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled) {
  var checkedKeys = new Set(keys);
  var halfCheckedKeys = /* @__PURE__ */ new Set();
  for (var level = 0; level <= maxLevel; level += 1) {
    var entities = levelEntities.get(level) || /* @__PURE__ */ new Set();
    entities.forEach(function(entity) {
      var key = entity.key, node = entity.node, _entity$children = entity.children, children = _entity$children === void 0 ? [] : _entity$children;
      if (checkedKeys.has(key) && !syntheticGetCheckDisabled(node)) {
        children.filter(function(childEntity) {
          return !syntheticGetCheckDisabled(childEntity.node);
        }).forEach(function(childEntity) {
          checkedKeys.add(childEntity.key);
        });
      }
    });
  }
  var visitedKeys = /* @__PURE__ */ new Set();
  for (var _level = maxLevel; _level >= 0; _level -= 1) {
    var _entities = levelEntities.get(_level) || /* @__PURE__ */ new Set();
    _entities.forEach(function(entity) {
      var parent = entity.parent, node = entity.node;
      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {
        return;
      }
      if (syntheticGetCheckDisabled(entity.parent.node)) {
        visitedKeys.add(parent.key);
        return;
      }
      var allChecked = true;
      var partialChecked = false;
      (parent.children || []).filter(function(childEntity) {
        return !syntheticGetCheckDisabled(childEntity.node);
      }).forEach(function(_ref2) {
        var key = _ref2.key;
        var checked = checkedKeys.has(key);
        if (allChecked && !checked) {
          allChecked = false;
        }
        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {
          partialChecked = true;
        }
      });
      if (allChecked) {
        checkedKeys.add(parent.key);
      }
      if (partialChecked) {
        halfCheckedKeys.add(parent.key);
      }
      visitedKeys.add(parent.key);
    });
  }
  return {
    checkedKeys: Array.from(checkedKeys),
    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))
  };
}
function cleanConductCheck(keys, halfKeys, levelEntities, maxLevel, syntheticGetCheckDisabled) {
  var checkedKeys = new Set(keys);
  var halfCheckedKeys = new Set(halfKeys);
  for (var level = 0; level <= maxLevel; level += 1) {
    var entities = levelEntities.get(level) || /* @__PURE__ */ new Set();
    entities.forEach(function(entity) {
      var key = entity.key, node = entity.node, _entity$children2 = entity.children, children = _entity$children2 === void 0 ? [] : _entity$children2;
      if (!checkedKeys.has(key) && !halfCheckedKeys.has(key) && !syntheticGetCheckDisabled(node)) {
        children.filter(function(childEntity) {
          return !syntheticGetCheckDisabled(childEntity.node);
        }).forEach(function(childEntity) {
          checkedKeys.delete(childEntity.key);
        });
      }
    });
  }
  halfCheckedKeys = /* @__PURE__ */ new Set();
  var visitedKeys = /* @__PURE__ */ new Set();
  for (var _level2 = maxLevel; _level2 >= 0; _level2 -= 1) {
    var _entities2 = levelEntities.get(_level2) || /* @__PURE__ */ new Set();
    _entities2.forEach(function(entity) {
      var parent = entity.parent, node = entity.node;
      if (syntheticGetCheckDisabled(node) || !entity.parent || visitedKeys.has(entity.parent.key)) {
        return;
      }
      if (syntheticGetCheckDisabled(entity.parent.node)) {
        visitedKeys.add(parent.key);
        return;
      }
      var allChecked = true;
      var partialChecked = false;
      (parent.children || []).filter(function(childEntity) {
        return !syntheticGetCheckDisabled(childEntity.node);
      }).forEach(function(_ref3) {
        var key = _ref3.key;
        var checked = checkedKeys.has(key);
        if (allChecked && !checked) {
          allChecked = false;
        }
        if (!partialChecked && (checked || halfCheckedKeys.has(key))) {
          partialChecked = true;
        }
      });
      if (!allChecked) {
        checkedKeys.delete(parent.key);
      }
      if (partialChecked) {
        halfCheckedKeys.add(parent.key);
      }
      visitedKeys.add(parent.key);
    });
  }
  return {
    checkedKeys: Array.from(checkedKeys),
    halfCheckedKeys: Array.from(removeFromCheckedKeys(halfCheckedKeys, checkedKeys))
  };
}
function conductCheck(keyList, checked, keyEntities, getCheckDisabled) {
  var warningMissKeys = [];
  var syntheticGetCheckDisabled;
  if (getCheckDisabled) {
    syntheticGetCheckDisabled = getCheckDisabled;
  } else {
    syntheticGetCheckDisabled = isCheckDisabled;
  }
  var keys = new Set(keyList.filter(function(key) {
    var hasEntity = !!getEntity(keyEntities, key);
    if (!hasEntity) {
      warningMissKeys.push(key);
    }
    return hasEntity;
  }));
  var levelEntities = /* @__PURE__ */ new Map();
  var maxLevel = 0;
  Object.keys(keyEntities).forEach(function(key) {
    var entity = keyEntities[key];
    var level = entity.level;
    var levelSet = levelEntities.get(level);
    if (!levelSet) {
      levelSet = /* @__PURE__ */ new Set();
      levelEntities.set(level, levelSet);
    }
    levelSet.add(entity);
    maxLevel = Math.max(maxLevel, level);
  });
  warning_default(!warningMissKeys.length, "Tree missing follow keys: ".concat(warningMissKeys.slice(0, 100).map(function(key) {
    return "'".concat(key, "'");
  }).join(", ")));
  var result;
  if (checked === true) {
    result = fillConductCheck(keys, levelEntities, maxLevel, syntheticGetCheckDisabled);
  } else {
    result = cleanConductCheck(keys, checked.halfCheckedKeys, levelEntities, maxLevel, syntheticGetCheckDisabled);
  }
  return result;
}

// node_modules/rc-tree/es/Tree.js
var MAX_RETRY_TIMES = 10;
var Tree = /* @__PURE__ */ function(_React$Component) {
  _inherits(Tree3, _React$Component);
  var _super = _createSuper(Tree3);
  function Tree3() {
    var _this;
    _classCallCheck(this, Tree3);
    for (var _len = arguments.length, _args = new Array(_len), _key = 0; _key < _len; _key++) {
      _args[_key] = arguments[_key];
    }
    _this = _super.call.apply(_super, [this].concat(_args));
    _defineProperty(_assertThisInitialized(_this), "destroyed", false);
    _defineProperty(_assertThisInitialized(_this), "delayedDragEnterLogic", void 0);
    _defineProperty(_assertThisInitialized(_this), "loadingRetryTimes", {});
    _defineProperty(_assertThisInitialized(_this), "state", {
      keyEntities: {},
      indent: null,
      selectedKeys: [],
      checkedKeys: [],
      halfCheckedKeys: [],
      loadedKeys: [],
      loadingKeys: [],
      expandedKeys: [],
      draggingNodeKey: null,
      dragChildrenKeys: [],
      // dropTargetKey is the key of abstract-drop-node
      // the abstract-drop-node is the real drop node when drag and drop
      // not the DOM drag over node
      dropTargetKey: null,
      dropPosition: null,
      // the drop position of abstract-drop-node, inside 0, top -1, bottom 1
      dropContainerKey: null,
      // the container key of abstract-drop-node if dropPosition is -1 or 1
      dropLevelOffset: null,
      // the drop level offset of abstract-drag-over-node
      dropTargetPos: null,
      // the pos of abstract-drop-node
      dropAllowed: true,
      // if drop to abstract-drop-node is allowed
      // the abstract-drag-over-node
      // if mouse is on the bottom of top dom node or no the top of the bottom dom node
      // abstract-drag-over-node is the top node
      dragOverNodeKey: null,
      treeData: [],
      flattenNodes: [],
      focused: false,
      activeKey: null,
      listChanging: false,
      prevProps: null,
      fieldNames: fillFieldNames()
    });
    _defineProperty(_assertThisInitialized(_this), "dragStartMousePosition", null);
    _defineProperty(_assertThisInitialized(_this), "dragNodeProps", null);
    _defineProperty(_assertThisInitialized(_this), "currentMouseOverDroppableNodeKey", null);
    _defineProperty(_assertThisInitialized(_this), "listRef", /* @__PURE__ */ React51.createRef());
    _defineProperty(_assertThisInitialized(_this), "onNodeDragStart", function(event, nodeProps) {
      var _this$state = _this.state, expandedKeys = _this$state.expandedKeys, keyEntities = _this$state.keyEntities;
      var onDragStart = _this.props.onDragStart;
      var eventKey = nodeProps.eventKey;
      _this.dragNodeProps = nodeProps;
      _this.dragStartMousePosition = {
        x: event.clientX,
        y: event.clientY
      };
      var newExpandedKeys = arrDel(expandedKeys, eventKey);
      _this.setState({
        draggingNodeKey: eventKey,
        dragChildrenKeys: getDragChildrenKeys(eventKey, keyEntities),
        indent: _this.listRef.current.getIndentWidth()
      });
      _this.setExpandedKeys(newExpandedKeys);
      window.addEventListener("dragend", _this.onWindowDragEnd);
      onDragStart === null || onDragStart === void 0 || onDragStart({
        event,
        node: convertNodePropsToEventData(nodeProps)
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDragEnter", function(event, nodeProps) {
      var _this$state2 = _this.state, expandedKeys = _this$state2.expandedKeys, keyEntities = _this$state2.keyEntities, dragChildrenKeys = _this$state2.dragChildrenKeys, flattenNodes = _this$state2.flattenNodes, indent = _this$state2.indent;
      var _this$props = _this.props, onDragEnter = _this$props.onDragEnter, onExpand = _this$props.onExpand, allowDrop2 = _this$props.allowDrop, direction = _this$props.direction;
      var pos = nodeProps.pos, eventKey = nodeProps.eventKey;
      if (_this.currentMouseOverDroppableNodeKey !== eventKey) {
        _this.currentMouseOverDroppableNodeKey = eventKey;
      }
      if (!_this.dragNodeProps) {
        _this.resetDragState();
        return;
      }
      var _calcDropPosition = calcDropPosition(event, _this.dragNodeProps, nodeProps, indent, _this.dragStartMousePosition, allowDrop2, flattenNodes, keyEntities, expandedKeys, direction), dropPosition = _calcDropPosition.dropPosition, dropLevelOffset = _calcDropPosition.dropLevelOffset, dropTargetKey = _calcDropPosition.dropTargetKey, dropContainerKey = _calcDropPosition.dropContainerKey, dropTargetPos = _calcDropPosition.dropTargetPos, dropAllowed = _calcDropPosition.dropAllowed, dragOverNodeKey = _calcDropPosition.dragOverNodeKey;
      if (
        // don't allow drop inside its children
        dragChildrenKeys.includes(dropTargetKey) || // don't allow drop when drop is not allowed caculated by calcDropPosition
        !dropAllowed
      ) {
        _this.resetDragState();
        return;
      }
      if (!_this.delayedDragEnterLogic) {
        _this.delayedDragEnterLogic = {};
      }
      Object.keys(_this.delayedDragEnterLogic).forEach(function(key) {
        clearTimeout(_this.delayedDragEnterLogic[key]);
      });
      if (_this.dragNodeProps.eventKey !== nodeProps.eventKey) {
        event.persist();
        _this.delayedDragEnterLogic[pos] = window.setTimeout(function() {
          if (_this.state.draggingNodeKey === null) {
            return;
          }
          var newExpandedKeys = _toConsumableArray(expandedKeys);
          var entity = getEntity(keyEntities, nodeProps.eventKey);
          if (entity && (entity.children || []).length) {
            newExpandedKeys = arrAdd(expandedKeys, nodeProps.eventKey);
          }
          if (!_this.props.hasOwnProperty("expandedKeys")) {
            _this.setExpandedKeys(newExpandedKeys);
          }
          onExpand === null || onExpand === void 0 || onExpand(newExpandedKeys, {
            node: convertNodePropsToEventData(nodeProps),
            expanded: true,
            nativeEvent: event.nativeEvent
          });
        }, 800);
      }
      if (_this.dragNodeProps.eventKey === dropTargetKey && dropLevelOffset === 0) {
        _this.resetDragState();
        return;
      }
      _this.setState({
        dragOverNodeKey,
        dropPosition,
        dropLevelOffset,
        dropTargetKey,
        dropContainerKey,
        dropTargetPos,
        dropAllowed
      });
      onDragEnter === null || onDragEnter === void 0 || onDragEnter({
        event,
        node: convertNodePropsToEventData(nodeProps),
        expandedKeys
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDragOver", function(event, nodeProps) {
      var _this$state3 = _this.state, dragChildrenKeys = _this$state3.dragChildrenKeys, flattenNodes = _this$state3.flattenNodes, keyEntities = _this$state3.keyEntities, expandedKeys = _this$state3.expandedKeys, indent = _this$state3.indent;
      var _this$props2 = _this.props, onDragOver = _this$props2.onDragOver, allowDrop2 = _this$props2.allowDrop, direction = _this$props2.direction;
      if (!_this.dragNodeProps) {
        return;
      }
      var _calcDropPosition2 = calcDropPosition(event, _this.dragNodeProps, nodeProps, indent, _this.dragStartMousePosition, allowDrop2, flattenNodes, keyEntities, expandedKeys, direction), dropPosition = _calcDropPosition2.dropPosition, dropLevelOffset = _calcDropPosition2.dropLevelOffset, dropTargetKey = _calcDropPosition2.dropTargetKey, dropContainerKey = _calcDropPosition2.dropContainerKey, dropTargetPos = _calcDropPosition2.dropTargetPos, dropAllowed = _calcDropPosition2.dropAllowed, dragOverNodeKey = _calcDropPosition2.dragOverNodeKey;
      if (dragChildrenKeys.includes(dropTargetKey) || !dropAllowed) {
        return;
      }
      if (_this.dragNodeProps.eventKey === dropTargetKey && dropLevelOffset === 0) {
        if (!(_this.state.dropPosition === null && _this.state.dropLevelOffset === null && _this.state.dropTargetKey === null && _this.state.dropContainerKey === null && _this.state.dropTargetPos === null && _this.state.dropAllowed === false && _this.state.dragOverNodeKey === null)) {
          _this.resetDragState();
        }
      } else if (!(dropPosition === _this.state.dropPosition && dropLevelOffset === _this.state.dropLevelOffset && dropTargetKey === _this.state.dropTargetKey && dropContainerKey === _this.state.dropContainerKey && dropTargetPos === _this.state.dropTargetPos && dropAllowed === _this.state.dropAllowed && dragOverNodeKey === _this.state.dragOverNodeKey)) {
        _this.setState({
          dropPosition,
          dropLevelOffset,
          dropTargetKey,
          dropContainerKey,
          dropTargetPos,
          dropAllowed,
          dragOverNodeKey
        });
      }
      onDragOver === null || onDragOver === void 0 || onDragOver({
        event,
        node: convertNodePropsToEventData(nodeProps)
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDragLeave", function(event, nodeProps) {
      if (_this.currentMouseOverDroppableNodeKey === nodeProps.eventKey && !event.currentTarget.contains(event.relatedTarget)) {
        _this.resetDragState();
        _this.currentMouseOverDroppableNodeKey = null;
      }
      var onDragLeave = _this.props.onDragLeave;
      onDragLeave === null || onDragLeave === void 0 || onDragLeave({
        event,
        node: convertNodePropsToEventData(nodeProps)
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onWindowDragEnd", function(event) {
      _this.onNodeDragEnd(event, null, true);
      window.removeEventListener("dragend", _this.onWindowDragEnd);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDragEnd", function(event, nodeProps) {
      var onDragEnd = _this.props.onDragEnd;
      _this.setState({
        dragOverNodeKey: null
      });
      _this.cleanDragState();
      onDragEnd === null || onDragEnd === void 0 || onDragEnd({
        event,
        node: convertNodePropsToEventData(nodeProps)
      });
      _this.dragNodeProps = null;
      window.removeEventListener("dragend", _this.onWindowDragEnd);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDrop", function(event, _) {
      var _this$getActiveItem;
      var outsideTree = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : false;
      var _this$state4 = _this.state, dragChildrenKeys = _this$state4.dragChildrenKeys, dropPosition = _this$state4.dropPosition, dropTargetKey = _this$state4.dropTargetKey, dropTargetPos = _this$state4.dropTargetPos, dropAllowed = _this$state4.dropAllowed;
      if (!dropAllowed) {
        return;
      }
      var onDrop = _this.props.onDrop;
      _this.setState({
        dragOverNodeKey: null
      });
      _this.cleanDragState();
      if (dropTargetKey === null) return;
      var abstractDropNodeProps = _objectSpread2(_objectSpread2({}, getTreeNodeProps(dropTargetKey, _this.getTreeNodeRequiredProps())), {}, {
        active: ((_this$getActiveItem = _this.getActiveItem()) === null || _this$getActiveItem === void 0 ? void 0 : _this$getActiveItem.key) === dropTargetKey,
        data: getEntity(_this.state.keyEntities, dropTargetKey).node
      });
      var dropToChild = dragChildrenKeys.includes(dropTargetKey);
      warning_default(!dropToChild, "Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");
      var posArr = posToArr(dropTargetPos);
      var dropResult = {
        event,
        node: convertNodePropsToEventData(abstractDropNodeProps),
        dragNode: _this.dragNodeProps ? convertNodePropsToEventData(_this.dragNodeProps) : null,
        dragNodesKeys: [_this.dragNodeProps.eventKey].concat(dragChildrenKeys),
        dropToGap: dropPosition !== 0,
        dropPosition: dropPosition + Number(posArr[posArr.length - 1])
      };
      if (!outsideTree) {
        onDrop === null || onDrop === void 0 || onDrop(dropResult);
      }
      _this.dragNodeProps = null;
    });
    _defineProperty(_assertThisInitialized(_this), "cleanDragState", function() {
      var draggingNodeKey = _this.state.draggingNodeKey;
      if (draggingNodeKey !== null) {
        _this.setState({
          draggingNodeKey: null,
          dropPosition: null,
          dropContainerKey: null,
          dropTargetKey: null,
          dropLevelOffset: null,
          dropAllowed: true,
          dragOverNodeKey: null
        });
      }
      _this.dragStartMousePosition = null;
      _this.currentMouseOverDroppableNodeKey = null;
    });
    _defineProperty(_assertThisInitialized(_this), "triggerExpandActionExpand", function(e2, treeNode) {
      var _this$state5 = _this.state, expandedKeys = _this$state5.expandedKeys, flattenNodes = _this$state5.flattenNodes;
      var expanded = treeNode.expanded, key = treeNode.key, isLeaf = treeNode.isLeaf;
      if (isLeaf || e2.shiftKey || e2.metaKey || e2.ctrlKey) {
        return;
      }
      var node = flattenNodes.filter(function(nodeItem) {
        return nodeItem.key === key;
      })[0];
      var eventNode = convertNodePropsToEventData(_objectSpread2(_objectSpread2({}, getTreeNodeProps(key, _this.getTreeNodeRequiredProps())), {}, {
        data: node.data
      }));
      _this.setExpandedKeys(expanded ? arrDel(expandedKeys, key) : arrAdd(expandedKeys, key));
      _this.onNodeExpand(e2, eventNode);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeClick", function(e2, treeNode) {
      var _this$props3 = _this.props, onClick = _this$props3.onClick, expandAction = _this$props3.expandAction;
      if (expandAction === "click") {
        _this.triggerExpandActionExpand(e2, treeNode);
      }
      onClick === null || onClick === void 0 || onClick(e2, treeNode);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeDoubleClick", function(e2, treeNode) {
      var _this$props4 = _this.props, onDoubleClick = _this$props4.onDoubleClick, expandAction = _this$props4.expandAction;
      if (expandAction === "doubleClick") {
        _this.triggerExpandActionExpand(e2, treeNode);
      }
      onDoubleClick === null || onDoubleClick === void 0 || onDoubleClick(e2, treeNode);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeSelect", function(e2, treeNode) {
      var selectedKeys = _this.state.selectedKeys;
      var _this$state6 = _this.state, keyEntities = _this$state6.keyEntities, fieldNames = _this$state6.fieldNames;
      var _this$props5 = _this.props, onSelect = _this$props5.onSelect, multiple = _this$props5.multiple;
      var selected = treeNode.selected;
      var key = treeNode[fieldNames.key];
      var targetSelected = !selected;
      if (!targetSelected) {
        selectedKeys = arrDel(selectedKeys, key);
      } else if (!multiple) {
        selectedKeys = [key];
      } else {
        selectedKeys = arrAdd(selectedKeys, key);
      }
      var selectedNodes = selectedKeys.map(function(selectedKey) {
        var entity = getEntity(keyEntities, selectedKey);
        return entity ? entity.node : null;
      }).filter(Boolean);
      _this.setUncontrolledState({
        selectedKeys
      });
      onSelect === null || onSelect === void 0 || onSelect(selectedKeys, {
        event: "select",
        selected: targetSelected,
        node: treeNode,
        selectedNodes,
        nativeEvent: e2.nativeEvent
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeCheck", function(e2, treeNode, checked) {
      var _this$state7 = _this.state, keyEntities = _this$state7.keyEntities, oriCheckedKeys = _this$state7.checkedKeys, oriHalfCheckedKeys = _this$state7.halfCheckedKeys;
      var _this$props6 = _this.props, checkStrictly = _this$props6.checkStrictly, onCheck = _this$props6.onCheck;
      var key = treeNode.key;
      var checkedObj;
      var eventObj = {
        event: "check",
        node: treeNode,
        checked,
        nativeEvent: e2.nativeEvent
      };
      if (checkStrictly) {
        var checkedKeys = checked ? arrAdd(oriCheckedKeys, key) : arrDel(oriCheckedKeys, key);
        var halfCheckedKeys = arrDel(oriHalfCheckedKeys, key);
        checkedObj = {
          checked: checkedKeys,
          halfChecked: halfCheckedKeys
        };
        eventObj.checkedNodes = checkedKeys.map(function(checkedKey) {
          return getEntity(keyEntities, checkedKey);
        }).filter(Boolean).map(function(entity) {
          return entity.node;
        });
        _this.setUncontrolledState({
          checkedKeys
        });
      } else {
        var _conductCheck = conductCheck([].concat(_toConsumableArray(oriCheckedKeys), [key]), true, keyEntities), _checkedKeys = _conductCheck.checkedKeys, _halfCheckedKeys = _conductCheck.halfCheckedKeys;
        if (!checked) {
          var keySet = new Set(_checkedKeys);
          keySet.delete(key);
          var _conductCheck2 = conductCheck(Array.from(keySet), {
            checked: false,
            halfCheckedKeys: _halfCheckedKeys
          }, keyEntities);
          _checkedKeys = _conductCheck2.checkedKeys;
          _halfCheckedKeys = _conductCheck2.halfCheckedKeys;
        }
        checkedObj = _checkedKeys;
        eventObj.checkedNodes = [];
        eventObj.checkedNodesPositions = [];
        eventObj.halfCheckedKeys = _halfCheckedKeys;
        _checkedKeys.forEach(function(checkedKey) {
          var entity = getEntity(keyEntities, checkedKey);
          if (!entity) return;
          var node = entity.node, pos = entity.pos;
          eventObj.checkedNodes.push(node);
          eventObj.checkedNodesPositions.push({
            node,
            pos
          });
        });
        _this.setUncontrolledState({
          checkedKeys: _checkedKeys
        }, false, {
          halfCheckedKeys: _halfCheckedKeys
        });
      }
      onCheck === null || onCheck === void 0 || onCheck(checkedObj, eventObj);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeLoad", function(treeNode) {
      var _entity$children;
      var key = treeNode.key;
      var keyEntities = _this.state.keyEntities;
      var entity = getEntity(keyEntities, key);
      if (entity !== null && entity !== void 0 && (_entity$children = entity.children) !== null && _entity$children !== void 0 && _entity$children.length) {
        return;
      }
      var loadPromise = new Promise(function(resolve, reject) {
        _this.setState(function(_ref) {
          var _ref$loadedKeys = _ref.loadedKeys, loadedKeys = _ref$loadedKeys === void 0 ? [] : _ref$loadedKeys, _ref$loadingKeys = _ref.loadingKeys, loadingKeys = _ref$loadingKeys === void 0 ? [] : _ref$loadingKeys;
          var _this$props7 = _this.props, loadData = _this$props7.loadData, onLoad = _this$props7.onLoad;
          if (!loadData || loadedKeys.includes(key) || loadingKeys.includes(key)) {
            return null;
          }
          var promise = loadData(treeNode);
          promise.then(function() {
            var currentLoadedKeys = _this.state.loadedKeys;
            var newLoadedKeys = arrAdd(currentLoadedKeys, key);
            onLoad === null || onLoad === void 0 || onLoad(newLoadedKeys, {
              event: "load",
              node: treeNode
            });
            _this.setUncontrolledState({
              loadedKeys: newLoadedKeys
            });
            _this.setState(function(prevState) {
              return {
                loadingKeys: arrDel(prevState.loadingKeys, key)
              };
            });
            resolve();
          }).catch(function(e2) {
            _this.setState(function(prevState) {
              return {
                loadingKeys: arrDel(prevState.loadingKeys, key)
              };
            });
            _this.loadingRetryTimes[key] = (_this.loadingRetryTimes[key] || 0) + 1;
            if (_this.loadingRetryTimes[key] >= MAX_RETRY_TIMES) {
              var currentLoadedKeys = _this.state.loadedKeys;
              warning_default(false, "Retry for `loadData` many times but still failed. No more retry.");
              _this.setUncontrolledState({
                loadedKeys: arrAdd(currentLoadedKeys, key)
              });
              resolve();
            }
            reject(e2);
          });
          return {
            loadingKeys: arrAdd(loadingKeys, key)
          };
        });
      });
      loadPromise.catch(function() {
      });
      return loadPromise;
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeMouseEnter", function(event, node) {
      var onMouseEnter = _this.props.onMouseEnter;
      onMouseEnter === null || onMouseEnter === void 0 || onMouseEnter({
        event,
        node
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeMouseLeave", function(event, node) {
      var onMouseLeave = _this.props.onMouseLeave;
      onMouseLeave === null || onMouseLeave === void 0 || onMouseLeave({
        event,
        node
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeContextMenu", function(event, node) {
      var onRightClick = _this.props.onRightClick;
      if (onRightClick) {
        event.preventDefault();
        onRightClick({
          event,
          node
        });
      }
    });
    _defineProperty(_assertThisInitialized(_this), "onFocus", function() {
      var onFocus = _this.props.onFocus;
      _this.setState({
        focused: true
      });
      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
        args[_key2] = arguments[_key2];
      }
      onFocus === null || onFocus === void 0 || onFocus.apply(void 0, args);
    });
    _defineProperty(_assertThisInitialized(_this), "onBlur", function() {
      var onBlur = _this.props.onBlur;
      _this.setState({
        focused: false
      });
      _this.onActiveChange(null);
      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
        args[_key3] = arguments[_key3];
      }
      onBlur === null || onBlur === void 0 || onBlur.apply(void 0, args);
    });
    _defineProperty(_assertThisInitialized(_this), "getTreeNodeRequiredProps", function() {
      var _this$state8 = _this.state, expandedKeys = _this$state8.expandedKeys, selectedKeys = _this$state8.selectedKeys, loadedKeys = _this$state8.loadedKeys, loadingKeys = _this$state8.loadingKeys, checkedKeys = _this$state8.checkedKeys, halfCheckedKeys = _this$state8.halfCheckedKeys, dragOverNodeKey = _this$state8.dragOverNodeKey, dropPosition = _this$state8.dropPosition, keyEntities = _this$state8.keyEntities;
      return {
        expandedKeys: expandedKeys || [],
        selectedKeys: selectedKeys || [],
        loadedKeys: loadedKeys || [],
        loadingKeys: loadingKeys || [],
        checkedKeys: checkedKeys || [],
        halfCheckedKeys: halfCheckedKeys || [],
        dragOverNodeKey,
        dropPosition,
        keyEntities
      };
    });
    _defineProperty(_assertThisInitialized(_this), "setExpandedKeys", function(expandedKeys) {
      var _this$state9 = _this.state, treeData = _this$state9.treeData, fieldNames = _this$state9.fieldNames;
      var flattenNodes = flattenTreeData(treeData, expandedKeys, fieldNames);
      _this.setUncontrolledState({
        expandedKeys,
        flattenNodes
      }, true);
    });
    _defineProperty(_assertThisInitialized(_this), "onNodeExpand", function(e2, treeNode) {
      var expandedKeys = _this.state.expandedKeys;
      var _this$state10 = _this.state, listChanging = _this$state10.listChanging, fieldNames = _this$state10.fieldNames;
      var _this$props8 = _this.props, onExpand = _this$props8.onExpand, loadData = _this$props8.loadData;
      var expanded = treeNode.expanded;
      var key = treeNode[fieldNames.key];
      if (listChanging) {
        return;
      }
      var certain = expandedKeys.includes(key);
      var targetExpanded = !expanded;
      warning_default(expanded && certain || !expanded && !certain, "Expand state not sync with index check");
      expandedKeys = targetExpanded ? arrAdd(expandedKeys, key) : arrDel(expandedKeys, key);
      _this.setExpandedKeys(expandedKeys);
      onExpand === null || onExpand === void 0 || onExpand(expandedKeys, {
        node: treeNode,
        expanded: targetExpanded,
        nativeEvent: e2.nativeEvent
      });
      if (targetExpanded && loadData) {
        var loadPromise = _this.onNodeLoad(treeNode);
        if (loadPromise) {
          loadPromise.then(function() {
            var newFlattenTreeData = flattenTreeData(_this.state.treeData, expandedKeys, fieldNames);
            _this.setUncontrolledState({
              flattenNodes: newFlattenTreeData
            });
          }).catch(function() {
            var currentExpandedKeys = _this.state.expandedKeys;
            var expandedKeysToRestore = arrDel(currentExpandedKeys, key);
            _this.setExpandedKeys(expandedKeysToRestore);
          });
        }
      }
    });
    _defineProperty(_assertThisInitialized(_this), "onListChangeStart", function() {
      _this.setUncontrolledState({
        listChanging: true
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onListChangeEnd", function() {
      setTimeout(function() {
        _this.setUncontrolledState({
          listChanging: false
        });
      });
    });
    _defineProperty(_assertThisInitialized(_this), "onActiveChange", function(newActiveKey) {
      var activeKey = _this.state.activeKey;
      var _this$props9 = _this.props, onActiveChange = _this$props9.onActiveChange, _this$props9$itemScro = _this$props9.itemScrollOffset, itemScrollOffset = _this$props9$itemScro === void 0 ? 0 : _this$props9$itemScro;
      if (activeKey === newActiveKey) {
        return;
      }
      _this.setState({
        activeKey: newActiveKey
      });
      if (newActiveKey !== null) {
        _this.scrollTo({
          key: newActiveKey,
          offset: itemScrollOffset
        });
      }
      onActiveChange === null || onActiveChange === void 0 || onActiveChange(newActiveKey);
    });
    _defineProperty(_assertThisInitialized(_this), "getActiveItem", function() {
      var _this$state11 = _this.state, activeKey = _this$state11.activeKey, flattenNodes = _this$state11.flattenNodes;
      if (activeKey === null) {
        return null;
      }
      return flattenNodes.find(function(_ref2) {
        var key = _ref2.key;
        return key === activeKey;
      }) || null;
    });
    _defineProperty(_assertThisInitialized(_this), "offsetActiveKey", function(offset) {
      var _this$state12 = _this.state, flattenNodes = _this$state12.flattenNodes, activeKey = _this$state12.activeKey;
      var index2 = flattenNodes.findIndex(function(_ref3) {
        var key = _ref3.key;
        return key === activeKey;
      });
      if (index2 === -1 && offset < 0) {
        index2 = flattenNodes.length;
      }
      index2 = (index2 + offset + flattenNodes.length) % flattenNodes.length;
      var item = flattenNodes[index2];
      if (item) {
        var _key4 = item.key;
        _this.onActiveChange(_key4);
      } else {
        _this.onActiveChange(null);
      }
    });
    _defineProperty(_assertThisInitialized(_this), "onKeyDown", function(event) {
      var _this$state13 = _this.state, activeKey = _this$state13.activeKey, expandedKeys = _this$state13.expandedKeys, checkedKeys = _this$state13.checkedKeys, fieldNames = _this$state13.fieldNames;
      var _this$props10 = _this.props, onKeyDown = _this$props10.onKeyDown, checkable = _this$props10.checkable, selectable = _this$props10.selectable;
      switch (event.which) {
        case KeyCode_default.UP: {
          _this.offsetActiveKey(-1);
          event.preventDefault();
          break;
        }
        case KeyCode_default.DOWN: {
          _this.offsetActiveKey(1);
          event.preventDefault();
          break;
        }
      }
      var activeItem = _this.getActiveItem();
      if (activeItem && activeItem.data) {
        var treeNodeRequiredProps = _this.getTreeNodeRequiredProps();
        var expandable = activeItem.data.isLeaf === false || !!(activeItem.data[fieldNames.children] || []).length;
        var eventNode = convertNodePropsToEventData(_objectSpread2(_objectSpread2({}, getTreeNodeProps(activeKey, treeNodeRequiredProps)), {}, {
          data: activeItem.data,
          active: true
        }));
        switch (event.which) {
          // >>> Expand
          case KeyCode_default.LEFT: {
            if (expandable && expandedKeys.includes(activeKey)) {
              _this.onNodeExpand({}, eventNode);
            } else if (activeItem.parent) {
              _this.onActiveChange(activeItem.parent.key);
            }
            event.preventDefault();
            break;
          }
          case KeyCode_default.RIGHT: {
            if (expandable && !expandedKeys.includes(activeKey)) {
              _this.onNodeExpand({}, eventNode);
            } else if (activeItem.children && activeItem.children.length) {
              _this.onActiveChange(activeItem.children[0].key);
            }
            event.preventDefault();
            break;
          }
          // Selection
          case KeyCode_default.ENTER:
          case KeyCode_default.SPACE: {
            if (checkable && !eventNode.disabled && eventNode.checkable !== false && !eventNode.disableCheckbox) {
              _this.onNodeCheck({}, eventNode, !checkedKeys.includes(activeKey));
            } else if (!checkable && selectable && !eventNode.disabled && eventNode.selectable !== false) {
              _this.onNodeSelect({}, eventNode);
            }
            break;
          }
        }
      }
      onKeyDown === null || onKeyDown === void 0 || onKeyDown(event);
    });
    _defineProperty(_assertThisInitialized(_this), "setUncontrolledState", function(state) {
      var atomic = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : false;
      var forceState = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : null;
      if (!_this.destroyed) {
        var needSync = false;
        var allPassed = true;
        var newState = {};
        Object.keys(state).forEach(function(name) {
          if (_this.props.hasOwnProperty(name)) {
            allPassed = false;
            return;
          }
          needSync = true;
          newState[name] = state[name];
        });
        if (needSync && (!atomic || allPassed)) {
          _this.setState(_objectSpread2(_objectSpread2({}, newState), forceState));
        }
      }
    });
    _defineProperty(_assertThisInitialized(_this), "scrollTo", function(scroll) {
      _this.listRef.current.scrollTo(scroll);
    });
    return _this;
  }
  _createClass(Tree3, [{
    key: "componentDidMount",
    value: function componentDidMount() {
      this.destroyed = false;
      this.onUpdated();
    }
  }, {
    key: "componentDidUpdate",
    value: function componentDidUpdate() {
      this.onUpdated();
    }
  }, {
    key: "onUpdated",
    value: function onUpdated() {
      var _this$props11 = this.props, activeKey = _this$props11.activeKey, _this$props11$itemScr = _this$props11.itemScrollOffset, itemScrollOffset = _this$props11$itemScr === void 0 ? 0 : _this$props11$itemScr;
      if (activeKey !== void 0 && activeKey !== this.state.activeKey) {
        this.setState({
          activeKey
        });
        if (activeKey !== null) {
          this.scrollTo({
            key: activeKey,
            offset: itemScrollOffset
          });
        }
      }
    }
  }, {
    key: "componentWillUnmount",
    value: function componentWillUnmount() {
      window.removeEventListener("dragend", this.onWindowDragEnd);
      this.destroyed = true;
    }
  }, {
    key: "resetDragState",
    value: function resetDragState() {
      this.setState({
        dragOverNodeKey: null,
        dropPosition: null,
        dropLevelOffset: null,
        dropTargetKey: null,
        dropContainerKey: null,
        dropTargetPos: null,
        dropAllowed: false
      });
    }
  }, {
    key: "render",
    value: function render() {
      var _this$state14 = this.state, focused = _this$state14.focused, flattenNodes = _this$state14.flattenNodes, keyEntities = _this$state14.keyEntities, draggingNodeKey = _this$state14.draggingNodeKey, activeKey = _this$state14.activeKey, dropLevelOffset = _this$state14.dropLevelOffset, dropContainerKey = _this$state14.dropContainerKey, dropTargetKey = _this$state14.dropTargetKey, dropPosition = _this$state14.dropPosition, dragOverNodeKey = _this$state14.dragOverNodeKey, indent = _this$state14.indent;
      var _this$props12 = this.props, prefixCls = _this$props12.prefixCls, className = _this$props12.className, style2 = _this$props12.style, showLine = _this$props12.showLine, focusable = _this$props12.focusable, _this$props12$tabInde = _this$props12.tabIndex, tabIndex = _this$props12$tabInde === void 0 ? 0 : _this$props12$tabInde, selectable = _this$props12.selectable, showIcon = _this$props12.showIcon, icon = _this$props12.icon, switcherIcon = _this$props12.switcherIcon, draggable = _this$props12.draggable, checkable = _this$props12.checkable, checkStrictly = _this$props12.checkStrictly, disabled = _this$props12.disabled, motion = _this$props12.motion, loadData = _this$props12.loadData, filterTreeNode = _this$props12.filterTreeNode, height = _this$props12.height, itemHeight = _this$props12.itemHeight, scrollWidth = _this$props12.scrollWidth, virtual = _this$props12.virtual, titleRender = _this$props12.titleRender, dropIndicatorRender = _this$props12.dropIndicatorRender, onContextMenu = _this$props12.onContextMenu, onScroll = _this$props12.onScroll, direction = _this$props12.direction, rootClassName = _this$props12.rootClassName, rootStyle = _this$props12.rootStyle;
      var domProps = pickAttrs(this.props, {
        aria: true,
        data: true
      });
      var draggableConfig;
      if (draggable) {
        if (_typeof(draggable) === "object") {
          draggableConfig = draggable;
        } else if (typeof draggable === "function") {
          draggableConfig = {
            nodeDraggable: draggable
          };
        } else {
          draggableConfig = {};
        }
      }
      var contextValue = {
        prefixCls,
        selectable,
        showIcon,
        icon,
        switcherIcon,
        draggable: draggableConfig,
        draggingNodeKey,
        checkable,
        checkStrictly,
        disabled,
        keyEntities,
        dropLevelOffset,
        dropContainerKey,
        dropTargetKey,
        dropPosition,
        dragOverNodeKey,
        indent,
        direction,
        dropIndicatorRender,
        loadData,
        filterTreeNode,
        titleRender,
        onNodeClick: this.onNodeClick,
        onNodeDoubleClick: this.onNodeDoubleClick,
        onNodeExpand: this.onNodeExpand,
        onNodeSelect: this.onNodeSelect,
        onNodeCheck: this.onNodeCheck,
        onNodeLoad: this.onNodeLoad,
        onNodeMouseEnter: this.onNodeMouseEnter,
        onNodeMouseLeave: this.onNodeMouseLeave,
        onNodeContextMenu: this.onNodeContextMenu,
        onNodeDragStart: this.onNodeDragStart,
        onNodeDragEnter: this.onNodeDragEnter,
        onNodeDragOver: this.onNodeDragOver,
        onNodeDragLeave: this.onNodeDragLeave,
        onNodeDragEnd: this.onNodeDragEnd,
        onNodeDrop: this.onNodeDrop
      };
      return /* @__PURE__ */ React51.createElement(TreeContext.Provider, {
        value: contextValue
      }, /* @__PURE__ */ React51.createElement("div", {
        className: (0, import_classnames8.default)(prefixCls, className, rootClassName, _defineProperty(_defineProperty(_defineProperty({}, "".concat(prefixCls, "-show-line"), showLine), "".concat(prefixCls, "-focused"), focused), "".concat(prefixCls, "-active-focused"), activeKey !== null)),
        style: rootStyle
      }, /* @__PURE__ */ React51.createElement(NodeList_default, _extends({
        ref: this.listRef,
        prefixCls,
        style: style2,
        data: flattenNodes,
        disabled,
        selectable,
        checkable: !!checkable,
        motion,
        dragging: draggingNodeKey !== null,
        height,
        itemHeight,
        virtual,
        focusable,
        focused,
        tabIndex,
        activeItem: this.getActiveItem(),
        onFocus: this.onFocus,
        onBlur: this.onBlur,
        onKeyDown: this.onKeyDown,
        onActiveChange: this.onActiveChange,
        onListChangeStart: this.onListChangeStart,
        onListChangeEnd: this.onListChangeEnd,
        onContextMenu,
        onScroll,
        scrollWidth
      }, this.getTreeNodeRequiredProps(), domProps))));
    }
  }], [{
    key: "getDerivedStateFromProps",
    value: function getDerivedStateFromProps(props, prevState) {
      var prevProps = prevState.prevProps;
      var newState = {
        prevProps: props
      };
      function needSync(name) {
        return !prevProps && props.hasOwnProperty(name) || prevProps && prevProps[name] !== props[name];
      }
      var treeData;
      var fieldNames = prevState.fieldNames;
      if (needSync("fieldNames")) {
        fieldNames = fillFieldNames(props.fieldNames);
        newState.fieldNames = fieldNames;
      }
      if (needSync("treeData")) {
        treeData = props.treeData;
      } else if (needSync("children")) {
        warning_default(false, "`children` of Tree is deprecated. Please use `treeData` instead.");
        treeData = convertTreeToData(props.children);
      }
      if (treeData) {
        newState.treeData = treeData;
        var entitiesMap = convertDataToEntities(treeData, {
          fieldNames
        });
        newState.keyEntities = _objectSpread2(_defineProperty({}, MOTION_KEY, MotionEntity), entitiesMap.keyEntities);
        if (true) {
          warningWithoutKey(treeData, fieldNames);
        }
      }
      var keyEntities = newState.keyEntities || prevState.keyEntities;
      if (needSync("expandedKeys") || prevProps && needSync("autoExpandParent")) {
        newState.expandedKeys = props.autoExpandParent || !prevProps && props.defaultExpandParent ? conductExpandParent(props.expandedKeys, keyEntities) : props.expandedKeys;
      } else if (!prevProps && props.defaultExpandAll) {
        var cloneKeyEntities = _objectSpread2({}, keyEntities);
        delete cloneKeyEntities[MOTION_KEY];
        var nextExpandedKeys = [];
        Object.keys(cloneKeyEntities).forEach(function(key) {
          var entity = cloneKeyEntities[key];
          if (entity.children && entity.children.length) {
            nextExpandedKeys.push(entity.key);
          }
        });
        newState.expandedKeys = nextExpandedKeys;
      } else if (!prevProps && props.defaultExpandedKeys) {
        newState.expandedKeys = props.autoExpandParent || props.defaultExpandParent ? conductExpandParent(props.defaultExpandedKeys, keyEntities) : props.defaultExpandedKeys;
      }
      if (!newState.expandedKeys) {
        delete newState.expandedKeys;
      }
      if (treeData || newState.expandedKeys) {
        var flattenNodes = flattenTreeData(treeData || prevState.treeData, newState.expandedKeys || prevState.expandedKeys, fieldNames);
        newState.flattenNodes = flattenNodes;
      }
      if (props.selectable) {
        if (needSync("selectedKeys")) {
          newState.selectedKeys = calcSelectedKeys(props.selectedKeys, props);
        } else if (!prevProps && props.defaultSelectedKeys) {
          newState.selectedKeys = calcSelectedKeys(props.defaultSelectedKeys, props);
        }
      }
      if (props.checkable) {
        var checkedKeyEntity;
        if (needSync("checkedKeys")) {
          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {};
        } else if (!prevProps && props.defaultCheckedKeys) {
          checkedKeyEntity = parseCheckedKeys(props.defaultCheckedKeys) || {};
        } else if (treeData) {
          checkedKeyEntity = parseCheckedKeys(props.checkedKeys) || {
            checkedKeys: prevState.checkedKeys,
            halfCheckedKeys: prevState.halfCheckedKeys
          };
        }
        if (checkedKeyEntity) {
          var _checkedKeyEntity = checkedKeyEntity, _checkedKeyEntity$che = _checkedKeyEntity.checkedKeys, checkedKeys = _checkedKeyEntity$che === void 0 ? [] : _checkedKeyEntity$che, _checkedKeyEntity$hal = _checkedKeyEntity.halfCheckedKeys, halfCheckedKeys = _checkedKeyEntity$hal === void 0 ? [] : _checkedKeyEntity$hal;
          if (!props.checkStrictly) {
            var conductKeys = conductCheck(checkedKeys, true, keyEntities);
            checkedKeys = conductKeys.checkedKeys;
            halfCheckedKeys = conductKeys.halfCheckedKeys;
          }
          newState.checkedKeys = checkedKeys;
          newState.halfCheckedKeys = halfCheckedKeys;
        }
      }
      if (needSync("loadedKeys")) {
        newState.loadedKeys = props.loadedKeys;
      }
      return newState;
    }
  }]);
  return Tree3;
}(React51.Component);
_defineProperty(Tree, "defaultProps", {
  prefixCls: "rc-tree",
  showLine: false,
  showIcon: true,
  selectable: true,
  multiple: false,
  checkable: false,
  disabled: false,
  checkStrictly: false,
  draggable: false,
  defaultExpandParent: true,
  autoExpandParent: false,
  defaultExpandAll: false,
  defaultExpandedKeys: [],
  defaultCheckedKeys: [],
  defaultSelectedKeys: [],
  dropIndicatorRender: DropIndicator_default,
  allowDrop: function allowDrop() {
    return true;
  },
  expandAction: false
});
_defineProperty(Tree, "TreeNode", TreeNode_default);
var Tree_default = Tree;

// node_modules/rc-tree/es/index.js
var es_default4 = Tree_default;

// src/modules/Tree/index.js
var import_object_assign = __toESM(require_object_assign(), 1);
import { ClickAwayListener as ClickAwayListener2 } from "@mui/material";
import { jsx as jsx14, jsxs as jsxs9 } from "react/jsx-runtime";
var Tree2 = ({
  treeData = [],
  selectedNodes,
  onSelect,
  className,
  defaultExpandAll = false,
  contextMenus,
  contextMenuKey,
  onContextMenuClick,
  ...rest
}) => {
  const [expandedNodes, setExpandedNodes] = useState17([]);
  const [updateView, setUpdateView] = useState17(false);
  const recursive = (children = [], resultKeys = []) => {
    if (children && children.length > 0) {
      for (let c2 = 0; c2 < children.length; c2++) {
        const child = children[c2];
        if (child.children && child.children.length > 0) {
          const childKeys = recursive(child.children, resultKeys);
          resultKeys.push(child.key);
          resultKeys = resultKeys.concat(childKeys);
          resultKeys = [...new Set(resultKeys)];
        } else {
          resultKeys.push(child.key);
        }
      }
    }
    return resultKeys;
  };
  useEffect18(() => {
    const keys = recursive(treeData, []);
    setExpandedNodes(keys);
    getContainer();
    setUpdateView(!updateView);
  }, [treeData]);
  const getContainer = () => {
    const id = "tree-contextmenu-wrapper";
    const domContainer = document.getElementById(id);
    if (domContainer) {
      return domContainer;
    } else {
      const domContainer2 = document.createElement("div");
      domContainer2.id = id;
      document.body.appendChild(domContainer2);
      return domContainer2;
    }
  };
  const unMountContextMenus = () => {
    const wrapper = getContainer();
    if (wrapper) {
      ReactDOM2.unmountComponentAtNode(wrapper);
    }
  };
  const onRightClick = (info, node) => {
    if (info) {
      if (!info.node?.disableContextMenu) {
        if (contextMenus && (contextMenus.length > 0 || Object.values(contextMenus).length > 0)) {
          if (info.node && info.node.key && info.node.key in contextMenus) {
            contextMenus = contextMenus[info.node.key];
          }
          let tooltipVisible = true;
          let menuItems = contextMenus[contextMenuKey];
          if (menuItems && menuItems.length > 0) {
            const menuRenderViews = /* @__PURE__ */ jsx14(ClickAwayListener2, { onClickAway: unMountContextMenus, children: /* @__PURE__ */ jsx14(
              "div",
              {
                className: "react-contextmenu",
                children: menuItems.map((menu) => {
                  return /* @__PURE__ */ jsxs9(
                    "div",
                    {
                      className: "react-contextmenu-item",
                      role: "menuitem",
                      onClick: () => {
                        tooltipVisible = false;
                        contextMenuClickHandler(info.node.key, menu.key);
                        unMountContextMenus();
                      },
                      children: [
                        /* @__PURE__ */ jsx14("i", { className: "m-nav__link-icon " + menu.iconClassName }),
                        /* @__PURE__ */ jsx14("span", { className: "m-nav__link-text", children: menu.text })
                      ]
                    },
                    "cm_" + info.node.key + "_item_" + menu.key
                  );
                })
              }
            ) });
            const container = getContainer();
            (0, import_object_assign.default)(container.style, {
              position: "absolute",
              left: `${info.event.pageX}px`,
              top: `${info.event.pageY}px`
            });
            ReactDOM2.render(menuRenderViews, container);
          }
        } else {
          return null;
        }
      }
    }
  };
  const contextMenuClickHandler = (key, menuKey) => {
    onContextMenuClick(key, menuKey);
  };
  if (treeData?.length) {
    return /* @__PURE__ */ jsx14(
      es_default4,
      {
        onRightClick,
        showIcon: false,
        showLine: true,
        treeData,
        defaultExpandedKeys: expandedNodes,
        selectedKeys: selectedNodes,
        autoExpandParent: true,
        defaultExpandParent: true,
        onSelect,
        defaultExpandAll,
        className,
        defaultSelectedKeys: ["0-0-0"],
        ...rest
      }
    );
  }
  return "...";
};
var Tree_default2 = Tree2;
export {
  DatePicker_default as DatePicker,
  DatePickerRange_default as DatePickerRange,
  Form_default as Form,
  Select_default as Select,
  TimePickerRange_default as TimePickerRange,
  Tree_default2 as Tree
};
/*! Bundled license information:

@ckeditor/ckeditor5-react/dist/ckeditor.js:
  (*!
   * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
   * For licensing, see LICENSE.md.
   *)

ckeditor5-build-classic-mathtype/build/ckeditor.js:
  (*!
   * @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
   * For licensing, see LICENSE.md.
   *)
  (*! http://mths.be/codepointat v0.1.0 by @mathias *)

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

react-is/cjs/react-is.development.js:
  (**
   * @license React
   * react-is.development.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

object-assign/index.js:
  (*
  object-assign
  (c) Sindre Sorhus
  @license MIT
  *)
*/
//# sourceMappingURL=index.js.map
